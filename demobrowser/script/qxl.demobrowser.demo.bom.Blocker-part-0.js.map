{"version":3,"sources":["../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/Bootstrap.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/core/ObjectRegistry.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/core/Environment.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/lang/normalize/Array.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/client/EcmaScript.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/Interface.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/Mixin.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/lang/normalize/Date.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/lang/normalize/Error.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/lang/normalize/Function.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/lang/normalize/String.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/lang/normalize/Object.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/lang/normalize/Number.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/core/Property.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/OOUtil.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/Class.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/data/MBinding.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/dev/StackTrace.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/RingBuffer.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/log/appender/RingBuffer.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/log/Logger.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/core/MLogging.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/Event.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/core/IDisposable.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/Manager.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/dom/Node.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/lang/Array.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/lang/Function.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/Registration.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/core/MEvent.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/core/MProperty.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/core/MObjectId.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/lang/Type.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/core/Assert.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/core/MAssert.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/core/Object.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/data/IListData.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/type/Event.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/type/Data.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/IEventDispatcher.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/dispatch/Direct.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/Promise.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/lang/String.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/data/SingleValueBinding.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/IEventHandler.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/handler/Object.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/client/Engine.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/client/Browser.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/client/CssTransition.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/Style.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/GlobalError.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/DeferredCallManager.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/DeferredCall.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/ObjectPool.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/Pool.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/Utils.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/DisposeUtil.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/data/marshal/MEventBubbling.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/data/Array.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/type/BaseError.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/core/AssertionError.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/lang/Json.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/lang/Number.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/Uuid.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/core/ValidationError.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/client/OperatingSystem.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/core/WindowError.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/core/GlobalError.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/lang/Object.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/client/Runtime.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/type/Native.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/handler/Window.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/handler/UserAction.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/handler/Keyboard.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/dispatch/AbstractBubbling.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/dispatch/DomBubbling.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/type/Dom.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/type/Mouse.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/type/Pointer.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/type/dom/Custom.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/type/dom/Pointer.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/client/Event.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/client/Device.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/handler/PointerCore.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/handler/Pointer.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/handler/GestureCore.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/type/Tap.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/type/Swipe.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/type/Rotate.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/type/Pinch.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/type/Track.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/type/Roll.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/handler/Gesture.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/log/appender/Console.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/type/KeyInput.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/type/KeySequence.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/util/Keyboard.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/handler/Focus.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/Viewport.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/Emitter.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/AnimationFrame.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/Wheel.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/Timer.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/client/Stylesheet.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/Stylesheet.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/log/appender/Formatter.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/dom/Hierarchy.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/handler/Application.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/core/BaseInit.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/core/Init.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/client/Html.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/Selection.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/type/Focus.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/core/LayoutItem.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/locale/MTranslation.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/manager/Meta.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/core/Widget.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/element/Attribute.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/Document.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/client/CssAnimation.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/dom/Element.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/Uri.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/format/IFormat.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/format/DateFormat.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/Range.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/StringSplit.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/core/EventHandler.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/handler/Capture.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/handler/DragDrop.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/PropertyUtil.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/core/queue/Layout.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/core/queue/Visibility.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/layout/Abstract.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/manager/Decoration.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/core/queue/Manager.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/module/Css.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/type/BaseArray.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qxWeb.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/Selector.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/module/Polyfill.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/module/Environment.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/module/Event.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/module/event/PointerHandler.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/module/Animation.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/html/Element.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/dispatch/MouseCapture.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/type/BaseString.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/locale/LocalizedString.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/client/Locale.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/locale/Manager.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/ValueManager.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/manager/Color.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/core/queue/Appearance.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/manager/Appearance.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/basic/Image.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/core/MPlacement.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/core/DragDropCursor.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/element/Location.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/core/queue/Dispose.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/core/queue/Widget.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/manager/Font.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/manager/Icon.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/Theme.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/locale/Date.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/type/Drag.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/client/Css.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/element/Clip.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/element/Cursor.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/element/Opacity.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/element/BoxSizing.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/element/Style.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/style/Stylesheet.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/decoration/IDecorator.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/decoration/Abstract.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/decoration/MBackgroundColor.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/decoration/MBorderRadius.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/decoration/MBoxShadow.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/decoration/MSingleBorder.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/decoration/MBackgroundImage.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/decoration/MDoubleBorder.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/decoration/MLinearBackgroundGradient.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/decoration/MBorderImage.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/decoration/MTransition.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/ui/decoration/Decorator.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/AliasManager.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/element/Dimension.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/element/Class.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/element/Animation.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/handler/Mouse.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/handler/Element.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/handler/Appear.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/handler/Orientation.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/handler/TouchCore.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/handler/Touch.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/handler/Offline.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/handler/Input.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/Element.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/element/Scroll.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/core/Id.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/ColorUtil.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/io/ImageLoader.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/html/Image.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/html/Label.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/client/Transport.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/ResourceManager.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/LibraryManager.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/element/Decoration.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/Idle.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/placement/Placement.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/Font.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/webfonts/WebFont.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/element/AnimationCss.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/element/AnimationJs.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/type/MouseWheel.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/type/Orientation.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/type/Touch.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/client/Plugin.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/xml/Document.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/Label.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/element/Background.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/placement/AbstractAxis.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/placement/DirectAxis.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/placement/KeepAlignAxis.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/util/placement/BestFitAxis.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/webfonts/Manager.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/element/AnimationHandle.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/client/CssTransform.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/element/Transform.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/client/Xml.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/webfonts/Validator.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/log/appender/Native.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/classic/Color.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/classic/Decoration.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/classic/Font.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/classic/Appearance.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/icon/Oxygen.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/Classic.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/indigo/Color.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/simple/Decoration.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/indigo/Decoration.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/indigo/Font.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/simple/Appearance.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/indigo/Appearance.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/icon/Tango.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/Indigo.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/simple/Image.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/modern/Color.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/modern/Decoration.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/modern/Font.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/modern/Appearance.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/Modern.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/simple/Color.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/simple/Font.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/theme/Simple.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/application/IApplication.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/application/Native.js","../../../../source/class/qxl/demobrowser/demo/bom/Blocker.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/Input.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/event/handler/Iframe.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/Iframe.js","../../../../node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/bom/Blocker.js"],"names":["window","qx","Bootstrap","genericToString","this","classname","createNamespace","name","object","splits","split","part","parent","$$namespaceRoot","i","len","length","setDisplayName","fcn","displayName","setDisplayNames","functionMap","value","Function","base","args","varargs","DEBUG","isFunction","callee","Error","arguments","call","apply","Array","prototype","slice","define","config","clazz","statics","proto","members","extend","construct","extendClass","basename","l","keys","key","member","$$registry","formerClass","defer","curProp","$$type","hasOwnProperty","toString","isStrictMode","ex","$$events","events","addPendingDefer","isQxCoreObject","constructor","clz","superclass","LOADSTART","$$start","Date","debug","$$environment","getEnvironmentSetting","setEnvironmentSetting","undefined","setRoot","root","superClass","superproto","helper","self","__pendingDefers","cb","$$loader","delayDefer","push","$$pendingDefer","executePendingDefers","dbClassInfo","executeForDbClassInfo","environment","required","info","load","className","executeForClassName","dependsOn","depInfo","require","usage","getByName","$$deferComplete","$$dbClassInfo","execute","tmp","pendingDefers","forEach","objectGetLength","map","objectMergeWith","target","source","overwrite","__shadowedKeys","ES5","Object","BROKEN_IE","_typeof","TypeError","arr","a","default","__classToTypeMap","[object String]","[object Array]","[object Object]","[object RegExp]","[object Number]","[object Boolean]","[object Date]","[object Function]","[object AsyncFunction]","[object Error]","[object Blob]","[object ArrayBuffer]","[object FormData]","bind","func","fixedArgs","concat","firstUp","str","charAt","toUpperCase","substr","firstLow","toLowerCase","getClass","classString","isString","String","$$isString","isArray","data","IListData","util","OOUtil","hasInterface","$$isArray","isObject","isFunctionOrAsyncFunction","$$logs","message","warn","error","trace","inShutDown","__registry","__nextHash","__postId","__stackTraces","register","obj","registry","hash","core","ObjectRegistry","toHashCode","dispose","unregister","$$hash","clearHashCode","createHashCode","$$discardedHashCode","removeAttribute","fromHashCode","suppressWarnings","log","Logger","hasHashCode","shutdown","hashes","sort","b","parseInt","getRegistry","getNextHash","getPostId","getStackTraces","top","frames","_checks","_asyncChecks","__cache","_checksMap","_defaults","true","qx.allowUrlSettings","qx.allowUrlVariants","qx.debug.property.level","qx.debug","qx.debug.ui.queue","qx.debug.touchpad.detection","qx.aspects","qx.dynlocale","qx.dyntheme","qx.blankpage","qx.debug.databinding","qx.debug.dispose","qx.optimization.basecalls","qx.optimization.comments","qx.optimization.privates","qx.optimization.strings","qx.optimization.variables","qx.optimization.variants","module.databinding","module.logger","module.property","module.events","module.objectid","qx.nativeScrollBars","qx.automaticMemoryManagement","qx.promise","qx.promise.warnings","qx.promise.longStackTraces","qx.command.bindEnabled","get","check","classAndMethod","_getClassNameFromEnvKey","envmappings","implementation","lastdot","lastIndexOf","methodname","getAsync","callback","env","result","setTimeout","select","values","__pickFromValues","selectAsync","id","indexOf","ids","filter","returnArray","invalidateCacheKey","add","__createCheck","addAsync","getChecks","getAsyncChecks","_initDefaultQxValues","createFuncReturning","val","prop","__importFromGenerator","__importFromUrl","document","location","urlChecks","search","decodeURIComponent","test","parseFloat","Environment","searchElement","fromIndex","Math","max","res","some","every","find","Assert","assertFunction","findIndex","reduce","init","ret","reduceRight","includes","o","x","y","n","k","abs","isNaN","install","defineProperty","enumerable","lang","normalize","getStackTrace","e","stack","stacktrace","getMutationObserver","MutationObserver","getArrayIndexOf","getArrayLastIndexOf","getArrayForEach","getArrayFilter","getArrayMap","getArraySome","getArrayFind","getArrayFindIndex","getArrayEvery","getArrayReduce","getArrayReduceRight","getArrayIncludes","getErrorToString","getFunctionBind","getAsyncFunction","f","eval","getObjectKeys","getObjectValues","getObjectIs","is","getDateNow","now","getDateParse","parse","getStringStartsWith","startsWith","getStringEndsWith","endsWith","getStringTrim","trim","getBigInt","BigInt","getBigIntToLocaleString","toLocaleString","getPromiseNative","Promise","getEpsilon","Number","EPSILON","bom","client","EcmaScript","__validateConfig","iface","$$extends","properties","$$properties","$$members","Interface","isDefined","getTotalNumber","flatten","ifaces","list","__checkMembers","wrap","shouldThrow","isPropertyMethod","__isPropertyMethod","__wrapInterfaceMember","methodName","match","propertyName","getPropertyDefinition","__checkProperties","__checkEvents","supportsEvent","assertObject","assert","objectImplements","classImplements","has","origFunction","functionName","preCondition","wrappedFunction","wrapper","__allowedKeys","allowed","maps","include","mixin","$$mixin","$$constructor","$$includes","destruct","$$destructor","checkCompatibility","mixins","isCompatible","getMixins","Mixin","dateString","captureGroups","exec","time","originalParse","setTime","NaN","noTime","getTime","minutesOffset","UTC","that","bound","F","replace","searchString","position","subjectString","isFinite","floor","lastIndex","assertMap","__gatherDependency","event","type","Data","dispatch","Direct","__checks","Boolean","Integer","PositiveNumber","PositiveInteger","RegExp","Map","Node","Element","Document","Window","Event","Class","Theme","Color","Decorator","Font","__dereference","$$inherit","$$store","runtime","user","theme","inherit","useinit","$$method","set","setImpl","setAsync","reset","refresh","setRuntime","resetRuntime","setThemed","resetThemed","$$allowedKeys","@","dereference","inheritable","nullable","themeable","refine","transform","async","deferredInit","validate","isEqual","$$allowedGroupKeys","group","mode","$$inheritable","__executeOptimizedRefresh","inheritables","__getInheritablesOfClass","refresher","__createRefresher","$$refreshInheritables","code","join","attachRefreshInheritables","Property","attachMethods","__attachGroupMethods","__attachPropertyMethods","upname","setter","resetter","styler","unstyler","argHandler","shorthand","__shouldBeDereferenced","allNames","conflictingClass","method","store","getName","$$install","__installOptimizedGetter","setName","__installOptimizedSetter","executeOptimizedSetter","$$propertyMethod","__errors","0","1","2","3","4","5","property","variant","msg","__unwrapFunctionFromCode","instance","fn","__installFunctionFromCode","executeOptimizedGetter","__compileGetter","__compileSetter","incomingValue","hasCallback","__getStore","__emitIsEqualFunction","__emitSetterPreConditions","__emitOldValue","__emitIncomingValueTransformation","__emitOldNewComparison","__emitIncomingValueValidation","__emitStoreComputedValue","__emitStoreValue","__emitStoreInheritedPropertyValue","__emitNormalizeUndefinedValues","__emitCallCallback","_getChildren","unshift","resetValue","classIsDefined","hasProperty","getEventType","getByInterface","$$implements","$$flatImplements","$$flatIncludes","__Property","implement","implicitType","__createClass","__attachAnno","__addProperties","__addMembers","__addEvents","__addMixin","__addInterface","__validateAbstractInterfaces","undefine","ns","objects","last","patch","isClass","isSubClassOf","getProperties","getByProperty","hasOwnMixin","getByMixin","hasMixin","hasOwnInterface","getInterfaces","implementsInterface","getInstance","$$instance","$$allowconstruct","getSubclasses","subclasses","@construct","@destruct","__staticAllowedKeys","settings","variants","$$classtype","interfaces","anno","$$annotations","Type","__createDefaultConstructor","__wrapConstructor","staticValue","substring","__validateProperty","existingProperty","annoKey","__mixinMemberWrapper","oldBase","retval","entry","defaultConstructor","_wrapper","$$original","$$initialized","sourcePropertyChain","targetObject","targetProperty","options","SingleValueBinding","bindAsync","initialPromise","then","resolve","removeBinding","removeBindingFromObject","removeRelatedBindings","relatedObject","removeAllBindings","removeAllBindingsForObject","getBindings","getAllBindingsForObject","MBinding","FILENAME_TO_CLASSNAME","FORMAT_STACKTRACE","dev","StackTrace","hasEnvironmentCheck","errorTrace","getStackTraceFromError","callerTrace","getStackTraceFromCaller","removeAt","min","callerCall","callerArr","mO","pop","columnNumber","callerClassName","errorArr","errorClassName","lineNumber","line","getCaller","knownFunction","fcnName","caller","lineRe","hit","fileName","url","traceProp","__fileNameToClassName","__formatStackTrace","fileReParens","fileRe","fileMatch","lines","reResult","sourceURL","convertedName","__fileNameToClassNameDefault","jsPos","paramPos","maxEntries","setMaxEntries","__nextIndexToStoreTo","__entriesStored","__isMarkActive","__entriesStoredSinceMark","__entries","__maxEntries","clear","getMaxEntries","addEntry","__addToIndex","getNumEntriesStored","mark","clearMark","getAllEntries","getEntries","count","startingFromMark","indexOfYoungestElementInHistory","startIndex","idx","addMe","RingBuffer","maxMessages","setMaxMessages","getMaxMessages","process","getAllLogEvents","retrieveLogEvents","clearHistory","appender","__level","setLevel","getLevel","setTreshold","__buffer","getTreshold","__appenders","__appendersByName","__filters","__id","$$id","appenderName","entries","__getAppenders","loggerName","level","addFilter","logger","loggerMatch","resetFilters","__log","isLoggerEnabled","fromArguments","deprecatedMethodWarning","deprecatedClassWarning","deprecatedEventWarning","deprecatedMixinWarning","mixinName","deprecatedConstantWarning","constant","__defineGetter__","constantValue","deprecateMethodOverriding","baseclass","__levels","__appendersCache","__getLoggerName","appenders","items","__serialize","offset","win","levels","cacheId","__detect","nodeType","deep","text","nodeValue","nodeName","temp","sorted","number","logs","__Logger","__logMessage","argumentsArray","MLogging","addNativeListener","listener","useCapture","passive","addEventListener","capture","attachEvent","removeNativeListener","removeEventListener","detachEvent","getTarget","srcElement","getRelatedTarget","relatedTarget","fromElement","toElement","preventDefault","keyCode","returnValue","stopPropagation","cancelBubble","fire","createEvent","evt","initEvent","dispatchEvent","createEventObject","fireEvent","browserName","engineName","transitionSupport","eventName","setAttribute","getEventName","pref","Style","VENDOR_PREFIXES","prefix","IDisposable","registration","__window","__windowId","__registration","GlobalError","observeMethod","__listeners","__handlers","__dispatchers","__handlerCache","__clearBlackList","DeferredCall","__blacklist","$$blackListCleaner","__lastUnique","getNextUniqueId","__globalEventMonitor","getGlobalEventMonitor","setGlobalEventMonitor","__disposeWrapper","getWindow","getWindowId","getHandler","handler","getDispatcher","dispatcher","getListeners","targetKey","targetMap","entryList","getAllListeners","serializeListeners","entryKey","context","toggleAttachedEvents","enable","charCodeAt","__registerAtHandler","__unregisterAtHandler","hasListener","importListeners","Manager","listKey","item","unique","addListener","assertString","assertFunctionOrAsyncFunction","assertBoolean","findHandler","isDomNode","isWindow","isDocument","tagName","cache","supportedTypes","targetCheck","classes","getHandlers","IEventHandler","SUPPORTED_TYPES","TARGET_CHECK","found","TARGET_DOMNODE","TARGET_WINDOW","TARGET_OBJECT","TARGET_DOCUMENT","IGNORE_CAN_HANDLE","canHandleEvent","registerEvent","removeListener","__addToBlacklist","removeListenerById","removeAllListeners","deleteAllListeners","unregisterEvent","assertNotUndefined","assertNotNull","assertInstance","getDefaultPrevented","getType","getBubbles","Pool","poolObject","setTarget","getDispatchers","dispatched","tracker","canDispatchEvent","Utils","track","removeManager","DisposeUtil","disposeMap","uid","schedule","isBlacklisted","ELEMENT","ATTRIBUTE","TEXT","CDATA_SECTION","ENTITY_REFERENCE","ENTITY","PROCESSING_INSTRUCTION","COMMENT","DOCUMENT","DOCUMENT_TYPE","DOCUMENT_FRAGMENT","NOTATION","getDocument","node","ownerDocument","defaultView","parentWindow","getDocumentElement","documentElement","getBodyElement","body","isNode","isElement","isDocumentFragment","isText","history","isNodeName","dom","getText","nodes","childNodes","isBlockNode","cast","toArray","fromCollection","coll","fromShortHand","input","clone","insertAt","splice","insertBefore","obj2","insertAfter","removeAll","append","arr1","arr2","assertArray","exclude","index","remove","contains","equals","toNativeArray","sum","doneStrings","doneNumbers","doneObjects","hasNull","hasFalse","hasTrue","ex1","range","start","stop","step","ceil","dest","src","fcnReResult","globalEval","execScript","create","delay","periodical","attempt","isDisposed","fail","returns","setInterval","curry","optargs","_delay","interval","__managers","getManager","manager","mgr","getObject","setType","__fireEvent","fireEventAsync","__fireNonBubblingEvent","fireNonBubblingEvent","fireNonBubblingEventAsync","promise","PRIORITY_FIRST","PRIORITY_NORMAL","PRIORITY_LAST","addHandler","assertInterface","PRIORITY","addDispatcher","priority","IEventDispatcher","Registration","__Registration","$$disposed","addListenerOnce","$$wrapped_callback","fireDataEvent","oldData","cancelable","MEvent","getter","isPropertyInitialized","MProperty","qxOwner","qxObjectId","__ownedQxObjects","__changingQxOwner","_applyQxOwner","oldValue","_applyQxObjectId","owner","getQxOwner","__onOwnedObjectIdChange","_cascadeQxObjectIdChanges","newId","oldId","getContentElement","contentElement","updateObjectId","getQxObject","controlId","pos","seg","_createQxObject","getChildControl","_createQxObjectImpl","addOwnedQxObject","thatOwner","__removeOwnedQxObjectImpl","getQxObjectId","setQxOwner","setQxObjectId","removeOwnedQxObject","getOwnedQxObjects","MObjectId","isRegExp","isNumber","isBoolean","isDate","isError","isPromise","__logError","__fail","comment","msgvarargs","__toString","errorMsg","err","AssertionError","stringValue","Json","stringify","condition","compact","assertTrue","assertFalse","assertEquals","expected","assertNotEquals","assertEqualsFloat","assertNumber","assertNotEqualsFloat","assertIdentical","assertNotIdentical","assertUndefined","assertNull","assertJsonEquals","assertMatch","re","assertArgumentsCount","minCount","maxCount","argCount","assertEventFired","invokeFunc","listenerFunc","called","assertEventNotFired","assertException","exception","assertInArray","array","assertNotInArray","format","assertArrayEquals","assertKeyInMap","assertPositiveNumber","assertInteger","assertPositiveInteger","assertInRange","assertRegExp","assertType","assertCssColor","ColorUtil","expectedRgb","stringToRgb","valueRgb","assertElement","assertQxObject","__isQxInstance","assertQxWidget","MAssert","toUuid","$$uuid","Uuid","createUuidV4","setExplicitUuid","uuid","props","__userData","setUserData","getUserData","resetUserData","isDisposing","$$disposing","_disposeObjects","disposeObjects","_disposeSingletonObjects","_disposeArray","field","disposeArray","_disposeMap","qx.debug.dispose.level","storeUser","storeTheme","storeInherit","storeUseinit","storeInit","change","changeLength","getItem","setItem","amount","getLength","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","_promises","canBubble","_type","_target","_currentTarget","_relatedTarget","_originalTarget","_stopPropagation","_preventDefault","_bubbles","_cancelable","_timeStamp","_eventPhase","embryo","getPropagationStopped","addPromise","getPromises","reject","all","getEventPhase","setEventPhase","eventPhase","getTimeStamp","getCurrentTarget","setCurrentTarget","currentTarget","setRelatedTarget","getOriginalTarget","setOriginalTarget","originalTarget","setBubbles","bubbles","isCancelable","setCancelable","__data","__old","old","getData","getOldData","_manager","expectedEventClassName","expectedEventClass","listeners","__initialize","Bluebird","__p","origFn","reason","shift","__DEFAULT_ERROR","JSON","$$createdAt","__externalPromise","$$qxPromise","__external","onFulfilled","onRejected","_callMethod","catch","__wrap","spread","fulfilledHandler","finally","cancel","_callIterableMethod","race","iterable","any","iterator","mapSeries","reducer","initialValue","complete","__getPendingExternal","__bindArgs","newP","toPromise","Native","__callStaticMethod","allOf","action","names","wrappedCb","promisify","__attachBluebird","warnings","longStackTraces","cancellation","__initialized","__onUnhandledRejection","detail","handleError","minArgs","__mapArgs","arg","module","exports","t","r","s","u","_dereq_","SomePromiseArray","_SomePromiseArray","promises","setHowMany","setUnwrap","firstLineError","Queue","Async","_customScheduler","_isTickUsed","_lateQueue","_normalQueue","_haveDrainedQueues","_trampolineEnabled","drainQueues","_drainQueues","_schedule","setScheduler","prev","hasCustomScheduler","enableTrampoline","disableTrampolineIfNecessary","hasDevTools","haveItemsQueued","fatalError","stderr","write","exit","throwLater","AsyncInvokeLater","receiver","_queueTick","AsyncInvoke","AsyncSettlePromises","_pushOne","invokeLater","invoke","settlePromises","_settlePromises","invokeFirst","_drainQueue","queue","_reset","./queue","./schedule","./util","INTERNAL","tryConvertToPromise","calledBind","rejectThis","_","_reject","targetRejected","promiseRejectionQueued","bindingPromise","_then","bindingResolved","thisArg","_bitField","_resolveCallback","bindingRejected","_propagateFrom","propagateFromFunction","_boundValue","boundValueFunction","maybePromise","_setBoundTo","_setOnCancel","_boundTo","_isBound","bluebird","noConflict","./promise","cr","callerCache","getterCache","canEvaluate","isIdentifier","ensureMethod","namedGetter","indexedGetter","isIndex","maybeGetter","getGetter","6","PromiseArray","apiRejection","tryCatch","errorObj","_async","_warn","child","_isCancellable","_cancelBy","_isFollowing","_followee","_cancelBranched","_cancellationParent","_setWillBeCancelled","_branchHasCancelled","_branchesRemainingToCancel","_enoughBranchesHaveCancelled","canceller","_invokeOnCancel","_cancel","_setCancelled","_cancelPromises","_length","_unsetOnCancel","_onCancelField","isPending","_isCancelled","isCancellable","isCancelled","_doInvokeOnCancel","onCancelCallback","internalOnly","_attachExtraTrace","_resultCancelled","_onCancel","_invokeInternalOnCancel","7","NEXT_FILTER","getKeys","instances","boundTo","predicateLoop","matchesPredicate","j","./es5","8","contextStack","_promiseCreated","_pushContext","_popContext","_peekContext","Context","_trace","CapturedTrace","peekContext","deactivateLongStackTraces","activateLongStackTraces","Promise_pushContext","Promise_popContext","Promise_PeekContext","Promise_peekContext","Promise_promiseCreated","ctx","9","unhandledRejectionHandled","possiblyUnhandledRejection","printWarning","getDomain","_getDomain","Warning","canAttachTrace","bluebirdFramePattern","nodeFramePattern","parseLinePattern","stackFramePattern","formatStack","indentStackFrames","debugging","wForgottenReturn","suppressUnhandledRejections","_ensurePossibleRejectionHandled","_setRejectionIsUnhandled","_notifyUnhandledRejection","_notifyUnhandledRejectionIsHandled","fireRejectionEvent","_setReturnedNonUndefined","_returnedNonUndefined","_isRejectionUnhandled","_settledValue","_setUnhandledRejectionIsNotified","_unsetUnhandledRejectionIsNotified","_isUnhandledRejectionNotified","_unsetRejectionIsUnhandled","shouldUseOwnTrace","onPossiblyUnhandledRejection","domain","domainBind","onUnhandledRejectionHandled","disableLongStackTraces","longStackTracesIsSupported","Promise_captureStackTrace","_captureStackTrace","Promise_attachExtraTrace","longStackTracesCaptureStackTrace","longStackTracesAttachExtraTrace","hasLongStackTraces","fireDomEvent","CustomEvent","global","domEvent","initCustomEvent","fireGlobalEvent","emit","generatePromiseLifecycleEventObject","eventToObjectGenerator","promiseCreated","promiseFulfilled","promiseRejected","promiseResolved","promiseCancelled","promiseChained","warning","_warning","unhandledRejection","rejectionHandled","activeFireEvent","globalEventFired","domEventFired","opts","warningsOption","_clearCancellationData","cancellationClearCancellationData","cancellationPropagateFrom","cancellationOnCancel","cancellationSetOnCancel","_attachCancellationCallback","cancellationAttachCancellationCallback","_execute","cancellationExecute","_propagateFromFunction","monitoring","_fireEvent","defaultFireEvent","executor","onCancel","flags","previousOnCancel","branchesRemainingToCancel","_boundValueFunction","isFulfilled","ignoreSelf","_parent","attachExtraTrace","__stackCleaned__","parsed","parseStackAndMessage","notEnumerableProp","formatAndLogError","cleanStack","isTraceLine","isInternalFrame","shouldIgnore","stackFramesAsArray","title","isSoft","console","localHandler","localEventFired","formatNonError","newStr","maxChars","snip","captureStackTrace","parseLineInfoRegex","parseLineInfo","matches","_promisesCreated","uncycle","inherits","stackToIndex","currentStack","cycleEdgeNode","currentChildLength","stacks","current","currentLastIndex","currentLastLine","commonRootMeetPoint","removeCommonRoots","removeDuplicateOrEmptyJumps","reconstructStack","v8stackFramePattern","v8stackFormatter","stackTraceLimit","ignoreUntil","hasStackAfterThrow","isTTY","color","checkForgottenReturns","handlerLine","creatorLine","traceLines","lineMatches","firstUserLine","setBounds","lastLineError","firstFileName","lastFileName","firstStackLines","lastStackLines","firstIndex","deprecated","replacement","./errors","10","returner","thrower","thenReturn","thenThrow","catchThrow","_reason","caught","catchReturn","_value","11","PromiseReduce","PromiseAll","promiseAllThis","each","12","_TypeError","_RangeError","es5","Objectfreeze","freeze","subError","nameProperty","defaultMessage","SubError","CancellationError","TimeoutError","AggregateError","RangeError","methods","configurable","writable","indent","OperationalError","cause","errorTypes","RejectionError","13","isES5","getDescriptor","getOwnPropertyDescriptor","getOwnPropertyNames","getPrototypeOf","propertyIsWritable","descriptor","ObjectKeys","desc","14","PromiseMap","15","PassThroughHandlerContext","cancelPromise","isFinallyHandler","FinallyHandlerCancelReaction","finallyHandler","checkCancel","succeed","reasonOrValue","isRejected","_passThrough","success","lastly","tap","16","Proxyable","errors","yieldHandlers","PromiseSpawn","generatorFunction","yieldHandler","internal","_finallyPromise","_promise","_stack","_generatorFunction","_receiver","_generator","_yieldHandlers","_yieldedPromise","_cancellationPhase","_isResolved","_cleanup","_fulfill","_promiseCancelled","implementsReturn","coroutine","returnSentinel","_continue","_promiseFulfilled","next","_promiseRejected","_run","_rejectCallback","done","traceParent","promiseFromYieldHandler","bitField","_proxy","PromiseSpawn$","generator","spawn","addYieldHandler","17","18","MappingPromiseArray","limit","_filter","constructor$","_callback","_preservedValues","_limit","_inFlight","_queue","_init$","_init","_values","preservedValues","totalResolved","_totalResolved","_resolve","booleans","concurrency","19","_resolveFromSyncValue","20","maybeWrapAsError","rErrorKey","wrapAsOperationalError","isUntypedError","markAsOriginatingFromRejection","multiArgs","wrapped","21","spreadAdapter","nodeback","successAdapter","errorAdapter","newReason","asCallback","nodeify","adapter","22","makeSelfResolutionError","reflectHandler","PromiseInspection","UNDEFINED_BINDING","APPLY","createContext","catchFilter","nodebackForPromise","_fulfillmentHandler0","_rejectionHandler0","_promise0","_receiver0","_resolveFromExecutor","catchInstances","reflect","didFulfill","didReject","_setIsFinal","toJSON","fulfillmentValue","rejectionReason","originatesFromRejection","getNewLibraryCopy","fromNode","fromCallback","_isFateSealed","_setAsyncGuaranteed","_setFulfilled","fulfilled","rejected","internalData","haveInternalData","settler","_settlePromiseCtx","_settlePromiseLateCancellationObserver","_addCallbacks","_setLength","_setRejected","_setFollowing","_isFinal","_unsetCancelled","_receiverAt","_promiseAt","_fulfillmentHandlerAt","_rejectionHandlerAt","_migrateCallback0","follower","fulfill","_migrateCallbackAt","proxyable","shouldBind","_setFollowee","synchronous","ignoreNonErrorWarnings","ensureErrorObject","hasStack","_settlePromiseFromHandler","_settlePromise","asyncGuaranteed","_settlePromise0","_clearCallbackDataAtIndex","_fulfillPromises","_rejectPromises","deferResolve","v","deferReject","pending","version","toFastProperties","fillTypes","p","c","./any.js","./async","./bind","./call_get.js","./cancel","./catch_filter","./context","./debuggability","./direct_resolve","./each.js","./filter.js","./finally","./generators.js","./join","./map.js","./method","./nodeback","./nodeify.js","./promise_array","./promisify.js","./props.js","./race.js","./reduce.js","./settle.js","./some.js","./synchronous_inspection","./thenables","./timers.js","./using.js","23","resolveValueIfEmpty","asArray","_iterate","_resolveEmptyArray","toResolutionValue","getActualLength","shouldCopyValues","isResolved","24","THIS","withAppended","defaultPromisified","__isPromisified__","noCopyPropsPattern","defaultFilter","propsFilter","isPromisified","hasPromisified","suffix","getDataPropertyOrDefault","promisifiableMethods","suffixRegexp","inheritedDataKeys","passesDefaultFilter","keyWithoutAsyncSuffix","checkValid","escapeIdentRegex","makeNodePromisified","makeNodePromisifiedEval","__","defaultThis","promisified","promisifyAll","promisifier","promisifiedKey","copyDescriptors","25","Es6Map","mapToEntries","size","extractEntry","PropertiesPromiseArray","isMap","_isMap","entriesToMap","keyOffset","castValue","26","capacity","_capacity","_front","_willBeOverCapacity","_checkCapacity","_unshiftOne","front","wrapMask","_resizeTo","oldCapacity","moveItemsCount","srcIndex","dst","dstIndex","arrayMove","27","raceLater","28","ReductionPromiseArray","_each","_fn","_initialValue","_currentCancellable","_eachValues","_gotAccum","accum","_eachComplete","sender","_resultCancelled$","gotAccum","completed","valueOrReason","gotValue","29","NativePromise","getNativePromise","GlobalSetImmediate","setImmediate","ProcessNextTick","nextTick","isRecentNode","nativePromise","navigator","standalone","cordova","div","createElement","attributes","toggleScheduled","div2","o2","classList","toggle","observe","disconnect","scheduleToggle","30","SettledPromiseArray","_promiseResolved","inspection","_settledValueField","settle","31","CANCELLATION","_howMany","_unwrap","_initialized","isArrayResolved","_canPossiblyFulfill","_getRangeError","howMany","_addFulfilled","_fulfilled","_addRejected","_checkOutcome","_rejected","32","__isCancelled","33","hasProp","doGetThen","getThen","isAnyBluebirdPromise","doThenable","34","HandleWrapper","handle","clearTimeout","afterValue","ms","successClear","failureClear","timeout","handleWrapper","afterTimeout","35","NULL","resources","thenable","_isDisposable","_getDisposer","_setDisposable","castPreservingDisposable","tryDispose","Disposer","_data","_context","resource","doDispose","_unsetDisposable","isDisposer","d","FunctionDisposer","maybeUnwrapDisposer","ResourceList","using","spreadArgs","disposer","reflectedResources","resultPromise","inspections","_disposer","36","tryCatchTarget","globalObject","tryCatcher","Child","Parent","T","isPrimitive","maybeError","safeToString","appendee","defaultValue","excludedPrototypes","isExcludedProto","visitedKeys","enumeration","thisAssignmentPattern","hasMethods","hasMethodsOtherThanConstructor","hasThisAssignmentAndStaticMethods","FakeConstructor","rident","filledRange","ignore","from","to","Symbol","ArrayFrom","itResult","it","def","chrome","loadTimes","versions","__unicodeLetters","__unicodeFirstLetterInWordRegexp","__stringsMap","camelCase","chr","hyphenate","capitalize","clean","trimLeft","trimRight","fullstr","repeat","times","pad","ch","padLength","pattern","argsIsObject","matchedSubString","numberArgument","namedArgument","escapeRegexpChars","stripTags","stripScripts","scripts","quote","__bindings","__bindingsByTarget","sourceObject","targetPropertyChain","targetListenerMap","__setUpTargetBinding","propertyNames","arrayIndexValues","__checkForArrayInPropertyChain","sources","listenerIds","eventNames","__getEventNameForProperty","__setInitialValue","itemIndex","currentValue","__bindEventToProperty","__chainListener","targets","targetIds","targetListenerIds","__storeBinding","onUpdate","converter","ignoreConverter","__resetTargetValue","__setTargetValue","firstUpPropName","currentIndex","updateTarget","resolvePropertyChain","__convertValue","propertyChain","__getPropertyChainArray","__getTargetFromChain","__getEventForProperty","lastProperty","__getArrayIndex","arrayMatch","targetProperties","arrIndex","ValidationError","onSetFail","arrayIndex","sourceEvent","eventType","bindListener","end","binding","model","getModel","propertieDefinition","__defaultConversion","sourceProperty","dataType","bindings","sourceBindings","targetBindings","getAllBindings","showBindingInLog","showAllBindingsInLog","getVersion","agent","userAgent","Engine","__isMshtml","isTrident","$1","__isOpera","$2","$3","__isWebkit","invalidCharacter","__isGecko","failFunction","qxFail","FULLVERSION","NAME","opera","mozApps","buildID","product","cpuClass","__isWindowsPhone","reg","Browser","__agents","engine","OperatingSystem","getDocumentMode","documentMode","getQuirksMode","DOCUMENT_MODE","compatMode","webkit","gecko","mshtml","getTransitionName","getPropertyName","getSupport","CssTransition","end-event","__cssName","__supports","style","prefixedProp","getCssName","cssName","getAppliedStyle","element","prefixed","cssProperty","vendorPrefixes","supported","prefixedVal","cssText","CSS","supports","supportsCSS","__callback","__originalOnError","__context","__isGlobaErrorHandlingEnabled","setErrorHandler","onerror","wrappedHandler","__onErrorWindow","uri","WindowError","__calls","__timeoutWrapper","__timeout","__hasCalls","__timeoutId","__currentQueue","deferredCall","callKey","refreshTimeout","isEmpty","DeferredCallManager","__manager","__pool","setSize","Infinity","pool","$$pooled","getSize","destroy","ObjectPool","ABORT","__push","newPromise","__addCatcher","__thenPromise","__catcher","catchers","catch1","catch2","callListener","series","ignoreAbort","disposeSingletons","disposeTriggeredBy","disposeMe","trigger","triggerDispose","destroyContainer","container","ui","mobile","Widget","__isChildrenContainer","_collectContainerChildren","children","getChildren","Composite","Scroll","SlideBar","Stack","changeBubble","_applyEventPropagation","_registerEventChaining","marshal","MEventBubbling","__changePropertyListener","dotIndex","bracketIndex","newName","rest","param","__array","__updateLength","autoDisposeItems","newArray","connector","removed","added","reverse","oldArray","__updateEventPropagation","oldLength","addedItems","endIndex","eventData","oldItem","copy","before","after","initValue","isAutoDisposeItems","failMessage","inst","__comment","BaseError","DEFAULTMESSAGE","__sTrace","getComment","__trace","_isProperty","undef","JSON3","isExtended","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","charIndexBuggy","Months","getDay","year","month","__proto__","original","PrimitiveTypes","boolean","string","Properties","valueOf","isConstructor","isHostType","Escapes","92","toPaddedString","width","symbols","isLarge","charCode","whitespace","serialize","indentation","date","hours","minutes","seconds","milliseconds","results","hasMembers","Index","Source","fromCharCode","Unescapes","47","98","116","110","102","114","abort","SyntaxError","lex","begin","isSigned","update","walk","serialized","isAll","stringifySupported","parseSupported","isInRange","nr","vmin","vmax","isBetweenRange","buf","crypt0","bufIdx","hexBytes","BUFFER_SIZE","bin","uuidBin","clearBuffer","crypto","msCrypto","randomBytes","getRandomValues","bytes","Uint8Array","random","randomBytesBuffered","platform","__ids","Windows NT 10.0","Windows NT 6.3","Windows NT 6.2","Windows NT 6.1","Windows NT 6.0","Windows NT 5.2","Windows NT 5.1","Windows NT 5.0","Windows 2000","Windows NT 4.0","Win 9x 4.90","Windows CE","Windows 98","Win98","Windows 95","Win95","Mac OS X 10_13","Mac OS X 10.13","Mac OS X 10_12","Mac OS X 10.12","Mac OS X 10_11","Mac OS X 10.11","Mac OS X 10_10","Mac OS X 10.10","Mac OS X 10_9","Mac OS X 10.9","Mac OS X 10_8","Mac OS X 10.8","Mac OS X 10_7","Mac OS X 10.7","Mac OS X 10_6","Mac OS X 10.6","Mac OS X 10_5","Mac OS X 10.5","Mac OS X 10_4","Mac OS X 10.4","Mac OS X 10_3","Mac OS X 10.3","Mac OS X 10_2","Mac OS X 10.2","Mac OS X 10_1","Mac OS X 10.1","Mac OS X 10_0","Mac OS X 10.0","__getVersionForDesktopOs","__getVersionForMobileOs","windows","android","iOs","windowsMatch","androidMatch","iOsMatch","sourceException","__failMessage","__uri","__lineNumber","__columnNumber","__sourceException","getUri","getLineNumber","getColumnNumber","getSourceException","exc","__arguments","__exc","getArguments","empty","getValues","mergeWith","object1","object2","__equals","aStack","bStack","multiline","ignoreCase","aCtor","bCtor","invert","getKeyFromValue","fromArray","Packages","Titanium","Runtime","nativeEvent","timeStamp","_native","_returnValue","_cloneNativeEvent","getNativeEvent","setReturnValue","getReturnValue","_window","_initWindowObserver","beforeunload","unload","resize","scroll","beforeshutdown","_onNativeWrapper","_onNative","types","_stopWindowObserver","__onNativeHandler","false","doc","html","useraction","UserAction","__root","__lastUpDownType","_initKeyObserver","keyup","keydown","keypress","keyinput","__onKeyUpDownWrapper","__lastKeyCode","__inputListeners","__onKeyPressWrapper","_fireInputEvent","__getEventTarget","offsetWidth","KeyInput","_fireSequenceEvent","keyIdentifier","KeySequence","Keyboard","isNonPrintableKeyCode","_emulateKeyPress","focusHandler","Focus","getActive","getFocus","__onKeyUpDown","__onKeyPress","_stopKeyObserver","gecko|webkit|mshtml","_idealKeyHandler","isModifierDown","ctrlKey","altKey","metaKey","__firefoxInputFix","getAttribute","_charCode2KeyCode","keyCodeToIdentifierMap","keyCodeToIdentifier","charCodeToIdentifier","_identifierToKeyCode","identifierToKeyCodeMap","_getParent","captureListeners","bubbleListeners","targetList","bubbleList","bubbleTargets","captureList","captureTargets","serial","__TRACE","localList","listenerIndex","AbstractBubbling","parentNode","DomBubbling","SHIFT_MASK","CTRL_MASK","ALT_MASK","META_MASK","CAPSLOCK_MASK","NUMLOCK_MASK","SCROLLLOCK_MASK","Dom","shiftKey","getModifierState","numLock","capsLock","scrollLock","getModifiers","mask","getKeyLockState","isCtrlPressed","isShiftPressed","isAltPressed","isMetaPressed","isCapsLocked","isNumLocked","isScrollLocked","isCtrlOrCommandPressed","Mouse","button","buttons","clientX","round","clientY","pageX","pageY","screenX","screenY","wheelDelta","wheelDeltaX","wheelDeltaY","delta","deltaX","deltaY","deltaZ","axis","wheelX","wheelY","HORIZONTAL_AXIS","__buttonsDom2EventModel","__buttonsDom3EventModel","__buttonsMshtmlEventModel","getButton","isLeftPressed","isMiddlePressed","isRightPressed","getViewportLeft","getViewportTop","getDocumentLeft","Viewport","getScrollLeft","getDocumentTop","getScrollTop","getScreenLeft","getScreenTop","Pointer","pointerId","height","pressure","tiltX","tiltY","pointerType","isPrimary","_original","MSPOINTER_TYPE_MOUSE","MSPOINTER_TYPE_PEN","MSPOINTER_TYPE_TOUCH","getPointerType","changedTouches","getPointerId","getWidth","getHeight","getPressure","getTiltX","getTiltY","orig","elementFromPoint","PROPERTIES","customProps","_event","_createEvent","_initEvent","_nativeStopPropagation","_stopped","Custom","MOUSE_PROPERTIES","POINTER_PROPERTIES","READONLY_PROPERTIES","BIND_METHODS","bindMethods","MouseEvent","propName","which","initMouseEvent","view","initUIEvent","getTouch","getMsPointer","pointerEnabled","msPointerEnabled","getHelp","getHashChange","hashchange","getDispatchEvent","getCustomEvent","getMouseEvent","getMouseCreateEvent","getMouseWheel","getAuxclickEvent","hasAuxclick","getPassive","passiveSupported","defineProperties","Windows Phone","iPod","iPad","iPhone","PSP","PLAYSTATION 3","Nintendo Wii","Nintendo DS","XBOX","Xbox","Device","detectDeviceType","userAgentString","detectTabletDevice","detectMobileDevice","isIE10Tablet","isCommonTablet","getDevicePixelRatio","devicePixelRatio","maxTouchPoints","msMaxTouchPoints","MOUSE_TO_POINTER_MAPPING","mousedown","mouseup","mousemove","mouseout","mouseover","TOUCH_TO_POINTER_MAPPING","touchstart","touchend","touchmove","touchcancel","MSPOINTER_TO_POINTER_MAPPING","MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel","MSPointerLeave","MSPointerEnter","MSPointerOver","MSPointerOut","POINTER_TO_GESTURE_MAPPING","pointerdown","pointerup","pointercancel","pointermove","LEFT_BUTTON","SIM_MOUSE_DISTANCE","SIM_MOUSE_DELAY","__lastTouch","emitter","__defaultTarget","__emitter","__eventNames","__buttonStates","__activeTouches","_processedFlag","docMode","_initPointerObserver","__nativePointerEvents","_initObserver","_onTouchEvent","_onMouseEvent","__wrappedListener","__lastButtonState","__primaryIdentifier","_onPointerEvent","useEmitter","$$emitter","Emitter","on","PointerCore","_determineActiveTouches","touches","cancelEvent","identifier","touch","touchTarget","touchProps","overEvt","outEvt","_isSimulatedMouseEvent","buttonsPressed","mouseProps","moveEvt","updatedActiveTouches","timeSinceTouch","dist","distX","distY","_stopObserver","gestureEvent","pointerover","pointerout","gesturebegin","gesturemove","gesturefinish","gesturecancel","__callBase","TYPES","GESTURE_EVENTS","TAP_MAX_DISTANCE","mouse","pen","DOUBLETAP_MAX_DISTANCE","SWIPE_DIRECTION","LONGTAP_TIME","DOUBLETAP_TIME","ROLL_FACTOR","TOUCHPAD_ROLL_FACTOR","TOUCHPAD_WHEEL_EVENTS_THRESHOLD","TOUCHPAD_WHEEL_EVENTS_PERIOD","TOUCHPAD_WHEEL_EVENTS_TIMEOUT","__gesture","__lastTap","__stopMomentum","__momentum","__rollEvents","__eventName","__primaryTarget","__isMultiPointerGesture","__initialAngle","__rollImpulseId","__initialDistance","__rollEventsCountStart","__rollEventsCount","__touchPadDetectionPerformed","__lastRollEventTime","GestureCore","gestureType","qxWeb","checkAndFireGesture","_onDblClick","_fireRoll","off","gestureBegin","gestureMove","gestureFinish","gestureCancel","__stopLongTapTimer","_hasIntermediaryHandler","startTime","lastEventTime","startX","startY","velocityX","velocityY","isTap","longTapTimer","__fireLongTap","__fireTrack","_calcAngle","_calcDistance","gesture","oldClientX","oldClientY","__fireRotate","__firePinch","_isBelowTapMaxDistance","$$gestureHandler","__handleRollImpulse","isDblTap","lastTap","isBelowDoubleTapDistance","__isBelowDoubleTapDistance","isSameTarget","isSameButton","swipe","__getSwipeGesture","stopMomentum","updateGestureTarget","oldTimeoutId","timeoutId","AnimationFrame","request","momentum","pointerA","pointerB","atan2","PI","sqrt","pow","_getDeltaCoordinates","maxDistance","x1","y1","x2","y2","inX","inY","scale","angle","deltaCoordinates","duration","distance","direction","velocity","__fireRollEvent","rollFactor","Wheel","getDelta","__performAdaptativeRollScrolling","IS_TOUCHPAD","reLength","__endTouchPadDetection","_isTouchPadDetectionEnabled","detectionTimeout","Timer","once","Tap","Swipe","getStartTime","getDuration","getAxis","getDirection","getVelocity","getDistance","Rotate","getAngle","Pinch","getScale","Track","Roll","getMomentum","Gesture","longtap","dbltap","rotate","pinch","trackstart","trackend","roll","EVENT_CLASSES","__listener","__onDblClickWrapped","__fireRollWrapped","pointerEvent","eventTypeClass","__main","__cmd","__lastCommand","Stylesheet","innerHTML","main","firstChild","appendChild","__onResize","formatter","Formatter","getFormatter","toHtml","__scrollDown","scrollTop","scrollHeight","__visible","display","show","__history","command","escapeHTML","clientHeight","offsetHeight","lastChild","iden","getKeyIdentifier","Hierarchy","Console","_charCode","getCharCode","getChar","_keyCode","_identifier","getKeyCode","isPrintable","isPrintableKeyIdentifier","specialCharCodeMap","numpadToCharCode","96","97","99","100","101","103","104","105","106","107","109","111","224","37","38","39","40","45","46","112","113","115","117","118","119","120","121","122","123","144","44","145","91","93","charCodeA","charCodeZ","charCode0","charCode9","isIdentifiableKeyCode","numPadKeyCode","isValidKeyIdentifier","_document","_root","_body","application","Inline","Init","getApplication","__needsScrollFix","active","focus","blur","focusin","focusout","activate","deactivate","FOCUSABLE_ELEMENTS","frame","iframe","img","textarea","__onNativeMouseDownWrapper","__onNativeMouseUpWrapper","__onNativeFocusWrapper","__onNativeBlurWrapper","__onNativeDragGestureWrapper","__onNativeSelectStartWrapper","__onNativeFocusInWrapper","__onNativeFocusOutWrapper","__previousFocus","__previousActive","__down","__up","__relatedTarget","Selection","createTextRange","textRange","moveStart","collapse","setFocus","setActive","resetActive","resetFocus","tryActivate","__findActivatableElement","related","_windowFocused","__doWindowBlur","__doWindowFocus","__onNativeMouseDown","__onNativeMouseUp","__onNativeFocus","__onNativeBlur","__onNativeDragGesture","__onNativeFocusIn","__onNativeFocusOut","__onNativeSelectStart","edge","__isSelectable","focusTarget","__findFocusableElement","selectionStart","selectionEnd","unselectable","selection","__fixFocus","__getCorrectFocusTarget","focusedElement","widget","getWidgetByElement","textField","getDomElement","__isFocusable","el","Attribute","focusable","attr","_applyActive","scrollTo","_applyFocus","__mouseActive","isStandardMode","clientWidth","innerHeight","pageXOffset","scrollLeft","pageYOffset","__getOrientationNormalizer","currentOrientation","deviceOrientation","orientation","-270","-180","-90","90","180","270","__orientationNormalizer","getOrientation","isLandscape","isPortrait","__storage","__any","__getStorage","storage","offById","toDelete","origStorage","getEntryById","__canceled","startSequence","performance","__start","timePassed","cancelSequence","TIMEOUT","calculateTiming","req","timing","navigationStart","MAXSCROLL","MINSCROLL","FACTOR","__normalize","absDelta","__recalculateMultiplicator","maxRet","__oninterval","_oninterval","timer","__onceFunc","enabled","__intervalHandler","_applyInterval","getEnabled","restart","_applyEnabled","clearInterval","getInterval","setEnabled","startWith","restartWith","__getStylesheet","__stylesheet","getCreateStyleSheet","createStyleSheet","getInsertRule","insertRule","getDeleteRule","deleteRule","getAddImport","addImport","getRemoveImport","removeImport","includeFile","href","rel","getElementsByTagName","sheet","elem","createTextNode","addRule","selector","cssRules","removeRule","rules","selectorText","removeSheet","ownerNode","owningElement","removeChild","removeAllRules","imports","Uri","getAbsolute","removeAllImports","IMPORT_RULE","formatTimeAs","formatOffset","diff","formatEntryTime","getFormatTimeAs","__DATETIME_FORMAT","DateFormat","normalizeEntryClass","formatEntryObjectAndClass","breakdown","formatEntryItems","output","il","jl","toText","toTextArray","sub","__defaultFormatter","setFormatter","__escapeHTMLReplace","<",">","&","'","\"","getNodeIndex","previousSibling","getElementIndex","getNextElementSibling","nextSibling","getPreviousElementSibling","compareDocumentPosition","isRendered","isDescendantOf","ancestor","getCommonParent","element1","element2","known","getAncestors","_recursivelyCollect","getChildElements","getNextSiblings","getDescendants","getFirstDescendant","getLastDescendant","getPreviousSiblings","getSiblings","cleanWhitespace","nextNode","__domReady","__loaded","__isReady","__isInitialized","__isUnloaded","Application","ready","onScriptLoaded","__fireReady","onAppInstanceInitialized","__fireAppInstanceInitialized","scriptLoaded","isApplicationReady","isApplicationInitialized","$$domReady","readyState","_onNativeLoadWrapped","_onNativeLoad","doScroll","_onNativeUnloadWrapped","_onNativeUnload","__onNativeLoadHandler","__onNativeUnloadHandler","__application","app","finalize","__close","close","__shutdown","terminate","BaseInit","getWebWorker","Worker","getFileReader","FileReader","getGeoLocation","getAudio","canPlayType","getAudioOgg","Html","getAudioMp3","getAudioWav","getAudioAu","getAudioAif","getVideo","getVideoOgg","getVideoH264","getVideoWebm","getLocalStorage","localStorage","removeItem","getSessionStorage","sessionStorage","getUserDataStorage","addBehavior","getClassList","getXPath","evaluate","getXul","createElementNS","getSvg","hasFeature","getVml","behavior","hasVml","adj","getCanvas","CanvasRenderingContext2D","getDataUrl","Image","onload","getDataset","dataset","getContains","getCompareDocumentPosition","getTextContent","textContent","getFullScreen","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","getConsole","getNaturalDimensions","naturalHeight","naturalWidth","getHistoryState","onpopstate","replaceState","pushState","getSelection","getIsEqualNode","isEqualNode","getSelectionObject","documentNode","Range","__isInputOrTextarea","selectedValue","StringSplit","selectedLength","getStart","documentRange","parentElement","moveToBookmark","getBookmark","moveEnd","elementRange","moveToElementText","moved","bodyRange","setEndPoint","compareEndPoints","steps","documentSelection","anchorOffset","focusOffset","getEnd","rng","newRng","validBoundaries","sel","isCollapsed","collapseToStart","setStart","setEnd","setEndAfter","rangeCount","removeAllRanges","addRange","setSelectionRange","setAll","collapsed","commonAncestor","commonAncestorContainer","Meta","_onChangeTheme","minWidth","maxWidth","minHeight","maxHeight","allowGrowX","allowShrinkX","allowGrowY","allowShrinkY","allowStretchX","allowStretchY","marginTop","marginRight","marginBottom","marginLeft","margin","alignX","alignY","PropertyUtil","getAllProperties","getUserValue","__computedHeightForWidth","__computedLayout","__hasInvalidLayout","__sizeHint","__updateMargin","__userBounds","__layoutProperties","getBounds","clearSeparators","renderSeparator","separator","bounds","renderLayout","left","computed","changes","local","_hasHeightForWidth","flowHeight","_getHeightForWidth","Layout","isExcluded","hasValidLayout","scheduleLayoutUpdate","invalidateLayoutCache","getSizeHint","compute","hint","_computeSizeHint","getAllowGrowX","getAllowShrinkX","getAllowGrowY","getAllowShrinkY","getMinWidth","getMinHeight","getMaxWidth","getMaxHeight","layout","_getLayout","hasHeightForWidth","getHeightForWidth","_applyMargin","$$parent","updateLayoutProperties","_applyAlign","_applyDimension","_applyStretching","hasUserBounds","setUserBounds","resetUserBounds","__emptyProperties","setLayoutProperties","getLayoutParent","getLayoutProperties","clearLayoutProperties","verifyLayoutProperty","invalidateChildrenCache","getApplicationRoot","getRoot","setLayoutParent","Visibility","isRootWidget","_getRoot","LayoutItem","$$subparent","tr","messageId","nlsManager","locale","trn","singularMessageId","pluralMessageId","trc","trnc","marktr","MTranslation","changeTheme","_applyTheme","colorChanged","decorationChanged","fontChanged","iconChanged","appearanceChanged","meta","decoration","font","icon","appearance","colorMgr","decorationMgr","Decoration","fontMgr","iconMgr","Icon","appearanceMgr","Appearance","_suspendEvents","dec","getTheme","setTheme","_activateEvents","__timer","initialize","qx.theme","__contentElement","__createContentElement","initFocusable","initSelectable","initNativeContextMenu","appear","disappear","createChildControl","move","syncAppearance","click","auxclick","dblclick","contextmenu","beforeContextmenuOpen","mousewheel","losecapture","drop","dragleave","dragover","drag","dragstart","dragend","dragchange","droprequest","paddingTop","paddingRight","paddingBottom","paddingLeft","padding","zIndex","decorator","backgroundColor","textColor","opacity","cursor","toolTip","toolTipText","toolTipIcon","blockToolTip","showToolTipWhenDisabled","visibility","anonymous","tabIndex","keepFocus","keepActive","draggable","droppable","selectable","contextMenu","nativeContextMenu","UNFOCUSABLE_WIDGET_FOCUS_BLUR_ERROR","considerAnonymousState","$$widget","$$widgetObject","getAnonymous","__separatorPool","__initialAppearanceApplied","__toolTipTextListenerId","__layoutManager","_setLayout","Abstract","connectToWidget","content","_updateInsets","inner","contentStyles","setStyles","hasLayoutChildren","inset","getInsets","innerWidth","right","bottom","getDecorator","decoratorPadding","getPadding","getPaddingTop","getPaddingRight","getPaddingBottom","getPaddingLeft","_findTopControl","__separators","domEl","contentHint","_getContentHint","insets","insetX","insetY","contentWidth","contentHeight","_getContentHeightForWidth","getInnerSize","fadeOut","fadeIn","_applyAnonymous","setVisibility","hide","isVisible","getVisibility","isHidden","isSeeable","flush","_createContentElement","connectWidget","touch-action","-ms-touch-action","styles","boxSizing","overflowX","overflowY","__widgetChildren","getLayoutChildren","layoutChildren","__emptyChildren","invalidateLayoutChildren","getChildrenContainer","_indexOf","_hasChildren","addChildrenToQueue","_add","__addHelper","_addAt","ref","_addBefore","_addAfter","_remove","__removeHelper","_removeAt","_removeAll","_afterAddChild","_afterRemoveChild","_capture","releaseCapture","isCapturing","MouseCapture","getCaptureElement","_applyPadding","__updateContentPadding","setStyle","_applyDecorator","getCssClassName","removeClass","addCssClass","addClass","_applyToolTipText","getToolTipText","translate","setToolTipText","_applyTextColor","_applyZIndex","_applyVisibility","_applyOpacity","_applyCursor","isSelectable","_applyBackgroundColor","getBackgroundColor","resolved","_applyFont","updateAppearance","getFont","getTextColor","__states","$$stateChanges","_forwardStates","hasState","state","states","addState","forward","controls","__childControls","removeState","control","__appearanceSelector","__updateSelector","styleFrom","getAppearance","$$subcontrol","newData","_applyAppearance","checkAppearanceNeeds","syncWidget","jobs","getEventTarget","getFocusTarget","getFocusable","getFocusElement","isTabable","isFocusable","_applyFocusable","getTabIndex","isNativelyFocusable","_applyKeepFocus","_applyKeepActive","_applyTabIndex","_applySelectable","getCursor","setSelectable","isDraggable","_applyDraggable","isDroppable","_applyDroppable","_applyNativeContextMenu","_applyContextMenu","getOpener","resetOpener","_onContextMenuOpen","_onBeforeContextMenuOpen","setOpener","getContextMenu","openAtPointer","_onStopEvent","_getDragDropCursor","DragDropCursor","isEnabled","_onDragStart","_onDrag","_onDragEnd","_onDragChange","placeToPointer","setGlobalCursor","moveTo","resetGlobalCursor","getCurrentAction","setAction","resetAction","visualizeFocus","visualizeBlur","scrollChildIntoView","direct","isScheduled","sibling","scrollChildIntoViewX","scrollChildIntoViewY","align","tabFocus","hasChildControl","_getCreatedChildControls","notcreate","_createChildControl","_showChildControl","_excludeChildControl","_isChildControlVisible","_releaseChildControl","_createChildControlImpl","$$resyncNeeded","_disposeChildControls","getSubcontrolId","getContentLocation","Location","setDomLeft","setDomTop","setDomPosition","Dispose","contentEl","disconnectWidget","setContextMenu","__hints","class","for","colspan","rowspan","valign","datetime","accesskey","tabindex","maxlength","readonly","longdesc","cellpadding","cellspacing","frameborder","usemap","bools","nowrap","ismap","declare","noshade","checked","disabled","readOnly","multiple","selected","noresize","allowTransparency","$$element","$$elementObject","maxLength","innerText","htmlFor","qxProperties","propertyDefault","removeableProperties","compile","hints","isQuirksMode","scrollWidth","CssAnimation","play-state","getPlayState","start-event","getAnimationStart","iteration-event","getAnimationIteration","getAnimationEnd","fill-mode","getFillMode","keyframes","getKeyFrames","msAnimation","WebkitAnimation","MozAnimation","OAnimation","animation","prefixes","keyFrames","getRequestAnimationFrame","choices","hasChild","hasChildren","hasChildElements","getParentElement","isInDom","domElements","insertBegin","insertEnd","removeChildAt","replaceChild","newNode","oldNode","replaceAt","__helperElement","getHelperElement","parseUri","strict","q","parser","loose","m","$0","appendParamsToUrl","params","toParameter","post","parts","__toParameterPair","encode","encodeURIComponent","IFormat","__initialLocale","__locale","__format","ISO_MASKS","__UTC","getDateFormat","getLocale","getDateTimeFormat","getDateInstance","_dateInstance","getDateTimeInstance","_dateTimeInstance","ASSUME_YEAR_2000_THRESHOLD","isoDate","isoTime","isoDateTime","isoUtcDateTime","AM_MARKER","PM_MARKER","__parseFeed","__parseRules","__formatTree","__fillNumber","minSize","__getDayInYear","helpDate","day","getDate","getMonth","setDate","__thursdayOfSameWeek","__getWeekInYear","thursdayDate","weekYear","getFullYear","thursdayWeek1","__getWeekInMonth","__getWeekYear","__isLeapYear","februaryDate","__getMonthAndDayFromDayOfYear","dayOfYear","dayCounter","tempDate","days","__getYearFromWeekYearAndMonth","dayOfMonth","setLocale","resetLocale","fullYear","dayOfWeek","getHours","getMinutes","getSeconds","getMilliseconds","timezoneOffset","getTimezoneOffset","timezoneSign","timezoneHours","timezoneMinutes","__initFormatTree","currAtom","wildcardChar","character","wildcardSize","getDayName","localeDayOfWeek","startOfWeek","getWeekStart","getMonthName","getAmMarker","getPmMarker","dateStr","__initParseFeed","regex","dateValues","era","quarter","hour","ispm","weekDay","weekOfMonth","weekOfYear","sec","currGroup","applyWeekYearAfterRule","applyDayOfYearAfterRule","usedRules","rule","manipulator","yearRuleApplied","dayRuleApplied","groups","dayAndMonth","currWildcardChar","currWildcardSize","currLiteral","currChar","__initParseRules","atomIdx","wildcardRule","ruleIdx","__isRuleForWildcard","wildcardStr","regexFunc","LString","amMarker","pmMarker","monthManipulator","localWeekDayManipulator","noZeroHourManipulator","noZeroAmPmHourManipulator","ignoreManipulator","abbrevEraNames","abbrevEraNameManipulator","abbrevQuarterNames","abbrevQuarterManipulator","fullQuarterNames","fullQuarterManipulator","dateNamesManipulator","monthPatternLetters","dayPatternLetters","firstLetterInPattern","isMonth","lengthName","getContext","getMonthNames","getDayNames","yNumber","createRange","getRangeAt","separator2","lastLength","lastLastIndex","sticky","compliantExecNpcg","__focusEvents","__ignoreDisabled","_dispatchEvent","domTarget","widgetTarget","targetChanged","isAnonymous","domRelatedTarget","widgetRelatedTarget","currentWidget","otherListeners","widgetEvent","widgetOriginalTarget","EventHandler","Capture","_onLongtap","_onPointerdown","_onWindowBlur","__rebuildStructures","ALLOWED_BUTTONS","MIN_DRAG_DISTANCE","__dropTarget","__dragTarget","__types","__actions","__keys","__currentType","__currentAction","__sessionActive","__validDrop","__validAction","__dragTargetWidget","__startConfig","addType","addAction","supportsType","supportsAction","setDropAllowed","isAllowed","__detectAction","getDataAsync","getCurrentActionAsync","getDragTarget","addData","getCurrentType","isSessionActive","actions","Shift","Control","alias","Alt","validAction","dragEvent","Drag","__findDraggable","__findDroppable","clearSession","_onPointermove","_onPointerup","_onKeyDown","_onKeyUp","_onKeyPress","_onRoll","_start","isButtonOk","DragDrop","_getDelta","cursorEl","dropLeaveTarget","innerTracker","validDrop","currentProperties","setUserValue","deleteUserValue","getInitValue","setInitValue","deleteInitValue","getThemeValue","setThemeValue","deleteThemeValue","__queue","__nesting","scheduleFlush","__getSortedQueue","getNestingLevel","leveldown","__getLevelGroupedWidgets","VisibilityQueue","sortedQueue","oldSizeHint","newSizeHint","hintChanged","__lookup","__computeVisible","visible","_invalidChildrenCache","__widget","availWidth","availHeight","_clearSeparators","_renderSeparator","_getWidget","_applyLayoutChange","_getLayoutChildren","CSS_CLASSNAME_PREFIX","__rules","__legacyIe","__dynamic","hasRule","css","getStyles","innerCss","innerStyles","innerKey","innerSelector","removeAllCssClasses","decorations","recurseDecoratorInclude","currentEntry","isValidPropertyValue","isDynamic","IDecorator","isCached","aliasManager","AliasManager","aliases","__scheduled","__jobs","__retries","MAX_RETRIES","job","__inFlush","__executeAndRescheduleOnError","finallyCode","__onUserAction","_scheduleFlush","_getHeight","force","elementHeight","Css","__swap","Dimension","_getWidth","elementWidth","_getContentHeight","getContentHeight","_getContentWidth","getContentWidth","__displayDefaults","__getDisplayDefault","defaults","docu","tempEl","appendTo","getStyle","currentValues","styleProperty","includeStylesheet","_forEachElementWrapped","newVal","currentVal","prevVal","$$qPrevDisp","prevStyle","getPosition","getOffset","_forEachElement","addClasses","removeClasses","hasClass","toggleClass","bCls","toggleClasses","replaceClass","oldName","$attachAll","$attach","length_or_items","PseudoArray","BaseArray","createStackConstructor","__init","$$qx","$init","$widget","col","override","$attachStatic","staticsNamespace","destination","$attachInit","Selector","query","thisarg","logThis","elements","groupEnd","support","Expr","isXML","tokenize","outermostContext","sortInput","hasDuplicate","setDocument","docElem","documentIsHTML","rbuggyQSA","rbuggyMatches","expando","preferredDoc","dirruns","classCache","createCache","tokenCache","compilerCache","sortOrder","hasOwn","push_native","pseudos","rwhitespace","rtrim","rcomma","rcombinators","rattributeQuotes","rpseudo","ridentifier","matchExpr","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","rinputs","rheader","rnative","rquickExpr","rsibling","runescape","funescape","escaped","escapedWhitespace","high","rcssescape","fcssescape","asCodePoint","unloadHandler","disabledAncestor","addCombinator","dir","els","Sizzle","seed","nid","newSelector","newContext","getElementById","getElementsByClassName","qsa","toSelector","testContext","querySelectorAll","qsaError","cacheLength","markFunction","addHandle","attrs","attrHandle","siblingCheck","cur","sourceIndex","createInputPseudo","createButtonPseudo","createDisabledPseudo","isDisabled","createPositionalPseudo","argument","matchIndexes","hasCompare","subWindow","createComment","getById","getElementsByName","attrId","getAttributeNode","tag","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","adown","bup","compare","sortDetached","aup","ap","bp","expr","specified","escape","uniqueSort","duplicates","detectDuplicates","sortStable","selectors","createPseudo","relative","first"," ","+","~","preFilter","excess","unquoted","nodeNameSelector","operator","what","simple","ofType","xml","uniqueCache","outerCache","nodeIndex","useCache","uniqueID","pseudo","setFilters","matched","not","matcher","unmatched","elemLang","activeElement","hasFocus","selectedIndex","header","eq","even","odd","lt","gt","radio","checkbox","file","password","image","submit","filters","parseOnly","tokens","soFar","preFilters","cached","combinator","skip","checkNonElements","doneName","oldCache","newCache","elementMatcher","matchers","condense","newUnmatched","mapped","setMatcher","postFilter","postFinder","postSelector","preMap","postMap","preexisting","elems","contexts","multipleContexts","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","setMatchers","elementMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","matcherFromGroupMatchers","token","compiled","Polyfill","__normalizations","__hooks","onWindowLoad","wrappedCallback","$registerEventNormalization","normalizer","$unregisterEventNormalization","$getEventNormalizationRegistry","$registerEventHook","registerHook","unregisterHook","onHooks","offHooks","$unregisterEventHook","$getEventHookRegistry","hooks","typeHooks","normalizations","$$lastlistenerId","__ctx","listenerType","storedListener","storedContext","hasStoredContext","allOff","wrappedListener","attachedListeners","copyEventsTo","targetCopy","descendants","hover","callbackIn","callbackOut","onMatchTarget","eventTarget","targetToMatch","isChildOf","matchTarget","$$matchTargetInfo","offMatchTarget","infos","$$pointerHandler","PointerHandler","animationStart","animationIteration","animationEnd","_fadeOut","keep","_fadeIn","_animate","$$animation","Animation","animateReverse","animate","getAnimationHandles","animationHandles","play","pause","isPlaying","isEnded","__nodeName","__styleValues","__attribValues","_modified","_visibility","_scroll","_actions","__selection","__focusHandler","__mouseCapture","__deferredCall","__getFocusHandler","focusedDomElement","__willBecomeInvisible","activeDomElement","captureDomElement","__getCaptureElement","later","modified","hc","__willBeSeeable","__element","__flush","__lazyScrollX","__lazyScrollY","intoViewX","__lazyScrollIntoViewX","intoViewY","__lazyScrollIntoViewY","activityEndActions","Appear","eventManager","domElement","fromDomElement","__included","__styleJobs","__attribJobs","__propertyJobs","__propertyValues","__eventValues","__children","__modifiedChildren","__parent","_scheduleChildrenUpdate","_createDomElement","__connectDomElement","_syncData","_syncChildren","_copyData","_insertChildren","createDocumentFragment","dataChild","dataEl","dataChildren","dataLength","domParent","domChildren","domPos","domOperations","Id","getAbsoluteIdOf","fromMarkup","setCss","_applyProperty","pa","__addChildHelper","__removeChildHelper","__moveChildHelper","getChild","addAt","childs","getParent","insertInto","oldIndex","moveBefore","moveAfter","free","getNodeName","setNodeName","useMarkup","useElement","userSelect","isIncluded","thisEl","childEl","scrollToX","lazy","getScrollX","scrollToY","getScrollY","disableScrolling","enableScrolling","__onScroll","__inScroll","getTextSelection","getTextSelectionLength","getTextSelectionStart","getTextSelectionEnd","setTextSelection","clearTextSelection","__performAction","containerCapture","removeStyle","getAllStyles","setAttributes","currentClass","_setProperty","_removeProperty","_getProperty","db","listenerData","__captureElement","__containerCapture","__captureEvents","activateCapture","hasNativeCapture","nativeSetCapture","onNativeListener","nativeReleaseCapture","setCapture","txt","__txt","toLocaleLowerCase","toLocaleUpperCase","varags","mappedFunctions","BaseString","translation","localized","__messageId","__localized","__args","localize","getMessageId","LocalizedString","Locale","__getNavigatorLocale","getVariant","userLanguage","language","__translations","$$translations","__locales","$$locales","initLocale","__clientLocale","__defaultLocale","__language","getLanguage","getTerritory","getAvailableLocales","includeNonloaded","locales","__extractLanguage","_applyLocale","addTranslation","languageCode","translationMap","catalog","addLocale","localeCode","localeMap","__lookupAndExpand","translatedArgs","_dynamic","resolveDynamic","_setDynamic","_getDynamic","ValueManager","colors","__parseColor","isCssString","rgbToRgbString","__styleCache","__aliasMap","__defaultStates","__resolveId","defaultId","chain","appearances","splitted","chainCopy","subId","aliasMap","bits","$$bits","$$length","incl","baseIncludeKey","baseKey","includeKey","localKey","__contentElements","setSource","loadingFailed","loaded","aborted","PLACEHOLDER_IMAGE","__width","__height","__mode","__currentContentElement","__wrapper","__requestId","basic","_styleSource","__getSuitableContentElement","getSource","__setSource","__getMode","setPadding","_applySource","io","ImageLoader","isLoading","_applyScale","__setMode","isPng","__createSuitableContentElement","Label","setRich","setScale","ResourceManager","__checkForContentElementSwitch","tagNameHint","getTagName","__getContentElement","isFontUri","__setManagedImage","highResolutionSource","findHighResolutionSource","imageWidth","getImageWidth","imageHeight","getImageHeight","setWidth","setHeight","backgroundSize","__fireLoadEvent","isLoaded","__setUnmanagedImage","__loadUnmanagedImage","__resetSource","rId","alphaImageLoader","__checkForContentElementReplacement","elementToAdd","currentContentElement","currentStyles","backgroundImage","newEl","getSelectable","setValue","currentEl","currentDomEl","newDomEl","currentHash","isFont","__updateContentHint","sourceLC","__warned","isFailed","__loaderCallback","resetSource","sparts","fontSource","fontStyles","hasGradient","getStartColor","getEndColor","hasBackground","getBackgroundImage","getAttributes","decoratorStyle","combinedStyles","backgroundPosition","backgroundRepeat","getBackgroundRepeat","imageInfo","failed","__direction","setVisibleElement","getVisibleElement","setMoveDirection","getMoveDirection","placeMethod","domMove","placementModeX","placementModeY","offsetLeft","offsetTop","offsetRight","offsetBottom","__ptwLiveUpdater","__ptwLiveDisappearListener","__ptwLiveUpdateDisappearListener","getLayoutLocation","rootCoords","MPlacement","elemLocation","getDomMove","placeToWidget","liveupdate","__cleanupFromLastPlaceToWidgetLiveUpdate","Idle","coords","_place","placeToElement","placeToPoint","point","_getPlacementOffsets","getOffsetLeft","getOffsetTop","getOffsetRight","getOffsetBottom","__getPlacementSize","_computePlacementSize","placement","Placement","getPlacementModeX","getPlacementModeY","setZIndex","setDomMove","_applyAction","__style","COMPUTED_MODE","__num","__computeScroll","__computeBody","clientLeft","clientTop","BoxSizing","__computeOffset","rect","getBoundingClientRect","__getBodyLocation","SVGElement","overX","overY","getLeft","getTop","getRight","getBottom","getRelative","elem1","elem2","mode1","mode2","loc1","loc2","getOffsetParent","offsetParent","$$fontBootstrap","_manifestFonts","dynamic","fonts","fo","__getFontClass","comparisonString","setComparisonString","__resolveInclude","fontName","fontToInclude","themed","assign","webfonts","WebFont","__normalizeArray","supertheme","__convert","__initializeAliases","boot","objectOrArray","getAll","__extractType","__inheritableKeys","$$clazz","borders","icons","widgets","__metaKeys","border","counter","mixinTheme","__checkForInvalidTheme","stackTrace","__mgr","withFallback","__localizeWithFallback","canonical","fallback","localizedFormat","getTimeFormat","weekStart","MV","AE","AF","BH","DJ","DZ","EG","ER","ET","IQ","IR","JO","KE","KW","LB","LY","MA","OM","QA","SA","SD","SO","TN","YE","AS","AU","AZ","BW","CA","CN","FO","GE","GL","GU","HK","IE","IL","IS","JM","JP","KG","KR","LA","MH","MN","MO","MP","MT","NZ","PH","PK","SG","TH","TT","TW","UM","US","UZ","VI","ZA","ZW","MW","NG","TJ","territory","_getTerritory","getWeekendStart","weekendStart","SY","IN","getWeekendEnd","weekendEnd","isWeekend","fallbackContext","localizedString","newKey","originalEvent","stopSession","__WEBKIT_LEGACY_GRADIENT","getBoxModel","getTextOverflow","getPlaceholder","getBorderRadius","getBoxShadow","getBorderImage","getBorderImageSyntax","styleName","borderImageSource","borderImageSlice","borderImageRepeat","getUserSelect","getUserSelectNone","getUserModify","getFloat","cssFloat","styleFloat","getLinearGradient","getFilterGradient","__isFilterSupported","getRadialGradient","getLegacyWebkitGradient","getRgba","getBoxSizing","getInlineBlock","getOpacity","getTextShadow","getFilterTextShadow","filterClass","initParams","getAlphaImageLoaderNeeded","getPointerEvents","initial","pointerEvents","getFlexboxSyntax","detectedSyntax","detector","flexSyntax","syntax","clip","Clip","__map","Cursor","currentStyle","hasLayout","zoom","Opacity","__nativeBorderBox","tags","__usesNativeBorderBox","__styleNames","__cssNames","__detectVendorProperties","styleNames","textOverflow","borderImage","float","userModify","__getStyleName","__mshtmlPixel","__special","special","cssNames","getCss","isPropertySupported","CASCADED_MODE","LOCAL_MODE","smart","getComputedStyle","pixel","localStyle","__sheet","__insets","_getDefaultInsets","_isInitialized","_resetInsets","_styleBackgroundColor","bgcolor","MBackgroundColor","radiusTopLeft","radiusTopRight","radiusBottomLeft","radiusBottomRight","radius","_styleBorderRadius","hasRadius","getRadiusTopLeft","getRadiusTopRight","getRadiusBottomLeft","getRadiusBottomRight","_applyBorderRadius","MBorderRadius","shadowHorizontalLength","shadowVerticalLength","shadowBlurRadius","shadowSpreadRadius","shadowColor","shadowLength","_styleBoxShadow","getShadowVerticalLength","getShadowHorizontalLength","vLengths","hLengths","blurs","spreads","vLength","hLength","_getExtendedPropertyValueArrays","_applyBoxShadow","MBoxShadow","widthTop","widthRight","widthBottom","widthLeft","styleTop","styleRight","styleBottom","styleLeft","colorTop","colorRight","colorBottom","colorLeft","_styleBorder","getColorTop","getColorRight","getColorBottom","getColorLeft","getWidthTop","getStyleTop","getWidthRight","getStyleRight","getWidthBottom","getStyleBottom","getWidthLeft","getStyleLeft","_getDefaultInsetsForBorder","_applyWidth","_applyStyle","MSingleBorder","backgroundPositionX","backgroundPositionY","backgroundOrigin","orderGradientsFront","_styleBackgroundImage","images","repeats","tops","lefts","origins","origin","toUri","imageMarkup","getOrderGradientsFront","_applyBackgroundImage","_applyBackgroundPosition","MBackgroundImage","__getDefaultInsetsForDoubleBorder","__styleDoubleBorder","innerWidthTop","innerWidthRight","innerWidthBottom","innerWidthLeft","innerColorTop","innerColorRight","innerColorBottom","innerColorLeft","innerColor","innerOpacity","getInnerColorTop","getInnerColorRight","getInnerColorBottom","getInnerColorLeft","getInnerWidthTop","getInnerWidthRight","getInnerWidthBottom","getInnerWidthLeft","getInnerOpacity","__processInnerOpacity","borderTop","borderRight","borderBottom","borderLeft","border-top","border-right","border-bottom","border-left","boxSizingKey","borderRadiusKey","shadowStyle","rgb","rgbString","_applyDoubleBorder","MDoubleBorder","startColor","endColor","startColorPosition","endColorPosition","colorPositionUnit","gradientStart","gradientEnd","_styleLinearBackgroundGradient","backgroundStyle","styleImpl","__styleLinearBackgroundGradientAccordingToSpec","__styleLinearBackgroundGradientForLegacyWebkit","__styleLinearBackgroundGradientWithCanvas","__styleLinearBackgroundGradientWithMSFilter","startColors","endColors","units","orientations","startColorPositions","endColorPositions","__getColor","unit","startPos","endPos","me","__canvas","isVertical","lingrad","createLinearGradient","addColorStop","comp","clearRect","fillStyle","fillRect","toDataURL","isHex6String","rgbToHexString","deg","prefixedName","_applyLinearBackgroundGradient","MLinearBackgroundGradient","sliceTop","sliceRight","sliceBottom","sliceLeft","repeatX","repeatY","fill","borderImageMode","_styleBorderImage","resolvedImage","computedSlices","_getDefaultInsetsForBorderImage","getRepeatX","getRepeatY","getFill","__getSlices","getSliceTop","getSliceRight","getSliceBottom","getSliceLeft","_applyBorderImage","baseImage","getBorderImageMode","topSlice","rightSlice","bottomSlice","leftSlice","ext","MBorderImage","transitionProperty","transitionDuration","transitionTimingFunction","transitionDelay","_styleTransition","getTransitionDuration","tPros","tDurs","tTims","tDels","_applyTransition","MTransition","getInset","slices","_getStyles","jsStyles","cssStyles","directions","defaultInsets","currentInsets","propertyValues","__extendArray","__aliases","_preprocess","dynamics","path","getAliases","__hiddenScrollbars","hidden","getContentSize","__splitter","__trim","native","baseVal","regexp","onlyCssKeys","__hasOnlyCssKeys","AnimationCss","AnimationJs","transformKeys","_initButtonObserver","_initMoveObserver","_initWheelObserver","__onButtonEventWrapper","__onMoveEventWrapper","__onWheelEventWrapper","__lastEventType","__lastMouseDownTarget","__preventNextClick","MouseWheel","preventNextClick","_onButtonEvent","_onMoveEvent","_onWheelEvent","_stopButtonObserver","_stopMoveObserver","_stopWheelObserver","isDrag","__doubleClickFixPre","__rightClickFixPost","__differentTargetClickFixPost","commonParent","_registeredEvents","CANCELABLE","selectstart","eventId","__targets","__instances","$$displayed","legacyIe","displayed","orientationchange","__nativeEventType","_currentOrientation","__onNativeWrapper","detectOrientationChangeDelay","_onOrientationChange","Orientation","SWIPE_MIN_DISTANCE","SWIPE_MIN_VELOCITY","__target","_initTouchObserver","__pointers","__touchStartPosition","__onTouchEventWrapper","__originalTarget","__startTime","__beginScalingDistance","__beginRotation","__touchEventNames","engineVersion","_stopTouchObserver","_commonTouchEventHandler","_getScalingDistance","touch0","touch1","_getRotationAngle","_calcTouchesDelta","_calcSingleTouchDelta","touchStartPosition","_mapPointerEvent","_detectTouchesByPointer","targetTouches","_getTarget","currentScalingDistance","rotation","currentRotation","_rotation","pointer","targetForIE","__evaluateTarget","hitTargets","msElementsFromPoint","TouchCore","MOUSE_TO_TOUCH_MAPPING","__isInTouch","Touch","online","offline","isOnline","onLine","Offline","_onChangeCheckedWrapper","_onChangeChecked","_onChangeValueWrapper","_onChangeValue","_onInputWrapper","_onInput","_onPropertyWrapper","_onProperty","_onKeyDownWrapper","_onKeyUpWrapper","__enter","__onInputTimeoutId","__oldValue","__oldInputValue","lower","__inputHandlerAttached","elementType","_onKeyPressWrapped","__registerInputListener","_inputFixWrapper","_inputFix","__unregisterInputListener","$$inValueSet","Input","isXmlDocument","cloneNode","eventList","cloneElem","origElem","eventEntry","cloneAll","__scrollbarSize","getScrollbarWidth","getStyleSize","getBorderRight","getInsetRight","ov","sbv","getBorderLeft","overflow","parentLocation","parentLeft","parentRight","parentOuterWidth","parentClientWidth","parentLeftBorder","parentRightBorder","parentScrollBarWidth","elementLocation","elementLeft","elementRight","leftOffset","rightOffset","scrollDiff","alignLeft","alignRight","parentTop","parentBottom","parentOuterHeight","parentClientHeight","parentTopBorder","parentBottomBorder","parentScrollBarHeight","elementTop","elementBottom","topOffset","bottomOffset","alignTop","alignBottom","intoView","__registeredObjects","__registeredIdHashes","segs","ownerId","getRegisteredObjects","REGEXP","hex3","hex6","rgba","SYSTEM","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","windowframe","windowtext","NAMED","black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","transparent","magenta","orange","brown","isNamedColor","isSystemColor","supportsThemes","isThemedColor","isRgbaString","__rgbaStringToRgb","isRgbString","__rgbStringToRgb","isHex3String","__hex3StringToRgb","__hex6StringToRgb","cssStringToRgb","stringToRgbString","alpha","$4","$5","$6","hex3StringToRgb","hex3StringToHex6String","hex6StringToRgb","hexStringToRgb","rgbToHsb","hue","saturation","brightness","cmax","cmin","redc","greenc","bluec","hsbToRgb","hsb","tov","randomColor","g","__defaultSize","__knownImageTypesRegExp","__dataUrlRegExp","loading","getFormat","callbacks","boundCallback","__onload","__onLoadHandler","imgElem","__paddingTop","__paddingLeft","__rich","rich","_content","getValue","getMaxConcurrentRequestCount","versionParts","versionMain","versionMajor","versionMinor","maxConnectionsPerServer","getSsl","protocol","getXmlHttpRequest","ActiveXObject","XMLHttpRequest","noXhr","noActiveX","Transport","$$resources","__urlPrefix","lowResImgSrc","factor","pixelRatioCandidates","toFixed","hiResImgSrc","getHighResolutionSource","pixelRatio","fileExtIndex","pixelRatioIdentifier","candidate","getIds","pathfragment","getImageFormat","getCombinedFormat","clippedtype","combId","lib","urlPrefix","LibraryManager","toDataUri","resid","resentry","combined","resstruct","$$libraries","resourceUri","baseElements","host","URL","__libs","namespace","__warnings","__alphaFixRepeats","scale-x","scale-y","no-repeat","__repeatToTagname","repeat-x","repeat-y","verticalAlign","_style","fontSize","lineHeight","WebkitUserDrag","dimension","__getDimension","__normalizeWidthHeight","processAlphaFix","__processScale","__processScaleXScaleY","__processRepeats","sizingMethod","sourceid","clipped","combinedid","__getStylesForClippedScaleX","__getStylesForClippedScaleY","__checkForPotentialClippedImage","offx","offy","bg","Background","__getStylesForSingleRepeat","timeoutInterval","_applyTimeoutInterval","_onInterval","__startTimer","getTimeoutInterval","__stopTimer","__defaultAxis","DirectAxis","axisX","axisY","__instance","area","offsets","modeX","modeY","__getAxis","__direct","__keepAlign","__bestFit","KeepAlignAxis","BestFitAxis","getAxisX","computeStart","__getPositionX","getAxisY","__getPositionY","getEdge","getAlign","family","__lookupMap","fontFamily","fontWeight","fontStyle","textDecoration","textShadow","setFamily","fromString","setBold","setItalic","setDecoration","fromConfig","__defaultStyles","getDefaultStyles","bold","italic","weight","_applySize","_applyLineHeight","_applyFamily","_applyBold","_applyItalic","_applyDecoration","_applyColor","_applyWeight","_applyTextShadow","changeStatus","__families","_applySources","families","familyName","_quoteFontFamily","sourcesList","getComparisonString","_onWebFontChangeStatus","getFamily","ev","valid","__rulePrefix","__transitionKeys","skew","__cssAnimationKeys","__normalizeDesc","__validateDesc","alternate","__addKeyFrames","__onAnimationStart","__onAnimationIteration","__onAnimationEnd","AnimationHandle","Transform","setOrigin","__keepFrame","ended","endFrame","transforms","possibleKeys","__clearCache","__maxStepTime","__units","__getOrderedKeys","stepTime","__getStepTime","__normalizeKeyFrames","__calculateDelta","jsAnimation","initValues","repeatSteps","__applyRepeat","delayId","percent","__getUnit","__normalizeKeyFrameTransforms","transformStyle","keyIndex","stepsToNext","calculationIndex","nItem","__getNextValue","value0","value1","stepValue","timingX","nextItem","lastItem","__applyStyles","animationId","stopped","MAX_VALUE","minDiff","getWheelDelta","__orientation","offsetX","offsetY","layerX","layerY","getAllTouches","getTargetTouches","getChangedTargetTouches","isMultiTouch","__getEventSpecificTouches","getRotation","touchIndex","__getEventSpecificTouch","getIdentifier","_isTouchEnd","getGears","google","gears","getActiveX","getSkype","Plugin","mimeTypes","__db","quicktime","plugin","wmv","divx","silverlight","pdf","getQuicktimeVersion","__getVersion","getWindowsMediaVersion","getDivXVersion","getSilverlightVersion","getPdfVersion","getQuicktime","__isAvailable","getWindowsMedia","getDivX","getSilverlight","getPdf","activeXName","pluginNames","forceActiveX","GetVersions","versionInfo","plugins","verreg","description","DOMDOC","XMLHTTP","namespaceUri","qualifiedName","setProperty","loadXML","createDocument","DOMParser","parseFromString","domDoc","httpReq","__styles","wordBreak","__prepareText","__createMeasureElement","_textElement","__prepareHtml","_htmlElement","whiteSpace","__getStyles","useHtml","xulel","__sanitizer","setSanitizer","getHtmlSize","__measureSize","getTextSize","__tmpl","__emptyStyles","__computePosition","leftCss","topCss","backgroundImageUrl","tmpl","areaSize","_moveToEdgeAndAlign","_isInRange","AbstractAxis","range1End","range2Start","__createdStyles","__validators","__preferredFormats","getPreferredFormats","FONT_FORMATS","VALIDATION_TIMEOUT","__styleSheet","__queueInterval","sourceUrls","__flushQueue","__require","fontLookupKey","__createFontLookupKey","__removeRule","preferredFormats","browser","browserVersion","os","osVersion","removeStyleSheet","sourcesMap","__getSourcesMap","__getRule","__addRule","Validator","__onFontChangeStatus","cbContext","formats","formatList","__getSourceForFormat","completeRule","__fixCssText","styleSheets","removeDefaultHelperElements","__playState","__playing","__setEnded","iteration","__ended","isPaused","CssTransform","getOrigin","3d","get3D","perspective","getPerspective","perspective-origin","getPerspectiveOrigin","backface-visibility","getBackFaceVisibility","__cssKeys","transformCss","getTransformValue","setPerspective","setPerspectiveOrigin","valueX","valueY","setBackfaceVisibility","getBackfaceVisibility","properties3d","_compute3dProperty","_computeAxisProperties","cssValue","dimensions","getImplementation","getDomParser","getSelectSingleNode","selectSingleNode","getSelectNodes","selectNodes","getElementsByTagNameNS","getDomProperties","getProperty","getAttributeNS","setAttributeNS","getCreateElementNS","getCreateNode","createNode","getQualifiedItem","Xml","setFontFamily","__requestedHelpers","_getRequestedHelpers","COMPARISON_FONTS","sans","serif","HELPER_CSS","fontVariant","COMPARISON_STRING","__defaultSizes","__defaultHelpers","defaultHelpers","__checkTimer","__checkStarted","__onTimerInterval","_isFontValid","requestedSans","requestedSerif","cls","fontsSans","getFontFamily","fontsSerif","_getHelperElement","styleMap","_applyFontFamily","getTimeout","background-light","light-background","background-focused","background-focused-inner","background-disabled","background-selected","background-field","background-pane","background-invalid","border-lead","border-light","border-light-shadow","border-dark-shadow","border-dark","border-main","border-focused-light","border-focused-light-shadow","border-focused-dark-shadow","border-focused-dark","border-separator","shadow","invalid","border-focused-invalid","text-disabled","text-selected","text-focused","text-placeholder","tooltip","tooltip-text","tooltip-invalid","button-hovered","button-abandoned","button-checked","window-active-caption-text","window-inactive-caption-text","window-active-caption","window-inactive-caption","date-chooser","date-chooser-title","date-chooser-selected","effect","table-pane","table-header","table-header-border","table-header-cell","table-header-cell-hover","table-focus-indicator","table-row-background-focused-selected","table-row-background-focused","table-row-background-selected","table-row-background-even","table-row-background-odd","table-row-selected","table-row","table-row-line","table-column-line","progressive-table-header","progressive-table-row-background-even","progressive-table-row-background-odd","progressive-progressbar-background","progressive-progressbar-indicator-done","progressive-progressbar-indicator-undone","progressive-progressbar-percent-background","progressive-progressbar-percent-text","classic","keyboard-focus","outset","groove","ridge","inset-thin","outset-thin","focused-inset","focused-outset","border-invalid","separator-horizontal","separator-vertical","lead-item","tooltip-error","popup","toolbar-separator","toolbar-part-handle","menu-separator","datechooser-date-pane","datechooser-weekday","datechooser-week","datechooser-week-header","tabview-page-button-top","tabview-page-button-bottom","tabview-page-button-left","tabview-page-button-right","table-statusbar","table-scroller-header","table-scroller-focus-indicator","table-header-cell-hovered","progressbar","small","monospace","label","atom","atom/label","atom/icon","tooltip/atom","showTimeout","hideTimeout","tooltip-error/atom","move-frame","resize-frame","dragdrop-cursor","button-frame","pressed","abandoned","focused","hovered","center","hover-button","menubutton","iconPosition","splitbutton","splitbutton/button","splitbutton/arrow","scrollarea/corner","scrollarea","scrollarea/pane","scrollarea/scrollbar-x","scrollarea/scrollbar-y","listitem","gap","lead","form-renderer-label","textfield","showingPlaceholder","undetermined","radiobutton","spinner","spinner/textfield","spinner/upbutton","spinner/downbutton","datefield","datefield/button","datefield/list","groupbox","groupbox/legend","groupbox/frame","check-groupbox","check-groupbox/legend","radio-groupbox","radio-groupbox/legend","toolbar","toolbar/part","toolbar/part/container","toolbar/part/handle","toolbar-button","toolbar-menubutton","showArrow","toolbar-menubutton/arrow","toolbar-splitbutton","toolbar-splitbutton/button","toolbar-splitbutton/arrow","slidebar","slidebar/scrollpane","slidebar/content","slidebar/button-forward","vertical","slidebar/button-backward","tabview","tabview/bar","barTop","barBottom","barRight","tabview/bar/button-forward","tabview/bar/button-backward","tabview/pane","tabview-page","tabview-page/button","barLeft","firstTab","lastTab","tabview-page/button/label","tabview-page/button/icon","tabview-page/button/close-button","scrollbar/slider","scrollbar/slider/knob","horizontal","scrollbar/button","up","down","scrollbar/button-begin","scrollbar/button-end","slider","slider/knob","tree-folder/open","opened","tree-folder","iconOpened","tree-folder/icon","tree-folder/label","tree-file","tree","contentPadding","treevirtual","treevirtual-folder","treevirtual-file","treevirtual-line","treevirtual-contract","treevirtual-expand","treevirtual-only-contract","treevirtual-only-expand","treevirtual-start-contract","treevirtual-start-expand","treevirtual-end-contract","treevirtual-end-expand","treevirtual-cross-contract","treevirtual-cross-expand","treevirtual-end","treevirtual-cross","maximized","window-resize-frame","window/pane","window/captionbar","window/icon","window/title","window/minimize-button","window/restore-button","window/maximize-button","window/close-button","window/statusbar","window/statusbar-text","resizer","splitpane","splitpane/splitter","splitpane/splitter/knob","splitpane/slider","selectbox","selectbox/atom","selectbox/popup","selectbox/list","selectbox/arrow","datechooser","datechooser/navigation-bar","datechooser/last-year-button-tooltip","datechooser/last-month-button-tooltip","datechooser/next-year-button-tooltip","datechooser/next-month-button-tooltip","datechooser/last-year-button","datechooser/last-month-button","datechooser/next-year-button","datechooser/next-month-button","datechooser/button/icon","datechooser/button","lastYear","lastMonth","nextYear","nextMonth","datechooser/month-year-label","textAlign","datechooser/date-pane","datechooser/weekday","weekend","datechooser/day","today","otherMonth","datechooser/week","combobox","combobox/button","combobox/popup","combobox/list","combobox/textfield","spacingX","spacingY","iconColumnWidth","arrowColumnWidth","submenu","menu/slidebar","menu-slidebar","menu-slidebar-button","menu-slidebar/button-backward","menu-slidebar/button-forward","menu-button","menu-button/icon","menu-button/label","menu-button/shortcut","menu-button/arrow","menu-checkbox","menu-radiobutton","menubar","menubar-button","colorselector","colorselector/control-bar","colorselector/visual-pane","colorselector/control-pane","colorselector/preset-grid","colorselector/colorbucket","colorselector/preset-field-set","colorselector/input-field-set","colorselector/preview-field-set","colorselector/hex-field-composite","colorselector/hex-field","colorselector/rgb-spinner-composite","colorselector/rgb-spinner-red","colorselector/rgb-spinner-green","colorselector/rgb-spinner-blue","colorselector/hsb-spinner-composite","colorselector/hsb-spinner-hue","colorselector/hsb-spinner-saturation","colorselector/hsb-spinner-brightness","colorselector/preview-content-old","colorselector/preview-content-new","colorselector/hue-saturation-field","colorselector/brightness-field","colorselector/hue-saturation-pane","colorselector/hue-saturation-handle","colorselector/brightness-pane","colorselector/brightness-handle","table","table/statusbar","table/column-button","table-column-reset-button","table-scroller/scrollbar-x","table-scroller/scrollbar-y","table-scroller","table-scroller/header","table-scroller/pane","table-scroller/focus-indicator","table-scroller/resize-line","sortIcon","sortedAscending","table-header-cell/icon","table-header-cell/sort-icon","table-editor-textfield","table-editor-selectbox","table-editor-combobox","progressive-table-header-cell","colorpopup","colorpopup/field","colorpopup/selector-button","colorpopup/auto-button","colorpopup/preview-pane","colorpopup/current-preview","colorpopup/selected-preview","colorpopup/colorselector-okbutton","colorpopup/colorselector-cancelbutton","virtual-list","virtual-list/row-layer","row-layer","column-layer","group-item","virtual-selectbox","virtual-selectbox/dropdown","virtual-selectbox/dropdown/list","virtual-combobox","virtual-combobox/dropdown","virtual-combobox/dropdown/list","virtual-tree","itemHeight","virtual-tree-folder","virtual-tree-file","cell","cell-string","cell-number","cell-image","cell-boolean","cell-atom","cell-date","cell-html","progressbar/progress","app-header","app-header-label","app-splitpane","Oxygen","Classic","dark-blue","highlight-shade","background-selected-disabled","background-selected-dark","background-disabled-checked","tabview-unselected","tabview-button-border","tabview-label-active-disabled","link","scrollbar-bright","scrollbar-dark","button-border","button-border-hovered","button-box-bright","button-box-dark","button-box-bright-pressed","button-box-dark-pressed","window-border","window-border-inner","white-box-border","indigo","border-blue","main-dark","button-box","button-box-pressed","button-box-pressed-hovered","button-box-hovered","button-box-invalid","button-box-pressed-invalid","button-box-hovered-invalid","button-box-pressed-hovered-invalid","button-box-focused","button-box-pressed-focused","button-box-hovered-focused","button-box-pressed-hovered-focused","button-box-right","button-box-pressed-right","button-box-pressed-hovered-right","button-box-hovered-right","button-box-focused-right","button-box-hovered-focused-right","button-box-pressed-focused-right","button-box-pressed-hovered-focused-right","button-box-right-borderless","button-box-pressed-right-borderless","button-box-pressed-hovered-right-borderless","button-box-hovered-right-borderless","button-box-top-right","button-box-pressed-top-right","button-box-pressed-hovered-top-right","button-box-hovered-top-right","button-box-bottom-right","button-box-pressed-bottom-right","button-box-pressed-hovered-bottom-right","button-box-hovered-bottom-right","button-box-bottom-left","button-box-pressed-bottom-left","button-box-pressed-hovered-bottom-left","button-box-hovered-bottom-left","button-box-top-left","button-box-pressed-top-left","button-box-pressed-hovered-top-left","button-box-hovered-top-left","button-box-middle","button-box-pressed-middle","button-box-pressed-hovered-middle","button-box-hovered-middle","button-box-left","button-box-pressed-left","button-box-pressed-hovered-left","button-box-hovered-left","button-box-focused-left","button-box-hovered-focused-left","button-box-pressed-hovered-focused-left","button-box-pressed-focused-left","scroll-knob","scroll-knob-pressed","scroll-knob-hovered","scroll-knob-pressed-hovered","button-hover","window-active","window-caption","white-box","menubar-button-hovered","menubar-button-pressed","statusbar","table-header-column-button","table-header-cell-first","radiobutton-focused","radiobutton-invalid","checkbox-focused","checkbox-invalid","window-caption-active","headline","URLS","superStyles","radiobutton/icon","checkbox/icon","datefield/textfield","button-frame/label","middle","Tango","Indigo","blank","checkbox-checked","checkbox-undetermined","window-minimize","window-maximize","window-restore","window-close","cursor-copy","cursor-move","cursor-alias","cursor-nodrop","arrow-right","arrow-left","arrow-up","arrow-down","arrow-forward","arrow-rewind","arrow-down-small","arrow-up-small","arrow-up-invert","arrow-down-invert","arrow-right-invert","knob-horizontal","knob-vertical","tree-minus","tree-plus","select-column-order","table-ascending","table-descending","treevirtual-minus-only","treevirtual-plus-only","treevirtual-minus-start","treevirtual-plus-start","treevirtual-minus-end","treevirtual-plus-end","treevirtual-minus-cross","treevirtual-plus-cross","menu-checkbox-invert","menu-radiobutton-invert","tabview-close","background-application","background-medium","background-splitpane","background-tip","background-tip-error","background-odd","progressbar-background","text-light","text-gray","text-label","text-title","text-input","text-hovered","text-active","text-inactive","border-inner-scrollbar","menu-separator-top","menu-separator-bottom","border-toolbar-button-outer","border-toolbar-border-inner","border-toolbar-separator-right","border-toolbar-separator-left","border-input","border-inner-input","border-disabled","border-pane","border-button","border-column","border-focused","border-dragover","table-header-hovered","progressive-table-header-border-right","selected-start","selected-end","tabview-background","pane-start","pane-end","group-background","group-border","radiobutton-background","checkbox-border","checkbox-focus","checkbox-hovered","checkbox-hovered-inner","checkbox-inner","checkbox-start","checkbox-end","checkbox-disabled-border","checkbox-disabled-inner","checkbox-disabled-start","checkbox-disabled-end","checkbox-hovered-inner-invalid","checkbox-hovered-invalid","radiobutton-checked","radiobutton-disabled","radiobutton-checked-disabled","radiobutton-hovered-invalid","scrollbar-start","scrollbar-end","scrollbar-slider-start","scrollbar-slider-end","button-border-disabled","button-start","button-end","button-disabled-start","button-disabled-end","button-hovered-start","button-hovered-end","button-focused","input-start","input-end","input-focused-start","input-focused-end","input-focused-inner-invalid","input-border-disabled","input-border-inner","toolbar-start","toolbar-end","window-border-caption","window-caption-active-text","window-caption-active-start","window-caption-active-end","window-caption-inactive-start","window-caption-inactive-end","window-statusbar-background","tabview-start","tabview-end","tabview-inactive","tabview-inactive-start","tabview-inactive-end","table-header-start","table-header-end","menu-start","menu-end","menubar-start","groupitem-start","groupitem-end","groupitem-text","virtual-row-layer-background-even","virtual-row-layer-background-odd","modern","pane","radiobutton-checked-focused","radiobutton-checked-hovered","radiobutton-hovered","radiobutton-checked-invalid","radiobutton-checked-focused-invalid","radiobutton-checked-hovered-invalid","radiobutton-focused-invalid","scrollbar-horizontal","scrollbar-vertical","scrollbar-slider-horizontal","scrollbar-slider-vertical","scrollbar-slider-horizontal-disabled","scrollbar-slider-vertical-disabled","button-disabled","button-pressed","button-checked-focused","button-invalid","button-disabled-invalid","button-hovered-invalid","button-checked-invalid","button-pressed-invalid","button-focused-invalid","button-checked-focused-invalid","checkbox-disabled","checkbox-focused-invalid","input-focused","input-focused-invalid","input-disabled","toolbar-button-hovered","toolbar-button-checked","toolbar-part","tabview-pane","tabview-page-button-top-active","tabview-page-button-top-inactive","tabview-page-button-bottom-active","tabview-page-button-bottom-inactive","tabview-page-button-left-active","tabview-page-button-left-inactive","tabview-page-button-right-active","tabview-page-button-right-inactive","window-incl-statusbar","window-resize-frame-incl-statusbar","window-captionbar-active","window-captionbar-inactive","window-statusbar","window-pane","button-frame/image","legendPosition","list/pane","tabview/bar/scrollpane","spacing","tree-item","tree-item/icon","tree-item/label","tree-item/open","large","arrowPosition","placementLeft","tooltip-error/arrow","showStatusbar","datechooser/nav-button","table-header-cell/label","iconTrue","iconFalse","Modern","Simple","IApplication","qxl","demobrowser","demo","Blocker","blocker","setBlockerOpacity","setBlockerColor","block","unblock","input2","elementToBlock","blocker2","subel","subval","one","option","setWrap","wrapValue","styleValue","navigate","onevent","currentUrl","Iframe","queryCurrentUrl","$$url","DEFAULT_ATTRIBUTES","frameBorder","frameSpacing","marginWidth","marginHeight","hspace","vspace","contentWindow","contentDocument","getBody","__rememberUrl","__iframeElement","__blockerElement","__blockedElement","__isActive","__defaultZIndex","__defaultBlockerOpacity","__defaultBlockerColor","__calculateStyles","__styleAndInsertBlocker","__removeBlocker","isBlocked","getBlockerElement","getBlockerColor","getBlockerOpacity","setBlockerZIndex","getBlockerZIndex","__setupBlockerElement","__setupIframeElement","__isWholeDocumentBlockTarget","__resizeBlocker"],"mappings":"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","sourcesContent":["/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Create namespace\n *\n * @ignore(qx.data)\n * @ignore(qx.data.IListData)\n * @ignore(qx.util.OOUtil)\n */\nif (!window.qx) {\n  window.qx = {};\n}\n\n/**\n * Bootstrap qx.Bootstrap to create myself later\n * This is needed for the API browser etc. to let them detect me\n */\nqx.Bootstrap = {\n\n  genericToString : function() {\n    return \"[Class \" + this.classname + \"]\";\n  },\n\n  createNamespace : function(name, object)\n  {\n    var splits = name.split(\".\");\n    var part = splits[0];\n    var parent = qx.$$namespaceRoot && qx.$$namespaceRoot[part] ? qx.$$namespaceRoot : window;\n\n    for (var i=0, len=splits.length-1; i<len; i++, part=splits[i])\n    {\n      if (!parent[part]) {\n        parent = parent[part] = {};\n      } else {\n        parent = parent[part];\n      }\n    }\n\n    // store object\n    parent[part] = object;\n\n    // return last part name (e.g. classname)\n    return part;\n  },\n\n\n  setDisplayName : function(fcn, classname, name)\n  {\n    fcn.displayName = classname + \".\" + name + \"()\";\n  },\n\n\n  setDisplayNames : function(functionMap, classname)\n  {\n    for (var name in functionMap)\n    {\n      var value = functionMap[name];\n      if (value instanceof Function) {\n        value.displayName = classname + \".\" + name + \"()\";\n      }\n    }\n  },\n\n\n  base : function(args, varargs)\n  {\n    if (qx.Bootstrap.DEBUG) {\n      if (!qx.Bootstrap.isFunction(args.callee.base)) {\n        throw new Error(\n          \"Cannot call super class. Method is not derived: \" +\n          args.callee.displayName\n        );\n      }\n    }\n\n    if (arguments.length === 1) {\n      return args.callee.base.call(this);\n    } else {\n      return args.callee.base.apply(this, Array.prototype.slice.call(arguments, 1));\n    }\n  },\n\n\n  define : function(name, config)\n  {\n    var isStrictMode = function () {\n      return (typeof this == 'undefined');\n    };\n\n    if (!config) {\n      config = { statics : {} };\n    }\n\n    var clazz;\n    var proto = null;\n\n    qx.Bootstrap.setDisplayNames(config.statics, name);\n\n    if (config.members || config.extend)\n    {\n      qx.Bootstrap.setDisplayNames(config.members, name + \".prototype\");\n\n      clazz = config.construct || new Function;\n\n      if (config.extend) {\n        this.extendClass(clazz, clazz, config.extend, name, basename);\n      }\n\n      var statics = config.statics || {};\n      // use keys to include the shadowed in IE\n      for (var i=0, keys=qx.Bootstrap.keys(statics), l=keys.length; i<l; i++) {\n        var key = keys[i];\n        clazz[key] = statics[key];\n      }\n\n      proto = clazz.prototype;\n      // Enable basecalls within constructor\n      proto.base = qx.Bootstrap.base;\n      proto.name = proto.classname = name;\n\n      var members = config.members || {};\n      var key, member;\n\n      // use keys to include the shadowed in IE\n      for (var i=0, keys=qx.Bootstrap.keys(members), l=keys.length; i<l; i++) {\n        key = keys[i];\n        member = members[key];\n\n        // Enable basecalls for methods\n        // Hint: proto[key] is not yet overwritten here\n        if (member instanceof Function && proto[key]) {\n          member.base = proto[key];\n        }\n\n        proto[key] = member;\n      }\n    }\n    else\n    {\n      clazz = config.statics || {};\n\n      // Merge class into former class (needed for 'optimize: [\"statics\"]')\n      if (qx.Bootstrap.$$registry && qx.Bootstrap.$$registry[name]) {\n        var formerClass = qx.Bootstrap.$$registry[name];\n\n        // Add/overwrite properties and return early if necessary\n        if (this.keys(clazz).length !== 0) {\n          // Execute defer to prevent too early overrides\n          if (config.defer) {\n            config.defer(clazz, proto);\n          }\n\n          for (var curProp in clazz) {\n            formerClass[curProp] = clazz[curProp];\n          }\n          return formerClass;\n        }\n      }\n    }\n\n    // Store type info\n    clazz.$$type = \"Class\";\n\n    // Attach toString\n    if (!clazz.hasOwnProperty(\"toString\")) {\n      clazz.toString = this.genericToString;\n    }\n\n    // Create namespace\n    var basename = name ? this.createNamespace(name, clazz) : \"\";\n\n    // Store names in constructor/object\n    clazz.classname = name;\n    if (!isStrictMode()) {\n      try {\n        clazz.name = name;\n      } catch(ex) {\n        // Nothing\n      }\n    }\n    clazz.basename = basename;\n    clazz.$$events = config.events;\n\n    // Execute defer section\n    if (config.defer) {\n      this.addPendingDefer(clazz, function() {\n        config.defer(clazz, proto);\n      });\n    }\n\n    // Store class reference in global class registry\n    if (name != null) {\n      qx.Bootstrap.$$registry[name] = clazz;\n    }\n\n    return clazz;\n  },\n  \n  /**\n   * Tests whether an object is an instance of qx.core.Object without using instanceof - this\n   * is only for certain low level instances which would otherwise cause a circular, load time \n   * dependency\n   * \n   * @param object {Object?} the object to test\n   * @return {Boolean} true if object is an instance of qx.core.Object\n   */\n  isQxCoreObject: function(object) {\n    if (object === object.constructor) {\n      return false;\n    }\n    var clz = object.constructor;\n    while (clz) {\n      if (clz.classname === \"qx.core.Object\") {\n        return true;\n      }\n      clz = clz.superclass;\n    }\n    return false;\n  }\n\n};\n\n\n/**\n * Internal class that is responsible for bootstrapping the qooxdoo\n * framework at load time.\n */\nqx.Bootstrap.define(\"qx.Bootstrap\",\n{\n  statics :\n  {\n    /** Timestamp of qooxdoo based application startup */\n    LOADSTART : qx.$$start || new Date(),\n\n    /**\n     * Mapping for early use of the qx.debug environment setting.\n     */\n     DEBUG : (function() {\n       // make sure to reflect all changes here to the environment class!\n       var debug = true;\n       if (qx.$$environment && qx.$$environment[\"qx.debug\"] === false) {\n         debug = false;\n       }\n       return debug;\n     })(),\n\n\n     /**\n      * Minimal accessor API for the environment settings given from the\n      * generator.\n      *\n      * WARNING: This method only should be used if the\n      * {@link qx.core.Environment} class is not loaded!\n      *\n      * @param key {String} The key to get the value from.\n      * @return {var} The value of the setting or <code>undefined</code>.\n      */\n     getEnvironmentSetting : function(key) {\n       if (qx.$$environment) {\n         return qx.$$environment[key];\n       }\n     },\n\n\n     /**\n      * Minimal mutator for the environment settings given from the generator.\n      * It checks for the existence of the environment settings and sets the\n      * key if its not given from the generator. If a setting is available from\n      * the generator, the setting will be ignored.\n      *\n      * WARNING: This method only should be used if the\n      * {@link qx.core.Environment} class is not loaded!\n      *\n      * @param key {String} The key of the setting.\n      * @param value {var} The value for the setting.\n      */\n     setEnvironmentSetting : function(key, value) {\n       if (!qx.$$environment) {\n         qx.$$environment = {};\n       }\n       if (qx.$$environment[key] === undefined) {\n         qx.$$environment[key] = value;\n       }\n     },\n\n\n    /**\n     * Creates a namespace and assigns the given object to it.\n     *\n     * @internal\n     * @signature function(name, object)\n     * @param name {String} The complete namespace to create. Typically, the last part is the class name itself\n     * @param object {Object} The object to attach to the namespace\n     * @return {String} last part of the namespace (which object is assigned to)\n     * @throws {Error} when the given object already exists.\n     */\n    createNamespace : qx.Bootstrap.createNamespace,\n\n\n    /**\n     * Offers the ability to change the root for creating namespaces from window to\n     * whatever object is given.\n     *\n     * @param root {Object} The root to use.\n     * @internal\n     */\n    setRoot : function(root) {\n      qx.$$namespaceRoot = root;\n    },\n\n    /**\n     * Call the same method of the super class.\n     *\n     * @signature function(args, varargs)\n     * @param args {arguments} the arguments variable of the calling method\n     * @param varargs {var} variable number of arguments passed to the overwritten function\n     * @return {var} the return value of the method of the base class.\n     */\n    base : qx.Bootstrap.base,\n\n    /**\n     * Define a new class using the qooxdoo class system.\n     * Lightweight version of {@link qx.Class#define} with less features.\n     *\n     * @signature function(name, config)\n     * @param name {String?} Name of the class. If null, the class will not be\n     *   attached to a namespace.\n     * @param config {Map ? null} Class definition structure. The configuration map has the following keys:\n     *     <table>\n     *       <tr><th>Name</th><th>Type</th><th>Description</th></tr>\n     *       <tr><th>extend</th><td>Class</td><td>The super class the current class inherits from.</td></tr>\n     *       <tr><th>construct</th><td>Function</td><td>The constructor of the class.</td></tr>\n     *       <tr><th>statics</th><td>Map</td><td>Map of static values / functions of the class.</td></tr>\n     *       <tr><th>members</th><td>Map</td><td>Map of instance members of the class.</td></tr>\n     *       <tr><th>defer</th><td>Function</td><td>Function that is called at the end of\n     *          processing the class declaration.</td></tr>\n     *     </table>\n     * @return {Class} The defined class.\n     */\n    define : qx.Bootstrap.define,\n\n\n    /**\n     * Tests whether an object is an instance of qx.core.Object without using instanceof - this\n     * is only for certain low level instances which would otherwise cause a circular, load time \n     * dependency\n     * \n     * @param object {Object?} the object to test\n     * @return {Boolean} true if object is an instance of qx.core.Object\n     */\n    isQxCoreObject: qx.Bootstrap.isQxCoreObject,\n    \n    \n    /**\n     * Sets the display name of the given function\n     *\n     * @signature function(fcn, classname, name)\n     * @param fcn {Function} the function to set the display name for\n     * @param classname {String} the name of the class the function is defined in\n     * @param name {String} the function name\n     */\n    setDisplayName : qx.Bootstrap.setDisplayName,\n\n\n    /**\n     * Set the names of all functions defined in the given map\n     *\n     * @signature function(functionMap, classname)\n     * @param functionMap {Object} a map with functions as values\n     * @param classname {String} the name of the class, the functions are\n     *   defined in\n     */\n    setDisplayNames : qx.Bootstrap.setDisplayNames,\n\n    /**\n     * This method will be attached to all classes to return\n     * a nice identifier for them.\n     *\n     * @internal\n     * @signature function()\n     * @return {String} The class identifier\n     */\n    genericToString : qx.Bootstrap.genericToString,\n\n\n    /**\n     * Inherit a clazz from a super class.\n     *\n     * This function differentiates between class and constructor because the\n     * constructor written by the user might be wrapped and the <code>base</code>\n     * property has to be attached to the constructor, while the <code>superclass</code>\n     * property has to be attached to the wrapped constructor.\n     *\n     * @param clazz {Function} The class's wrapped constructor\n     * @param construct {Function} The unwrapped constructor\n     * @param superClass {Function} The super class\n     * @param name {Function} fully qualified class name\n     * @param basename {Function} the base name\n     */\n    extendClass : function(clazz, construct, superClass, name, basename)\n    {\n      var superproto = superClass.prototype;\n\n      // Use helper function/class to save the unnecessary constructor call while\n      // setting up inheritance.\n      var helper = new Function();\n      helper.prototype = superproto;\n      var proto = new helper();\n\n      // Apply prototype to new helper instance\n      clazz.prototype = proto;\n\n      // Store names in prototype\n      proto.name = proto.classname = name;\n      proto.basename = basename;\n\n      /*\n        - Store base constructor to constructor-\n        - Store reference to extend class\n      */\n      construct.base = superClass;\n      clazz.superclass = superClass;\n\n      /*\n        - Store statics/constructor onto constructor/prototype\n        - Store correct constructor\n        - Store statics onto prototype\n      */\n      construct.self = clazz.constructor = proto.constructor = clazz;\n    },\n\n    /** Private list of classes which have a defer method that needs to be executed */\n    __pendingDefers: [],\n\n    /**\n     * Adds a callback for a class so that it's defer method can be called, either after all classes\n     * are loaded or when absolutely necessary because of load-time requirements of other classes.\n     *\n     * @param clazz {Class} Class to add a callback to\n     * @param cb {Function} Callback function\n     */\n    addPendingDefer: function(clazz, cb) {\n      if (qx.$$loader && qx.$$loader.delayDefer) {\n        this.__pendingDefers.push(clazz);\n        clazz.$$pendingDefer = cb;\n      } else {\n        cb.call(clazz);\n      }\n    },\n\n    /**\n     * Executes the defer methods for classes which are required by the dependency information in\n     * dbClassInfo (which is a map in the format generated by qxcompiler).  Defer methods are of course\n     * only executed once but they are always put off until absolutely necessary to avoid potential\n     * side effects and recursive and/or difficult to resolve dependencies.\n     *\n     * @param dbClassInfo {Object} qxcompiler map\n     */\n    executePendingDefers: function(dbClassInfo) {\n      var executeForDbClassInfo = function (dbClassInfo) {\n        if (dbClassInfo.environment) {\n          var required = dbClassInfo.environment.required;\n          if (required) {\n            for (var key in required) {\n              var info = required[key];\n              if (info.load && info.className) {\n                executeForClassName(info.className);\n              }\n            }\n          }\n        }\n        for (var key in dbClassInfo.dependsOn) {\n          var depInfo = dbClassInfo.dependsOn[key];\n          if (depInfo.require || depInfo.usage === \"dynamic\") {\n            executeForClassName(key);\n          }\n        }\n      }\n\n      var executeForClassName = function (className) {\n        var clazz = getByName(className);\n        if (!clazz) {\n          return;\n        }\n        if (clazz.$$deferComplete) {\n          return;\n        }\n        var dbClassInfo = clazz.$$dbClassInfo;\n        if (dbClassInfo) {\n          executeForDbClassInfo(dbClassInfo);\n        }\n        execute(clazz);\n      }\n\n      var execute = function (clazz) {\n        var cb = clazz.$$pendingDefer;\n        if (cb) {\n          delete clazz.$$pendingDefer;\n          clazz.$$deferComplete = true;\n          cb.call(clazz);\n        }\n      }\n\n      var getByName = function (name) {\n        var clazz = qx.Bootstrap.getByName(name);\n        if (!clazz) {\n          var splits = name.split(\".\");\n          var part = splits[0];\n          var root = qx.$$namespaceRoot && qx.$$namespaceRoot[part] ? qx.$$namespaceRoot : window;\n          var tmp = root;\n\n          for (var i = 0, len = splits.length - 1; tmp && i < len; i++, part = splits[i]) {\n            tmp = tmp[part];\n          }\n          if (tmp != root) {\n            clazz = tmp;\n          }\n        }\n        return clazz;\n      }\n\n      if (!dbClassInfo) {\n        var pendingDefers = this.__pendingDefers;\n        this.__pendingDefers = [];\n        pendingDefers.forEach(execute);\n        return;\n      }\n\n      executeForDbClassInfo(dbClassInfo);\n    },\n\n\n    /**\n     * Find a class by its name\n     *\n     * @param name {String} class name to resolve\n     * @return {Class} the class\n     */\n    getByName : function(name) {\n      return qx.Bootstrap.$$registry[name];\n    },\n\n\n    /** @type {Map} Stores all defined classes */\n    $$registry : {},\n\n\n    /*\n    ---------------------------------------------------------------------------\n      OBJECT UTILITY FUNCTIONS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Get the number of own properties in the object.\n     *\n     * @param map {Object} the map\n     * @return {Integer} number of objects in the map\n     * @lint ignoreUnused(key)\n     */\n    objectGetLength : function(map) {\n      return qx.Bootstrap.keys(map).length;\n    },\n\n\n    /**\n     * Inserts all keys of the source object into the\n     * target objects. Attention: The target map gets modified.\n     *\n     * @param target {Object} target object\n     * @param source {Object} object to be merged\n     * @param overwrite {Boolean ? true} If enabled existing keys will be overwritten\n     * @return {Object} Target with merged values from the source object\n     */\n    objectMergeWith : function(target, source, overwrite)\n    {\n      if (overwrite === undefined) {\n        overwrite = true;\n      }\n\n      for (var key in source)\n      {\n        if (overwrite || target[key] === undefined) {\n          target[key] = source[key];\n        }\n      }\n\n      return target;\n    },\n\n\n    /**\n     * IE does not return \"shadowed\" keys even if they are defined directly\n     * in the object.\n     *\n     * @internal\n     * @type {String[]}\n     */\n    __shadowedKeys :\n    [\n      \"isPrototypeOf\",\n      \"hasOwnProperty\",\n      \"toLocaleString\",\n      \"toString\",\n      \"valueOf\",\n      \"propertyIsEnumerable\",\n      \"constructor\"\n    ],\n\n\n    /**\n     * Get the keys of a map as array as returned by a \"for ... in\" statement.\n     *\n     * @signature function(map)\n     * @internal\n     * @param map {Object} the map\n     * @return {Array} array of the keys of the map\n     */\n    keys :\n    ({\n      \"ES5\" : Object.keys,\n\n      \"BROKEN_IE\" : function(map)\n      {\n        if (map === null || (typeof map !== \"object\" && typeof map !== \"function\")) {\n            throw new TypeError(\"Object.keys requires an object as argument.\");\n        }\n\n        var arr = [];\n        var hasOwnProperty = Object.prototype.hasOwnProperty;\n        for (var key in map) {\n          if (hasOwnProperty.call(map, key)) {\n            arr.push(key);\n          }\n        }\n\n        // IE does not return \"shadowed\" keys even if they are defined directly\n        // in the object. This is incompatible with the ECMA standard!!\n        // This is why this checks are needed.\n        var shadowedKeys = qx.Bootstrap.__shadowedKeys;\n        for (var i=0, a=shadowedKeys, l=a.length; i<l; i++)\n        {\n          if (hasOwnProperty.call(map, a[i])) {\n            arr.push(a[i]);\n          }\n        }\n\n        return arr;\n      },\n\n      \"default\" : function(map)\n      {\n        if (map === null || (typeof map !== \"object\" && typeof map !== \"function\")) {\n            throw new TypeError(\"Object.keys requires an object as argument.\");\n        }\n\n        var arr = [];\n\n        var hasOwnProperty = Object.prototype.hasOwnProperty;\n        for (var key in map) {\n          if (hasOwnProperty.call(map, key)) {\n            arr.push(key);\n          }\n        }\n\n        return arr;\n      }\n    })[\n      typeof(Object.keys) === \"function\" ? \"ES5\" :\n        (function() {for (var key in {toString : 1}) { return key; }})() !== \"toString\" ? \"BROKEN_IE\" : \"default\"\n    ],\n\n\n    /**\n     * Mapping from JavaScript string representation of objects to names\n     * @internal\n     * @type {Map}\n     */\n    __classToTypeMap :\n    {\n      \"[object String]\": \"String\",\n      \"[object Array]\": \"Array\",\n      \"[object Object]\": \"Object\",\n      \"[object RegExp]\": \"RegExp\",\n      \"[object Number]\": \"Number\",\n      \"[object Boolean]\": \"Boolean\",\n      \"[object Date]\": \"Date\",\n      \"[object Function]\": \"Function\",\n      \"[object AsyncFunction]\": \"Function\",\n      \"[object Error]\": \"Error\",\n      \"[object Blob]\": \"Blob\",\n      \"[object ArrayBuffer]\": \"ArrayBuffer\",\n      \"[object FormData]\": \"FormData\"\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      FUNCTION UTILITY FUNCTIONS\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Returns a function whose \"this\" is altered.\n     *\n     * *Syntax*\n     *\n     * <pre class='javascript'>qx.Bootstrap.bind(myFunction, [self, [varargs...]]);</pre>\n     *\n     * *Example*\n     *\n     * <pre class='javascript'>\n     * function myFunction()\n     * {\n     *   this.setStyle('color', 'red');\n     *   // note that 'this' here refers to myFunction, not an element\n     *   // we'll need to bind this function to the element we want to alter\n     * };\n     *\n     * var myBoundFunction = qx.Bootstrap.bind(myFunction, myElement);\n     * myBoundFunction(); // this will make the element myElement red.\n     * </pre>\n     *\n     * @param func {Function} Original function to wrap\n     * @param self {Object ? null} The object that the \"this\" of the function will refer to.\n     * @param varargs {arguments ? null} The arguments to pass to the function.\n     * @return {Function} The bound function.\n     */\n    bind : function(func, self, varargs)\n    {\n      var fixedArgs = Array.prototype.slice.call(arguments, 2, arguments.length);\n      return function() {\n        var args = Array.prototype.slice.call(arguments, 0, arguments.length);\n        return func.apply(self, fixedArgs.concat(args));\n      };\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      STRING UTILITY FUNCTIONS\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Convert the first character of the string to upper case.\n     *\n     * @param str {String} the string\n     * @return {String} the string with an upper case first character\n     */\n    firstUp : function(str) {\n      return str.charAt(0).toUpperCase() + str.substr(1);\n    },\n\n\n    /**\n     * Convert the first character of the string to lower case.\n     *\n     * @param str {String} the string\n     * @return {String} the string with a lower case first character\n     */\n    firstLow : function(str) {\n      return str.charAt(0).toLowerCase() + str.substr(1);\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TYPE UTILITY FUNCTIONS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Get the internal class of the value. See\n     * http://perfectionkills.com/instanceof-considered-harmful-or-how-to-write-a-robust-isarray/\n     * for details.\n     *\n     * @param value {var} value to get the class for\n     * @return {String} the internal class of the value\n     */\n    getClass : function(value)\n    {\n      // The typeof null and undefined is \"object\" under IE8\n      if(value === undefined) {\n        return \"Undefined\";\n      }else if(value === null) {\n        return \"Null\";\n      }\n      var classString = Object.prototype.toString.call(value);\n      return (\n        qx.Bootstrap.__classToTypeMap[classString] ||\n        classString.slice(8, -1)\n      );\n    },\n\n\n    /**\n     * Whether the value is a string.\n     *\n     * @param value {var} Value to check.\n     * @return {Boolean} Whether the value is a string.\n     */\n    isString : function(value)\n    {\n      // Added \"value !== null\" because IE throws an exception \"Object expected\"\n      // by executing \"value instanceof String\" if value is a DOM element that\n      // doesn't exist. It seems that there is an internal difference between a\n      // JavaScript null and a null returned from calling DOM.\n      // e.q. by document.getElementById(\"ReturnedNull\").\n      return (\n        value !== null && (\n        typeof value === \"string\" ||\n        qx.Bootstrap.getClass(value) === \"String\" ||\n        value instanceof String ||\n        (!!value && !!value.$$isString))\n      );\n    },\n\n\n    /**\n     * Whether the value is an array.\n     *\n     * @param value {var} Value to check.\n     * @return {Boolean} Whether the value is an array.\n     */\n    isArray : function(value)\n    {\n      // Added \"value !== null\" because IE throws an exception \"Object expected\"\n      // by executing \"value instanceof Array\" if value is a DOM element that\n      // doesn't exist. It seems that there is an internal difference between a\n      // JavaScript null and a null returned from calling DOM.\n      // e.q. by document.getElementById(\"ReturnedNull\").\n      return (\n        value !== null && (\n        value instanceof Array ||\n        (value && qx.data && qx.data.IListData && qx.util.OOUtil.hasInterface(value.constructor, qx.data.IListData) ) ||\n        qx.Bootstrap.getClass(value) === \"Array\" ||\n        (!!value && !!value.$$isArray))\n      );\n    },\n\n\n    /**\n     * Whether the value is an object. Note that built-in types like Window are\n     * not reported to be objects.\n     *\n     * @param value {var} Value to check.\n     * @return {Boolean} Whether the value is an object.\n     */\n    isObject : function(value) {\n      return (\n        value !== undefined &&\n        value !== null &&\n        qx.Bootstrap.getClass(value) === \"Object\"\n      );\n    },\n\n\n    /**\n     * Whether the value is a function.\n     *\n     * @param value {var} Value to check.\n     * @return {Boolean} Whether the value is a function.\n     */\n    isFunction : function(value) {\n      return qx.Bootstrap.getClass(value) === \"Function\";\n    },\n\n\n    /**\n     * Whether the value is a function or an async function.\n     *\n     * @param value {var} Value to check.\n     * @return {Boolean} Whether the value is a function.\n     */\n    isFunctionOrAsyncFunction : function(value) {\n      var name = qx.Bootstrap.getClass(value)\n      return ((name === \"Function\")||(name === \"AsyncFunction\"));\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      LOGGING UTILITY FUNCTIONS\n    ---------------------------------------------------------------------------\n    */\n\n    $$logs : [],\n\n\n    /**\n     * Sending a message at level \"debug\" to the logger.\n     *\n     * @param object {Object} Contextual object (either instance or static class)\n     * @param message {var} Any number of arguments supported. An argument may\n     *   have any JavaScript data type. All data is serialized immediately and\n     *   does not keep references to other objects.\n     */\n    debug : function(object, message) {\n      qx.Bootstrap.$$logs.push([\"debug\", arguments]);\n    },\n\n\n    /**\n     * Sending a message at level \"info\" to the logger.\n     *\n     * @param object {Object} Contextual object (either instance or static class)\n     * @param message {var} Any number of arguments supported. An argument may\n     *   have any JavaScript data type. All data is serialized immediately and\n     *   does not keep references to other objects.\n     */\n    info : function(object, message) {\n      qx.Bootstrap.$$logs.push([\"info\", arguments]);\n    },\n\n\n    /**\n     * Sending a message at level \"warn\" to the logger.\n     *\n     * @param object {Object} Contextual object (either instance or static class)\n     * @param message {var} Any number of arguments supported. An argument may\n     *   have any JavaScript data type. All data is serialized immediately and\n     *   does not keep references to other objects.\n     */\n    warn : function(object, message) {\n      qx.Bootstrap.$$logs.push([\"warn\", arguments]);\n    },\n\n\n    /**\n     * Sending a message at level \"error\" to the logger.\n     *\n     * @param object {Object} Contextual object (either instance or static class)\n     * @param message {var} Any number of arguments supported. An argument may\n     *   have any JavaScript data type. All data is serialized immediately and\n     *   does not keep references to other objects.\n     */\n    error : function(object, message) {\n      qx.Bootstrap.$$logs.push([\"error\", arguments]);\n    },\n\n\n    /**\n     * Prints the current stack trace at level \"info\"\n     *\n     * @param object {Object} Contextual object (either instance or static class)\n     */\n    trace : function(object) {}\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Registration for all instances of qooxdoo classes. Mainly\n * used to manage them for the final shutdown sequence and to\n * use weak references when connecting widgets to DOM nodes etc.\n *\n * @ignore(qx.dev, qx.dev.Debug.*)\n */\nqx.Bootstrap.define(\"qx.core.ObjectRegistry\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** \n     * @type {Boolean} Whether the application is in the shutdown phase\n     * @deprecated {6.0} shutdown is not a valid mechanism to terminate apps \n     * */\n    inShutDown : false,\n\n    /** @type {Map} Internal data structure to store objects */\n    __registry : {},\n\n    /** @type {Integer} Next new hash code. */\n    __nextHash : 0,\n\n    /** @type {String} Post id for hash code creation. */\n    __postId : \"\",\n\n    /** @type {Map} Object hashes to stack traces (for dispose profiling only) */\n    __stackTraces : {},\n\n    /**\n     * Registers an object into the database. This adds a hashcode\n     * to the object (if not already done before) and stores it under\n     * this hashcode. You can access this object later using the hashcode\n     * by calling {@link #fromHashCode}.\n     *\n     * All registered objects are automatically disposed on application\n     * shutdown. Each registered object must at least have a method\n     * called <code>dispose</code>.\n     *\n     * @param obj {Object} Any object with a dispose() method\n     */\n    register : function(obj)\n    {\n      var registry = this.__registry;\n      if (!registry) {\n        return;\n      }\n\n      var hash = qx.core.ObjectRegistry.toHashCode(obj);\n\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        if (!obj.dispose) {\n          throw new Error(\"Invalid object: \" + obj);\n        }\n      }\n\n      registry[hash] = obj;\n    },\n\n\n    /**\n     * Removes the given object from the database.\n     *\n     * @param obj {Object} Any previously registered object\n     */\n    unregister : function(obj)\n    {\n      var hash = obj.$$hash;\n      if (hash == null) {\n        return;\n      }\n\n      var registry = this.__registry;\n      if (registry && registry[hash])\n      {\n        delete registry[hash];\n      }\n\n      this.clearHashCode(obj);\n    },\n\n\n    /**\n     * Returns an unique identifier for the given object. If such an identifier\n     * does not yet exist, create it.\n     *\n     * @param obj {Object} the object to get the hashcode for\n     * @return {String} unique identifier for the given object\n     */\n    toHashCode : function(obj)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        if (obj == null) {\n          throw new Error(\"Invalid object: \" + obj);\n        }\n      }\n\n      var hash = obj.$$hash;\n      if (hash != null) {\n        return hash;\n      }\n\n      // Create new hash code\n      hash = this.createHashCode();\n\n      // Store\n      obj.$$hash = hash;\n\n      if (qx.core.Environment.get(\"qx.debug.dispose\")) {\n        if (qx.dev && qx.dev.Debug && qx.dev.Debug.disposeProfilingActive) {\n          this.__stackTraces[hash] = qx.dev.StackTrace.getStackTrace();\n        }\n      }\n      \n      return obj.$$hash;\n    },\n    \n    \n    /**\n     * Creates a hash code\n     * \n     * @return {String}\n     */\n    createHashCode: function() {\n      var hash = String((this.__nextHash++) + this.__postId);\n      return hash;\n    },\n\n\n    /**\n     * Clears the unique identifier on the given object.\n     *\n     * @param obj {Object} the object to clear the hashcode for\n     */\n    clearHashCode : function(obj)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (obj == null) {\n          throw new Error(\"Invalid object: \" + obj);\n        }\n      }\n\n      var hash = obj.$$hash;\n      if (hash != null)\n      {\n        // Delete the hash code\n        try\n        {\n          obj.$$discardedHashCode = hash;\n          delete obj.$$hash;\n        }\n        catch(ex)\n        {\n          // IE has trouble directly removing the hash\n          // but it's ok with using removeAttribute\n          if (obj.removeAttribute) {\n            obj.removeAttribute(\"$$hash\");\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Get an object instance by its hash code as returned by {@link #toHashCode}.\n     * If the object is already disposed or the hashCode is invalid,\n     * <code>null</code> is returned.\n     *\n     * @param hash {String} The object's hash code.\n     * @param suppressWarnings {Boolean?} if true warnings are suppressed; default is false\n     * @return {qx.core.Object} The corresponding object or <code>null</code>.\n     */\n    fromHashCode : function(hash, suppressWarnings) {\n      var obj = this.__registry[hash] || null;\n      if (!obj && !suppressWarnings) {\n        qx.log.Logger.warn(this, \"Object with hash code \"+ hash + \" does not exist (since Qooxdoo 6.0 fromHashCode requires that you explicitly register objects with qx.core.ObjectRegistry.register)\");\n      }\n      return obj;\n    },\n\n\n    /**\n     * Detects whether an object instance is indexed by its hash code as returned by {@link #toHashCode}.\n     * Unlike {@link #fromHashCode} this does not output warnings if the object does not exist\n     *\n     * @param hash {String} The object's hash code.\n     * @return {qx.core.Object} The corresponding object or <code>null</code>.\n     */\n    hasHashCode : function(hash) {\n      return !!this.__registry[hash];\n    },\n\n\n    /**\n     * Disposing all registered object and cleaning up registry. This is\n     * automatically executed at application shutdown.\n     * \n     * @deprecated {6.0} shutdown is not a valid means to clean up because destruction order\n     * is not defined and dispose()/destructors are deprecated in favour of automatic\n     * garbage collection\n     */\n    shutdown : function()\n    {\n      this.inShutDown = true;\n\n      var registry = this.__registry;\n      var hashes = [];\n\n      for (var hash in registry) {\n        hashes.push(hash);\n      }\n\n      // sort the objects! Remove the objecs created at startup\n      // as late as possible\n      hashes.sort(function(a, b) {\n        return parseInt(b, 10)-parseInt(a, 10);\n      });\n\n      var obj, i=0, l=hashes.length;\n      while(true)\n      {\n        try\n        {\n          for (; i<l; i++)\n          {\n            hash = hashes[i];\n            obj = registry[hash];\n\n            if (obj && obj.dispose) {\n              obj.dispose();\n            }\n          }\n        }\n        catch(ex)\n        {\n          qx.Bootstrap.error(this, \"Could not dispose object \" + obj.toString() + \": \" + ex, ex);\n\n          if (i !== l)\n          {\n            i++;\n            continue;\n          }\n        }\n\n        break;\n      }\n\n      qx.Bootstrap.debug(this, \"Disposed \" + l + \" objects\");\n\n      delete this.__registry;\n    },\n\n\n    /**\n     * Returns the object registry.\n     *\n     * @return {Object} The registry\n     */\n    getRegistry : function() {\n      return this.__registry;\n    },\n\n\n    /**\n     * Returns the next hash code that will be used.\n     * \n     * @return {Integer} The next hash code\n     * @internal\n     */\n    getNextHash : function() {\n      return this.__nextHash;\n    },\n\n\n    /**\n     * Returns the postfix that identifies the current iframe\n     *\n     * @return {Integer} The next hash code\n     * @internal\n     */\n    getPostId : function() {\n      return this.__postId;\n    },\n\n\n    /**\n     * Returns the map of stack traces recorded when objects are registered\n     * (for dispose profiling)\n     * @return {Map} Map: object hash codes to stack traces\n     * @internal\n     */\n    getStackTraces : function() {\n      return this.__stackTraces;\n    }\n  },\n\n  defer : function(statics)\n  {\n    if (window && window.top)\n    {\n      var frames = window.top.frames;\n      for (var i = 0; i < frames.length; i++)\n      {\n        if (frames[i] === window)\n        {\n          statics.__postId = \"-\" + (i + 1);\n          return;\n        }\n      }\n    }\n    statics.__postId = \"-0\";\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2005-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * This class is the single point to access all settings that may be different\n * in different environments. This contains e.g. the browser name, engine\n * version but also qooxdoo or application specific settings.\n *\n * Its public API can be found in its four main methods. One pair of methods\n * is used to check the synchronous values of the environment. The other pair\n * of methods is used for asynchronous checks.\n *\n * The most often used method should be {@link #get}, which returns the\n * current value for a given environment check.\n *\n * All qooxdoo settings can be changed at compile time. See the manual\n * for more details about the environment key in the config. As you can see\n * from the methods API, there is no way to override an existing key. So if you\n * need to change a qooxdoo setting, you have to use the compiler to do so.\n *\n * The compiler is also responsible for requiring the necessary implementation\n * classes for each check. When using a check of a new category, make sure to\n * rebuild you application and let the compiler include the necessary files.\n *\n * The following table shows the available checks. If you are\n * interested in more details, check the reference to the implementation of\n * each check. Please do not use those check implementations directly, as the\n * Environment class comes with a smart caching feature.\n *\n * <table border=\"0\" cellspacing=\"10\">\n *   <tbody>\n *     <tr>\n *       <td colspan=\"4\"><h2>Synchronous checks</h2>\n *       </td>\n *     </tr>\n *     <tr>\n *       <th><h3>Key</h3></th>\n *       <th><h3>Type</h3></th>\n *       <th><h3>Example</h3></th>\n *       <th><h3>Details</h3></th>\n *     </tr>\n *     <tr>\n *       <td colspan=\"4\"><b>browser</b></td>\n *     </tr>\n *     <tr>\n *       <td>browser.documentmode</td><td><i>Integer</i></td><td><code>0</code></td>\n *       <td>{@link qx.bom.client.Browser#getDocumentMode}</td>\n *     </tr>\n *     <tr>\n *       <td>browser.name</td><td><i>String</i></td><td><code> chrome </code></td>\n *       <td>{@link qx.bom.client.Browser#getName}</td>\n *     </tr>\n *     <tr>\n *       <td>browser.quirksmode</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Browser#getQuirksMode}</td>\n *     </tr>\n *     <tr>\n *       <td>browser.version</td><td><i>String</i></td><td><code>11.0</code></td>\n *       <td>{@link qx.bom.client.Browser#getVersion}</td>\n *     </tr>\n *     <tr>\n *       <td colspan=\"4\"><b>runtime</b></td>\n *     </tr>\n *     <tr>\n *       <td>runtime.name</td><td><i> String </i></td><td><code> node.js </code></td>\n *       <td>{@link qx.bom.client.Runtime#getName}</td>\n *     </tr>\n *     <tr>\n *       <td colspan=\"4\"><b>css</b></td>\n *     </tr>\n *     <tr>\n *       <td>css.borderradius</td><td><i>String</i> or <i>null</i></td><td><code>borderRadius</code></td>\n *       <td>{@link qx.bom.client.Css#getBorderRadius}</td>\n *     </tr>\n *     <tr>\n *       <td>css.borderimage</td><td><i>String</i> or <i>null</i></td><td><code>WebkitBorderImage</code></td>\n *       <td>{@link qx.bom.client.Css#getBorderImage}</td>\n *     </tr>\n *     <tr>\n *       <td>css.borderimage.standardsyntax</td><td><i>Boolean</i> or <i>null</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Css#getBorderImageSyntax}</td>\n *     </tr>\n *     <tr>\n *       <td>css.boxmodel</td><td><i>String</i></td><td><code>content</code></td>\n *       <td>{@link qx.bom.client.Css#getBoxModel}</td>\n *     </tr>\n *     <tr>\n *       <td>css.boxshadow</td><td><i>String</i> or <i>null</i></td><td><code>boxShadow</code></td>\n *       <td>{@link qx.bom.client.Css#getBoxShadow}</td>\n *     </tr>\n *     <tr>\n *       <td>css.gradient.linear</td><td><i>String</i> or <i>null</i></td><td><code>-moz-linear-gradient</code></td>\n *       <td>{@link qx.bom.client.Css#getLinearGradient}</td>\n *     </tr>\n *     <tr>\n *       <td>css.gradient.filter</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Css#getFilterGradient}</td>\n *     </tr>\n *     <tr>\n *       <td>css.gradient.radial</td><td><i>String</i> or <i>null</i></td><td><code>-moz-radial-gradient</code></td>\n *       <td>{@link qx.bom.client.Css#getRadialGradient}</td>\n *     </tr>\n *     <tr>\n *       <td>css.gradient.legacywebkit</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Css#getLegacyWebkitGradient}</td>\n *     </tr>\n *     <tr>\n *       <td>css.placeholder</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Css#getPlaceholder}</td>\n *     </tr>\n *     <tr>\n *       <td>css.textoverflow</td><td><i>String</i> or <i>null</i></td><td><code>textOverflow</code></td>\n *       <td>{@link qx.bom.client.Css#getTextOverflow}</td>\n *     </tr>\n *     <tr>\n *       <td>css.rgba</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Css#getRgba}</td>\n *     </tr>\n *     <tr>\n *       <td>css.usermodify</td><td><i>String</i> or <i>null</i></td><td><code>WebkitUserModify</code></td>\n *       <td>{@link qx.bom.client.Css#getUserModify}</td>\n *     </tr>\n *     <tr>\n *       <td>css.appearance</td><td><i>String</i> or <i>null</i></td><td><code>WebkitAppearance</code></td>\n *       <td>{@link qx.bom.client.Css#getAppearance}</td>\n *     </tr>\n *     <tr>\n *       <td>css.float</td><td><i>String</i> or <i>null</i></td><td><code>cssFloat</code></td>\n *       <td>{@link qx.bom.client.Css#getFloat}</td>\n *     </tr>\n *     <tr>\n *       <td>css.userselect</td><td><i>String</i> or <i>null</i></td><td><code>WebkitUserSelect</code></td>\n *       <td>{@link qx.bom.client.Css#getUserSelect}</td>\n *     </tr>\n *     <tr>\n *       <td>css.userselect.none</td><td><i>String</i> or <i>null</i></td><td><code>-moz-none</code></td>\n *       <td>{@link qx.bom.client.Css#getUserSelectNone}</td>\n *     </tr>\n *     <tr>\n *       <td>css.boxsizing</td><td><i>String</i> or <i>null</i></td><td><code>boxSizing</code></td>\n *       <td>{@link qx.bom.client.Css#getBoxSizing}</td>\n *     </tr>\n *     <tr>\n *       <td>css.animation</td><td><i>Object</i> or <i>null</i></td><td><code>{end-event: \"webkitAnimationEnd\", keyframes: \"@-webkit-keyframes\", play-state: null, name: \"WebkitAnimation\"}</code></td>\n *       <td>{@link qx.bom.client.CssAnimation#getSupport}</td>\n *     </tr>\n *     <tr>\n *       <td>css.animation.requestframe</td><td><i>String</i> or <i>null</i></td><td><code>mozRequestAnimationFrame</code></td>\n *       <td>{@link qx.bom.client.CssAnimation#getRequestAnimationFrame}</td>\n *     </tr>\n *     <tr>\n *       <td>css.transform</td><td><i>Object</i> or <i>null</i></td><td><code>{3d: true, origin: \"WebkitTransformOrigin\", name: \"WebkitTransform\", style: \"WebkitTransformStyle\", perspective: \"WebkitPerspective\", perspective-origin: \"WebkitPerspectiveOrigin\", backface-visibility: \"WebkitBackfaceVisibility\"}</code></td>\n *       <td>{@link qx.bom.client.CssTransform#getSupport}</td>\n *     </tr>\n *     <tr>\n *       <td>css.transform.3d</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.CssTransform#get3D}</td>\n *     </tr>\n *     <tr>\n *       <td>css.transition</td><td><i>Object</i> or <i>null</i></td><td><code>{end-event: \"webkitTransitionEnd\", name: \"WebkitTransition\"}</code></td>\n *       <td>{@link qx.bom.client.CssTransition#getSupport}</td>\n *     </tr>\n *     <tr>\n *       <td>css.inlineblock</td><td><i>String</i> or <i>null</i></td><td><code>inline-block</code></td>\n *       <td>{@link qx.bom.client.Css#getInlineBlock}</td>\n *     </tr>\n *     <tr>\n *       <td>css.opacity</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Css#getOpacity}</td>\n *     </tr>\n *     <tr>\n *       <td>css.textShadow</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Css#getTextShadow}</td>\n *     </tr>\n *     <tr>\n *       <td>css.textShadow.filter</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Css#getFilterTextShadow}</td>\n *     </tr>\n *     <tr>\n *       <td>css.alphaimageloaderneeded</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Css#getAlphaImageLoaderNeeded}</td>\n *     </tr>\n *     <tr>\n *       <td>css.pointerevents</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Css#getPointerEvents}</td>\n *     </tr>\n *     <tr>\n *       <td>css.flexboxSyntax</td><td><i>String</i> or <i>null</i></td><td><code>\"flex\"</code></td>\n *       <td>{@link qx.bom.client.Css#getFlexboxSyntax}</td>\n *     </tr>\n *     <tr>\n *       <td colspan=\"4\"><b>device</b></td>\n *     </tr>\n *     <tr>\n *       <td>device.name</td><td><i>String</i></td><td><code>pc</code></td>\n *       <td>{@link qx.bom.client.Device#getName}</td>\n *     </tr>\n *     <tr>\n *       <td>device.type</td><td><i>String</i></td><td><code>mobile</code></td>\n *       <td>{@link qx.bom.client.Device#getType}</td>\n *     </tr>\n *     <tr>\n *       <td>device.pixelRatio</td><td><i>Number</i></td><td><code>2</code></td>\n *       <td>{@link qx.bom.client.Device#getDevicePixelRatio}</td>\n *     </tr>\n *     <tr>\n *       <td>device.touch</td><td><i>String</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Device#getTouch}</td>\n *     </tr>\n *     <tr>\n *       <td colspan=\"4\"><b>ecmascript</b></td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.error.stacktrace</td><td><i>String</i> or <i>null</i></td><td><code>stack</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getStackTrace}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.mutationobserver</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getMutationObserver}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.bigint</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getBigInt}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.bigint.tolocalestring</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getBigIntToLocaleString}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.array.indexof<td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getArrayIndexOf}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.array.lastindexof<td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getArrayLastIndexOf}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.array.foreach<td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getArrayForEach}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.array.filter<td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getArrayFilter}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.array.map<td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getArrayMap}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.array.some<td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getArraySome}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.array.find<td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getArrayFind}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.array.findIndex<td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getArrayFindIndex}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.array.every<td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getArrayEvery}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.array.reduce<td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getArrayReduce}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.array.reduceright<td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getArrayReduceRight}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.function.bind<td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getFunctionBind}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.object.keys<td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getObjectKeys}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.date.now<td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getDateNow}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.date.parse<td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getDateParse}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.error.toString</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getErrorToString}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.string.trim</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getStringTrim}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.string.startsWith</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getStringStartsWith}</td>\n *     </tr>\n *     <tr>\n *       <td>ecmascript.string.endsWith</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.EcmaScript#getStringEndsWith}</td>\n *     </tr>\n *     <tr>\n *       <td colspan=\"4\"><b>engine</b></td>\n *     </tr>\n *     <tr>\n *       <td>engine.name</td><td><i>String</i></td><td><code>webkit</code></td>\n *       <td>{@link qx.bom.client.Engine#getName}</td>\n *     </tr>\n *     <tr>\n *       <td>engine.version</td><td><i>String</i></td><td><code>534.24</code></td>\n *       <td>{@link qx.bom.client.Engine#getVersion}</td>\n *     </tr>\n\n *     <tr>\n *       <td colspan=\"4\"><b>event</b></td>\n *     </tr>\n *      <tr>\n *       <td>event.mspointer</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Event#getMsPointer}</td>\n *     </tr>\n *     <tr>\n *       <td>event.touch</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Event#getTouch}</td>\n *     </tr>\n *     <tr>\n *       <td>event.help</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Event#getHelp}</td>\n *     </tr>\n *     <tr>\n *       <td>event.hashchange</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Event#getHashChange}</td>\n *     </tr>\n *     <tr>\n *       <td>event.dispatchevent</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Event#getDispatchEvent}</td>\n *     </tr>\n *     <tr>\n *       <td>event.customevent</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Event#getCustomEvent}</td>\n *     </tr>\n *     <tr>\n *       <td>event.mouseevent</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Event#getMouseEvent}</td>\n *     </tr>\n *     <tr>\n *       <td>event.mousecreateevent</td><td><i>String</i></td><td><code>UIEvents</code></td>\n *       <td>{@link qx.bom.client.Event#getMouseCreateEvent}</td>\n *     </tr>\n *     <tr>\n *       <td>event.mousewheel</td><td><i>Map</i></td><td><code>{type: \"wheel\", target: window}</code></td>\n *       <td>{@link qx.bom.client.Event#getMouseWheel}</td>\n *     </tr>\n *     <tr>\n *       <td>event.auxclick</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Event#getAuxclickEvent}</td>\n *     </tr>\n *     <tr>\n *       <td>event.passive</td><td><i>Map</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Event#getPassive}</td>\n *     </tr>\n *\n *     <tr>\n *       <td colspan=\"4\"><b>html</b></td>\n *     </tr>\n *     <tr>\n *       <td>html.audio</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getAudio}</td>\n *     </tr>\n *     <tr>\n *       <td>html.audio.mp3</td><td><i>String</i></td><td><code>\"\"</code></td>\n *       <td>{@link qx.bom.client.Html#getAudioMp3}</td>\n *     </tr>\n *     <tr>\n *       <td>html.audio.ogg</td><td><i>String</i></td><td><code>\"maybe\"</code></td>\n *       <td>{@link qx.bom.client.Html#getAudioOgg}</td>\n *     </tr>\n *     <tr>\n *       <td>html.audio.wav</td><td><i>String</i></td><td><code>\"probably\"</code></td>\n *       <td>{@link qx.bom.client.Html#getAudioWav}</td>\n *     </tr>\n *     <tr>\n *       <td>html.audio.au</td><td><i>String</i></td><td><code>\"maybe\"</code></td>\n *       <td>{@link qx.bom.client.Html#getAudioAu}</td>\n *     </tr>\n *     <tr>\n *       <td>html.audio.aif</td><td><i>String</i></td><td><code>\"probably\"</code></td>\n *       <td>{@link qx.bom.client.Html#getAudioAif}</td>\n *     </tr>\n *     <tr>\n *       <td>html.canvas</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getCanvas}</td>\n *     </tr>\n *     <tr>\n *       <td>html.classlist</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getClassList}</td>\n *     </tr>\n *     <tr>\n *       <td>html.fullscreen</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getFullScreen}</td>\n *     </tr>\n *     <tr>\n *       <td>html.geolocation</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getGeoLocation}</td>\n *     </tr>\n *     <tr>\n *       <td>html.storage.local</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getLocalStorage}</td>\n *     </tr>\n *     <tr>\n *       <td>html.storage.session</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getSessionStorage}</td>\n *     </tr>\n *     <tr>\n *       <td>html.storage.userdata</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getUserDataStorage}</td>\n *     </tr>\n *     <tr>\n *       <td>html.svg</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getSvg}</td>\n *     </tr>\n *     <tr>\n *       <td>html.video</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getVideo}</td>\n *     </tr>\n *     <tr>\n *       <td>html.video.h264</td><td><i>String</i></td><td><code>\"probably\"</code></td>\n *       <td>{@link qx.bom.client.Html#getVideoH264}</td>\n *     </tr>\n *     <tr>\n *       <td>html.video.ogg</td><td><i>String</i></td><td><code>\"\"</code></td>\n *       <td>{@link qx.bom.client.Html#getVideoOgg}</td>\n *     </tr>\n *     <tr>\n *       <td>html.video.webm</td><td><i>String</i></td><td><code>\"maybe\"</code></td>\n *       <td>{@link qx.bom.client.Html#getVideoWebm}</td>\n *     </tr>\n *     <tr>\n *       <td>html.vml</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Html#getVml}</td>\n *     </tr>\n *     <tr>\n *       <td>html.webworker</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getWebWorker}</td>\n *     <tr>\n *       <td>html.filereader</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getFileReader}</td>\n *     </tr>\n *     <tr>\n *       <td>html.xpath</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getXPath}</td>\n *     </tr>\n *     <tr>\n *       <td>html.xul</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getXul}</td>\n *     </tr>\n *     <tr>\n *       <td>html.console</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getConsole}</td>\n *     </tr>\n *     <tr>\n *       <td>html.element.contains</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getContains}</td>\n *     </tr>\n *     <tr>\n *       <td>html.element.compareDocumentPosition</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getCompareDocumentPosition}</td>\n *     </tr>\n *     <tr>\n *       <td>html.element.textContent</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getTextContent}</td>\n *     </tr>\n *     <tr>\n *       <td>html.image.naturaldimensions</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getNaturalDimensions}</td>\n *     </tr>\n *     <tr>\n *       <td>html.history.state</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getHistoryState}</td>\n *     </tr>\n *     <tr>\n *       <td>html.selection</td><td><i>String</i></td><td><code>getSelection</code></td>\n *       <td>{@link qx.bom.client.Html#getSelection}</td>\n *     </tr>\n *     <tr>\n *       <td>html.node.isequalnode</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getIsEqualNode}</td>\n *     </tr>\n *     <tr>\n *       <td colspan=\"4\"><b>XML</b></td>\n *     </tr>\n *     <tr>\n *       <td>xml.implementation</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Xml#getImplementation}</td>\n *     </tr>\n *     <tr>\n *       <td>xml.domparser</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Xml#getDomParser}</td>\n *     </tr>\n *     <tr>\n *       <td>xml.selectsinglenode</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Xml#getSelectSingleNode}</td>\n *     </tr>\n *     <tr>\n *       <td>xml.selectnodes</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Xml#getSelectNodes}</td>\n *     </tr>\n *     <tr>\n *       <td>xml.getelementsbytagnamens</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Xml#getElementsByTagNameNS}</td>\n *     </tr>\n *     <tr>\n *       <td>xml.domproperties</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Xml#getDomProperties}</td>\n *     </tr>\n *     <tr>\n *       <td>xml.attributens</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Xml#getAttributeNS}</td>\n *     </tr>\n *     <tr>\n *       <td>xml.createelementns</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Xml#getCreateElementNS}</td>\n *     </tr>\n *     <tr>\n *       <td>xml.createnode</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Xml#getCreateNode}</td>\n *     </tr>\n *     <tr>\n *       <td>xml.getqualifieditem</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Xml#getQualifiedItem}</td>\n *     </tr>\n\n *     <tr>\n *       <td colspan=\"4\"><b>Stylesheets</b></td>\n *     </tr>\n *     <tr>\n *       <td>html.stylesheet.createstylesheet</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Stylesheet#getCreateStyleSheet}</td>\n *     </tr>\n *     <tr>\n *       <td>html.stylesheet.insertrule</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Stylesheet#getInsertRule}</td>\n *     </tr>\n *     <tr>\n *       <td>html.stylesheet.deleterule</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Stylesheet#getDeleteRule}</td>\n *     </tr>\n *     <tr>\n *       <td>html.stylesheet.addimport</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Stylesheet#getAddImport}</td>\n *     </tr>\n *     <tr>\n *       <td>html.stylesheet.removeimport</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Stylesheet#getRemoveImport}</td>\n *     </tr>\n\n *     <tr>\n *       <td colspan=\"4\"><b>io</b></td>\n *     </tr>\n *     <tr>\n *       <td>io.maxrequests</td><td><i>Integer</i></td><td><code>4</code></td>\n *       <td>{@link qx.bom.client.Transport#getMaxConcurrentRequestCount}</td>\n *     </tr>\n *     <tr>\n *       <td>io.ssl</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Transport#getSsl}</td>\n *     </tr>\n *     <tr>\n *       <td>io.xhr</td><td><i>String</i></td><td><code>xhr</code></td>\n *       <td>{@link qx.bom.client.Transport#getXmlHttpRequest}</td>\n *     </tr>\n\n *     <tr>\n *       <td colspan=\"4\"><b>locale</b></td>\n *     </tr>\n *     <tr>\n *       <td>locale</td><td><i>String</i></td><td><code>de</code></td>\n *       <td>{@link qx.bom.client.Locale#getLocale}</td>\n *     </tr>\n *     <tr>\n *       <td>locale.variant</td><td><i>String</i></td><td><code>de</code></td>\n *       <td>{@link qx.bom.client.Locale#getVariant}</td>\n *     </tr>\n *     <tr>\n *       <td>locale.default</td><td><i>String</i></td><td><code>C</code></td>\n *       <td>default locale C as in good tradition of unix {@link qx.bom.client.Locale}</td>\n *     </tr>\n\n *     <tr>\n *       <td colspan=\"4\"><b>os</b></td>\n *     </tr>\n *     <tr>\n *       <td>os.name</td><td><i>String</i></td><td><code>osx</code></td>\n *       <td>{@link qx.bom.client.OperatingSystem#getName}</td>\n *     </tr>\n *     <tr>\n *       <td>os.version</td><td><i>String</i></td><td><code>10.6</code></td>\n *       <td>{@link qx.bom.client.OperatingSystem#getVersion}</td>\n *     </tr>\n *     <tr>\n *       <td>os.scrollBarOverlayed</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Scroll#scrollBarOverlayed}</td>\n *     </tr>\n\n *     <tr>\n *       <td colspan=\"4\"><b>phonegap</b></td>\n *     </tr>\n *     <tr>\n *       <td>phonegap</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.PhoneGap#getPhoneGap}</td>\n *     </tr>\n *     <tr>\n *       <td>phonegap.notification</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.PhoneGap#getNotification}</td>\n *     </tr>\n\n *     <tr>\n *       <td colspan=\"4\"><b>plugin</b></td>\n *     </tr>\n *     <tr>\n *       <td>plugin.divx</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Plugin#getDivX}</td>\n *     </tr>\n *     <tr>\n *       <td>plugin.divx.version</td><td><i>String</i></td><td></td>\n *       <td>{@link qx.bom.client.Plugin#getDivXVersion}</td>\n *     </tr>\n *     <tr>\n *       <td>plugin.flash</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Flash#isAvailable}</td>\n *     </tr>\n *     <tr>\n *       <td>plugin.flash.express</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Flash#getExpressInstall}</td>\n *     </tr>\n *     <tr>\n *       <td>plugin.flash.strictsecurity</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Flash#getStrictSecurityModel}</td>\n *     </tr>\n *     <tr>\n *       <td>plugin.flash.version</td><td><i>String</i></td><td><code>10.2.154</code></td>\n *       <td>{@link qx.bom.client.Flash#getVersion}</td>\n *     </tr>\n *     <tr>\n *       <td>plugin.gears</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Plugin#getGears}</td>\n *     </tr>\n *     <tr>\n *       <td>plugin.activex</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Plugin#getActiveX}</td>\n *     </tr>\n *     <tr>\n *       <td>plugin.skype</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Plugin#getSkype}</td>\n *     </tr>\n *     <tr>\n *       <td>plugin.pdf</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Plugin#getPdf}</td>\n *     </tr>\n *     <tr>\n *       <td>plugin.pdf.version</td><td><i>String</i></td><td></td>\n *       <td>{@link qx.bom.client.Plugin#getPdfVersion}</td>\n *     </tr>\n *     <tr>\n *       <td>plugin.quicktime</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Plugin#getQuicktime}</td>\n *     </tr>\n *     <tr>\n *       <td>plugin.quicktime.version</td><td><i>String</i></td><td><code>7.6</code></td>\n *       <td>{@link qx.bom.client.Plugin#getQuicktimeVersion}</td>\n *     </tr>\n *     <tr>\n *       <td>plugin.silverlight</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Plugin#getSilverlight}</td>\n *     </tr>\n *     <tr>\n *       <td>plugin.silverlight.version</td><td><i>String</i></td><td></td>\n *       <td>{@link qx.bom.client.Plugin#getSilverlightVersion}</td>\n *     </tr>\n *     <tr>\n *       <td>plugin.windowsmedia</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Plugin#getWindowsMedia}</td>\n *     </tr>\n *     <tr>\n *       <td>plugin.windowsmedia.version</td><td><i>String</i></td><td></td>\n *       <td>{@link qx.bom.client.Plugin#getWindowsMediaVersion}</td>\n *     </tr>\n\n *     <tr>\n *       <td colspan=\"4\"><b>qx</b></td>\n *     </tr>\n *     <tr>\n *       <td>qx.allowUrlSettings</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td><i>default:</i> <code>false</code></td>\n *     </tr>\n *     <tr>\n *       <td>qx.allowUrlVariants</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td><i>default:</i> <code>false</code></td>\n *     </tr>\n *     <tr>\n *       <td>qx.application</td><td><i>String</i></td><td><code>name.space</code></td>\n *       <td><i>default:</i> <code>&lt;&lt;application name&gt;&gt;</code></td>\n *     </tr>\n *     <tr>\n *       <td>qx.aspects</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td><i>default:</i> <code>false</code></td>\n *     </tr>\n *     <tr>\n *       <td>qx.debug</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td><i>default:</i> <code>true</code></td>\n *     </tr>\n *     <tr>\n *       <td>qx.debug.databinding</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td><i>default:</i> <code>false</code></td>\n *     </tr>\n *     <tr>\n *       <td>qx.debug.dispose</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td><i>default:</i> <code>false</code></td>\n *     </tr>\n *     <tr>\n *       <td>qx.debug.dispose.level</td><td><i>Integer</i></td><td><code>0</code></td>\n *       <td><i>default:</i> <code>0</code></td>\n *     </tr>\n *     <tr>\n *       <td>qx.debug.io</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td><i>default:</i> <code>false</code></td>\n *     </tr>\n *     <tr>\n *     <tr>\n *       <td>qx.debug.io.remote</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td><i>default:</i> <code>false</code></td>\n *     </tr>\n *     <tr>\n *     <tr>\n *       <td>qx.debug.io.remote.data</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td><i>default:</i> <code>false</code></td>\n *     </tr>\n *     <tr>\n *       <td>qx.debug.property.level</td><td><i>Integer</i></td><td><code>0</code></td>\n *       <td><i>default:</i> <code>0</code></td>\n *     </tr>\n *     <tr>\n *       <td>qx.debug.ui.queue</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td><i>default:</i> <code>true</code></td>\n *     </tr>\n *     <tr>\n *       <td>qx.dynlocale</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td><i>default:</i> <code>true</code></td>\n *     </tr>\n *     <tr>\n *       <td>qx.dyntheme</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td><i>default:</i> <code>true</code></td>\n *     </tr>\n *     <tr>\n *       <td>qx.globalErrorHandling</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td><i>default:</i> <code>true</code> {@link qx.event.GlobalError}</td>\n *     </tr>\n *     <tr>\n *       <td>qx.mobile.nativescroll</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Scroll#getNativeScroll}</td>\n *     </tr>\n *     <tr>\n *       <td>qx.promise.warnings</td><td><i>Boolean</i></td><td>same as <code>qx.debug</code></td>\n *       <td>true to enable runtime warnings in promises {@link qx.Promise}</td>\n *     </tr>\n *     <tr>\n *       <td>qx.promise.longStackTraces</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>true to enable long stack traces in promises; this has a performance penalty but makes debugging asynchronous functions easier {@link qx.Promise}</td>\n *     </tr>\n *     <tr>\n *       <td>qx.optimization.basecalls</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>true if the corresponding <i>optimize</i> key is set in the config</td>\n *     </tr>\n *     <tr>\n *       <td>qx.optimization.comments</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>true if the corresponding <i>optimize</i> key is set in the config</td>\n *     </tr>\n *     <tr>\n *       <td>qx.optimization.privates</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>true if the corresponding <i>optimize</i> key is set in the config</td>\n *     </tr>\n *     <tr>\n *       <td>qx.optimization.strings</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>true if the corresponding <i>optimize</i> key is set in the config</td>\n *     </tr>\n *     <tr>\n *       <td>qx.optimization.variables</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>true if the corresponding <i>optimize</i> key is set in the config</td>\n *     </tr>\n *     <tr>\n *       <td>qx.optimization.variants</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>true if the corresponding <i>optimize</i> key is set in the config</td>\n *     </tr>\n *     <tr>\n *       <td>qx.revision</td><td><i>String</i></td><td><code>27348</code></td>\n *     </tr>\n *     <tr>\n *       <td>qx.theme</td><td><i>String</i></td><td><code>qx.theme.Modern</code></td>\n *       <td><i>default:</i> <code>&lt;&lt;initial theme name&gt;&gt;</code></td>\n *     </tr>\n *     <tr>\n *       <td>qx.version</td><td><i>String</i></td><td><code>${qxversion}</code></td>\n *     </tr>\n *     <tr>\n *       <td>qx.blankpage</td><td><i>String</i></td><td><code>URI to blank.html page</code></td>\n *     </tr>\n\n *     <tr>\n *       <td colspan=\"4\"><b>module</b></td>\n *     </tr>\n *     <tr>\n *       <td>module.databinding</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td><i>default:</i> <code>true</code></td>\n *     </tr>\n *     <tr>\n *       <td>module.logger</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td><i>default:</i> <code>true</code></td>\n *     </tr>\n *     <tr>\n *       <td>module.property</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td><i>default:</i> <code>true</code></td>\n *     </tr>\n *     <tr>\n *       <td>module.events</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td><i>default:</i> <code>true</code></td>\n *     </tr>\n *     <tr>\n *       <td>module.objectid</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td><i>default:</i> <code>true</code></td>\n *     </tr>\n *     <tr>\n *       <td colspan=\"4\"><h3>Asynchronous checks</h3>\n *       </td>\n *     </tr>\n *     <tr>\n *       <td>html.dataurl</td><td><i>Boolean</i></td><td><code>true</code></td>\n *       <td>{@link qx.bom.client.Html#getDataUrl}</td>\n *     </tr>\n *     <tr>\n *       <td>plugin.pdfjs</td><td><i>Boolean</i></td><td><code>false</code></td>\n *       <td>{@link qx.bom.client.Pdfjs#getPdfjs}</td>\n *     </tr>\n *   </tbody>\n * </table>\n *\n */\nqx.Bootstrap.define(\"qx.core.Environment\",\n{\n  statics : {\n\n    /** Map containing the synchronous check functions. */\n    _checks : {},\n    /** Map containing the asynchronous check functions. */\n    _asyncChecks : {},\n\n    /** Internal cache for all checks. */\n    __cache : {},\n\n    /**\n     * Internal map for environment keys to check methods.\n     * Gets populated dynamically at runtime.\n     */\n    _checksMap: {},\n\n    _defaults: {\n      // an always-true key (e.g. for use in qx.core.Environment.filter() calls)\n      \"true\": true,\n      // old settings retTrue\n      \"qx.allowUrlSettings\": false,\n      \"qx.allowUrlVariants\": false,\n      \"qx.debug.property.level\": 0,\n      // old variants\n      // make sure to reflect all changes to qx.debug here in the bootstrap class!\n      \"qx.debug\": true,\n      \"qx.debug.ui.queue\": true,\n      \"qx.debug.touchpad.detection\": false,\n      \"qx.aspects\": false,\n      \"qx.dynlocale\": true,\n      \"qx.dyntheme\": true,\n      \"qx.blankpage\": \"qx/static/blank.html\",\n      \"qx.debug.databinding\": false,\n      \"qx.debug.dispose\": false,\n      // generator optimization vectors\n      \"qx.optimization.basecalls\": false,\n      \"qx.optimization.comments\": false,\n      \"qx.optimization.privates\": false,\n      \"qx.optimization.strings\": false,\n      \"qx.optimization.variables\": false,\n      \"qx.optimization.variants\": false,\n      // qooxdoo modules\n      \"module.databinding\": true,\n      \"module.logger\": true,\n      \"module.property\": true,\n      \"module.events\": true,\n      \"module.objectid\": true,\n      \"qx.nativeScrollBars\": false,\n      \"qx.automaticMemoryManagement\": true,\n      \"qx.promise\": true,\n      \"qx.promise.warnings\": true,\n      \"qx.promise.longStackTraces\": true,\n      \"qx.command.bindEnabled\": false\n    },\n\n    /**\n     * The default accessor for the checks. It returns the value the current\n     * environment has for the given key. The key could be something like\n     * \"qx.debug\", \"css.textoverflow\" or \"io.ssl\". A complete list of\n     * checks can be found in the class comment of this class.\n     *\n     * Please keep in mind that the result is cached. If you want to run the\n     * check function again in case something could have been changed, take a\n     * look at the {@link #invalidateCacheKey} function.\n     *\n     * @param key {String} The name of the check you want to query.\n     * @return {var} The stored value depending on the given key.\n     *   (Details in the class doc)\n     */\n    get : function(key) {\n      // check the cache\n      if (this.__cache[key] != undefined) {\n        return this.__cache[key];\n      }\n\n      // search for a matching check\n      var check = this._checks[key];\n      if (check) {\n        // execute the check and write the result in the cache\n        var value = check();\n        this.__cache[key] = value;\n        return value;\n      }\n\n      // try class lookup\n      var classAndMethod = this._getClassNameFromEnvKey(key);\n      if (classAndMethod[0] != undefined) {\n        var clazz = classAndMethod[0];\n        var method= classAndMethod[1];\n        var value = clazz[method]();  // call the check method\n        this.__cache[key] = value;\n        return value;\n      }\n\n      // debug flag\n      if (qx.Bootstrap.DEBUG) {\n        qx.Bootstrap.warn(\"The environment key '\" + key + \"' is undefined.\");\n        qx.Bootstrap.trace(this);\n      }\n    },\n\n\n    /**\n     * Maps an environment key to a check class and method name.\n     *\n     * @param key {String} The name of the check you want to query.\n     * @return {Array} [className, methodName] of\n     *  the corresponding implementation.\n     */\n    _getClassNameFromEnvKey : function (key) {\n\n      var envmappings = this._checksMap;\n      if (envmappings[key] != undefined) {\n        var implementation = envmappings[key];\n        // separate class from method\n        var lastdot = implementation.lastIndexOf(\".\");\n        if (lastdot > -1) {\n          var classname = implementation.slice(0,lastdot);\n          var methodname= implementation.slice(lastdot+1);\n          var clazz = qx.Bootstrap.getByName(classname);\n          if (clazz != undefined) {\n            return [clazz, methodname];\n          }\n        }\n      }\n      return [undefined, undefined];\n    },\n\n\n    /**\n     * Invokes the callback as soon as the check has been done. If no check\n     * could be found, a warning will be printed.\n     *\n     * @param key {String} The key of the asynchronous check.\n     * @param callback {Function} The function to call as soon as the check is\n     *   done. The function should have one argument which is the result of the\n     *   check.\n     * @param self {var} The context to use when invoking the callback.\n     */\n    getAsync : function(key, callback, self) {\n      // check the cache\n      var env = this;\n      if (this.__cache[key] != undefined) {\n        // force async behavior\n        window.setTimeout(function() {\n          callback.call(self, env.__cache[key]);\n        }, 0);\n        return;\n      }\n\n      var check = this._asyncChecks[key];\n      if (check) {\n        check(function(result) {\n          env.__cache[key] = result;\n          callback.call(self, result);\n        });\n        return;\n      }\n\n      // try class lookup\n      var classAndMethod = this._getClassNameFromEnvKey(key);\n      if (classAndMethod[0] != undefined) {\n        var clazz = classAndMethod[0];\n        var method= classAndMethod[1];\n        clazz[method](function(result) {  // call the check method\n          env.__cache[key] = result;\n          callback.call(self, result);\n        });\n        return;\n      }\n\n      // debug flag\n      if (qx.Bootstrap.DEBUG) {\n        qx.Bootstrap.warn(\"The environment key '\" + key + \"' is undefined.\");\n        qx.Bootstrap.trace(this);\n      }\n    },\n\n\n    /**\n     * Returns the proper value dependent on the check for the given key.\n     *\n     * @param key {String} The name of the check the select depends on.\n     * @param values {Map} A map containing the values which should be returned\n     *   in any case. The \"default\" key could be used as a catch all statement.\n     * @return {var} The value which is stored in the map for the given\n     *   check of the key.\n     */\n    select : function(key, values) {\n      return this.__pickFromValues(this.get(key), values);\n    },\n\n\n    /**\n     * Selects the proper function dependent on the asynchronous check.\n     *\n     * @param key {String} The key for the async check.\n     * @param values {Map} A map containing functions. The map keys should\n     *   contain all possibilities which could be returned by the given check\n     *   key. The \"default\" key could be used as a catch all statement.\n     *   The called function will get one parameter, the result of the query.\n     * @param self {var} The context which should be used when calling the\n     *   method in the values map.\n     */\n    selectAsync : function(key, values, self) {\n      this.getAsync(key, function(result) {\n        var value = this.__pickFromValues(key, values);\n        value.call(self, result);\n      }, this);\n    },\n\n\n    /**\n     * Internal helper which tries to pick the given key from the given values\n     * map. If that key is not found, it tries to use a key named \"default\".\n     * If there is also no default key, it prints out a warning and returns\n     * undefined.\n     *\n     * @param key {String} The key to search for in the values.\n     * @param values {Map} A map containing some keys.\n     * @return {var} The value stored as values[key] usually.\n     */\n    __pickFromValues : function(key, values) {\n      var value = values[key];\n      if (values.hasOwnProperty(key)) {\n        return value;\n      }\n\n      // check for piped values\n      for (var id in values) {\n        if (id.indexOf(\"|\") != -1) {\n          var ids = id.split(\"|\");\n          for (var i = 0; i < ids.length; i++) {\n            if (ids[i] == key) {\n              return values[id];\n            }\n          };\n        }\n      }\n\n      if (values[\"default\"] !== undefined) {\n        return values[\"default\"];\n      }\n\n      if (qx.Bootstrap.DEBUG)\n      {\n        throw new Error('No match for variant \"' + key +\n          '\" (' + (typeof key) + ' type)' +\n          ' in variants [' + qx.Bootstrap.keys(values) +\n          '] found, and no default (\"default\") given');\n      }\n    },\n\n\n    /**\n     * Takes a given map containing the check names as keys and converts\n     * the map to an array only containing the values for check evaluating\n     * to <code>true</code>. This is especially handy for conditional\n     * includes of mixins.\n     * @param map {Map} A map containing check names as keys and values.\n     * @return {Array} An array containing the values.\n     */\n    filter : function(map) {\n      var returnArray = [];\n\n      for (var check in map) {\n        if (this.get(check)) {\n          returnArray.push(map[check]);\n        }\n      }\n\n      return returnArray;\n    },\n\n\n    /**\n     * Invalidates the cache for the given key.\n     *\n     * @param key {String} The key of the check.\n     */\n    invalidateCacheKey : function(key) {\n      delete this.__cache[key];\n    },\n\n\n    /**\n     * Add a check to the environment class. If there is already a check\n     * added for the given key, the add will be ignored.\n     *\n     * @param key {String} The key for the check e.g. html.featurexyz.\n     * @param check {var} It could be either a function or a simple value.\n     *   The function should be responsible for the check and should return the\n     *   result of the check.\n     */\n    add : function(key, check) {\n      // ignore already added checks.\n      if (this._checks[key] == undefined) {\n        // add functions directly\n        if (check instanceof Function) {\n          if (!this._checksMap[key] && check.displayName) {\n            this._checksMap[key] = check.displayName.substr(0, check.displayName.length - 2);\n          }\n          this._checks[key] = check;\n        // otherwise, create a check function and use that\n        } else {\n          this._checks[key] = this.__createCheck(check);\n        }\n      }\n    },\n\n\n    /**\n     * Adds an asynchronous check to the environment. If there is already a check\n     * added for the given key, the add will be ignored.\n     *\n     * @param key {String} The key of the check e.g. html.featureabc\n     * @param check {Function} A function which should check for a specific\n     *   environment setting in an asynchronous way. The method should take two\n     *   arguments. First one is the callback and the second one is the context.\n     */\n    addAsync : function(key, check) {\n      if (this._checks[key] == undefined) {\n        this._asyncChecks[key] = check;\n      }\n    },\n\n\n    /**\n     * Returns all currently defined synchronous checks.\n     *\n     * @internal\n     * @return {Map} The map of synchronous checks\n     */\n    getChecks : function()\n    {\n      return this._checks;\n    },\n\n\n    /**\n     * Returns all currently defined asynchronous checks.\n     *\n     * @internal\n     * @return {Map} The map of asynchronous checks\n     */\n    getAsyncChecks : function()\n    {\n      return this._asyncChecks;\n    },\n\n\n    /**\n     * Initializer for the default values of the framework settings.\n     */\n    _initDefaultQxValues : function() {\n      var createFuncReturning = function(val) {\n        return function() { return val; };\n      };\n\n      for (var prop in this._defaults) {\n        this.add(prop, createFuncReturning(this._defaults[prop]));\n      }\n    },\n\n\n    /**\n     * Import checks from global qx.$$environment into the Environment class.\n     */\n    __importFromGenerator : function()\n    {\n      // import the environment map\n      if (qx && qx.$$environment)\n      {\n        for (var key in qx.$$environment) {\n          var value = qx.$$environment[key];\n\n          this._checks[key] = this.__createCheck(value);\n        }\n      }\n    },\n\n\n    /**\n     * Checks the URL for environment settings and imports these into the\n     * Environment class.\n     */\n    __importFromUrl : function() {\n      if (window.document && window.document.location) {\n        var urlChecks = window.document.location.search.slice(1).split(\"&\");\n\n        for (var i = 0; i < urlChecks.length; i++)\n        {\n          var check = urlChecks[i].split(\":\");\n          if (check.length != 3 || check[0] != \"qxenv\") {\n            continue;\n          }\n\n          var key = check[1];\n          var value = decodeURIComponent(check[2]);\n\n          // implicit type conversion\n          if (value == \"true\") {\n            value = true;\n          } else if (value == \"false\") {\n            value = false;\n          } else if (/^(\\d|\\.)+$/.test(value)) {\n            value = parseFloat(value);\n          }\n\n          this._checks[key] = this.__createCheck(value);\n        }\n      }\n    },\n\n\n    /**\n     * Internal helper which creates a function returning the given value.\n     *\n     * @param value {var} The value which should be returned.\n     * @return {Function} A function which could be used by a test.\n     */\n    __createCheck : function(value) {\n      return qx.Bootstrap.bind(function(value) {\n        return value;\n      }, null, value);\n    }\n  },\n\n\n  defer : function(statics) {\n    // create default values for the environment class\n    statics._initDefaultQxValues();\n    // load the checks from the generator\n    statics.__importFromGenerator();\n    // load the checks from the url\n    if (statics.get(\"qx.allowUrlSettings\") === true) {\n      statics.__importFromUrl();\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n/**\n * This class is responsible for the normalization of the native 'Array' object.\n * It checks if these methods are available and, if not, appends them to\n * ensure compatibility in all browsers.\n * For usage samples, check out the attached links.\n *\n * MDN documentation &copy; Mozilla Contributors.\n *\n * @group (Polyfill)\n * @use(qx.bom.client.EcmaScript)\n */\nqx.Bootstrap.define(\"qx.lang.normalize.Array\", {\n\n  statics : {\n\n    /**\n     * The <code>indexOf()</code> method returns the first index at which a given\n     * element can be found in the array, or -1 if it is not present.\n     *\n     * <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf\">MDN documentation</a> |\n     * <a href=\"http://es5.github.com/#x15.4.4.14\">Annotated ES5 Spec</a>\n     *\n     * @param searchElement {var} Element to locate in the array.\n     * @param fromIndex {Integer?} The index to start the search at.\n     * If the index is greater than or equal to the array's length,\n     * -1 is returned, which means the array will not be searched.\n     * If the provided index value is a negative number, it is taken\n     * as the offset from the end of the array. Note: if the provided\n     * index is negative, the array is still searched from front to\n     * back. If the calculated index is less than 0, then the whole\n     * array will be searched. Default: 0 (Entire array is searched)\n     * @return {Integer} The first index at which the element was found or -1\n     * if the element was not found in the array\n     */\n    indexOf : function(searchElement, fromIndex) {\n      if (fromIndex == null) {\n        fromIndex = 0;\n      } else if (fromIndex < 0) {\n        fromIndex = Math.max(0, this.length + fromIndex);\n      }\n\n      for (var i=fromIndex; i<this.length; i++) {\n        if (this[i] === searchElement) {\n          return i;\n        }\n      }\n\n      return -1;\n    },\n\n\n    /**\n     * The <code>lastIndexOf()</code> method returns the last index\n     * at which a given element can be found in the array, or -1 if\n     * it is not present. The array is searched backwards, starting at\n     * <code>fromIndex</code>.\n     *\n     * <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/lastIndexOf\">MDN documentation</a> |\n     * <a href=\"http://es5.github.com/#x15.4.4.15\">Annotated ES5 Spec</a>\n     *\n     * @param searchElement {var} Element to locate in the array.\n     * @param fromIndex {Integer?} The index at which to start\n     * searching backwards. Defaults to the array's length, i.e. the\n     * whole array will be searched. If the index is greater than or\n     * equal to the length of the array, the whole array will be\n     * searched. If negative, it is taken as the offset from the end\n     * of the array. Note that even when the index is negative, the\n     * array is still searched from back to front. If the calculated\n     * index is less than 0, -1 is returned, i.e. the array will not\n     * be searched.\n     * @return {Integer} The last index at which the element was found or -1\n     * if the element was not found in the array\n     */\n    lastIndexOf : function(searchElement, fromIndex)\n    {\n      if (fromIndex == null) {\n        fromIndex = this.length - 1;\n      } else if (fromIndex < 0) {\n        fromIndex = Math.max(0, this.length + fromIndex);\n      }\n\n      for (var i=fromIndex; i>=0; i--) {\n        if (this[i] === searchElement) {\n          return i;\n        }\n      }\n\n      return -1;\n    },\n\n\n    /**\n     * The <code>forEach()</code> method executes a provided function\n     * once per array element. You can not break the loop with this function.\n     * If you want to do so, use {@link #some} or {@link #every}.\n     *\n     * <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\">MDN documentation</a> |\n     * <a href=\"http://es5.github.com/#x15.4.4.18\">Annotated ES5 Spec</a>\n     *\n     * @param callback {Function} Function to execute for each element.\n     * @param obj {Object?} Value to use as <code>this</code> when executing <code>callback</code>.\n     */\n    forEach : function(callback, obj)\n    {\n      var l = this.length;\n      for (var i=0; i<l; i++)\n      {\n        var value = this[i];\n        if (value !== undefined)  {\n          callback.call(obj || window, value, i, this);\n        }\n      }\n    },\n\n\n    /**\n     * The <code>filter()</code> method creates a new array with\n     * all elements that pass the test implemented by the provided\n     * function.\n     *\n     * <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\">MDN documentation</a> |\n     * <a href=\"http://es5.github.com/#x15.4.4.20\">Annotated ES5 Spec</a>\n     *\n     * @param callback {Function} Function to test each element of the array.\n     * @param obj {Object?} Value to use as <code>this</code> when executing <code>callback</code>.\n     * @return {Array} filtered array\n     */\n    filter : function(callback, obj)\n    {\n      var res = [];\n\n      var l = this.length;\n      for (var i=0; i<l; i++)\n      {\n        var value = this[i];\n        if (value !== undefined)\n        {\n          if (callback.call(obj || window, value, i, this)) {\n            res.push(this[i]);\n          }\n        }\n      }\n\n      return res;\n    },\n\n    /**\n     * The <code>map()</code> method creates a new array with\n     * the results of calling a provided function on every\n     * element in this array.\n     *\n     * <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\">MDN documentation</a> |\n     * <a href=\"http://es5.github.com/#x15.4.4.19\">Annotated ES5 Spec</a>\n     *\n     * @param callback {Function} Function that produces an element of the new Array,\n     * taking three arguments:\n     * <ul>\n     *   <li><code>currentValue</code> The current element being processed in the array.</li>\n     *   <li><code>index</code> The index of the current element being processed in the array.</li>\n     *   <li><code>array</code> The array map was called upon.</li>\n     * </ul>\n     * @param obj {Object?} Value to use as <code>this</code> when executing <code>callback</code>.\n     * @return {Array} result array\n     */\n    map : function(callback, obj)\n    {\n      var res = [];\n\n      var l = this.length;\n      for (var i=0; i<l; i++)\n      {\n        var value = this[i];\n        if (value !== undefined) {\n          res[i] = callback.call(obj || window, value, i, this);\n        }\n      }\n\n      return res;\n    },\n\n    /**\n     * The <code>some()</code> method tests whether some\n     * element in the array passes the test implemented by\n     * the provided function.\n     *\n     * <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\">MDN documentation</a> |\n     * <a href=\"http://es5.github.com/#x15.4.4.17\">Annotated ES5 Spec</a>\n     *\n     * @param callback {Function} Function to test for each element.\n     * @param obj {Object?} Value to use as <code>this</code> when executing <code>callback</code>.\n     * @return {Array} result array\n     */\n    some : function(callback, obj)\n    {\n      var l = this.length;\n      for (var i=0; i<l; i++)\n      {\n        var value = this[i];\n        if (value !== undefined)\n        {\n          if (callback.call(obj || window, value, i, this)) {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * The <code>every()</code> method tests whether all elements\n     * in the array pass the test implemented by the provided function.\n     *\n     * <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every\">MDN documentation</a> |\n     * <a href=\"http://es5.github.com/#x15.4.4.16\">Annotated ES5 Spec</a>\n     *\n     * @param callback {Function} Function to test for each element.\n     * @param obj {Object?} Value to use as <code>this</code> when executing <code>callback</code>.\n     * @return {Array} result array\n     */\n    every : function(callback, obj)\n    {\n      var l = this.length;\n      for (var i=0; i<l; i++)\n      {\n        var value = this[i];\n        if (value !== undefined)\n        {\n          if (!callback.call(obj || window, value, i, this)) {\n            return false;\n          }\n        }\n      }\n\n      return true;\n    },\n    \n    /**\n     * The <code>find()</code> method returns a value in the array, if an element in the \n     * array satisfies the provided testing function. Otherwise undefined is returned.\n     *\n     * <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\">MDN documentation</a> |\n     *\n     * @param callback {Function} Function to test for each element.\n     * @param obj {Object?} Value to use as <code>this</code> when executing <code>callback</code>.\n     * @return {Object} result, undefined if not found\n     */\n    find : function(callback, obj) {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert.assertFunction(callback);\n      }\n      \n      var l = this.length;\n      for (var i = 0; i < l; i++) {\n        var value = this[i];\n        if (callback.call(obj || window, value, i, this)) {\n          return value;\n        }\n      }\n      \n      return undefined;\n    },\n\n    /**\n     * The <code>findIndex()</code> method returns an index in the array, if an element in the \n     * array satisfies the provided testing function. Otherwise -1 is returned.\n     *\n     * <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex\">MDN documentation</a> |\n     *\n     * @param callback {Function} Function to test for each element.\n     * @param obj {Object?} Value to use as <code>this</code> when executing <code>callback</code>.\n     * @return {Integer} the index in the array, -1 if not found\n     */\n    findIndex : function(callback, obj) {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert.assertFunction(callback);\n      }\n      \n      var l = this.length;\n      for (var i = 0; i < l; i++) {\n        var value = this[i];\n        if (callback.call(obj || window, value, i, this)) {\n          return i;\n        }\n      }\n      \n      return -1;\n    },\n\n    /**\n     * The <code>reduce()</code> method applies a function against\n     * an accumulator and each value of the array (from left-to-right)\n     * has to reduce it to a single value.\n     *\n     * <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\">MDN documentation</a> |\n     * <a href=\"http://es5.github.com/#x15.4.4.21\">Annotated ES5 Spec</a>\n     *\n     * @param callback {Function} Function to execute on each value in\n     * the array, taking four arguments:\n     * <ul>\n     *   <li><code>previousValue</code> The value previously returned in\n     *   the last invocation of the callback, or initialValue, if supplied.\n     *   (See below.)</li>\n     *   <li><code>currentValue</code> The current element being processed in the array.</li>\n     *   <li><code>index</code> The index of the current element being processed in the array.</li>\n     *   <li><code>array</code> The array <code>reduce</code> was called upon.</li>\n     * </ul>\n     * @param init {Object?} Object to use as the first argument to the first call of the callback.\n     * @return {var} result value\n     */\n    reduce : function(callback, init) {\n      if(typeof callback !== \"function\") {\n        throw new TypeError(\"First argument is not callable\");\n      }\n\n      if (init === undefined && this.length === 0) {\n        throw new TypeError(\"Length is 0 and no second argument given\");\n      }\n\n      var ret = init === undefined ? this[0] : init;\n      for (var i = init === undefined ? 1 : 0; i < this.length; i++) {\n        if (i in this) {\n          ret = callback.call(undefined, ret, this[i], i, this);\n        }\n      }\n\n      return ret;\n    },\n\n    /**\n     * The reduceRight() method applies a function against an\n     * accumulator and each value of the array (from right-to-left)\n     * as to reduce it to a single value.\n     *\n     * <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduceRight\">MDN documentation</a> |\n     * <a href=\"http://es5.github.com/#x15.4.4.22\">Annotated ES5 Spec</a>\n     *\n     * @param callback {Function} Function to execute on each value in\n     * the array, taking four arguments:\n     * <ul>\n     *   <li><code>previousValue</code> The value previously returned in\n     *   the last invocation of the callback, or initialValue, if supplied.\n     *   (See below.)</li>\n     *   <li><code>currentValue</code> The current element being processed in the array.</li>\n     *   <li><code>index</code> The index of the current element being processed in the array.</li>\n     *   <li><code>array</code> The array <code>reduce</code> was called upon.</li>\n     * </ul>\n     * @param init {Object?} Object to use as the first argument to the first call of the callback.\n     * @return {var} return value\n     */\n    reduceRight : function(callback, init) {\n      if (typeof callback !== \"function\") {\n        throw new TypeError(\"First argument is not callable\");\n      }\n\n      if (init === undefined && this.length === 0) {\n        throw new TypeError(\"Length is 0 and no second argument given\");\n      }\n\n      var ret = init === undefined ? this[this.length - 1] : init;\n      for (var i = init === undefined ? this.length - 2 : this.length - 1; i >= 0; i--) {\n        if (i in this) {\n          ret = callback.call(undefined, ret, this[i], i, this);\n        }\n      }\n\n      return ret;\n    },\n\n    /**\n     * The includes() method determines whether an array includes a certain element, returning\n     * true or false as appropriate.\n     *\n     * <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes\">MDN documentation</a> |\n     *\n     * @param searchElement {var} Element which is checked for.\n     * @param fromIndex {Number} Index to start search from\n     * @return {bool} true if element is included\n     */\n    includes : function(searchElement, fromIndex)\n    {\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      }\n\n      // 1. Let O be ? ToObject(this value).\n      var o = Object(this);\n\n      // 2. Let len be ? ToLength(? Get(O, \"length\")).\n      var len = o.length >>> 0;\n\n      // 3. If len is 0, return false.\n      if (len === 0) {\n        return false;\n      }\n\n      // 4. Let n be ? ToInteger(fromIndex).\n      //    (If fromIndex is undefined, this step produces the value 0.)\n      var n = fromIndex | 0;\n\n      // 5. If n ≥ 0, then\n      //  a. Let k be n.\n      // 6. Else n < 0,\n      //  a. Let k be len + n.\n      //  b. If k < 0, let k be 0.\n      var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n\n      function sameValueZero(x, y) {\n        return x === y || (typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y));\n      }\n\n      // 7. Repeat, while k < len\n      while (k < len) {\n        // a. Let elementK be the result of ? Get(O, ! ToString(k)).\n        // b. If SameValueZero(searchElement, elementK) is true, return true.\n        if (sameValueZero(o[k], searchElement)) {\n          return true;\n        }\n        // c. Increase k by 1. \n        k++;\n      }\n\n      // 8. Return false\n      return false;\n    }\n  },\n\n  /**\n   * @lint environmentNonLiteralKey()\n   */\n  defer : function(statics) {\n    var install = function(key, name) {\n      if (!qx.core.Environment.get(key)) {\n        Object.defineProperty(Array.prototype, name, {\n          enumerable: false,\n          value: statics[name]\n        });\n      }\n    };\n    \n    install(\"ecmascript.array.indexof\", \"indexOf\");\n    install(\"ecmascript.array.lastindexof\", \"lastIndexOf\");\n    install(\"ecmascript.array.foreach\", \"forEach\");\n    install(\"ecmascript.array.filter\", \"filter\");\n    install(\"ecmascript.array.map\", \"map\");\n    install(\"ecmascript.array.some\", \"some\");\n    install(\"ecmascript.array.find\", \"find\");\n    install(\"ecmascript.array.findIndex\", \"findIndex\");\n    install(\"ecmascript.array.every\", \"every\");\n    install(\"ecmascript.array.reduce\", \"reduce\");\n    install(\"ecmascript.array.reduceright\", \"reduceRight\");\n    install(\"ecmascript.array.includes\", \"includes\");\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * The main purpose of this class to hold all checks about ECMAScript.\n *\n * This class is used by {@link qx.core.Environment} and should not be used\n * directly. Please check its class comment for details how to use it.\n *\n * @internal\n */\nqx.Bootstrap.define(\"qx.bom.client.EcmaScript\",\n{\n  statics :\n  {\n    /**\n     * Returns the name of the Error object property that holds stack trace\n     * information or null if the client does not provide any.\n     *\n     * @internal\n     * @return {String|null} <code>stack</code>, <code>stacktrace</code> or\n     * <code>null</code>\n     */\n    getStackTrace : function()\n    {\n      var propName;\n      var e = new Error(\"e\");\n      propName = e.stack ? \"stack\" : e.stacktrace ? \"stacktrace\" : null;\n\n      // only thrown errors have the stack property in IE10 and PhantomJS\n      if (!propName) {\n        try {\n          throw e;\n        } catch(ex) {\n          e = ex;\n        }\n      }\n\n      return e.stacktrace ? \"stacktrace\" : e.stack ? \"stack\" : null;\n    },\n\n\n    /**\n     * Checks if 'MutationObserver' is supported.\n     * @internal\n     * @ignore(MutationObserver)\n     * @return {Boolean} <code>true</code>, if MutationObserver is available.\n     */\n    getMutationObserver : function() {\n      return typeof MutationObserver != \"undefined\";\n    },\n\n\n    /**\n     * Checks if 'indexOf' is supported on the Array object.\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method is available.\n     */\n    getArrayIndexOf : function() {\n      return !!Array.prototype.indexOf;\n    },\n\n\n    /**\n     * Checks if 'lastIndexOf' is supported on the Array object.\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method is available.\n     */\n    getArrayLastIndexOf : function() {\n      return !!Array.prototype.lastIndexOf;\n    },\n\n\n    /**\n     * Checks if 'forEach' is supported on the Array object.\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method is available.\n     */\n    getArrayForEach : function() {\n      return !!Array.prototype.forEach;\n    },\n\n\n    /**\n     * Checks if 'filter' is supported on the Array object.\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method is available.\n     */\n    getArrayFilter : function() {\n      return !!Array.prototype.filter;\n    },\n\n\n    /**\n     * Checks if 'map' is supported on the Array object.\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method is available.\n     */\n    getArrayMap : function() {\n      return !!Array.prototype.map;\n    },\n\n\n    /**\n     * Checks if 'some' is supported on the Array object.\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method is available.\n     */\n    getArraySome : function() {\n      return !!Array.prototype.some;\n    },\n\n\n    /**\n     * Checks if 'find' is supported on the Array object.\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method is available.\n     */\n    getArrayFind : function() {\n      return !!Array.prototype.find;\n    },\n\n\n    /**\n     * Checks if 'findIndex' is supported on the Array object.\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method is available.\n     */\n    getArrayFindIndex : function() {\n      return !!Array.prototype.findIndex;\n    },\n\n\n    /**\n     * Checks if 'every' is supported on the Array object.\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method is available.\n     */\n    getArrayEvery : function() {\n      return !!Array.prototype.every;\n    },\n\n\n    /**\n     * Checks if 'reduce' is supported on the Array object.\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method is available.\n     */\n    getArrayReduce : function() {\n      return !!Array.prototype.reduce;\n    },\n\n\n    /**\n     * Checks if 'reduceRight' is supported on the Array object.\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method is available.\n     */\n    getArrayReduceRight : function() {\n      return !!Array.prototype.reduceRight;\n    },\n\n\n    /**\n     * Checks if 'includes' is supported on the Array object.\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method is available.\n     */\n    getArrayIncludes : function() {\n      return !!Array.prototype.includes;\n    },\n\n\n    /**\n     * Checks if 'toString' is supported on the Error object and\n     * its working as expected.\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method is available.\n     */\n    getErrorToString : function() {\n      return typeof Error.prototype.toString == \"function\" &&\n        Error.prototype.toString() !== \"[object Error]\";\n    },\n\n\n    /**\n     * Checks if 'bind' is supported on the Function object.\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method is available.\n     */\n    getFunctionBind : function() {\n      return typeof Function.prototype.bind === \"function\";\n    },\n\n    /**\n     * Checks if creating async functions are supported\n     *\n     * @lint ignoreDeprecated(alert, eval)\n     *\n     * @internal\n     * @return {Boolean} <code>true</code>, if async functions are supported\n     */\n    getAsyncFunction : function() {\n      var f;\n      try { eval(\"f = async function(){};\") } catch(e) { return false; };\n      return qx.Bootstrap.getClass(f) === \"AsyncFunction\";\n    },\n\n    /**\n     * Checks if 'keys' is supported on the Object object.\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method is available.\n     */\n    getObjectKeys : function() {\n      return !!Object.keys;\n    },\n\n    /**\n     * Checks if 'values' is supported on the Object object.\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method is available.\n     */\n    getObjectValues : function() {\n      return !!Object.values;\n    },\n\n    /**\n     * Checks if 'is' is supported on the Object object.\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method is available.\n     */\n    getObjectIs : function() {\n      return !!Object.is;\n    },\n\n    /**\n     * Checks if 'now' is supported on the Date object.\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method is available.\n     */\n    getDateNow : function() {\n      return !!Date.now;\n    },\n\n\n    /**\n     * Checks if 'parse' is supported on the Date object and whether it\n     * supports ISO-8601 parsing. Additionally it checks if 'parse' takes\n     * ISO-8601 date strings without timezone specifier and treats them as\n     * local (as per specification)\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method supports ISO-8601\n     *   dates.\n     */\n    getDateParse : function ()\n    {\n      return typeof Date.parse === \"function\"     // Date.parse() is present...\n         && (Date.parse(\"2001-02-03T04:05:06.007\") != // ...and it treats local\n             Date.parse(\"2001-02-03T04:05:06.007Z\")); // dates as expected\n    },\n\n\n    /**\n     * Checks if 'startsWith' is supported on the String object.\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method is available.\n     */\n    getStringStartsWith : function() {\n      return typeof String.prototype.startsWith === \"function\";\n    },\n\n\n    /**\n     * Checks if 'endsWith' is supported on the String object.\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method is available.\n     */\n    getStringEndsWith : function() {\n      return typeof String.prototype.endsWith === \"function\";\n    },\n\n\n    /**\n     * Checks if 'trim' is supported on the String object.\n     * @internal\n     * @return {Boolean} <code>true</code>, if the method is available.\n     */\n    getStringTrim : function() {\n      return typeof String.prototype.trim === \"function\";\n    },\n\n\n    /**\n     * Checks if 'BigInt' type is supported.\n     * @internal\n     * @ignore(BigInt)\n     * @return {Boolean} <code>true</code>, if BigInt is available.\n     */\n    getBigInt : function() {\n      return typeof BigInt !== \"undefined\";\n    },\n\n\n    /**\n     * Checks if 'toLocaleString' is supported on the BigInt object and whether\n     * it actually works\n     * @internal\n     * @ignore(BigInt)\n     * @ignore(BigInt.prototype.toLocaleString)\n     * @return {Boolean} <code>true</code>, if the method is supported and\n     *   works at least rudimentary.\n     */\n    getBigIntToLocaleString : function()\n    {\n      return typeof BigInt !== \"undefined\"                         // BigInt type supported...\n          && typeof BigInt.prototype.toLocaleString === \"function\"// ...method is present...\n          && (BigInt(1234).toLocaleString(\"de-DE\") === \"1,234\"); // ...and works as expected\n    },\n\n\n    /**\n     * Checks whether Native promises are available\n     */\n    getPromiseNative: function() {\n      return typeof window.Promise !== \"undefined\" && window.Promise.toString().indexOf(\"[native code]\") !== -1;\n    },\n\n    /**\n     * Checks whether Native promises are available\n     */\n    getEpsilon: function() {\n      return typeof Number.prototype.EPSILON !== \"undefined\";\n    }\n  },\n\n\n  defer : function(statics) {\n    // array polyfill\n    qx.core.Environment.add(\"ecmascript.array.indexof\", statics.getArrayIndexOf);\n    qx.core.Environment.add(\"ecmascript.array.lastindexof\", statics.getArrayLastIndexOf);\n    qx.core.Environment.add(\"ecmascript.array.foreach\", statics.getArrayForEach);\n    qx.core.Environment.add(\"ecmascript.array.filter\", statics.getArrayFilter);\n    qx.core.Environment.add(\"ecmascript.array.map\", statics.getArrayMap);\n    qx.core.Environment.add(\"ecmascript.array.some\", statics.getArraySome);\n    qx.core.Environment.add(\"ecmascript.array.find\", statics.getArrayFind);\n    qx.core.Environment.add(\"ecmascript.array.findIndex\", statics.getArrayFindIndex);\n    qx.core.Environment.add(\"ecmascript.array.every\", statics.getArrayEvery);\n    qx.core.Environment.add(\"ecmascript.array.reduce\", statics.getArrayReduce);\n    qx.core.Environment.add(\"ecmascript.array.reduceright\", statics.getArrayReduceRight);\n    qx.core.Environment.add(\"ecmascript.array.includes\", statics.getArrayIncludes);\n\n    // date polyfill\n    qx.core.Environment.add(\"ecmascript.date.now\", statics.getDateNow);\n    qx.core.Environment.add(\"ecmascript.date.parse\", statics.getDateParse);\n\n    // error bugfix\n    qx.core.Environment.add(\"ecmascript.error.toString\", statics.getErrorToString);\n    qx.core.Environment.add(\"ecmascript.error.stacktrace\", statics.getStackTrace);\n\n    // function polyfill\n    qx.core.Environment.add(\"ecmascript.function.bind\", statics.getFunctionBind);\n\n    // object polyfill\n    qx.core.Environment.add(\"ecmascript.object.keys\", statics.getObjectKeys);\n    qx.core.Environment.add(\"ecmascript.object.values\", statics.getObjectValues);\n    qx.core.Environment.add(\"ecmascript.object.is\", statics.getObjectIs);\n\n    // number polyfill\n    qx.core.Environment.add(\"ecmascript.number.EPSILON\", statics.getEpsilon);\n\n    // string polyfill\n    qx.core.Environment.add(\"ecmascript.string.startsWith\", statics.getStringStartsWith);\n    qx.core.Environment.add(\"ecmascript.string.endsWith\", statics.getStringEndsWith);\n    qx.core.Environment.add(\"ecmascript.string.trim\", statics.getStringTrim);\n\n    // ES7 async function support\n    qx.core.Environment.add(\"ecmascript.function.async\", statics.getAsyncFunction);\n\n    // MutationObserver\n    qx.core.Environment.add(\"ecmascript.mutationobserver\", statics.getMutationObserver);\n\n    // BigInt\n    qx.core.Environment.add(\"ecmascript.bigint\", statics.getBigInt);\n    qx.core.Environment.add(\"ecmascript.bigint.tolocalestring\", statics.getBigIntToLocaleString);\n\n    // Promises\n    qx.core.Environment.add(\"ecmascript.promise.native\", statics.getPromiseNative);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * This class is used to define interfaces (similar to Java interfaces).\n *\n * See the description of the {@link #define} method how an interface is\n * defined.\n *\n * @require(qx.lang.normalize.Array)\n */\nqx.Bootstrap.define(\"qx.Interface\",\n{\n  statics :\n  {\n    /*\n    ---------------------------------------------------------------------------\n       PUBLIC API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Define a new interface. Interface definitions look much like class definitions.\n     *\n     * The main difference is that the bodies of functions defined in <code>members</code>\n     * and <code>statics</code> are called before the original function with the\n     * same arguments. This can be used to check the passed arguments. If the\n     * checks fail, an exception should be thrown. It is convenient to use the\n     * method defined in {@link qx.core.MAssert} to check the arguments.\n     *\n     * In the <code>build</code> version the checks are omitted.\n     *\n     * For properties only the names are required so the value of the properties\n     * can be empty maps.\n     *\n     * Example:\n     * <pre class='javascript'>\n     * qx.Interface.define(\"name\",\n     * {\n     *   extend: [SuperInterfaces],\n     *\n     *   statics:\n     *   {\n     *     PI : 3.14\n     *   },\n     *\n     *   properties: {\"color\": {}, \"name\": {} },\n     *\n     *   members:\n     *   {\n     *     meth1: function() {},\n     *     meth2: function(a, b) { this.assertArgumentsCount(arguments, 2, 2); },\n     *     meth3: function(c) { this.assertInterface(c.constructor, qx.some.Interface); }\n     *   },\n     *\n     *   events :\n     *   {\n     *     keydown : \"qx.event.type.KeySequence\"\n     *   }\n     * });\n     * </pre>\n     *\n     * @param name {String} name of the interface\n     * @param config {Map ? null} Interface definition structure. The configuration map has the following keys:\n     *   <table>\n     *     <tr><th>Name</th><th>Type</th><th>Description</th></tr>\n     *     <tr><th>extend</th><td>Interface |<br>Interface[]</td><td>Single interface or array of interfaces this interface inherits from.</td></tr>\n     *     <tr><th>members</th><td>Map</td><td>Map of members of the interface.</td></tr>\n     *     <tr><th>statics</th><td>Map</td><td>\n     *         Map of statics of the interface. The statics will not get copied into the target class.\n     *         This is the same behaviour as statics in mixins ({@link qx.Mixin#define}).\n     *     </td></tr>\n     *     <tr><th>properties</th><td>Map</td><td>Map of properties and their definitions.</td></tr>\n     *     <tr><th>events</th><td>Map</td><td>Map of event names and the corresponding event class name.</td></tr>\n     *   </table>\n     *\n     * @return {qx.Interface} The configured interface\n     */\n    define : function(name, config)\n    {\n      if (config)\n      {\n        // Normalize include\n        if (config.extend && !(qx.Bootstrap.getClass(config.extend) === \"Array\")) {\n          config.extend = [config.extend];\n        }\n\n        // Validate incoming data\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          this.__validateConfig(name, config);\n        }\n\n        // Create interface from statics\n        var iface = config.statics ? config.statics : {};\n\n        // Attach configuration\n        if (config.extend) {\n          iface.$$extends = config.extend;\n        }\n\n        if (config.properties) {\n          iface.$$properties = config.properties;\n        }\n\n        if (config.members) {\n          iface.$$members = config.members;\n        }\n\n        if (config.events) {\n          iface.$$events = config.events;\n        }\n      }\n      else\n      {\n        // Create empty interface\n        var iface = {};\n      }\n\n      // Add Basics\n      iface.$$type = \"Interface\";\n      iface.name = name;\n\n      // Attach toString\n      iface.toString = this.genericToString;\n\n      // Assign to namespace\n      iface.basename = qx.Bootstrap.createNamespace(name, iface);\n\n      // Add to registry\n      qx.Interface.$$registry[name] = iface;\n\n      // Return final interface\n      return iface;\n    },\n\n\n    /**\n     * Returns an interface by name\n     *\n     * @param name {String} class name to resolve\n     * @return {Class} the class\n     */\n    getByName : function(name) {\n      return this.$$registry[name];\n    },\n\n\n    /**\n     * Determine if interface exists\n     *\n     * @param name {String} Interface name to check\n     * @return {Boolean} true if interface exists\n     */\n    isDefined : function(name) {\n      return this.getByName(name) !== undefined;\n    },\n\n\n    /**\n     * Determine the number of interfaces which are defined\n     *\n     * @return {Number} the number of interfaces\n     */\n    getTotalNumber : function() {\n      return qx.Bootstrap.objectGetLength(this.$$registry);\n    },\n\n\n    /**\n     * Generates a list of all interfaces including their super interfaces\n     * (resolved recursively)\n     *\n     * @param ifaces {Interface[] ? []} List of interfaces to be resolved\n     * @return {Array} List of all interfaces\n     */\n    flatten : function(ifaces)\n    {\n      if (!ifaces) {\n        return [];\n      }\n\n      // we need to create a copy and not to modify the existing array\n      var list = ifaces.concat();\n\n      for (var i=0, l=ifaces.length; i<l; i++)\n      {\n        if (ifaces[i].$$extends) {\n          list.push.apply(list, this.flatten(ifaces[i].$$extends));\n        }\n      }\n\n      return list;\n    },\n\n\n    /**\n     * Assert members\n     *\n     * @param object {qx.core.Object} The object, which contains the methods\n     * @param clazz {Class} class of the object\n     * @param iface {Interface} the interface to verify\n     * @param wrap {Boolean ? false} wrap functions required by interface to\n     *     check parameters etc.\n     * @param shouldThrow {Boolean} if <code>false</code>, the method\n     *   will return a boolean instead of throwing an exception\n     * @return {Boolean} <code>true</code> if all members are supported\n     */\n    __checkMembers : function(object, clazz, iface, wrap, shouldThrow)\n    {\n      // Validate members\n      var members = iface.$$members;\n      if (members) {\n        for (var key in members) {\n          if (qx.Bootstrap.isFunction(members[key])) {\n            var isPropertyMethod = this.__isPropertyMethod(clazz, key);\n            var hasMemberFunction = isPropertyMethod || qx.Bootstrap.isFunction(object[key]);\n\n            if (!hasMemberFunction) {\n              if (shouldThrow) {\n                throw new Error(\n                    'Implementation of method \"' + key +\n                    '\" is missing in class \"' + clazz.classname +\n                    '\" required by interface \"' + iface.name + '\"'\n                );\n              } else {\n                return false;\n              }\n            }\n\n            // Only wrap members if the interface was not been applied yet. This\n            // can easily be checked by the recursive hasInterface method.\n            var shouldWrapFunction =\n              wrap === true &&\n              !isPropertyMethod &&\n              !qx.util.OOUtil.hasInterface(clazz, iface);\n\n            if (shouldWrapFunction) {\n              object[key] = this.__wrapInterfaceMember(\n                iface, object[key], key, members[key]\n              );\n            }\n          } else {\n            // Other members are not checked more detailed because of\n            // JavaScript's loose type handling\n            if (typeof object[key] === undefined) {\n              if (typeof object[key] !== \"function\") {\n                if (shouldThrow) {\n                  throw new Error(\n                    'Implementation of member \"' + key +\n                    '\" is missing in class \"' + clazz.classname +\n                    '\" required by interface \"' + iface.name + '\"'\n                  );\n                } else {\n                  return false;\n                }\n              }\n            }\n          }\n        }\n      }\n      if (!shouldThrow) {\n        return true;\n      }\n    },\n\n\n    /**\n     * Internal helper to detect if the method will be generated by the\n     * property system.\n     *\n     * @param clazz {Class} The current class.\n     * @param methodName {String} The name of the method.\n     *\n     * @return {Boolean} true, if the method will be generated by the property\n     *   system.\n     */\n    __isPropertyMethod: function(clazz, methodName)\n    {\n      var match = methodName.match(/^(is|toggle|get|set|reset)(.*)$/);\n\n      if (!match) {\n        return false;\n      }\n\n      var propertyName = qx.Bootstrap.firstLow(match[2]);\n      var isPropertyMethod = qx.util.OOUtil.getPropertyDefinition(clazz, propertyName);\n      if (!isPropertyMethod) {\n        return false;\n      }\n\n      var isBoolean = match[0] === \"is\" || match[0] === \"toggle\";\n      if (isBoolean) {\n        return qx.util.OOUtil.getPropertyDefinition(clazz, propertyName).check === \"Boolean\";\n      }\n\n      return true;\n    },\n\n\n    /**\n     * Assert properties\n     *\n     * @param clazz {Class} class to check interface for\n     * @param iface {Interface} the interface to verify\n     * @param shouldThrow {Boolean} if <code>false</code>, the method\n     *   will return a boolean instead of throwing an exception\n     * @return {Boolean} <code>true</code> if all properties are supported\n     */\n    __checkProperties : function(clazz, iface, shouldThrow)\n    {\n      if (iface.$$properties) {\n        for (var key in iface.$$properties) {\n          if (!qx.util.OOUtil.getPropertyDefinition(clazz, key)) {\n            if (shouldThrow) {\n              throw new Error(\n                'The property \"' + key + '\" is not supported by Class \"' +\n                clazz.classname + '\"!'\n              );\n            } else {\n              return false;\n            }\n          }\n        }\n      }\n      if (!shouldThrow) {\n        return true;\n      }\n    },\n\n\n    /**\n     * Assert events\n     *\n     * @param clazz {Class} class to check interface for\n     * @param iface {Interface} the interface to verify\n     * @param shouldThrow {Boolean} if <code>false</code>, the method\n     *   will return a boolean instead of throwing an exception\n     * @return {Boolean} <code>true</code> if all events are supported\n     */\n    __checkEvents : function(clazz, iface, shouldThrow)\n    {\n      if (iface.$$events) {\n        for (var key in iface.$$events) {\n          if (!qx.util.OOUtil.supportsEvent(clazz, key)) {\n            if (shouldThrow) {\n              throw new Error(\n                'The event \"' + key + '\" is not supported by Class \"' +\n                clazz.classname + '\"!'\n              );\n            } else {\n              return false;\n            }\n          }\n        }\n      }\n      if (!shouldThrow) {\n        return true;\n      }\n    },\n\n\n    /**\n     * Asserts that the given object implements all the methods defined in the\n     * interface. This method throws an exception if the object does not\n     * implement the interface.\n     *\n     *  @param object {qx.core.Object} Object to check interface for\n     *  @param iface {Interface} The interface to verify\n     */\n    assertObject : function(object, iface)\n    {\n      var clazz = object.constructor;\n      this.__checkMembers(object, clazz, iface, false, true);\n      this.__checkProperties(clazz, iface, true);\n      this.__checkEvents(clazz, iface, true);\n\n      // Validate extends, recursive\n      var extend = iface.$$extends;\n      if (extend)\n      {\n        for (var i=0, l=extend.length; i<l; i++) {\n          this.assertObject(object, extend[i]);\n        }\n      }\n    },\n\n\n    /**\n     * Checks if an interface is implemented by a class\n     *\n     * @param clazz {Class} class to check interface for\n     * @param iface {Interface} the interface to verify\n     * @param wrap {Boolean ? false} wrap functions required by interface to\n     *     check parameters etc.\n     */\n    assert : function(clazz, iface, wrap)\n    {\n      this.__checkMembers(clazz.prototype, clazz, iface, wrap, true);\n      this.__checkProperties(clazz, iface, true);\n      this.__checkEvents(clazz, iface, true);\n\n      // Validate extends, recursive\n      var extend = iface.$$extends;\n      if (extend)\n      {\n        for (var i=0, l=extend.length; i<l; i++) {\n          this.assert(clazz, extend[i], wrap);\n        }\n      }\n    },\n\n\n    /**\n     * Asserts that the given object implements all the methods defined in the\n     * interface.\n     *\n     *  @param object {qx.core.Object} Object to check interface for\n     *  @param iface {Interface} The interface to verify\n     * @return {Boolean} <code>true</code> if the objects implements the interface\n     */\n    objectImplements : function(object, iface) {\n      var clazz = object.constructor;\n      if (!this.__checkMembers(object, clazz, iface) ||\n        !this.__checkProperties(clazz, iface) ||\n        !this.__checkEvents(clazz, iface))\n      {\n        return false;\n      }\n\n      // Validate extends, recursive\n      var extend = iface.$$extends;\n      if (extend)\n      {\n        for (var i=0, l=extend.length; i<l; i++) {\n          if (!this.objectImplements(object, extend[i])) {\n            return false;\n          }\n        }\n      }\n\n      return true;\n    },\n\n\n    /**\n     * Tests whether an interface is implemented by a class, without throwing an\n     * exception when it doesn't.\n     *\n     * @param clazz {Class} class to check interface for\n     * @param iface {Interface} the interface to verify\n     * @return {Boolean} <code>true</code> if interface is implemented\n     */\n    classImplements : function(clazz, iface) {\n      if (!this.__checkMembers(clazz.prototype, clazz, iface) ||\n        !this.__checkProperties(clazz, iface) ||\n        !this.__checkEvents(clazz, iface))\n      {\n        return false;\n      }\n\n      // Validate extends, recursive\n      var extend = iface.$$extends;\n      if (extend) {\n        for (var i=0, l=extend.length; i<l; i++) {\n          if (!this.has(clazz, extend[i])) {\n            return false;\n          }\n        }\n      }\n\n      return true;\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n       PRIVATE/INTERNAL API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * This method will be attached to all interface to return\n     * a nice identifier for them.\n     *\n     * @internal\n     * @return {String} The interface identifier\n     */\n    genericToString : function() {\n      return \"[Interface \" + this.name + \"]\";\n    },\n\n\n    /** Registry of all defined interfaces */\n    $$registry : {},\n\n\n    /**\n     * Wrap a method with a precondition check.\n     *\n     * @signature function(iface, origFunction, functionName, preCondition)\n     * @param iface {String} Name of the interface, where the pre condition\n     *   was defined. (Used in error messages).\n     * @param origFunction {Function} function to wrap.\n     * @param functionName {String} name of the function. (Used in error messages).\n     * @param preCondition {Function}. This function gets called with the arguments of the\n     *   original function. If this function return true the original function is called.\n     *   Otherwise an exception is thrown.\n     * @return {Function} wrapped function\n     */\n    __wrapInterfaceMember : qx.core.Environment.select(\"qx.debug\",\n    {\n      \"true\": function(iface, origFunction, functionName, preCondition)\n      {\n        function wrappedFunction()\n        {\n          // call precondition\n          preCondition.apply(this, arguments);\n\n          // call original function\n          return origFunction.apply(this, arguments);\n        }\n\n        origFunction.wrapper = wrappedFunction;\n        return wrappedFunction;\n      },\n\n      \"default\" : function(iface, origFunction, functionName, preCondition) {}\n    }),\n\n\n    /** @type {Map} allowed keys in interface definition */\n    __allowedKeys : qx.core.Environment.select(\"qx.debug\",\n    {\n      \"true\":\n      {\n        \"extend\"     : \"object\", // Interface | Interface[]\n        \"statics\"    : \"object\", // Map\n        \"members\"    : \"object\", // Map\n        \"properties\" : \"object\", // Map\n        \"events\"     : \"object\"  // Map\n      },\n\n      \"default\" : null\n    }),\n\n\n    /**\n     * Validates incoming configuration and checks keys and values\n     *\n     * @signature function(name, config)\n     * @param name {String} The name of the class\n     * @param config {Map} Configuration map\n     */\n    __validateConfig : qx.core.Environment.select(\"qx.debug\",\n    {\n      \"true\": function(name, config)\n      {\n        if (qx.core.Environment.get(\"qx.debug\"))\n        {\n          // Validate keys\n          var allowed = this.__allowedKeys;\n\n          for (var key in config)\n          {\n            if (allowed[key] === undefined) {\n              throw new Error('The configuration key \"' + key + '\" in class \"' + name + '\" is not allowed!');\n            }\n\n            if (config[key] == null) {\n              throw new Error(\"Invalid key '\" + key + \"' in interface '\" + name + \"'! The value is undefined/null!\");\n            }\n\n            if (allowed[key] !== null && typeof config[key] !== allowed[key]) {\n              throw new Error('Invalid type of key \"' + key + '\" in interface \"' + name + '\"! The type of the key must be \"' + allowed[key] + '\"!');\n            }\n          }\n\n          // Validate maps\n          var maps = [ \"statics\", \"members\", \"properties\", \"events\" ];\n          for (var i=0, l=maps.length; i<l; i++)\n          {\n            var key = maps[i];\n\n            if (config[key] !== undefined &&\n                ([\n                   \"Array\",\n                   \"RegExp\",\n                   \"Date\"\n                 ].indexOf(qx.Bootstrap.getClass(config[key])) != -1 ||\n                 config[key].classname !== undefined)) {\n              throw new Error('Invalid key \"' + key + '\" in interface \"' + name + '\"! The value needs to be a map!');\n            }\n          }\n\n          // Validate extends\n          if (config.extend)\n          {\n            for (var i=0, a=config.extend, l=a.length; i<l; i++)\n            {\n              if (a[i] == null) {\n                throw new Error(\"Extends of interfaces must be interfaces. The extend number '\" + i+1 + \"' in interface '\" + name + \"' is undefined/null!\");\n              }\n\n              if (a[i].$$type !== \"Interface\") {\n                throw new Error(\"Extends of interfaces must be interfaces. The extend number '\" + i+1 + \"' in interface '\" + name + \"' is not an interface!\");\n              }\n            }\n          }\n\n          // Validate statics\n          if (config.statics)\n          {\n            for (var key in config.statics)\n            {\n              if (key.toUpperCase() !== key) {\n                throw new Error('Invalid key \"' + key + '\" in interface \"' + name + '\"! Static constants must be all uppercase.');\n              }\n\n              switch(typeof config.statics[key])\n              {\n                case \"boolean\":\n                case \"string\":\n                case \"number\":\n                  break;\n\n                default:\n                  throw new Error('Invalid key \"' + key + '\" in interface \"' + name + '\"! Static constants must be all of a primitive type.');\n              }\n            }\n          }\n        }\n      },\n\n      \"default\" : function(name, config) {}\n    })\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * This class is used to define mixins (similar to mixins in Ruby).\n *\n * Mixins are collections of code and variables, which can be merged into\n * other classes. They are similar to classes but don't support inheritance.\n *\n * See the description of the {@link #define} method how a mixin is defined.\n *\n * @require(qx.lang.normalize.Array)\n */\nqx.Bootstrap.define(\"qx.Mixin\",\n{\n  statics :\n  {\n    /*\n    ---------------------------------------------------------------------------\n       PUBLIC API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Define a new mixin.\n     *\n     * Example:\n     * <pre class='javascript'>\n     * qx.Mixin.define(\"name\",\n     * {\n     *   include: [SuperMixins],\n     *\n     *   properties: {\n     *     tabIndex: {type: \"number\", init: -1}\n     *   },\n     *\n     *   members:\n     *   {\n     *     prop1: \"foo\",\n     *     meth1: function() {},\n     *     meth2: function() {}\n     *   }\n     * });\n     * </pre>\n     *\n     * @param name {String} name of the mixin\n     * @param config {Map ? null} Mixin definition structure. The configuration map has the following keys:\n     *   <table>\n     *     <tr><th>Name</th><th>Type</th><th>Description</th></tr>\n     *     <tr><th>construct</th><td>Function</td><td>An optional mixin constructor. It is called on instantiation each\n     *         class including this mixin. The constructor takes no parameters.</td></tr>\n     *     <tr><th>destruct</th><td>Function</td><td>An optional mixin destructor.</td></tr>\n     *     <tr><th>include</th><td>Mixin[]</td><td>Array of mixins, which will be merged into the mixin.</td></tr>\n     *     <tr><th>statics</th><td>Map</td><td>\n     *         Map of statics of the mixin. The statics will not get copied into the target class. They remain\n     *         accessible from the mixin. This is the same behaviour as statics in interfaces ({@link qx.Interface#define}).\n     *     </td></tr>\n     *     <tr><th>members</th><td>Map</td><td>Map of members of the mixin.</td></tr>\n     *     <tr><th>properties</th><td>Map</td><td>Map of property definitions. For a description of the format of a property definition see\n     *           {@link qx.core.Property}.</td></tr>\n     *     <tr><th>events</th><td>Map</td><td>\n     *         Map of events the mixin fires. The keys are the names of the events and the values are\n     *         corresponding event type classes.\n     *     </td></tr>\n     *   </table>\n     *\n     * @return {qx.Mixin} The configured mixin\n     */\n    define : function(name, config)\n    {\n      if (config)\n      {\n        // Normalize include\n        if (config.include && !(qx.Bootstrap.getClass(config.include) === \"Array\")) {\n          config.include = [config.include];\n        }\n\n        // Validate incoming data\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          this.__validateConfig(name, config);\n        }\n\n        // Create Interface from statics\n        var mixin = config.statics ? config.statics : {};\n        qx.Bootstrap.setDisplayNames(mixin, name);\n\n        for(var key in mixin) {\n          if (mixin[key] instanceof Function)\n          {\n            mixin[key].$$mixin = mixin;\n          }\n        }\n\n        // Attach configuration\n        if (config.construct)\n        {\n          mixin.$$constructor = config.construct;\n          qx.Bootstrap.setDisplayName(config.construct, name, \"constructor\");\n        }\n\n        if (config.include) {\n          mixin.$$includes = config.include;\n        }\n\n        if (config.properties) {\n          mixin.$$properties = config.properties;\n        }\n\n        if (config.members)\n        {\n          mixin.$$members = config.members;\n          qx.Bootstrap.setDisplayNames(config.members, name + \".prototype\");\n        }\n\n        for(var key in mixin.$$members)\n        {\n          if (mixin.$$members[key] instanceof Function) {\n            mixin.$$members[key].$$mixin = mixin;\n          }\n        }\n\n        if (config.events) {\n          mixin.$$events = config.events;\n        }\n\n        if (config.destruct)\n        {\n          mixin.$$destructor = config.destruct;\n          qx.Bootstrap.setDisplayName(config.destruct, name, \"destruct\");\n        }\n      }\n      else\n      {\n        var mixin = {};\n      }\n\n      // Add basics\n      mixin.$$type = \"Mixin\";\n      mixin.name = name;\n\n      // Attach toString\n      mixin.toString = this.genericToString;\n\n      // Assign to namespace\n      mixin.basename = qx.Bootstrap.createNamespace(name, mixin);\n\n      // Store class reference in global mixin registry\n      this.$$registry[name] = mixin;\n\n      // Return final mixin\n      return mixin;\n    },\n\n\n    /**\n     * Check compatibility between mixins (including their includes)\n     *\n     * @param mixins {Mixin[]} an array of mixins\n     * @throws {Error} when there is a conflict between the mixins\n     * @return {Boolean} <code>true</code> if the mixin passed the compatibility check\n     */\n    checkCompatibility : function(mixins)\n    {\n      var list = this.flatten(mixins);\n      var len = list.length;\n\n      if (len < 2) {\n        return true;\n      }\n\n      var properties = {};\n      var members = {};\n      var events = {};\n      var mixin;\n\n      for (var i=0; i<len; i++)\n      {\n        mixin = list[i];\n\n        for (var key in mixin.events)\n        {\n          if(events[key]) {\n            throw new Error('Conflict between mixin \"' + mixin.name + '\" and \"' + events[key] + '\" in member \"' + key + '\"!');\n          }\n\n          events[key] = mixin.name;\n        }\n\n        for (var key in mixin.properties)\n        {\n          if(properties[key]) {\n            throw new Error('Conflict between mixin \"' + mixin.name + '\" and \"' + properties[key] + '\" in property \"' + key + '\"!');\n          }\n\n          properties[key] = mixin.name;\n        }\n\n        for (var key in mixin.members)\n        {\n          if(members[key]) {\n            throw new Error('Conflict between mixin \"' + mixin.name + '\" and \"' + members[key] + '\" in member \"' + key + '\"!');\n          }\n\n          members[key] = mixin.name;\n        }\n      }\n\n      return true;\n    },\n\n\n    /**\n     * Checks if a class is compatible to the given mixin (no conflicts)\n     *\n     * @param mixin {Mixin} mixin to check\n     * @param clazz {Class} class to check\n     * @throws {Error} when the given mixin is incompatible to the class\n     * @return {Boolean} true if the mixin is compatible to the given class\n     */\n    isCompatible : function(mixin, clazz)\n    {\n      var list = qx.util.OOUtil.getMixins(clazz);\n      list.push(mixin);\n      return qx.Mixin.checkCompatibility(list);\n    },\n\n\n    /**\n     * Returns a mixin by name\n     *\n     * @param name {String} class name to resolve\n     * @return {Class} the class\n     */\n    getByName : function(name) {\n      return this.$$registry[name];\n    },\n\n\n    /**\n     * Determine if mixin exists\n     *\n     * @param name {String} mixin name to check\n     * @return {Boolean} true if mixin exists\n     */\n    isDefined : function(name) {\n      return this.getByName(name) !== undefined;\n    },\n\n\n    /**\n     * Determine the number of mixins which are defined\n     *\n     * @return {Number} the number of mixins\n     */\n    getTotalNumber : function() {\n      return qx.Bootstrap.objectGetLength(this.$$registry);\n    },\n\n\n    /**\n     * Generates a list of all mixins given plus all the\n     * mixins these includes plus... (deep)\n     *\n     * @param mixins {Mixin[] ? []} List of mixins\n     * @return {Array} List of all mixins\n     */\n    flatten : function(mixins)\n    {\n      if (!mixins) {\n        return [];\n      }\n\n      // we need to create a copy and not to modify the existing array\n      var list = mixins.concat();\n\n      for (var i=0, l=mixins.length; i<l; i++)\n      {\n        if (mixins[i].$$includes) {\n          list.push.apply(list, this.flatten(mixins[i].$$includes));\n        }\n      }\n\n      return list;\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n       PRIVATE/INTERNAL API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * This method will be attached to all mixins to return\n     * a nice identifier for them.\n     *\n     * @internal\n     * @return {String} The mixin identifier\n     */\n    genericToString : function() {\n      return \"[Mixin \" + this.name + \"]\";\n    },\n\n\n    /** Registers all defined mixins */\n    $$registry : {},\n\n\n    /** @type {Map} allowed keys in mixin definition */\n    __allowedKeys : qx.core.Environment.select(\"qx.debug\",\n    {\n      \"true\":\n      {\n        \"include\"    : \"object\",   // Mixin | Mixin[]\n        \"statics\"    : \"object\",   // Map\n        \"members\"    : \"object\",   // Map\n        \"properties\" : \"object\",   // Map\n        \"events\"     : \"object\",   // Map\n        \"destruct\"   : \"function\", // Function\n        \"construct\"  : \"function\"  // Function\n      },\n\n      \"default\" : null\n    }),\n\n\n    /**\n     * Validates incoming configuration and checks keys and values\n     *\n     * @signature function(name, config)\n     * @param name {String} The name of the class\n     * @param config {Map} Configuration map\n     */\n    __validateConfig : qx.core.Environment.select(\"qx.debug\",\n    {\n      \"true\": function(name, config)\n      {\n        // Validate keys\n        var allowed = this.__allowedKeys;\n        for (var key in config)\n        {\n          if (!allowed[key]) {\n            throw new Error('The configuration key \"' + key + '\" in mixin \"' + name + '\" is not allowed!');\n          }\n\n          if (config[key] == null) {\n            throw new Error('Invalid key \"' + key + '\" in mixin \"' + name + '\"! The value is undefined/null!');\n          }\n\n          if (allowed[key] !== null && typeof config[key] !== allowed[key]) {\n            throw new Error('Invalid type of key \"' + key + '\" in mixin \"' + name + '\"! The type of the key must be \"' + allowed[key] + '\"!');\n          }\n        }\n\n        // Validate maps\n        var maps = [ \"statics\", \"members\", \"properties\", \"events\" ];\n        for (var i=0, l=maps.length; i<l; i++)\n        {\n          var key = maps[i];\n\n          if (config[key] !== undefined &&\n              ([\n                 \"Array\",\n                 \"RegExp\",\n                 \"Date\"\n               ].indexOf(qx.Bootstrap.getClass(config[key])) != -1 ||\n               config[key].classname !== undefined)) {\n\n            throw new Error('Invalid key \"' + key + '\" in mixin \"' + name + '\"! The value needs to be a map!');\n          }\n        }\n\n        // Validate includes\n        if (config.include)\n        {\n          for (var i=0, a=config.include, l=a.length; i<l; i++)\n          {\n            if (a[i] == null) {\n              throw new Error(\"Includes of mixins must be mixins. The include number '\" + (i+1) + \"' in mixin '\" + name + \"'is undefined/null!\");\n            }\n\n            if (a[i].$$type !== \"Mixin\") {\n              throw new Error(\"Includes of mixins must be mixins. The include number '\" + (i+1) + \"' in mixin '\" + name + \"'is not a mixin!\");\n            }\n          }\n\n          this.checkCompatibility(config.include);\n        }\n      },\n\n      \"default\" : function(name, config) {}\n    })\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n/**\n * This class is responsible for the normalization of the native 'Date' object.\n * It checks if these methods are available and, if not, appends them to\n * ensure compatibility in all browsers.\n * For usage samples, check out the attached links.\n *\n * @group (Polyfill)\n */\nqx.Bootstrap.define(\"qx.lang.normalize.Date\", {\n\n  statics : {\n\n    /**\n     * Returns the time elapsed since January 1, 1970 in milliseconds.\n     *\n     * <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date/now\">MDN documentation</a> |\n     * <a href=\"http://es5.github.com/#x15.9.4.4\">Annotated ES5 Spec</a>\n     *\n     * @return {Integer} Milliseconds since the Unix Epoch\n     */\n    now : function () {\n      return +new Date();\n    },\n\n\n    /**\n     * Parses a string representation of a date and return number of\n     * milliseconds since Epoch or NaN if string is unrecognized.\n     *\n     * <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/parse\">MDN documentation</a>\n     *\n     * Derived from <https://github.com/csnover/js-iso8601>: ©2011 Colin Snover\n     * <http://zetafleet.com>, MIT license\n     *\n     * @param dateString {String} A string representing an RFC2822 or ISO 8601\n     *   date (other formats may be used, but results may be unexpected).\n     * @return {Number|NaN} A number representing the milliseconds elapsed\n     *   since January 1, 1970, 00:00:00 UTC and the date obtained by parsing\n     *   the given string representation of a date.\n     *   If the argument doesn't represent a valid date, NaN is returned.\n     */\n    parse : function (dateString)\n    {\n      // Match input against ISO8601 regular expression\n      var captureGroups = /^(\\d{4}|[+\\-]\\d{6})(?:-(\\d{2})(?:-(\\d{2}))?)?(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:(Z)|([+\\-])(\\d{2})(?::(\\d{2}))?)?)?$/.exec(dateString);\n      if (!captureGroups) {\n        //\n        // if the regular expression does not match parse the string\n        // using the original function. \n        // Additionally check if it returns a real time value, which we \n        // ensure by using setTime with an intermediate Date object and the \n        // parsed time value. \n        // Safari 11 e.g. parses the date string '19700101' successfully \n        // into a time value, but returns NaN if that value is used in setTime.\n        // \n        // See:\n        //   https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/parse\n        //   https://github.com/qooxdoo/qooxdoo/issues/9451\n        //\n        var time = Date.originalParse(dateString);\n        if(isNaN(time) || isNaN((new Date()).setTime(time))) {\n          return NaN;\n        }\n        return time;\n      }\n\n      // Just a date without time?\n      var noTime = [ 4, 5, 6, 7 ].every(function (i) {\n        return captureGroups[i] === undefined;\n      });\n\n      // Avoid invalid timestamps caused by undefined values being passed to Date.UTC\n      [ 1, 4, 5, 6, 7, 10, 11 ].forEach(function (i) {\n        captureGroups[i] = +captureGroups[i] || 0;\n      });\n      captureGroups[2] = (+captureGroups[2] || 1) - 1; // Allow undefined months\n      captureGroups[3] =  +captureGroups[3] || 1;      // Allow undefined days\n\n      // No timezone offset given and *not* just a date (without time)\n      if (captureGroups[8] !== \"Z\" && captureGroups[9] === undefined && !noTime)\n      { // => Treat as local\n        return new Date( captureGroups[1], captureGroups[2], captureGroups[3],\n                         captureGroups[4], captureGroups[5], captureGroups[6],\n                         captureGroups[7] ).getTime();\n      }\n\n      // Handle timezone offsets\n      var minutesOffset = 0;\n      if (captureGroups[8] !== \"Z\")\n      {\n        minutesOffset = captureGroups[10] * 60 + captureGroups[11];\n        if (captureGroups[9] === \"+\") {\n          minutesOffset = - minutesOffset;\n        }\n      }\n\n      // Return the number of milliseconds since Epoch\n      return Date.UTC( captureGroups[1], captureGroups[2], captureGroups[3],\n                       captureGroups[4], captureGroups[5] + minutesOffset,\n                       captureGroups[6], captureGroups[7] );\n    }\n  },\n\n  defer : function (statics)\n  {\n    // Date.now\n    if (!qx.core.Environment.get(\"ecmascript.date.now\")) {\n      Date.now = statics.now;\n    }\n    // Date.parse\n    if (!qx.core.Environment.get(\"ecmascript.date.parse\")) {\n      Date.originalParse = Date.parse || function (dateString) { return NaN; };\n      Date.parse = statics.parse;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n/**\n * This class is responsible for the normalization of the native 'Error' object.\n * It contains a simple bugfix for toString which might not print out the proper\n * error message.\n *\n * @group (Polyfill)\n */\nqx.Bootstrap.define(\"qx.lang.normalize.Error\",\n{\n\n  statics : {\n\n    /**\n     * Returns a string representation of the Error object.\n     *\n     * <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Error/toString\">MDN documentation</a> |\n     * <a href=\"http://es5.github.com/#x15.11.4.4\">Annotated ES5 Spec</a>\n     *\n     * @return {String} Error message\n     */\n    toString : function() {\n      var name = this.name || \"Error\";\n      var message = this.message || \"\";\n\n      if (name === \"\" && message === \"\") {\n        return \"Error\";\n      }\n      if (name === \"\") {\n        return message;\n      }\n      if (message === \"\") {\n        return name;\n      }\n      return name + \": \" + message;\n    }\n  },\n\n  defer : function(statics) {\n    // toString\n    if (!qx.core.Environment.get(\"ecmascript.error.toString\")) {\n      Error.prototype.toString = statics.toString;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * es5-shim\n\n     Code:\n       https://github.com/kriskowal/es5-shim/\n\n     Copyright:\n       (c) 2009, 2010 Kristopher Michael Kowal\n\n     License:\n       https://github.com/kriskowal/es5-shim/blob/master/LICENSE\n\n   ----------------------------------------------------------------------\n\n   Copyright 2009, 2010 Kristopher Michael Kowal. All rights reserved.\n   Permission is hereby granted, free of charge, to any person obtaining a copy\n   of this software and associated documentation files (the \"Software\"), to\n   deal in the Software without restriction, including without limitation the\n   rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n   sell copies of the Software, and to permit persons to whom the Software is\n   furnished to do so, subject to the following conditions:\n\n   The above copyright notice and this permission notice shall be included in\n   all copies or substantial portions of the Software.\n\n   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n   FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n   IN THE SOFTWARE.\n\n   ----------------------------------------------------------------------\n\n   Version:\n     Snapshot taken on 2012-07-25,:\n     commit  9f539abd9aa9950e1d907077a4be7f5133a00e52\n\n************************************************************************ */\n/**\n * This class is responsible for the normalization of the native 'Function' object.\n * It checks if these methods are available and, if not, appends them to\n * ensure compatibility in all browsers.\n * For usage samples, check out the attached links.\n *\n * @group (Polyfill)\n */\nqx.Bootstrap.define(\"qx.lang.normalize.Function\", {\n\n  statics : {\n    /**\n     * <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/bind\">MDN documentation</a> |\n     * <a href=\"http://es5.github.com/#x15.3.4.5\">Annotated ES5 Spec</a>\n     *\n     * @param that {var?} Context for the bound function\n     * @return {Function} The bound function\n     */\n    bind : function (that) {\n      var slice = Array.prototype.slice;\n      // .length is 1\n      // 1. Let Target be the this value.\n      var target = this;\n      // 2. If IsCallable(Target) is false, throw a TypeError exception.\n      if (typeof target != \"function\") {\n        throw new TypeError(\"Function.prototype.bind called on incompatible \" + target);\n      }\n      // 3. Let A be a new (possibly empty) internal list of all of the\n      //   argument values provided after thisArg (arg1, arg2 etc), in order.\n      // XXX slicedArgs will stand in for \"A\" if used\n      var args = slice.call(arguments, 1); // for normal call\n      // 4. Let F be a new native ECMAScript object.\n      // 11. Set the [[Prototype]] internal property of F to the standard\n      //   built-in Function prototype object as specified in 15.3.3.1.\n      // 12. Set the [[Call]] internal property of F as described in\n      //   15.3.4.5.1.\n      // 13. Set the [[Construct]] internal property of F as described in\n      //   15.3.4.5.2.\n      // 14. Set the [[HasInstance]] internal property of F as described in\n      //   15.3.4.5.3.\n      var bound = function () {\n\n        if (this instanceof bound) {\n          // 15.3.4.5.2 [[Construct]]\n          // When the [[Construct]] internal method of a function object,\n          // F that was created using the bind function is called with a\n          // list of arguments ExtraArgs, the following steps are taken:\n          // 1. Let target be the value of F's [[TargetFunction]]\n          //   internal property.\n          // 2. If target has no [[Construct]] internal method, a\n          //   TypeError exception is thrown.\n          // 3. Let boundArgs be the value of F's [[BoundArgs]] internal\n          //   property.\n          // 4. Let args be a new list containing the same values as the\n          //   list boundArgs in the same order followed by the same\n          //   values as the list ExtraArgs in the same order.\n          // 5. Return the result of calling the [[Construct]] internal\n          //   method of target providing args as the arguments.\n\n          var F = function(){};\n          F.prototype = target.prototype;\n          var self = new F;\n\n          var result = target.apply(\n            self,\n            args.concat(slice.call(arguments))\n          );\n          if (Object(result) === result) {\n            return result;\n          }\n          return self;\n\n        } else {\n          // 15.3.4.5.1 [[Call]]\n          // When the [[Call]] internal method of a function object, F,\n          // which was created using the bind function is called with a\n          // this value and a list of arguments ExtraArgs, the following\n          // steps are taken:\n          // 1. Let boundArgs be the value of F's [[BoundArgs]] internal\n          //   property.\n          // 2. Let boundThis be the value of F's [[BoundThis]] internal\n          //   property.\n          // 3. Let target be the value of F's [[TargetFunction]] internal\n          //   property.\n          // 4. Let args be a new list containing the same values as the\n          //   list boundArgs in the same order followed by the same\n          //   values as the list ExtraArgs in the same order.\n          // 5. Return the result of calling the [[Call]] internal method\n          //   of target providing boundThis as the this value and\n          //   providing args as the arguments.\n\n          // equiv: target.call(this, ...boundArgs, ...args)\n          return target.apply(\n              that,\n              args.concat(slice.call(arguments))\n          );\n\n        }\n\n      };\n      // XXX bound.length is never writable, so don't even try\n      //\n      // 15. If the [[Class]] internal property of Target is \"Function\", then\n      //     a. Let L be the length property of Target minus the length of A.\n      //     b. Set the length own property of F to either 0 or L, whichever is\n      //       larger.\n      // 16. Else set the length own property of F to 0.\n      // 17. Set the attributes of the length own property of F to the values\n      //   specified in 15.3.5.1.\n\n      // (Not implemented but in the spec)\n      // 18. Set the [[Extensible]] internal property of F to true.\n\n      // (Not implemented but in the spec)\n      // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).\n      // 20. Call the [[DefineOwnProperty]] internal method of F with\n      //   arguments \"caller\", PropertyDescriptor {[[Get]]: thrower, [[Set]]:\n      //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and\n      //   false.\n      // 21. Call the [[DefineOwnProperty]] internal method of F with\n      //   arguments \"arguments\", PropertyDescriptor {[[Get]]: thrower,\n      //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},\n      //   and false.\n\n      // NOTE Function objects created using Function.prototype.bind do not\n      // have a prototype property or the [[Code]], [[FormalParameters]], and\n      // [[Scope]] internal properties.\n      // XXX can't delete prototype in pure-js.\n\n      // 22. Return F.\n      return bound;\n    }\n  },\n\n  defer : function(statics) {\n    if (!qx.core.Environment.get(\"ecmascript.function.bind\")) {\n      Function.prototype.bind = statics.bind;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n/**\n * This class is responsible for the normalization of the native 'String' object.\n * It checks if these methods are available and, if not, appends them to\n * ensure compatibility in all browsers.\n * For usage samples, check out the attached links.\n *\n * @group (Polyfill)\n */\nqx.Bootstrap.define(\"qx.lang.normalize.String\", {\n\n  statics : {\n\n    /**\n     * Removes whitespace from both ends of the string.\n     *\n     * <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/Trim\">MDN documentation</a> |\n     * <a href=\"http://es5.github.com/#x15.5.4.20\">Annotated ES5 Spec</a>\n     *\n     * @return {String} The trimmed string\n     */\n    trim : function() {\n      return this.replace(/^\\s+|\\s+$/g,'');\n    },\n\n\n    /**\n     * Determines whether a string begins with the characters of another\n     * string, returning true or false as appropriate.\n     *\n     * @param searchString {String} The characters to be searched for at the\n     *   start of this string.\n     * @param position {Integer?0} The position in this string at which to\n     *   begin searching for <code>searchString</code>.\n     * @return {Boolean} Whether the string begins with the other string.\n     */\n    startsWith : function (searchString, position)\n    {\n      position = position || 0;\n      return this.substr(position, searchString.length) === searchString;\n    },\n\n\n    /**\n     * Determines whether a ends with the characters of another string,\n     * returning true or false as appropriate.\n     *\n     * @param searchString {String} The characters to be searched for at the\n     *   end of this string.\n     * @param position {Integer?length} Search within this string as if this\n     *   string were only this long; defaults to this string's actual length,\n     *   clamped within the range established by this string's length.\n     * @return {Boolean} Whether the string ends with the other string.\n     */\n    endsWith : function (searchString, position)\n    {\n      var subjectString = this.toString();\n      if (  typeof position !== 'number'\n         || !isFinite(position)\n         || Math.floor(position) !== position\n         || position > subjectString.length ) {\n        position = subjectString.length;\n      }\n      position -= searchString.length;\n      var lastIndex = subjectString.indexOf(searchString, position);\n      return lastIndex !== -1 && lastIndex === position;\n    }\n\n  },\n\n  defer : function(statics)\n  {\n    // trim\n    if (!qx.core.Environment.get(\"ecmascript.string.trim\")) {\n      String.prototype.trim = statics.trim;\n    }\n    // startsWith\n    if (!qx.core.Environment.get(\"ecmascript.string.startsWith\")) {\n      String.prototype.startsWith = statics.startsWith;\n    }\n    // endsWith\n    if (!qx.core.Environment.get(\"ecmascript.string.endsWith\")) {\n      String.prototype.endsWith = statics.endsWith;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n/**\n * This class is responsible for the normalization of the native Object.\n * It checks if these methods are available and, if not, appends them to\n * ensure compatibility in all browsers.\n * For usage samples, check out the attached links.\n *\n * @group (Polyfill)\n */\nqx.Bootstrap.define(\"qx.lang.normalize.Object\", {\n\n  statics : {\n\n    /**\n     * Get the keys of a map as array as returned by a \"for ... in\" statement.\n     *\n     * <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/keys\">MDN documentation</a> |\n     * <a href=\"http://es5.github.com/#x15.2.3.14\">Annotated ES5 Spec</a>\n     *\n     * @signature function(map)\n     * @param map {Object} the map\n     * @return {Array} array of the keys of the map\n     */\n    keys : qx.Bootstrap.keys,\n\n    /**\n     * Get the values of a map as array\n     *\n     * @param map {Object} the map\n     * @return {Array} array of the values of the map\n     */\n    values : function(map) {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert && qx.core.Assert.assertMap(map, \"Invalid argument 'map'\");\n      }\n\n      var arr = [];\n      var keys = Object.keys(map);\n\n      for (var i=0, l=keys.length; i<l; i++) {\n        arr.push(map[keys[i]]);\n      }\n\n      return arr;\n    },\n\n\n    /**\n     * Determines whether two values are the same value.\n     *\n     * <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\">MDN web docs: Object.is()</a>\n     *\n     * @signature function(x,y)\n     * @param x {Object} the first value to compare\n     * @param y {Object} the second value to compare\n     * @return {Boolean} indicating whether or not the two arguments are the same value.\n     */\n    is : function(x, y) {\n      // SameValue algorithm\n      if (x === y) { // Steps 1-5, 7-10\n        // Steps 6.b-6.e: +0 != -0\n        return x !== 0 || 1 / x === 1 / y;\n      } else {\n       // Step 6.a: NaN == NaN\n       return x !== x && y !== y;\n      }\n    }\n  },\n\n  defer : function(statics) {\n    // keys\n    if (!qx.core.Environment.get(\"ecmascript.object.keys\")) {\n      Object.keys = statics.keys;\n    }\n\n    // values\n    if (!qx.core.Environment.get(\"ecmascript.object.values\")) {\n      Object.values = statics.values;\n    }\n\n    // is\n    if (!qx.core.Environment.get(\"ecmascript.object.is\")) {\n      Object.is = statics.is;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2017 The Qooxdoo Project\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Cajus Pollmeier (cajus)\n\n************************************************************************ */\n/**\n * This class is responsible for the normalization of the native 'String' object.\n * It checks if these methods are available and, if not, appends them to\n * ensure compatibility in all browsers.\n * For usage samples, check out the attached links.\n *\n * @group (Polyfill)\n */\nqx.Bootstrap.define(\"qx.lang.normalize.Number\", {\n\n  statics : {\n    EPSILON : 2e-52\n  },\n\n  defer : function(statics)\n  {\n    if (!qx.core.Environment.get(\"ecmascript.number.EPSILON\")) {\n      Number.prototype.EPSILON = statics.EPSILON;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Internal class for handling of dynamic properties. Should only be used\n * through the methods provided by {@link qx.Class}.\n *\n * For a complete documentation of properties take a look at\n * http://manual.qooxdoo.org/${qxversion}/pages/core.html#properties.\n *\n *\n * *Normal properties*\n *\n * The <code>properties</code> key in the class definition map of {@link qx.Class#define}\n * is used to generate the properties.\n *\n * Valid keys of a property definition are:\n *\n * <table>\n *   <tr><th>Name</th><th>Type</th><th>Description</th></tr>\n *   <tr><th>check</th><td>Array, String, Function</td><td>\n *     The check is used to check the type the incoming value of a property. This will only\n *     be executed in the source version. The build version will not contain the checks.\n *     The check can be:\n *     <ul>\n *       <li>a custom check function. The function takes the incoming value as a parameter and must\n *           return a boolean value to indicate whether the values is valid.\n *       </li>\n *       <li>inline check code as a string e.g. <code>\"value &gt; 0 && value &lt; 100\"</code></li>\n *       <li>a class name e.g. <code>qx.ui.form.Button</code></li>\n *       <li>a name of an interface the value must implement</li>\n *       <li>an array of all valid values</li>\n *       <li>one of the predefined checks: Boolean, String, Number, Integer, Float, Double,\n *           Object, Array, Map, Class, Mixin, Interface, Theme, Error, RegExp, Function,\n *           Date, Node, Element, Document, Window, Event\n *       </li>\n *     <ul>\n *   </td></tr>\n *   <tr><th>init</th><td>var</td><td>\n *     Sets the default/initial value of the property. If no property value is set or the property\n *     gets reset, the getter will return the <code>init</code> value.\n *   </td></tr>\n *   <tr><th>apply</th><td>String</td><td>\n *     On change of the property value the method of the specified name will be called. The signature of\n *     the method is <code>function(newValue, oldValue, propertyName)</code>. It is conventional to name\n *     the callback <code>_apply</code> + <i>PropertyName</i>, with the property name camel-cased (e.g.\n *     \"<i>_applyFooBar</i>\" for a property <i>fooBar</i>).\n *   </td></tr>\n *   <tr><th>event</th><td>String</td><td>\n *     On change of the property value an event with the given name will be dispatched. The event type is\n *     {@link qx.event.type.Data}.\n *   </td></tr>\n *   <tr><th>themeable</th><td>Boolean</td><td>\n *     Whether this property can be set using themes.\n *   </td></tr>\n *   <tr><th>inheritable</th><td>Boolean</td><td>\n *     Whether the property value should be inheritable. If the property does not have an user defined or an\n *     init value, the property will try to get the value from the parent of the current object.\n *   </td></tr>\n *   <tr><th>nullable</th><td>Boolean</td><td>\n *     Whether <code>null</code> is an allowed value of the property. This is complementary to the check\n *     defined using the <code>check</code> key.\n *   </td></tr>\n *   <tr><th>refine</th><td>Boolean</td><td>\n *     Whether the property definition is a refinement of a property in one of the super classes of the class.\n *     Only the <code>init</code> value can be changed using refine.\n *   </td></tr>\n *   <tr><th>transform</th><td>String</td><td>\n *     On setting of the property value the method of the specified name will\n *     be called. The signature of the method is <code>function(value, oldValue)</code>.\n *     The parameter <code>value</code> is the value passed to the setter, the\n *     parameter <code>oldValue</code> is the current value, or undefined if no value\n *     has been set previously.\n *     The function must return the modified or unmodified value.\n *     Transformation occurs before the check function, so both may be\n *     specified if desired.  Alternatively, the transform function may throw\n *     an error if the value passed to it is invalid.\n *   </td></tr>\n *   <tr><th>validate</th><td>Function, String</td><td>\n *     On setting of the property value the method of the specified name will\n *     be called. The signature of the method is <code>function(value)</code>.\n *     The parameter <code>value</code> is the value passed to the setter.\n *     If the validation fails, an <code>qx.core.ValidationError</code> should\n *     be thrown by the validation function. Otherwise, just do nothing in the\n *     function.<br>\n *     If a string is given, the string should hold a reference to a member\n *     method.<br>\n *     <code>\"<i>methodname</i>\"</code> for example\n *     <code>\"__validateProperty\"</code><br>\n *     There are some default validators in the {@link qx.util.Validate} class.\n *     See this documentation for usage examples.\n *   </td></tr>\n *   <tr><th>dereference</th><td>Boolean</td><td>\n *     By default, the references to the values (current, init, ...) of the\n *     property will be stored as references on the object. When disposing\n *     this object, the references will not be deleted. Setting the\n *     dereference key to true tells the property system to delete all\n *     connections made by this property on dispose. This can be necessary for\n *     disconnecting DOM objects to allow the garbage collector to work\n *     properly.\n *   </td></tr>\n *   <tr><th>deferredInit</th><td>Boolean</td><td>\n *     Allow for a deferred initialization for reference types. Defaults to false.\n *   </td></tr>\n *   <tr><th>isEqual</th><td>Function, String</td><td>\n *     On setting of the property value the method of the specified name will\n *     be called to test if two values are equal. These checks for equality are\n *     performed by the Property-System to decide whether further actions (like\n *     e.g. calling applier methods or firing of events) are needed.\n *     The signature of the method is <code>function(valueA, valueB)</code>.\n *     <br/>\n *     The <i>isEqual</i>-value can be:\n *     <ul>\n *       <li>a custom check function.\n *           The function takes two values as parameter and must return a\n *           boolean value to indicate whether the values are considered\n *           equal e.g. <code>function (a, b) { return Object.is(a, b); }</code>.</li>\n *       <li>inline check code as a string\n *           which will be invoked with two parameters <code>a</code> and\n *           <code>b</code> and results in a boolean value to indicate whether\n *           the values are equal e.g. <code>\"a.length() == b.length()\"</code>.</li>\n *       <li>reference to a member method as string\n *           <code>\"<i>methodname</i>\"</code> which will be invoked with two\n *           parameters and returns a boolean value indicating whether the two\n *           values are considered equal for example <code>\"__areTheSame\"</code>.</li>\n *     </ul>\n *     The default implementation (if this key is undefined) will check the\n *     equality by using the <i>identity</i> operator (===) as if defined like\n *     <code>\"a===b\"</code>.\n *   </td></tr>\n * </table>\n *\n * *Property groups*\n *\n * Property groups are defined in a similar way but support a different set of keys:\n *\n * <table>\n *   <tr><th>Name</th><th>Type</th><th>Description</th></tr>\n *   <tr><th>group</th><td>String[]</td><td>\n *     A list of property names which should be set using the property group.\n *   </td></tr>\n *   <tr><th>mode</th><td>String</td><td>\n *     If mode is set to <code>\"shorthand\"</code>, the properties can be set using a CSS like shorthand mode.\n *   </td></tr>\n *   <tr><th>themeable</th><td>Boolean</td><td>\n *     Whether this property can be set using themes.\n *   </td></tr>\n * </table>\n *\n * @internal\n * @ignore(qx.Interface)\n */\nqx.Bootstrap.define(\"qx.core.Property\",\n{\n  statics :\n  {\n    /**\n     * This is a method which does nothing than gathering dependencies for the\n     * module system. Calling this method is useless because it does nothing.\n     */\n    __gatherDependency : function() {\n      if (qx.core.Environment.get(\"module.events\")) {\n        qx.event.type.Data;\n        qx.event.dispatch.Direct;\n      }\n      if (qx.core.Environment.get(\"qx.promise\")) {\n        qx.Promise;\n      }\n    },\n\n\n    /**\n     * Built-in checks\n     * The keys could be used in the check of the properties\n     */\n    __checks :\n    {\n      \"Boolean\"   : 'qx.core.Assert.assertBoolean(value, msg) || true',\n      \"String\"    : 'qx.core.Assert.assertString(value, msg) || true',\n\n      \"Number\"    : 'qx.core.Assert.assertNumber(value, msg) || true',\n      \"Integer\"   : 'qx.core.Assert.assertInteger(value, msg) || true',\n      \"PositiveNumber\" : 'qx.core.Assert.assertPositiveNumber(value, msg) || true',\n      \"PositiveInteger\" : 'qx.core.Assert.assertPositiveInteger(value, msg) || true',\n\n      \"Error\"     : 'qx.core.Assert.assertInstance(value, Error, msg) || true',\n      \"RegExp\"    : 'qx.core.Assert.assertInstance(value, RegExp, msg) || true',\n\n      \"Object\"    : 'qx.core.Assert.assertObject(value, msg) || true',\n      \"Array\"     : 'qx.core.Assert.assertArray(value, msg) || true',\n      \"Map\"       : 'qx.core.Assert.assertMap(value, msg) || true',\n\n      \"Function\"  : 'qx.core.Assert.assertFunction(value, msg) || true',\n      \"Date\"      : 'qx.core.Assert.assertInstance(value, Date, msg) || true',\n      \"Node\"      : 'value !== null && value.nodeType !== undefined',\n      \"Element\"   : 'value !== null && value.nodeType === 1 && value.attributes',\n      \"Document\"  : 'value !== null && value.nodeType === 9 && value.documentElement',\n      \"Window\"    : 'value !== null && value.document',\n      \"Event\"     : 'value !== null && value.type !== undefined',\n\n      \"Class\"     : 'value !== null && value.$$type === \"Class\"',\n      \"Mixin\"     : 'value !== null && value.$$type === \"Mixin\"',\n      \"Interface\" : 'value !== null && value.$$type === \"Interface\"',\n      \"Theme\"     : 'value !== null && value.$$type === \"Theme\"',\n\n      \"Color\"     : 'qx.lang.Type.isString(value) && qx.util.ColorUtil.isValidPropertyValue(value)',\n      \"Decorator\" : 'value !== null && qx.theme.manager.Decoration.getInstance().isValidPropertyValue(value)',\n      \"Font\"      : 'value !== null && qx.theme.manager.Font.getInstance().isDynamic(value)'\n    },\n\n\n    /**\n     * Contains types from {@link #__checks} list which need to be dereferenced\n     */\n    __dereference :\n    {\n      \"Node\"      : true,\n      \"Element\"   : true,\n      \"Document\"  : true,\n      \"Window\"    : true,\n      \"Event\"     : true\n    },\n\n\n    /**\n     * Inherit value, used to override defaults etc. to force inheritance\n     * even if property value is not undefined (through multi-values)\n     *\n     * @internal\n     */\n    $$inherit : \"inherit\",\n\n\n    /**\n     * Caching field names for each property created\n     *\n     * @internal\n     */\n    $$store :\n    {\n      runtime : {},\n      user    : {},\n      theme   : {},\n      inherit : {},\n      init    : {},\n      useinit : {}\n    },\n\n\n    /**\n     * Caching function names for each property created\n     *\n     * @internal\n     */\n    $$method :\n    {\n      get          : {},\n      getAsync     : {},\n      set          : {},\n      setImpl      : {},\n      setAsync     : {},\n      reset        : {},\n      init         : {},\n      refresh      : {},\n      setRuntime   : {},\n      resetRuntime : {},\n      setThemed    : {},\n      resetThemed  : {}\n    },\n\n\n    /**\n     * Supported keys for property definitions\n     *\n     * @internal\n     */\n    $$allowedKeys :\n    {\n      \"@\"          : \"object\",   // Anything\n      name         : \"string\",   // String\n      dereference  : \"boolean\",  // Boolean\n      inheritable  : \"boolean\",  // Boolean\n      nullable     : \"boolean\",  // Boolean\n      themeable    : \"boolean\",  // Boolean\n      refine       : \"boolean\",  // Boolean\n      init         : null,       // var\n      apply        : \"string\",   // String\n      event        : \"string\",   // String\n      check        : null,       // Array, String, Function\n      transform    : \"string\",   // String\n      async        : \"boolean\",  // Boolean\n      deferredInit : \"boolean\",  // Boolean\n      validate     : null,       // String, Function\n      isEqual      : null        // String, Function\n    },\n\n\n    /**\n     * Supported keys for property group definitions\n     *\n     * @internal\n     */\n    $$allowedGroupKeys :\n    {\n      \"@\"       : \"object\",   // Anything\n      name      : \"string\",   // String\n      group     : \"object\",   // Array\n      mode      : \"string\",   // String\n      themeable : \"boolean\"   // Boolean\n    },\n\n\n    /** Contains names of inheritable properties, filled by {@link qx.Class.define} */\n    $$inheritable : {},\n\n\n    /**\n     * Generate optimized refresh method and  attach it to the class' prototype\n     *\n     * @param clazz {Class} clazz to which the refresher should be added\n     */\n    __executeOptimizedRefresh : function(clazz)\n    {\n      var inheritables = this.__getInheritablesOfClass(clazz);\n\n      if (!inheritables.length) {\n        var refresher = function () {};\n      } else {\n        refresher = this.__createRefresher(inheritables);\n      }\n\n      clazz.prototype.$$refreshInheritables = refresher;\n    },\n\n\n    /**\n     * Get the names of all inheritable properties of the given class\n     *\n     * @param clazz {Class} class to get the inheritable properties of\n     * @return {String[]} List of property names\n     */\n    __getInheritablesOfClass : function(clazz)\n    {\n      var inheritable = [];\n\n      while(clazz)\n      {\n        var properties = clazz.$$properties;\n\n        if (properties)\n        {\n          for (var name in this.$$inheritable)\n          {\n            // Whether the property is available in this class\n            // and whether it is inheritable in this class as well\n            if (properties[name] && properties[name].inheritable)\n            {\n              inheritable.push(name);\n            }\n          }\n        }\n\n        clazz = clazz.superclass;\n      }\n\n      return inheritable;\n    },\n\n\n    /**\n     * Assemble the refresher code and return the generated function\n     *\n     * @param inheritables {String[]} list of inheritable properties\n     * @return {Function} refresher function\n     */\n    __createRefresher : function(inheritables)\n    {\n      var inherit = this.$$store.inherit;\n      var init = this.$$store.init;\n      var refresh = this.$$method.refresh;\n\n      var code = [\n        \"var parent = this.getLayoutParent();\",\n        \"if (!parent) return;\"\n      ];\n\n      for (var i=0, l=inheritables.length; i<l; i++)\n      {\n        var name = inheritables[i];\n        code.push(\n          \"var value = parent.\", inherit[name],\";\",\n          \"if (value===undefined) value = parent.\", init[name], \";\",\n          \"this.\", refresh[name], \"(value);\"\n        );\n      }\n\n      return new Function(code.join(\"\"));\n    },\n\n\n    /**\n     * Attach $$refreshInheritables method stub to the given class\n     *\n     * @param clazz {Class} clazz to which the refresher should be added\n     */\n    attachRefreshInheritables : function(clazz)\n    {\n      clazz.prototype.$$refreshInheritables = function()\n      {\n        qx.core.Property.__executeOptimizedRefresh(clazz);\n        return this.$$refreshInheritables();\n      };\n    },\n\n\n    /**\n     * Attach one property to class\n     *\n     * @param clazz {Class} Class to attach properties to\n     * @param name {String} Name of property\n     * @param config {Map} Configuration map of property\n     */\n    attachMethods : function(clazz, name, config)\n    {\n      // Divide groups from \"normal\" properties\n      config.group ?\n        this.__attachGroupMethods(clazz, config, name) :\n        this.__attachPropertyMethods(clazz, config, name);\n    },\n\n\n    /**\n     * Attach group methods\n     *\n     * @param clazz {Class} Class to attach properties to\n     * @param config {Map} Property configuration\n     * @param name {String} Name of the property\n     */\n    __attachGroupMethods : function(clazz, config, name)\n    {\n      var upname = qx.Bootstrap.firstUp(name);\n      var members = clazz.prototype;\n      var themeable = config.themeable === true;\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (qx.core.Environment.get(\"qx.debug.property.level\") > 1) {\n          qx.Bootstrap.debug(\"Generating property group: \" + name);\n        }\n      }\n\n      var setter = [];\n      var resetter = [];\n\n      if (themeable)\n      {\n        var styler = [];\n        var unstyler = [];\n      }\n\n      var argHandler = \"var a=arguments[0] instanceof Array?arguments[0]:arguments;\";\n\n      setter.push(argHandler);\n\n      if (themeable) {\n        styler.push(argHandler);\n      }\n\n      if (config.mode == \"shorthand\")\n      {\n        var shorthand = \"a=qx.lang.Array.fromShortHand(qx.lang.Array.fromArguments(a));\";\n        setter.push(shorthand);\n\n        if (themeable) {\n          styler.push(shorthand);\n        }\n      }\n\n      for (var i=0, a=config.group, l=a.length; i<l; i++)\n      {\n        if (qx.core.Environment.get(\"qx.debug\"))\n        {\n          if (!this.$$method.set[a[i]]||!this.$$method.reset[a[i]]) {\n            throw new Error(\"Cannot create property group '\" + name + \"' including non-existing property '\" + a[i] + \"'!\");\n          }\n        }\n\n        setter.push(\"this.\", this.$$method.set[a[i]], \"(a[\", i, \"]);\");\n        resetter.push(\"this.\", this.$$method.reset[a[i]], \"();\");\n\n        if (themeable)\n        {\n          if (qx.core.Environment.get(\"qx.debug\"))\n          {\n            if (!this.$$method.setThemed[a[i]]) {\n              throw new Error(\"Cannot add the non themable property '\" + a[i] + \"' to the themable property group '\"+ name +\"'\");\n            }\n          }\n\n          styler.push(\"this.\", this.$$method.setThemed[a[i]], \"(a[\", i, \"]);\");\n          unstyler.push(\"this.\", this.$$method.resetThemed[a[i]], \"();\");\n        }\n      }\n\n      // Attach setter\n      this.$$method.set[name] = \"set\" + upname;\n      members[this.$$method.set[name]] = new Function(setter.join(\"\"));\n\n      // Attach resetter\n      this.$$method.reset[name] = \"reset\" + upname;\n      members[this.$$method.reset[name]] = new Function(resetter.join(\"\"));\n\n      if (themeable)\n      {\n        // Attach styler\n        this.$$method.setThemed[name] = \"setThemed\" + upname;\n        members[this.$$method.setThemed[name]] = new Function(styler.join(\"\"));\n\n        // Attach unstyler\n        this.$$method.resetThemed[name] = \"resetThemed\" + upname;\n        members[this.$$method.resetThemed[name]] = new Function(unstyler.join(\"\"));\n      }\n    },\n\n\n    /**\n     * Attach property methods\n     *\n     * @param clazz {Class} Class to attach properties to\n     * @param config {Map} Property configuration\n     * @param name {String} Name of the property\n     */\n    __attachPropertyMethods : function(clazz, config, name)\n    {\n      var upname = qx.Bootstrap.firstUp(name);\n      var members = clazz.prototype;\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (qx.core.Environment.get(\"qx.debug.property.level\") > 1) {\n          qx.Bootstrap.debug(\"Generating property wrappers: \" + name);\n        }\n      }\n\n      // Fill dispose value\n      if (config.dereference === undefined && typeof config.check === \"string\") {\n        config.dereference = this.__shouldBeDereferenced(config.check);\n      }\n\n      if (!qx.core.Environment.get(\"qx.promise\")) {\n        if (config.async) {\n          this.warn(\"Asynchronous property \" + clazz.classname +\".\" + name + \" is switched to synchronous because qx.promise==false\");\n          config.async = false;\n        }\n        if (config.check == \"qx.Promise\") {\n          this.error(\"Cannot implement check for property \" + clazz.classname +\".\" + name + \" because qx.promise==false\");\n          delete config.check;\n        }\n      }\n      \n      // Check for method name conflicts\n      if (qx.core.Environment.get(\"qx.debug\")) {\n      \t// Exclude qx.data.model.* because that's from marshalling and will cause conflicts to be reported\n      \tif (clazz.classname && !clazz.classname.match(/^qx.data.model/)) {\n\t\t      var allNames = [ \"get\" + upname, \"set\" + upname, \"reset\" + upname, \"setRuntime\" + upname, \"resetRuntime\" + upname ];\n\t\t      if (config.async) {\n\t\t      \tallNames.push(\"get\" + upname + \"Async\");\n\t\t      \tallNames.push(\"set\" + upname + \"Async\");\n\t\t      }\n\t\t      if (config.inheritable || config.apply || config.event || config.deferredInit) {\n\t\t      \tallNames.push(\"init\" + upname);\n\t\t      }\n\t\t      if (config.inheritable) {\n\t\t      \tallNames.push(\"refresh\" + upname);\n\t\t      }\n\t\t      if (config.themeable) {\n\t\t      \tallNames.push(\"getThemed\" + upname);\n\t\t      \tallNames.push(\"setThemed\" + upname);\n\t\t      \tallNames.push(\"resetThemed\" + upname);\n\t\t      }\n\t\t      if (config.check === \"Boolean\") {\n\t\t      \tallNames.push(\"is\" + upname);\n\t\t      \tallNames.push(\"toggle\" + upname);\n\t\t      }\n          allNames.forEach(function(name) {\n            if (clazz.superclass.prototype[name] !== undefined) {\n              var conflictingClass = null;\n              for (var tmp = clazz.superclass; tmp && tmp != qx.core.Object; tmp = tmp.superclass) {\n                if (tmp.superclass.prototype[name] === undefined) {\n                  conflictingClass = tmp;\n                  break;\n                }\n              }\n              if (conflictingClass) {\n                qx.log.Logger.warn(\"Conflicting property method \" + clazz.classname + \".\" + name + \" with \" + conflictingClass.classname);\n              }\n            }\n          });\n      \t}\n      }\n\n      var method = this.$$method;\n      var store = this.$$store;\n\n      store.runtime[name] = \"$$runtime_\" + name;\n      store.user[name] = \"$$user_\" + name;\n      store.theme[name] = \"$$theme_\" + name;\n      store.init[name] = \"$$init_\" + name;\n      store.inherit[name] = \"$$inherit_\" + name;\n      store.useinit[name] = \"$$useinit_\" + name;\n\n      var getName = method.get[name] = \"get\" + upname;\n      members[method.get[name]] = new Function(\n          \"this.\" + getName + \".$$install && this.\" + getName + \".$$install();\" +\n          \"return this.\" + getName + \".apply(this, arguments);\"); \n      if (config.async) {\n        \n      \tif (qx.core.Environment.get(\"qx.debug\")) {\n      \t\tif (members.hasOwnProperty(getName + \"Async\")) {\n      \t\t\tthis.error(\"Asynchronous property \" + clazz.classname +\".\" + name + \" is replacing \" + getName + \"Async() method in same class\");\n      \t\t} else if (members[getName + \"Async\"] !== undefined) {\n      \t\t\tthis.warn(\"Asynchronous property \" + clazz.classname +\".\" + name + \" is overriding \" + getName + \"Async() method\");\n      \t\t}\n      \t}\n\t      method.getAsync[name] = getName + \"Async\";\n\t      members[method.getAsync[name]] = new Function(\n\t          \"this.\" + getName + \".$$install && this.\" + getName + \".$$install.call(this);\" +\n\t          \"return this.\" + getName + \"Async.apply(this, arguments);\");\n      }\n      members[method.get[name]].$$install = function() {\n        qx.core.Property.__installOptimizedGetter(clazz, name, \"get\", arguments);\n        if (config.async) {\n        \tqx.core.Property.__installOptimizedGetter(clazz, name, \"getAsync\", arguments);\n        }\n      };\n\n      var setName = method.set[name] = \"set\" + upname;\n      members[setName] = new Function(\n          \"this.\" + setName + \".$$install && this.\" + setName + \".$$install.call(this);\" +\n          \"return this.\" + setName + \".apply(this, arguments);\");\n      method.setAsync[name] = \"set\" + upname + \"Async\";\n      if (config.async) {\n      \tif (qx.core.Environment.get(\"qx.debug\")) {\n      \t\tif (members.hasOwnProperty(setName + \"Async\")) {\n      \t\t\tthis.error(\"Asynchronous property \" + clazz.classname +\".\" + name + \" is replacing \" + setName + \"Async() method in same class\");\n      \t\t} else if (members[setName + \"Async\"] !== undefined) {\n      \t\t\tthis.warn(\"Asynchronous property \" + clazz.classname +\".\" + name + \" is overriding \" + setName + \"Async() method\");\n      \t\t}\n      \t}\n        members[setName + \"Async\"] = new Function(\n            \"this.\" + setName + \".$$install && this.\" + setName + \".$$install.call(this);\" +\n            \"return this.\" + setName + \"Async.apply(this, arguments);\");\n      }\n      method.setImpl[name] = \"$$set\" + upname + \"Impl\";\n      members[setName].$$install = function() {\n        qx.core.Property.__installOptimizedSetter(clazz, name, \"set\");\n        qx.core.Property.__installOptimizedSetter(clazz, name, \"setImpl\");\n        if (config.async) {\n          qx.core.Property.__installOptimizedSetter(clazz, name, \"setAsync\");\n        }\n      };\n\n      method.reset[name] = \"reset\" + upname;\n      members[method.reset[name]] = function() {\n        return qx.core.Property.executeOptimizedSetter(this, clazz, name, \"reset\");\n      };\n      members[method.reset[name]].$$install = function() {\n        qx.core.Property.__installOptimizedSetter(clazz, name, \"reset\");\n      };\n\n      if (config.inheritable || config.apply || config.event || config.deferredInit)\n      {\n        method.init[name] = \"init\" + upname;\n        members[method.init[name]] = function(value) {\n          return qx.core.Property.executeOptimizedSetter(this, clazz, name, \"init\", arguments);\n        };\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          members[method.init[name]].$$propertyMethod = true;\n        }\n      }\n\n      if (config.inheritable)\n      {\n        method.refresh[name] = \"refresh\" + upname;\n        members[method.refresh[name]] = function(value) {\n          return qx.core.Property.executeOptimizedSetter(this, clazz, name, \"refresh\", arguments);\n        };\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          members[method.refresh[name]].$$propertyMethod = true;\n        }\n      }\n\n      method.setRuntime[name] = \"setRuntime\" + upname;\n      members[method.setRuntime[name]] = function(value) {\n        return qx.core.Property.executeOptimizedSetter(this, clazz, name, \"setRuntime\", arguments);\n      };\n\n      method.resetRuntime[name] = \"resetRuntime\" + upname;\n      members[method.resetRuntime[name]] = function() {\n        return qx.core.Property.executeOptimizedSetter(this, clazz, name, \"resetRuntime\");\n      };\n\n      if (config.themeable)\n      {\n        method.setThemed[name] = \"setThemed\" + upname;\n        members[method.setThemed[name]] = function(value) {\n          return qx.core.Property.executeOptimizedSetter(this, clazz, name, \"setThemed\", arguments);\n        };\n\n        method.resetThemed[name] = \"resetThemed\" + upname;\n        members[method.resetThemed[name]] = function() {\n          return qx.core.Property.executeOptimizedSetter(this, clazz, name, \"resetThemed\");\n        };\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          members[method.setThemed[name]].$$propertyMethod = true;\n          members[method.resetThemed[name]].$$propertyMethod = true;\n        }\n      }\n\n      if (config.check === \"Boolean\")\n      {\n        members[\"toggle\" + upname] = new Function(\"return this.\" + method.set[name] + \"(!this.\" + method.get[name] + \"())\");\n        members[\"is\" + upname] = new Function(\"return this.\" + method.get[name] + \"()\");\n\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          members[\"toggle\" + upname].$$propertyMethod = true;\n          members[\"is\" + upname].$$propertyMethod = true;\n        }\n      }\n\n      // attach a flag to make generated property methods\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        members[method.get[name]].$$propertyMethod = true;\n        members[method.set[name]].$$propertyMethod = true;\n        members[method.reset[name]].$$propertyMethod = true;\n        members[method.setRuntime[name]].$$propertyMethod = true;\n        members[method.resetRuntime[name]].$$propertyMethod = true;\n      }\n    },\n\n\n    /**\n     * Returns if the reference for the given property check should be removed\n     * on dispose.\n     *\n     * @param check {var} The check of the property definition.\n     * @return {Boolean} If the dereference key should be set.\n     */\n    __shouldBeDereferenced :  function(check) {\n      return !!this.__dereference[check];\n    },\n\n\n    /** @type {Map} Internal data field for error messages used by {@link #error} */\n    __errors :\n    {\n      0 : 'Could not change or apply init value after constructing phase!',\n      1 : 'Requires exactly one argument!',\n      2 : 'Undefined value is not allowed!',\n      3 : 'Does not allow any arguments!',\n      4 : 'Null value is not allowed!',\n      5 : 'Is invalid!'\n    },\n\n\n    /**\n     * Error method used by the property system to report errors.\n     *\n     * @param obj {qx.core.Object} Any qooxdoo object\n     * @param id {Integer} Numeric error identifier\n     * @param property {String} Name of the property\n     * @param variant {String} Name of the method variant e.g. \"set\", \"reset\", ...\n     * @param value {var} Incoming value\n     */\n    error : function(obj, id, property, variant, value)\n    {\n      var classname = obj.constructor.classname;\n      var msg = \"Error in property \" + property + \" of class \" + classname +\n        \" in method \" + this.$$method[variant][property] + \" with incoming value '\" + value + \"': \";\n\n      throw new Error(msg + (this.__errors[id] || \"Unknown reason: \" + id));\n    },\n\n\n    /**\n     * Compiles a string builder object to a function, executes the function and\n     * returns the return value.\n     *\n     * @param instance {Object} Instance which have called the original method\n     * @param members {Object} Prototype members map where the new function should be stored\n     * @param name {String} Name of the property\n     * @param variant {String} Function variant e.g. get, set, reset, ...\n     * @param code {Array} Array which contains the code\n     * @param args {arguments} Incoming arguments of wrapper method\n     * @return {var} Return value of the generated function\n     */\n    __unwrapFunctionFromCode : function(instance, members, name, variant, code, args)\n    {\n    \tvar fn = this.__installFunctionFromCode(instance.constructor, name, variant, code, args);\n\n      // Executing new function\n      if (args === undefined) {\n        return fn.call(instance);\n      } else if (qx.core.Environment.get(\"qx.debug\")) {\n        return fn.apply(instance, args);\n      } else {\n        return fn.call(instance, args[0]);\n      }\n    },\n\n    \n    /**\n     * Takes a string builder object, converts it into a function, and installs it as\n     * a property accessor\n     *\n     * @param clazz {Class} Class to install the method into\n     * @param name {String} Name of the property\n     * @param variant {String} Function variant e.g. get, set, reset, ...\n     * @param code {Array} Array which contains the code\n     * @param args {arguments} Incoming arguments of wrapper method\n     * @return {var} Return value of the generated function\n     */\n    __installFunctionFromCode : function(clazz, name, variant, code, args)\n    {\n      var store = this.$$method[variant][name];\n\n      // Output generate code\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (qx.core.Environment.get(\"qx.debug.property.level\") > 1) {\n          qx.Bootstrap.debug(\"Code[\" + this.$$method[variant][name] + \"]: \" + code.join(\"\"));\n        }\n\n        // Overriding temporary wrapper\n        try{\n          clazz.prototype[store] =  new Function(\"value\", code.join(\"\"));\n        } catch(ex) {\n          throw new Error(\"Malformed generated code to unwrap method: \" + this.$$method[variant][name] + \"\\n\" + code.join(\"\"));\n        }\n      }\n      else\n      {\n        clazz.prototype[store] =  new Function(\"value\", code.join(\"\"));\n      }\n\n      // Enable profiling code\n      if (qx.core.Environment.get(\"qx.aspects\")) {\n        clazz.prototype[store] = qx.core.Aspect.wrap(clazz.classname + \".\" + store, clazz.prototype[store], \"property\");\n      }\n\n      qx.Bootstrap.setDisplayName(clazz.prototype[store], clazz.classname + \".prototype\", store);\n      return clazz.prototype[store];\n    },\n\n\n    /**\n     * Generates the optimized getter, installs it into the class prototype, and executes it\n     * Supported variants: get\n     *\n     * @param instance {Object} the instance which calls the method\n     * @param clazz {Class} the class which originally defined the property\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     * @return {var} Execute return value of apply generated function, generally the incoming value\n     */\n    executeOptimizedGetter : function(instance, clazz, name, variant)\n    {\n      var code = this.__compileGetter(clazz, name, variant);\n      var members = clazz.prototype;\n      return this.__unwrapFunctionFromCode(instance, members, name, variant, code);\n    },\n    \n    \n    /**\n     * Installs a getter into the class prototype, without executing it\n     * Supported variants: get\n     *\n     * @param clazz {Class} the class which originally defined the property\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     */\n    __installOptimizedGetter : function(clazz, name, variant)\n    {\n      var code = this.__compileGetter(clazz, name, variant);\n      this.__installFunctionFromCode(clazz, name, variant, code);\n    },\n    \n    \n    /**\n     * Compiles a getter into a string builder array\n     * Supported variants: get\n     *\n     * @param clazz {Class} the class which originally defined the property\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     * @return {String[]} the string builder array\n     */\n    __compileGetter: function(clazz, name, variant)\n    {\n      var config = clazz.$$properties[name];\n      var code = [];\n      var store = this.$$store;\n      \n      if (variant == \"getAsync\") {\n      \tcode.push(\"return qx.Promise.resolve(this.\" + this.$$method.get[name] + \"());\");\n      \treturn code;\n      }\n\n      code.push('if(this.', store.runtime[name], '!==undefined)');\n      code.push('return this.', store.runtime[name], ';');\n\n      if (config.inheritable)\n      {\n        code.push('else if(this.', store.inherit[name], '!==undefined)');\n        code.push('return this.', store.inherit[name], ';');\n        code.push('else ');\n      }\n\n      code.push('if(this.', store.user[name], '!==undefined)');\n      code.push('return this.', store.user[name], ';');\n\n      if (config.themeable)\n      {\n        code.push('else if(this.', store.theme[name], '!==undefined)');\n        code.push('return this.', store.theme[name], ';');\n      }\n\n      if (config.deferredInit && config.init === undefined)\n      {\n        code.push('else if(this.', store.init[name], '!==undefined)');\n        code.push('return this.', store.init[name], ';');\n      }\n\n      code.push('else ');\n\n      if (config.init !== undefined)\n      {\n        if (config.inheritable)\n        {\n          code.push('var init=this.', store.init[name], ';');\n\n          if (config.nullable) {\n            code.push('if(init==qx.core.Property.$$inherit)init=null;');\n          }\n\n          code.push('return init;');\n        }\n        else\n        {\n          code.push('return this.', store.init[name], ';');\n        }\n      }\n      else if (config.inheritable || config.nullable) {\n        code.push('return null;');\n      } else {\n        code.push('throw new Error(\"Property ', name, ' of an instance of ', clazz.classname, ' is not (yet) ready!\");');\n      }\n\n      return code;\n    },\n\n\n    /**\n     * Generates the optimized setter\n     * Supported variants: set, reset, init, refresh, style, unstyle\n     *\n     * @param instance {Object} the instance which calls the method\n     * @param clazz {Class} the class which originally defined the property\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     * @param args {arguments} Incoming arguments of wrapper method\n     * @return {var} Execute return value of apply generated function, generally the incoming value\n     */\n    executeOptimizedSetter : function(instance, clazz, name, variant, args)\n    {\n    \tvar code = this.__compileSetter(clazz, name, variant);\n      var members = clazz.prototype;\n      return this.__unwrapFunctionFromCode(instance, members, name, variant, code, args);\n    },\n    \n    \n    /**\n     * Installs a setter into the class prototype, without executing it\n     * Supported variants: set\n     *\n     * @param clazz {Class} the class which originally defined the property\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     * @return {var} Return value of the generated function\n     */\n    __installOptimizedSetter : function(clazz, name, variant)\n    {\n    \tvar code = this.__compileSetter(clazz, name, variant);\n      return this.__installFunctionFromCode(clazz, name, variant, code);\n    },\n    \n    \n    /**\n     * Compiles a setter into a string builder array\n     * Supported variants: set, setThemed, setRuntime, init\n     *\n     * @param instance {Object} the instance which calls the method\n     * @param clazz {Class} the class which originally defined the property\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     * @return {String[]} the string builder array\n     */\n    __compileSetter: function(clazz, name, variant) {\n      var config = clazz.$$properties[name];\n      var members = clazz.prototype;\n      var code = [];\n      \n      var upname = qx.lang.String.firstUp(name);\n      if (variant == \"setAsync\") {\n        code.push('return qx.Promise.resolve(this.$$set' + upname + \"Impl.apply(this, arguments));\");\n        return code;\n        \n      } else if (variant == \"set\") {\n        code.push(\n            'this.$$set' + upname + \"Impl.apply(this, arguments);\",\n            'return value;');\n        return code;\n        \n      }\n      \n      var incomingValue = \n        variant === \"setImpl\" ||\n        variant === \"setThemed\" || \n        variant === \"setRuntime\" || \n        (variant === \"init\" && config.init === undefined);\n      var hasCallback = config.apply || config.event || config.inheritable;\n\n\n      var store = this.__getStore(variant, name);\n\n      this.__emitIsEqualFunction(code, clazz, config, name);\n\n      this.__emitSetterPreConditions(code, config, name, variant, incomingValue);\n      \n      if (incomingValue || hasCallback) {\n        this.__emitOldValue(code, config, name);\n      }\n\n      if (incomingValue) {\n        this.__emitIncomingValueTransformation(code, clazz, config, name);\n      }\n\n      if (hasCallback) {\n        this.__emitOldNewComparison(code, incomingValue, store, variant);\n      }\n\n      if (config.inheritable) {\n        code.push('var inherit=prop.$$inherit;');\n      }\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (incomingValue) {\n          this.__emitIncomingValueValidation(code, config, clazz, name, variant);\n        }\n      }\n\n      if (!hasCallback) {\n        this.__emitStoreValue(code, name, variant, incomingValue);\n      } else {\n        this.__emitStoreComputedValue(code, config, name, variant, incomingValue);\n      }\n\n      if (config.inheritable) {\n        this.__emitStoreInheritedPropertyValue(code, config, name, variant);\n      } else if (hasCallback) {\n        this.__emitNormalizeUndefinedValues(code, config, name, variant);\n      }\n\n      if (hasCallback)\n      {\n        // Emit callback and event firing; Refreshing children (5th parameter) requires the parent/children interface\n        this.__emitCallCallback(code, config, name, variant, !!(config.inheritable && members._getChildren));\n      }\n\n      // Return value\n      if (incomingValue) {\n        code.unshift('function set(value){');\n        code.push('}');\n        if (qx.core.Environment.get(\"qx.promise\") && (!config.check || config.check != \"qx.Promise\")) {\n          code.push(\n              'var promise;',\n              'if (value instanceof qx.Promise) ',\n                'promise = value.then(set.bind(this));',\n              'else ',\n                'promise = set.apply(this, arguments);');\n          if (variant == \"setImpl\") {\n            code.push(\"return promise;\");\n          } else {\n            code.push('return value;');\n          }\n        } else {\n          code.push(\n              'set.apply(this, arguments);',\n              'return value;');\n        }\n      }\n      \n      return code;\n    },\n\n\n    /**\n     * Get the object to store the value for the given variant\n     *\n     * @param variant {String} Method variant.\n     * @param name {String} name of the property\n     *\n     * @return {Object} the value store\n     */\n    __getStore : function(variant, name)\n    {\n      if (variant === \"setRuntime\" || variant === \"resetRuntime\") {\n        var store = this.$$store.runtime[name];\n      } else if (variant === \"setThemed\" || variant === \"resetThemed\") {\n        store = this.$$store.theme[name];\n      } else if (variant === \"init\") {\n        store = this.$$store.init[name];\n      } else {\n        store = this.$$store.user[name];\n      }\n\n      return store;\n    },\n\n\n    /**\n     * Emit code for the equality check evaluation\n     *\n     * @param code {String[]} String array to append the code to\n     * @param clazz {Class} the class which originally defined the property\n     * @param config {Object} The property configuration map\n     * @param name {String} name of the property\n     */\n    __emitIsEqualFunction : function (code, clazz, config, name)\n    {\n      code.push('var equ=');\n\n      if (typeof config.isEqual === \"function\")\n      {\n        code.push('function(a,b){return !!', clazz.classname, '.$$properties.',\n                  name, '.isEqual.call(this,a,b);};');\n      }\n      else if (typeof config.isEqual === \"string\")\n      {\n        var members = clazz.prototype;\n        // Name of member?\n        if (members[config.isEqual]!==undefined)\n        {\n          code.push('this.', config.isEqual, ';');\n        }\n        else // 'inline' code\n        {\n          code.push('function(a,b){return !!(', config.isEqual, ');};');\n        }\n      }\n      else if (typeof config.isEqual === \"undefined\")\n      {\n        code.push('function(a,b){return a===b;};');\n      }\n      else\n      {\n        throw new Error( \"Invalid type for 'isEqual' attribute \" +\n          \"of property '\" + name + \"' in class '\" + clazz.classname + \"'\" );\n      }\n    },\n\n\n    /**\n     * Emit code to check the arguments preconditions\n     *\n     * @param code {String[]} String array to append the code to\n     * @param config {Object} The property configuration map\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     * @param incomingValue {Boolean} Whether the setter has an incoming value\n     */\n    __emitSetterPreConditions : function(code, config, name, variant, incomingValue)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        code.push('var prop=qx.core.Property;');\n\n        if (variant === \"init\") {\n          code.push('if(this.$$initialized)prop.error(this,0,\"', name, '\",\"', variant, '\",value);');\n        }\n\n        if (variant === \"refresh\")\n        {\n          // do nothing\n          // refresh() is internal => no arguments test\n          // also note that refresh() supports \"undefined\" values\n        }\n        else if (incomingValue)\n        {\n          // Check argument length\n          code.push('if(arguments.length!==1)prop.error(this,1,\"', name, '\",\"', variant, '\",value);');\n\n          // Undefined check\n          code.push('if(value===undefined)prop.error(this,2,\"', name, '\",\"', variant, '\",value);');\n        }\n        else\n        {\n          // Check argument length\n          code.push('if(arguments.length!==0)prop.error(this,3,\"', name, '\",\"', variant, '\",value);');\n        }\n      }\n      else\n      {\n        if (!config.nullable || config.check || config.inheritable) {\n          code.push('var prop=qx.core.Property;');\n        }\n\n        // Undefined check\n        if (variant === \"setImpl\") {\n          code.push('if(value===undefined)prop.error(this,2,\"', name, '\",\"', variant, '\",value);');\n        }\n      }\n    },\n\n\n    /**\n     * Emit code to apply the \"validate\" and \"transform\" config keys.\n     *\n     * @param code {String[]} String array to append the code to\n     * @param clazz {Class} the class which originally defined the property\n     * @param config {Object} The property configuration map\n     * @param name {String} name of the property\n     */\n    __emitIncomingValueTransformation : function(code, clazz, config, name)\n    {\n      // Call user-provided transform method, if one is provided.  Transform\n      // method should either throw an error or return the new value.\n      if (config.transform) {\n        code.push('value=this.', config.transform, '(value, old);');\n      }\n\n      // Call user-provided validate method, if one is provided.  Validate\n      // method should either throw an error or do nothing.\n      if (config.validate) {\n        // if it is a string\n        if (typeof config.validate === \"string\") {\n          code.push('this.', config.validate, '(value);');\n        // if its a function otherwise\n        } else if (config.validate instanceof Function) {\n          code.push(clazz.classname, '.$$properties.', name);\n          code.push('.validate.call(this, value);');\n        }\n      }\n    },\n\n\n    /**\n     * Emit code, which returns if the incoming value equals the current value.\n     *\n     * @param code {String[]} String array to append the code to\n     * @param incomingValue {Boolean} Whether the setter has an incoming value\n     * @param store {Object} The data store to use for the incoming value\n     * @param variant {String} Method variant.\n     */\n    __emitOldNewComparison : function(code, incomingValue, store, variant)\n    {\n      var resetValue = (\n        variant === \"reset\" ||\n        variant === \"resetThemed\" ||\n        variant === \"resetRuntime\"\n      );\n\n      if (incomingValue) {\n        code.push('if(equ.call(this,this.',store,',value))return value;');\n      } else if (resetValue) {\n        code.push('if(this.', store, '===undefined)return;');\n      }\n    },\n\n\n    /**\n     * Emit code, which performs validation of the incoming value according to\n     * the \"nullable\", \"check\" and \"inheritable\" config keys.\n     *\n     * @signature function(code, config, clazz, name, variant)\n     * @param code {String[]} String array to append the code to\n     * @param config {Object} The property configuration map\n     * @param clazz {Class} the class which originally defined the property\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     */\n    __emitIncomingValueValidation : qx.core.Environment.select(\"qx.debug\",\n    {\n      \"true\" : function(code, config, clazz, name, variant)\n      {\n        // Null check\n        if (!config.nullable) {\n          code.push('if(value===null)prop.error(this,4,\"', name, '\",\"', variant, '\",value);');\n        }\n\n        // Processing check definition\n        if (config.check !== undefined)\n        {\n          code.push('var msg = \"Invalid incoming value for property \\''+name+'\\' of class \\'' + clazz.classname + '\\'\";');\n\n          // Accept \"null\"\n          if (config.nullable) {\n            code.push('if(value!==null)');\n          }\n\n          // Inheritable properties always accept \"inherit\" as value\n          if (config.inheritable) {\n            code.push('if(value!==inherit)');\n          }\n\n          code.push('if(');\n\n          if (this.__checks[config.check] !== undefined)\n          {\n            code.push('!(', this.__checks[config.check], ')');\n          }\n          else if (qx.Class.isDefined(config.check))\n          {\n            code.push('qx.core.Assert.assertInstance(value, qx.Class.getByName(\"', config.check, '\"), msg)');\n          }\n          else if (qx.Interface && qx.Interface.isDefined(config.check))\n          {\n            code.push('qx.core.Assert.assertInterface(value, qx.Interface.getByName(\"', config.check, '\"), msg)');\n          }\n          else if (typeof config.check === \"function\")\n          {\n            code.push('!', clazz.classname, '.$$properties.', name);\n            code.push('.check.call(this, value)');\n          }\n          else if (typeof config.check === \"string\")\n          {\n            code.push('!(', config.check, ')');\n          }\n          else if (config.check instanceof Array)\n          {\n            code.push('qx.core.Assert.assertInArray(value, ', clazz.classname, '.$$properties.', name, '.check, msg)');\n          }\n          else\n          {\n            throw new Error(\"Could not add check to property \" + name + \" of class \" + clazz.classname);\n          }\n\n          code.push(')prop.error(this,5,\"', name, '\",\"', variant, '\",value);');\n        }\n      },\n\n      \"false\" : undefined\n    }),\n\n\n    /**\n     * Emit code to store the incoming value\n     *\n     * @param code {String[]} String array to append the code to\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     * @param incomingValue {Boolean} Whether the setter has an incoming value\n     */\n    __emitStoreValue : function(code, name, variant, incomingValue)\n    {\n      if (variant === \"setRuntime\")\n      {\n        code.push('this.', this.$$store.runtime[name], '=value;');\n      }\n      else if (variant === \"resetRuntime\")\n      {\n        code.push('if(this.', this.$$store.runtime[name], '!==undefined)');\n        code.push('delete this.', this.$$store.runtime[name], ';');\n      }\n      else if (variant === \"setImpl\")\n      {\n        code.push('this.', this.$$store.user[name], '=value;');\n      }\n      else if (variant === \"reset\")\n      {\n        code.push('if(this.', this.$$store.user[name], '!==undefined)');\n        code.push('delete this.', this.$$store.user[name], ';');\n      }\n      else if (variant === \"setThemed\")\n      {\n        code.push('this.', this.$$store.theme[name], '=value;');\n      }\n      else if (variant === \"resetThemed\")\n      {\n        code.push('if(this.', this.$$store.theme[name], '!==undefined)');\n        code.push('delete this.', this.$$store.theme[name], ';');\n      }\n      else if (variant === \"init\" && incomingValue)\n      {\n        code.push('this.', this.$$store.init[name], '=value;');\n      }\n    },\n\n\n    /**\n     * Emit code to store the incoming value and compute the \"old\" and \"computed\"\n     * values.\n     *\n     * @param code {String[]} String array to append the code to\n     * @param config {Object} The property configuration map\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     * @param incomingValue {Boolean} Whether the setter has an incoming value\n     */\n    __emitStoreComputedValue : function(code, config, name, variant, incomingValue)\n    {\n      code.push('var computed;');\n\n\n      // OLD = RUNTIME VALUE\n      code.push('if(this.', this.$$store.runtime[name], '!==undefined){');\n\n      if (variant === \"setRuntime\")\n      {\n        // Replace it with new value\n        code.push('computed=this.', this.$$store.runtime[name], '=value;');\n      }\n      else if (variant === \"resetRuntime\")\n      {\n        // Delete field\n        code.push('delete this.', this.$$store.runtime[name], ';');\n\n        // Complex computation of new value\n        code.push('if(this.', this.$$store.user[name], '!==undefined)');\n        code.push('computed=this.', this.$$store.user[name], ';');\n        code.push('else if(this.', this.$$store.theme[name], '!==undefined)');\n        code.push('computed=this.', this.$$store.theme[name], ';');\n        code.push('else if(this.', this.$$store.init[name], '!==undefined){');\n        code.push('computed=this.', this.$$store.init[name], ';');\n        code.push('this.', this.$$store.useinit[name], '=true;');\n        code.push('}');\n      }\n      else\n      {\n        // Use runtime value as it has higher priority\n        code.push('computed=this.', this.$$store.runtime[name], ';');\n\n        // Store incoming value\n        if (variant === \"setImpl\")\n        {\n          code.push('this.', this.$$store.user[name], '=value;');\n        }\n        else if (variant === \"reset\")\n        {\n          code.push('delete this.', this.$$store.user[name], ';');\n        }\n        else if (variant === \"setThemed\")\n        {\n          code.push('this.', this.$$store.theme[name], '=value;');\n        }\n        else if (variant === \"resetThemed\")\n        {\n          code.push('delete this.', this.$$store.theme[name], ';');\n        }\n        else if (variant === \"init\" && incomingValue)\n        {\n          code.push('this.', this.$$store.init[name], '=value;');\n        }\n      }\n\n      code.push('}');\n\n\n      // OLD = USER VALUE\n      code.push('else if(this.', this.$$store.user[name], '!==undefined){');\n\n      if (variant === \"setImpl\")\n      {\n        // Replace it with new value\n        code.push('computed=this.', this.$$store.user[name], '=value;');\n      }\n      else if (variant === \"reset\")\n      {\n        // Delete field\n        code.push('delete this.', this.$$store.user[name], ';');\n\n        // Complex computation of new value\n        code.push('if(this.', this.$$store.runtime[name], '!==undefined)');\n        code.push('computed=this.', this.$$store.runtime[name], ';');\n        code.push('if(this.', this.$$store.theme[name], '!==undefined)');\n        code.push('computed=this.', this.$$store.theme[name], ';');\n        code.push('else if(this.', this.$$store.init[name], '!==undefined){');\n        code.push('computed=this.', this.$$store.init[name], ';');\n        code.push('this.', this.$$store.useinit[name], '=true;');\n        code.push('}');\n      }\n      else\n      {\n        if (variant === \"setRuntime\")\n        {\n          // Use runtime value where it has higher priority\n          code.push('computed=this.', this.$$store.runtime[name], '=value;');\n        }\n        else if (config.inheritable)\n        {\n          // Use user value where it has higher priority\n          code.push('computed=this.', this.$$store.user[name], ';');\n        }\n        else\n        {\n          // Use user value where it has higher priority\n          code.push('computed=this.', this.$$store.user[name], ';');\n        }\n\n        // Store incoming value\n        if (variant === \"setThemed\")\n        {\n          code.push('this.', this.$$store.theme[name], '=value;');\n        }\n        else if (variant === \"resetThemed\")\n        {\n          code.push('delete this.', this.$$store.theme[name], ';');\n        }\n        else if (variant === \"init\" && incomingValue)\n        {\n          code.push('this.', this.$$store.init[name], '=value;');\n        }\n      }\n\n      code.push('}');\n\n\n      // OLD = THEMED VALUE\n      if (config.themeable)\n      {\n        code.push('else if(this.', this.$$store.theme[name], '!==undefined){');\n\n        if (variant === \"setRuntime\")\n        {\n          code.push('computed=this.', this.$$store.runtime[name], '=value;');\n        }\n\n        else if (variant === \"setImpl\")\n        {\n          code.push('computed=this.', this.$$store.user[name], '=value;');\n        }\n\n        // reset() is impossible, because the user has higher priority than\n        // the themed value, so the themed value has no chance to ever get used,\n        // when there is an user value, too.\n\n        else if (variant === \"setThemed\")\n        {\n          code.push('computed=this.', this.$$store.theme[name], '=value;');\n        }\n        else if (variant === \"resetThemed\")\n        {\n          // Delete entry\n          code.push('delete this.', this.$$store.theme[name], ';');\n\n          // Fallback to init value\n          code.push('if(this.', this.$$store.init[name], '!==undefined){');\n            code.push('computed=this.', this.$$store.init[name], ';');\n            code.push('this.', this.$$store.useinit[name], '=true;');\n          code.push('}');\n        }\n        else if (variant === \"init\")\n        {\n          if (incomingValue) {\n            code.push('this.', this.$$store.init[name], '=value;');\n          }\n\n          code.push('computed=this.', this.$$store.theme[name], ';');\n        }\n        else if (variant === \"refresh\")\n        {\n          code.push('computed=this.', this.$$store.theme[name], ';');\n        }\n\n        code.push('}');\n      }\n\n\n      // OLD = INIT VALUE\n      code.push('else if(this.', this.$$store.useinit[name], '){');\n\n      if (variant === \"init\")\n      {\n        if (incomingValue) {\n          code.push('computed=this.', this.$$store.init[name], '=value;');\n        } else {\n          code.push('computed=this.', this.$$store.init[name], ';');\n        }\n\n        // useinit flag is already initialized\n      }\n\n      // reset(), resetRuntime() and resetStyle() are impossible, because the user and themed values have a\n      // higher priority than the init value, so the init value has no chance to ever get used,\n      // when there is an user or themed value, too.\n\n      else if (variant === \"setImpl\" || variant === \"setRuntime\" || variant === \"setThemed\" || variant === \"refresh\")\n      {\n        code.push('delete this.', this.$$store.useinit[name], ';');\n\n        if (variant === \"setRuntime\") {\n          code.push('computed=this.', this.$$store.runtime[name], '=value;');\n        } else if (variant === \"setImpl\") {\n          code.push('computed=this.', this.$$store.user[name], '=value;');\n        } else if (variant === \"setThemed\") {\n          code.push('computed=this.', this.$$store.theme[name], '=value;');\n        } else if (variant === \"refresh\") {\n          code.push('computed=this.', this.$$store.init[name], ';');\n        }\n      }\n\n      code.push('}');\n\n\n      // OLD = NONE\n\n      // reset(), resetRuntime() and resetStyle() are impossible because otherwise there\n      // is already an old value\n      if (variant === \"setImpl\" || variant === \"setRuntime\" || variant === \"setThemed\" || variant === \"init\")\n      {\n        code.push('else{');\n\n        if (variant === \"setRuntime\")\n        {\n          code.push('computed=this.', this.$$store.runtime[name], '=value;');\n        }\n\n        else if (variant === \"setImpl\")\n        {\n          code.push('computed=this.', this.$$store.user[name], '=value;');\n        }\n\n        else if (variant === \"setThemed\")\n        {\n          code.push('computed=this.', this.$$store.theme[name], '=value;');\n        }\n\n        else if (variant === \"init\")\n        {\n          if (incomingValue) {\n            code.push('computed=this.', this.$$store.init[name], '=value;');\n          } else {\n            code.push('computed=this.', this.$$store.init[name], ';');\n          }\n\n          code.push('this.', this.$$store.useinit[name], '=true;');\n        }\n\n        // refresh() will work with the undefined value, later\n        code.push('}');\n      }\n    },\n\n\n    /**\n     * Emit code to compute the \"old\" value.\n     *\n     * @param code {String[]} String array to append the code to\n     * @param config {Object} The property configuration map\n     * @param name {String} name of the property\n     */\n    __emitOldValue : function(code, config, name)\n    {\n      if (config.inheritable) {\n        code.push('var old=this.', this.$$store.inherit[name], ';');\n      } else {\n        code.push('var old;');\n      }\n\n      // OLD = RUNTIME VALUE\n      code.push('if(this.', this.$$store.runtime[name], '!==undefined){');\n      code.push('old=this.', this.$$store.runtime[name], ';');\n      code.push('}');\n\n      // OLD = USER VALUE\n      if (!config.inheritable) {\n        code.push('else if(this.', this.$$store.user[name], '!==undefined){');\n        code.push('old=this.', this.$$store.user[name], ';');\n        code.push('}');\n        \n        // OLD = THEMED VALUE\n        if (config.themeable) {\n          code.push('else if(this.', this.$$store.theme[name], '!==undefined){');\n          code.push('old=this.', this.$$store.theme[name], ';');\n          code.push('}');\n        }\n        \n        // OLD = INIT VALUE\n        code.push('else if(this.', this.$$store.useinit[name], '){');\n        code.push('old=this.', this.$$store.init[name], ';');\n        code.push('}');\n      }\n    },\n\n\n    /**\n     * Emit code to store the value of an inheritable property\n     *\n     * @param code {String[]} String array to append the code to\n     * @param config {Object} The property configuration map\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     */\n    __emitStoreInheritedPropertyValue : function(code, config, name, variant)\n    {\n      code.push('if(computed===undefined||computed===inherit){');\n\n      if (variant === \"refresh\") {\n        code.push('computed=value;');\n      } else {\n        code.push('var pa=this.getLayoutParent();if(pa)computed=pa.', this.$$store.inherit[name], ';');\n      }\n\n      // Fallback to init value if inheritance was unsuccessful\n      code.push('if((computed===undefined||computed===inherit)&&');\n      code.push('this.', this.$$store.init[name], '!==undefined&&');\n      code.push('this.', this.$$store.init[name], '!==inherit){');\n        code.push('computed=this.', this.$$store.init[name], ';');\n        code.push('this.', this.$$store.useinit[name], '=true;');\n      code.push('}else{');\n      code.push('delete this.', this.$$store.useinit[name], ';}');\n\n      code.push('}');\n\n      // Compare old/new computed value\n      code.push('if(equ.call(this,old,computed))return value;');\n\n      // Note: At this point computed can be \"inherit\" or \"undefined\".\n\n      // Normalize \"inherit\" to undefined and delete inherited value\n      code.push('if(computed===inherit){');\n      code.push('computed=undefined;delete this.', this.$$store.inherit[name], ';');\n      code.push('}');\n\n      // Only delete inherited value\n      code.push('else if(computed===undefined)');\n      code.push('delete this.', this.$$store.inherit[name], ';');\n\n      // Store inherited value\n      code.push('else this.', this.$$store.inherit[name], '=computed;');\n\n      // Protect against normalization\n      code.push('var backup=computed;');\n\n      // After storage finally normalize computed and old value\n      if (config.init !== undefined && variant !== \"init\") {\n        code.push('if(old===undefined)old=this.', this.$$store.init[name], \";\");\n      } else {\n        code.push('if(old===undefined)old=null;');\n      }\n      code.push('if(computed===undefined||computed==inherit)computed=null;');\n    },\n\n\n    /**\n     * Emit code to normalize the old and incoming values from undefined to\n     * <code>null</code>.\n     *\n     * @param code {String[]} String array to append the code to\n     * @param config {Object} The property configuration map\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     */\n    __emitNormalizeUndefinedValues : function(code, config, name, variant)\n    {\n      // Properties which are not inheritable have no possibility to get\n      // undefined at this position. (Hint: set(), setRuntime() and setThemed() only allow non undefined values)\n      if (variant !== \"setImpl\" && variant !== \"setRuntime\" && variant !== \"setThemed\") {\n        code.push('if(computed===undefined)computed=null;');\n      }\n\n      // Compare old/new computed value\n      code.push('if(equ.call(this,old,computed))return value;');\n\n      // Normalize old value\n      if (config.init !== undefined && variant !== \"init\") {\n        code.push('if(old===undefined)old=this.', this.$$store.init[name], \";\");\n      } else {\n        code.push('if(old===undefined)old=null;');\n      }\n    },\n\n\n    /**\n     * Emit code to call the apply method and fire the change event\n     *\n     * @param code {String[]} String array to append the code to\n     * @param config {Object} The property configuration map\n     * @param name {String} name of the property\n     * @param variant {String} variant of the method e.g. setThemed\n     * @param refresh {Boolean} if true, emit code to update the inherited values of child objects\n     */\n    __emitCallCallback : function(code, config, name, variant, refresh)\n    {\n      // Execute user configured setter\n      code.push('var promise;');\n      if (config.apply) {\n        code.push('promise = this.', config.apply, '(computed, old, \"', name, '\", \"', variant, '\");');\n      }\n      \n      if (config.async) {\n        code.push(\n        \t\t\"function fire() {\",\n              \"var promiseData = qx.Promise.resolve(computed);\",\n              \"var promise = promiseData;\"\n        \t\t);\n        \n        // Fire event\n        if (config.event) {\n          code.push(\n              \"var reg=qx.event.Registration;\",\n              \"if(reg.hasListener(this, '\", config.event, \"')) {\",\n                \"promise = reg.fireEventAsync(this, '\", config.event, \"', qx.event.type.Data, [computed, old]\", \");\",\n                \"promise = promise.then(function() { return computed; });\",\n              \"}\",\n              \"if(reg.hasListener(this, '\", config.event, \"Async'))\",\n                \"promise = promise.then(function() {\",\n                    \"return reg.fireEventAsync(this, '\", config.event, \"Async', qx.event.type.Data, [promiseData, old]\", \");\",\n                  \"}, this);\"\n              );\n        }\n        \n        // Emit code to update the inherited values of child objects\n        if (refresh) {\n          code.push(\n            'var a=this._getChildren();',\n            'if(a)',\n              'for(var i=0,l=a.length;i<l;i++){',\n                'if(a[i].', this.$$method.refresh[name], ')',\n                  'a[i].', this.$$method.refresh[name], '(backup);',\n              '}');\n        }\n        \n        code.push(\n            \"return promise;\",\n          \"}\");\n      } else {\n        code.push(\n          \"function fire() {\",\n          \"  var tracker={};\");\n            \n        // Fire event\n        if (config.event) {\n          code.push(\n              \"var reg=qx.event.Registration;\",\n              \n              \"if(reg.hasListener(this, '\", config.event, \"'))\",\n                \"qx.event.Utils.track(tracker, reg.fireEvent(this, '\", config.event, \"', qx.event.type.Data, [computed, old]\", \"));\");\n          if (qx.core.Environment.get(\"qx.promise\")) {\n            code.push(\n                \"if(reg.hasListener(this, '\", config.event, \"Async'))\",\n                  \"qx.event.Utils.then(tracker, function() {\\n\" +\n                  \"  return reg.fireEventAsync(this, '\", config.event, \"Async', qx.event.type.Data, [qx.Promise.resolve(computed), old]\", \");\\n\" +\n                  \"});\"\n                );\n          }\n        }\n        // Emit code to update the inherited values of child objects\n        if (refresh) {\n          code.push(\n            'var a=this._getChildren();',\n            'if(a)',\n              'for(var i=0,l=a.length;i<l;i++){',\n                'if(a[i].', this.$$method.refresh[name], ')',\n                  'a[i].', this.$$method.refresh[name], '(backup);',\n              '}');\n        }\n        \n        code.push(\n            \"if (tracker.promise)\\n\",\n            \"  return tracker.promise.then(function() { return computed; });\",\n            \"return computed;\",\n          \"}\");\n      }\n      \n      if (qx.core.Environment.get(\"qx.promise\")) {\n        code.push(\n            \"if(promise instanceof qx.Promise) \" +\n              \"return promise.then(fire, this); \"\n          );\n      }\n      code.push(\n        \"return fire.call(this);\"\n      );\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n/**\n * This class is a base class for the OO system defined by Class, Mixin\n * and Interface. It contains helper which are basically needed to create the\n * Classes which define the OO system.\n */\nqx.Bootstrap.define(\"qx.util.OOUtil\",\n{\n  statics :\n  {\n    /**\n     * Whether the given class exists\n     *\n     * @param name {String} class name to check\n     * @return {Boolean} true if class exists\n     */\n    classIsDefined : function(name) {\n      return qx.Bootstrap.getByName(name) !== undefined;\n    },\n\n\n    /**\n     * Returns the definition of the given property, if not redefined.\n     * Returns null if the property does not exist.\n     *\n     * @param clazz {Class} class to check\n     * @param name {String} name of the class to check for\n     * @return {Map|null} whether the object support the given event.\n     */\n    getPropertyDefinition : function(clazz, name)\n    {\n      while (clazz)\n      {\n        if (clazz.$$properties && clazz.$$properties[name]) {\n          return clazz.$$properties[name];\n        }\n\n        clazz = clazz.superclass;\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Whether a class has the given property\n     *\n     * @param clazz {Class} class to check\n     * @param name {String} name of the property to check for\n     * @return {Boolean} whether the class includes the given property.\n     */\n    hasProperty : function(clazz, name) {\n      return !!qx.util.OOUtil.getPropertyDefinition(clazz, name);\n    },\n\n\n    /**\n     * Returns the event type of the given event. Returns null if\n     * the event does not exist.\n     *\n     * @param clazz {Class} class to check\n     * @param name {String} name of the event\n     * @return {String|null} Event type of the given event.\n     */\n    getEventType : function(clazz, name)\n    {\n      var clazz = clazz.constructor;\n\n      while (clazz.superclass)\n      {\n        if (clazz.$$events && clazz.$$events[name] !== undefined) {\n          return clazz.$$events[name];\n        }\n\n        clazz = clazz.superclass;\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Whether a class supports the given event type\n     *\n     * @param clazz {Class} class to check\n     * @param name {String} name of the event to check for\n     * @return {Boolean} whether the class supports the given event.\n     */\n    supportsEvent : function(clazz, name) {\n      return !!qx.util.OOUtil.getEventType(clazz, name);\n    },\n\n\n    /**\n     * Returns the class or one of its super classes which contains the\n     * declaration of the given interface. Returns null if the interface is not\n     * specified anywhere.\n     *\n     * @param clazz {Class} class to look for the interface\n     * @param iface {Interface} interface to look for\n     * @return {Class | null} the class which directly implements the given interface\n     */\n    getByInterface : function(clazz, iface)\n    {\n      var list, i, l;\n\n      while (clazz)\n      {\n        if (clazz.$$implements)\n        {\n          list = clazz.$$flatImplements;\n\n          for (i=0, l=list.length; i<l; i++)\n          {\n            if (list[i] === iface) {\n              return clazz;\n            }\n          }\n        }\n\n        clazz = clazz.superclass;\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Whether a given class or any of its super classes includes a given interface.\n     *\n     * This function will return \"true\" if the interface was defined\n     * in the class declaration ({@link qx.Class#define}) of the class\n     * or any of its super classes using the \"implement\"\n     * key.\n     *\n     * @param clazz {Class} class to check\n     * @param iface {Interface} the interface to check for\n     * @return {Boolean} whether the class includes the interface.\n     */\n    hasInterface : function(clazz, iface) {\n      return !!qx.util.OOUtil.getByInterface(clazz, iface);\n    },\n\n\n    /**\n     * Returns a list of all mixins available in a given class.\n     *\n     * @param clazz {Class} class which should be inspected\n     * @return {Mixin[]} array of mixins this class uses\n     */\n    getMixins : function(clazz)\n    {\n      var list = [];\n\n      while (clazz)\n      {\n        if (clazz.$$includes) {\n          list.push.apply(list, clazz.$$flatIncludes);\n        }\n\n        clazz = clazz.superclass;\n      }\n\n      return list;\n    }\n  }\n});","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * John Spackman (john.spackman@zenesis.com)\n\n************************************************************************ */\n\n/**\n * This class is one of the most important parts of qooxdoo's\n * object-oriented features.\n *\n * Its {@link #define} method is used to create qooxdoo classes.\n *\n * Each instance of a class defined by {@link #define} has\n * the following keys attached to the constructor and the prototype:\n *\n * <table>\n * <tr><th><code>classname</code></th><td>The fully-qualified name of the class (e.g. <code>\"qx.ui.core.Widget\"</code>).</td></tr>\n * <tr><th><code>basename</code></th><td>The namespace part of the class name (e.g. <code>\"qx.ui.core\"</code>).</td></tr>\n * <tr><th><code>constructor</code></th><td>A reference to the constructor of the class.</td></tr>\n * <tr><th><code>superclass</code></th><td>A reference to the constructor of the super class.</td></tr>\n * </table>\n *\n * Each method may access static members of the same class by using\n * <code>this.self(arguments)</code> ({@link qx.core.Object#self}):\n * <pre class='javascript'>\n * statics : { FOO : \"bar\" },\n * members: {\n *   baz: function(x) {\n *     this.self(arguments).FOO;\n *     ...\n *   }\n * }\n * </pre>\n *\n * Each overriding method may call the overridden method by using\n * <code>this.base(arguments [, ...])</code> ({@link qx.core.Object#base}). This is also true for calling\n * the constructor of the superclass.\n * <pre class='javascript'>\n * members: {\n *   foo: function(x) {\n *     this.base(arguments, x);\n *     ...\n *   }\n * }\n * </pre>\n *\n * By using <code>qx.Class</code> within an app, the native JS data types are\n * conveniently polyfilled according to {@link qx.lang.normalize}.\n * \n * Annotations can be added to classes, constructors, destructors, and methods, properties, and statics - \n * see <code>qx.Annotation</code> for examples and means access annotations at runtime.\n *\n * @require(qx.Interface)\n * @require(qx.Mixin)\n * @require(qx.lang.normalize.Array)\n * @require(qx.lang.normalize.Date)\n * @require(qx.lang.normalize.Error)\n * @require(qx.lang.normalize.Function)\n * @require(qx.lang.normalize.String)\n * @require(qx.lang.normalize.Object)\n * @require(qx.lang.normalize.Number)\n */\nqx.Bootstrap.define(\"qx.Class\",\n{\n  statics :\n  {\n    /**\n     * A static reference to the property implementation in the case it\n     * should be included.\n     */\n    __Property : qx.core.Environment.get(\"module.property\") ? qx.core.Property : null,\n\n    /*\n    ---------------------------------------------------------------------------\n       PUBLIC METHODS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Define a new class using the qooxdoo class system. This sets up the\n     * namespace for the class and generates the class from the definition map.\n     *\n     * Example:\n     * <pre class='javascript'>\n     * qx.Class.define(\"name\",\n     * {\n     *   extend : Object, // superclass\n     *   implement : [Interfaces],\n     *   include : [Mixins],\n     *\n     *   statics:\n     *   {\n     *     CONSTANT : 3.141,\n     *\n     *     publicMethod: function() {},\n     *     _protectedMethod: function() {},\n     *     __privateMethod: function() {}\n     *   },\n     *\n     *   properties:\n     *   {\n     *     \"tabIndex\": { check: \"Number\", init : -1 }\n     *   },\n     *\n     *   members:\n     *   {\n     *     publicField: \"foo\",\n     *     publicMethod: function() {},\n     *\n     *     _protectedField: \"bar\",\n     *     _protectedMethod: function() {},\n     *\n     *     __privateField: \"baz\",\n     *     __privateMethod: function() {}\n     *   }\n     * });\n     * </pre>\n     *\n     * @param name {String?null} Name of the class. If <code>null</code>, the class\n     *   will not be added to any namespace which could be handy for testing.\n     * @param config {Map ? null} Class definition structure. The configuration map has the following keys:\n     *     <table>\n     *       <tr><th>Name</th><th>Type</th><th>Description</th></tr>\n     *       <tr><th>type</th><td>String</td><td>\n     *           Type of the class. Valid types are \"abstract\", \"static\" and \"singleton\".\n     *           If unset it defaults to a regular non-static class.\n     *       </td></tr>\n     *       <tr><th>extend</th><td>Class</td><td>The super class the current class inherits from.</td></tr>\n     *       <tr><th>implement</th><td>Interface | Interface[]</td><td>Single interface or array of interfaces the class implements.</td></tr>\n     *       <tr><th>include</th><td>Mixin | Mixin[]</td><td>Single mixin or array of mixins, which will be merged into the class.</td></tr>\n     *       <tr><th>construct</th><td>Function</td><td>The constructor of the class.</td></tr>\n     *       <tr><th>statics</th><td>Map</td><td>Map of static members of the class.</td></tr>\n     *       <tr><th>properties</th><td>Map</td><td>Map of property definitions. For a description of the format of a property definition see\n     *           {@link qx.core.Property}.</td></tr>\n     *       <tr><th>members</th><td>Map</td><td>Map of instance members of the class.</td></tr>\n     *       <tr><th>environment</th><td>Map</td><td>Map of environment settings for this class. For a description of the format of a setting see\n     *           {@link qx.core.Environment}.</td></tr>\n     *       <tr><th>events</th><td>Map</td><td>\n     *           Map of events the class fires. The keys are the names of the events and the values are the\n     *           corresponding event type class names.\n     *       </td></tr>\n     *       <tr><th>defer</th><td>Function</td><td>Function that is called at the end of processing the class declaration. It allows access to the declared statics, members and properties.</td></tr>\n     *       <tr><th>destruct</th><td>Function</td><td>The destructor of the class.</td></tr>\n     *     </table>\n     * @return {Class} The defined class\n     */\n    define : function(name, config)\n    {\n      if (!config) {\n        config = {};\n      }\n\n      // Normalize include to array\n      if (config.include && !(qx.Bootstrap.getClass(config.include) === \"Array\")) {\n        config.include = [config.include];\n      }\n\n      // Normalize implement to array\n      if (config.implement && !(qx.Bootstrap.getClass(config.implement) === \"Array\")) {\n        config.implement = [config.implement];\n      }\n\n      // Normalize type\n      var implicitType = false;\n      if (!config.hasOwnProperty(\"extend\") && !config.type) {\n        config.type = \"static\";\n        implicitType = true;\n      }\n\n      // Validate incoming data\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        try {\n          this.__validateConfig(name, config);\n        } catch(ex) {\n          if (implicitType) {\n            ex.message = 'Assumed static class because no \"extend\" key was found. ' + ex.message;\n          }\n          throw ex;\n        }\n      }\n\n      // Create the class\n      var clazz = this.__createClass(name, config.type, config.extend, config.statics, config.construct, config.destruct, config.include);\n      \n      // Initialise class and constructor/destructor annotations\n      [ \"@\", \"@construct\", \"@destruct\" ].forEach(function(id) {\n        this.__attachAnno(clazz, id, null, config[id]);\n      }, this);\n\n      // Members, properties, events and mixins are only allowed for non-static classes\n      if (config.extend)\n      {\n        // Attach properties\n        if (config.properties) {\n          this.__addProperties(clazz, config.properties, true);\n        }\n\n        // Attach members\n        if (config.members) {\n          this.__addMembers(clazz, config.members, true, true, false);\n        }\n\n        // Process events\n        if (config.events) {\n          this.__addEvents(clazz, config.events, true);\n        }\n\n        // Include mixins\n        // Must be the last here to detect conflicts\n        if (config.include)\n        {\n          for (var i=0, l=config.include.length; i<l; i++) {\n            this.__addMixin(clazz, config.include[i], false);\n          }\n        }\n      }\n      // If config has a 'extend' key but it's null or undefined\n      else if (config.hasOwnProperty('extend') && qx.core.Environment.get(\"qx.debug\"))\n      {\n         throw new Error('\"extend\" parameter is null or undefined');\n      }\n\n      // Process environment\n      if (config.environment)\n      {\n        for (var key in config.environment) {\n          qx.core.Environment.add(key, config.environment[key]);\n        }\n      }\n\n      // Interface support for non-static classes\n      if (config.implement)\n      {\n        for (var i=0, l=config.implement.length; i<l; i++) {\n          this.__addInterface(clazz, config.implement[i]);\n        }\n      }\n\n\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.__validateAbstractInterfaces(clazz);\n      }\n\n\n      // Process defer\n      if (config.defer)\n      {\n        config.defer.self = clazz;\n        qx.Bootstrap.addPendingDefer(clazz, function() {\n          clazz = qx.Class.getByName(clazz.classname);\n          config.defer(clazz, clazz.prototype,\n            {\n              add : function(name, config)\n              {\n                // build pseudo properties map\n                var properties = {};\n                properties[name] = config;\n\n                // execute generic property handler\n                qx.Class.__addProperties(clazz, properties, true);\n              }\n            });\n        });\n      }\n\n      return clazz;\n    },\n\n\n    /**\n     * Removes a class from qooxdoo defined by {@link #define}\n     *\n     * @param name {String} Name of the class\n     */\n    undefine : function(name)\n    {\n      // first, delete the class from the registry\n      delete this.$$registry[name];\n      // delete the class reference from the namespaces and all empty namespaces\n      var ns = name.split(\".\");\n      // build up an array containing all namespace objects including window\n      var objects = [window];\n      for (var i = 0; i < ns.length; i++) {\n        objects.push(objects[i][ns[i]]);\n      }\n\n      // go through all objects and check for the constructor or empty namespaces\n      for (var i = objects.length - 1; i >= 1; i--) {\n        var last = objects[i];\n        var parent = objects[i - 1];\n        if (qx.Bootstrap.isFunction(last) || qx.Bootstrap.objectGetLength(last) === 0) {\n          delete parent[ns[i - 1]];\n        } else {\n          break;\n        }\n      }\n    },\n\n\n    /**\n     * Whether the given class exists\n     *\n     * @signature function(name)\n     * @param name {String} class name to check\n     * @return {Boolean} true if class exists\n     */\n    isDefined : qx.util.OOUtil.classIsDefined,\n\n\n    /**\n     * Determine the total number of classes\n     *\n     * @return {Number} the total number of classes\n     */\n    getTotalNumber : function() {\n      return qx.Bootstrap.objectGetLength(this.$$registry);\n    },\n\n\n    /**\n     * Find a class by its name\n     *\n     * @signature function(name)\n     * @param name {String} class name to resolve\n     * @return {Class} the class\n     */\n    getByName : qx.Bootstrap.getByName,\n\n\n    /**\n     * Include all features of the given mixin into the class. The mixin must\n     * not include any methods or properties that are already available in the\n     * class. This would only be possible using the {@link #patch} method.\n     *\n     * @param clazz {Class} An existing class which should be augmented by including a mixin.\n     * @param mixin {Mixin} The mixin to be included.\n     */\n    include : function(clazz, mixin)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (!mixin) {\n          throw new Error(\"The mixin to include into class '\" + clazz.classname + \"' is undefined/null!\");\n        }\n\n        qx.Mixin.isCompatible(mixin, clazz);\n      }\n\n      qx.Class.__addMixin(clazz, mixin, false);\n    },\n\n\n    /**\n     * Include all features of the given mixin into the class. The mixin may\n     * include features, which are already defined in the target class. Existing\n     * features of equal name will be overwritten.\n     * Please keep in mind that this functionality is not intended for regular\n     * use, but as a formalized way (and a last resort) in order to patch\n     * existing classes.\n     * \n     * <b>WARNING</b>: You may break working classes and features.\n     *\n     * @param clazz {Class} An existing class which should be modified by including a mixin.\n     * @param mixin {Mixin} The mixin to be included.\n     * @return {Class} the new class definition\n     */\n    patch : function(clazz, mixin)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (!mixin) {\n          throw new Error(\"The mixin to patch class '\" + clazz.classname + \"' is undefined/null!\");\n        }\n\n        qx.Mixin.isCompatible(mixin, clazz);\n      }\n\n      qx.Class.__addMixin(clazz, mixin, true);\n      return qx.Class.getByName(clazz.classname);\n    },\n    \n    \n    /**\n     * Detects whether the object is a Class (and not an instance of a class)\n     * \n     *  @param obj {Object?} the object to inspect\n     *  @return {Boolean} true if it is a class, false if it is anything else\n     */\n    isClass: function(obj) {\n      return obj && obj.$$type === \"Class\" && obj.constructor === obj;\n    },\n\n\n    /**\n     * Whether a class is a direct or indirect sub class of another class,\n     * or both classes coincide.\n     *\n     * @param clazz {Class} the class to check.\n     * @param superClass {Class} the potential super class\n     * @return {Boolean} whether clazz is a sub class of superClass.\n     */\n    isSubClassOf : function(clazz, superClass)\n    {\n      if (!clazz) {\n        return false;\n      }\n\n      if (clazz == superClass) {\n        return true;\n      }\n\n      if (clazz.prototype instanceof superClass) {\n        return true;\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Returns the definition of the given property. Returns null\n     * if the property does not exist.\n     *\n     * @signature function(clazz, name)\n     * @param clazz {Class} class to check\n     * @param name {String} name of the class to check for\n     * @return {Map|null} whether the object support the given event.\n     */\n    getPropertyDefinition : qx.util.OOUtil.getPropertyDefinition,\n\n\n    /**\n     * Returns a list of all properties supported by the given class\n     *\n     * @param clazz {Class} Class to query\n     * @return {String[]} List of all property names\n     */\n    getProperties : function(clazz)\n    {\n      var list = [];\n\n      while (clazz)\n      {\n        if (clazz.$$properties) {\n          list.push.apply(list, Object.keys(clazz.$$properties));\n        }\n\n        clazz = clazz.superclass;\n      }\n\n      return list;\n    },\n\n\n    /**\n     * Returns the class or one of its superclasses which contains the\n     * declaration for the given property in its class definition. Returns null\n     * if the property is not specified anywhere.\n     *\n     * @param clazz {Class} class to look for the property\n     * @param name {String} name of the property\n     * @return {Class | null} The class which includes the property\n     */\n    getByProperty : function(clazz, name)\n    {\n      while (clazz)\n      {\n        if (clazz.$$properties && clazz.$$properties[name]) {\n          return clazz;\n        }\n\n        clazz = clazz.superclass;\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Whether a class has the given property\n     *\n     * @signature function(clazz, name)\n     * @param clazz {Class} class to check\n     * @param name {String} name of the property to check for\n     * @return {Boolean} whether the class includes the given property.\n     */\n    hasProperty : qx.util.OOUtil.hasProperty,\n\n\n    /**\n     * Returns the event type of the given event. Returns null if\n     * the event does not exist.\n     *\n     * @signature function(clazz, name)\n     * @param clazz {Class} class to check\n     * @param name {String} name of the event\n     * @return {String|null} Event type of the given event.\n     */\n    getEventType : qx.util.OOUtil.getEventType,\n\n\n    /**\n     * Whether a class supports the given event type\n     *\n     * @signature function(clazz, name)\n     * @param clazz {Class} class to check\n     * @param name {String} name of the event to check for\n     * @return {Boolean} whether the class supports the given event.\n     */\n    supportsEvent : qx.util.OOUtil.supportsEvent,\n\n\n    /**\n     * Whether a class directly includes a mixin.\n     *\n     * @param clazz {Class} class to check\n     * @param mixin {Mixin} the mixin to check for\n     * @return {Boolean} whether the class includes the mixin directly.\n     */\n    hasOwnMixin : function(clazz, mixin) {\n      return clazz.$$includes && clazz.$$includes.indexOf(mixin) !== -1;\n    },\n\n\n    /**\n     * Returns the class or one of its superclasses which contains the\n     * declaration for the given mixin. Returns null if the mixin is not\n     * specified anywhere.\n     *\n     * @param clazz {Class} class to look for the mixin\n     * @param mixin {Mixin} mixin to look for\n     * @return {Class | null} The class which directly includes the given mixin\n     */\n    getByMixin : function(clazz, mixin)\n    {\n      var list, i, l;\n\n      while (clazz)\n      {\n        if (clazz.$$includes)\n        {\n          list = clazz.$$flatIncludes;\n\n          for (i=0, l=list.length; i<l; i++)\n          {\n            if (list[i] === mixin) {\n              return clazz;\n            }\n          }\n        }\n\n        clazz = clazz.superclass;\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Returns a list of all mixins available in a given class.\n     *\n     * @signature function(clazz)\n     * @param clazz {Class} class which should be inspected\n     * @return {Mixin[]} array of mixins this class uses\n     */\n    getMixins : qx.util.OOUtil.getMixins,\n\n\n    /**\n     * Whether a given class or any of its superclasses includes a given mixin.\n     *\n     * @param clazz {Class} class to check\n     * @param mixin {Mixin} the mixin to check for\n     * @return {Boolean} whether the class includes the mixin.\n     */\n    hasMixin: function(clazz, mixin) {\n      return !!this.getByMixin(clazz, mixin);\n    },\n\n\n    /**\n     * Whether a given class directly includes an interface.\n     *\n     * This function will only return \"true\" if the interface was defined\n     * in the class declaration ({@link qx.Class#define}) using the \"implement\"\n     * key.\n     *\n     * @param clazz {Class} class or instance to check\n     * @param iface {Interface} the interface to check for\n     * @return {Boolean} whether the class includes the mixin directly.\n     */\n    hasOwnInterface : function(clazz, iface) {\n      return clazz.$$implements && clazz.$$implements.indexOf(iface) !== -1;\n    },\n\n\n    /**\n     * Returns the class or one of its super classes which contains the\n     * declaration of the given interface. Returns null if the interface is not\n     * specified anywhere.\n     *\n     * @signature function(clazz, iface)\n     * @param clazz {Class} class to look for the interface\n     * @param iface {Interface} interface to look for\n     * @return {Class | null} the class which directly implements the given interface\n     */\n    getByInterface : qx.util.OOUtil.getByInterface,\n\n\n    /**\n     * Returns a list of all interfaces a given class has to implement.\n     *\n     * @param clazz {Class} class which should be inspected\n     * @return {Interface[]} array of interfaces this class implements\n     */\n    getInterfaces : function(clazz)\n    {\n      var list = [];\n\n      while (clazz)\n      {\n        if (clazz.$$implements) {\n          list.push.apply(list, clazz.$$flatImplements);\n        }\n\n        clazz = clazz.superclass;\n      }\n\n      return list;\n    },\n\n\n    /**\n     * Whether a given class or any of its super classes includes a given interface.\n     *\n     * This function will return \"true\" if the interface was defined\n     * in the class declaration ({@link qx.Class#define}) of the class\n     * or any of its super classes using the \"implement\"\n     * key.\n     *\n     * @signature function(clazz, iface)\n     * @param clazz {Class} class to check\n     * @param iface {Interface} the interface to check for\n     * @return {Boolean} whether the class includes the interface.\n     */\n    hasInterface : qx.util.OOUtil.hasInterface,\n\n\n    /**\n     * Whether a given class complies to an interface.\n     *\n     * Checks whether all methods defined in the interface are\n     * implemented. The class does not need to implement\n     * the interface explicitly in the <code>extend</code> key.\n     *\n     * @param obj {Object} class to check\n     * @param iface {Interface} the interface to check for\n     * @return {Boolean} whether the class conforms to the interface.\n     */\n    implementsInterface : function(obj, iface)\n    {\n      var clazz = obj.constructor;\n\n      if (this.hasInterface(clazz, iface)) {\n        return true;\n      }\n\n      if (qx.Interface.objectImplements(obj, iface)) {\n        return true;\n      }\n\n      if (qx.Interface.classImplements(clazz, iface)) {\n        return true;\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Helper method to handle singletons\n     *\n     * @internal\n     * @return {Object} The singleton instance\n     */\n    getInstance : function()\n    {\n      if (this.$$instance === null)\n      {\n        throw new Error(\"Singleton instance of \" + this + \n          \" is requested, but not ready yet. This is most likely due to a recursive call in the constructor path.\");\n      }\n\n      if (!this.$$instance)\n      {\n        this.$$allowconstruct = true;\n        this.$$instance = null;  // null means \"object is being created\"; needed for another call of getInstance() during instantiation\n        this.$$instance = new this();\n        delete this.$$allowconstruct;\n      }\n\n      return this.$$instance;\n    },\n\n\n    /**\n     * Retreive all subclasses of a given class\n     *\n     * @param clazz {Class} the class which should be inspected\n     * \n     * @return {Object} class name hash holding the references to the subclasses or null if the class does not exist.\n     */\n    getSubclasses : function(clazz)\n    {\n      if(!clazz) {\n        return null;\n      }\n      \n      var subclasses = {};\n      var registry = qx.Class.$$registry;\n\n      for (var name in registry) {\n        if(registry[name].superclass && registry[name].superclass == clazz) {\n          subclasses[name] = registry[name];\n        }\n      }\n\n      return subclasses;\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n       PRIVATE/INTERNAL BASICS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * This method will be attached to all classes to return\n     * a nice identifier for them.\n     *\n     * @internal\n     * @return {String} The class identifier\n     */\n    genericToString : function() {\n      return \"[Class \" + this.classname + \"]\";\n    },\n\n\n    /** Stores all defined classes */\n    $$registry : qx.Bootstrap.$$registry,\n\n\n    /** @type {Map} allowed keys in non-static class definition */\n    __allowedKeys : qx.core.Environment.select(\"qx.debug\",\n    {\n      \"true\":\n      {\n        \"@\"          : \"object\",\n        \"@construct\" : \"object\",\n        \"@destruct\"  : \"object\",\n        \"type\"       : \"string\",    // String\n        \"extend\"     : \"function\",  // Function\n        \"implement\"  : \"object\",    // Interface[]\n        \"include\"    : \"object\",    // Mixin[]\n        \"construct\"  : \"function\",  // Function\n        \"statics\"    : \"object\",    // Map\n        \"properties\" : \"object\",    // Map\n        \"members\"    : \"object\",    // Map\n        \"environment\"   : \"object\", // Map\n        \"events\"     : \"object\",    // Map\n        \"defer\"      : \"function\",  // Function\n        \"destruct\"   : \"function\"   // Function\n      },\n\n      \"default\" : null\n    }),\n\n\n    /** @type {Map} allowed keys in static class definition */\n    __staticAllowedKeys : qx.core.Environment.select(\"qx.debug\",\n    {\n      \"true\":\n      {\n        \"@\"           : \"object\",\n        \"type\"        : \"string\",    // String\n        \"statics\"     : \"object\",    // Map\n        \"environment\" : \"object\",    // Map\n        \"defer\"       : \"function\"   // Function\n      },\n\n      \"default\" : null\n    }),\n\n\n    /**\n     * Validates an incoming configuration and checks for proper keys and values\n     *\n     * @signature function(name, config)\n     * @param name {String} The name of the class\n     * @param config {Map} Configuration map\n     */\n    __validateConfig : qx.core.Environment.select(\"qx.debug\",\n    {\n      \"true\": function(name, config)\n      {\n        // Validate type\n        if (config.type && !(config.type === \"static\" || config.type === \"abstract\" || config.type === \"singleton\")) {\n          throw new Error('Invalid type \"' + config.type + '\" definition for class \"' + name + '\"!');\n        }\n\n        // Validate non-static class on the \"extend\" key\n        if (config.type && config.type !== \"static\" && !config.extend) {\n          throw new Error('Invalid config in class \"' + name + '\"! Every non-static class has to extend at least the \"qx.core.Object\" class.');\n        }\n\n        // Validate keys\n        var allowed = config.type === \"static\" ? this.__staticAllowedKeys : this.__allowedKeys;\n        for (var key in config)\n        {\n          if (!allowed[key]) {\n            throw new Error('The configuration key \"' + key + '\" in class \"' + name + '\" is not allowed!');\n          }\n\n          if (config[key] == null) {\n            throw new Error('Invalid key \"' + key + '\" in class \"' + name + '\"! The value is undefined/null!');\n          }\n\n          if (typeof config[key] !== allowed[key]) {\n            throw new Error('Invalid type of key \"' + key + '\" in class \"' + name + '\"! The type of the key must be \"' + allowed[key] + '\"!');\n          }\n        }\n\n        // Validate maps\n        var maps = [ \"statics\", \"properties\", \"members\", \"environment\", \"settings\", \"variants\", \"events\" ];\n        for (var i=0, l=maps.length; i<l; i++)\n        {\n          var key = maps[i];\n\n          if (config[key] !== undefined && (\n            config[key].$$hash !== undefined || !qx.Bootstrap.isObject(config[key])\n          )) {\n            throw new Error('Invalid key \"' + key + '\" in class \"' + name + '\"! The value needs to be a map!');\n          }\n        }\n\n        // Validate include definition\n        if (config.include)\n        {\n          if (qx.Bootstrap.getClass(config.include) === \"Array\")\n          {\n            for (var i=0, a=config.include, l=a.length; i<l; i++)\n            {\n              if (a[i] == null || a[i].$$type !== \"Mixin\") {\n                throw new Error('The include definition in class \"' + name + '\" contains an invalid mixin at position ' + i + ': ' + a[i]);\n              }\n            }\n          }\n          else\n          {\n            throw new Error('Invalid include definition in class \"' + name + '\"! Only mixins and arrays of mixins are allowed!');\n          }\n        }\n\n        // Validate implement definition\n        if (config.implement)\n        {\n          if (qx.Bootstrap.getClass(config.implement) === \"Array\")\n          {\n            for (var i=0, a=config.implement, l=a.length; i<l; i++)\n            {\n              if (a[i] == null || a[i].$$type !== \"Interface\") {\n                throw new Error('The implement definition in class \"' + name + '\" contains an invalid interface at position ' + i + ': ' + a[i]);\n              }\n            }\n          }\n          else\n          {\n            throw new Error('Invalid implement definition in class \"' + name + '\"! Only interfaces and arrays of interfaces are allowed!');\n          }\n        }\n\n        // Check mixin compatibility\n        if (config.include)\n        {\n          try {\n            qx.Mixin.checkCompatibility(config.include);\n          } catch(ex) {\n            throw new Error('Error in include definition of class \"' + name + '\"! ' + ex.message);\n          }\n        }\n\n        // Validate environment\n        if (config.environment)\n        {\n          for (var key in config.environment)\n          {\n            if (key.substr(0, key.indexOf(\".\")) != name.substr(0, name.indexOf(\".\"))) {\n              throw new Error('Forbidden environment setting \"' + key +\n                '\" found in \"' + name + '\". It is forbidden to define a ' +\n                'environment setting for an external namespace!');\n            }\n          }\n        }\n\n        // Validate settings\n        if (config.settings)\n        {\n          for (var key in config.settings)\n          {\n            if (key.substr(0, key.indexOf(\".\")) != name.substr(0, name.indexOf(\".\"))) {\n              throw new Error('Forbidden setting \"' + key + '\" found in \"' + name + '\". It is forbidden to define a default setting for an external namespace!');\n            }\n          }\n        }\n\n        // Validate variants\n        if (config.variants)\n        {\n          for (var key in config.variants)\n          {\n            if (key.substr(0, key.indexOf(\".\")) != name.substr(0, name.indexOf(\".\"))) {\n              throw new Error('Forbidden variant \"' + key + '\" found in \"' + name + '\". It is forbidden to define a variant for an external namespace!');\n            }\n          }\n        }\n      },\n\n      \"default\" : function(name, config) {}\n    }),\n\n\n    /**\n     * Validates the interfaces required by abstract base classes\n     *\n     * @signature function(clazz)\n     * @param clazz {Class} The configured class.\n     */\n    __validateAbstractInterfaces : qx.core.Environment.select(\"qx.debug\",\n    {\n      \"true\": function(clazz)\n      {\n        var superclass = clazz.superclass;\n        while (superclass)\n        {\n          if (superclass.$$classtype !== \"abstract\") {\n            break;\n          }\n\n          var interfaces = superclass.$$implements;\n          if (interfaces)\n          {\n            for (var i=0; i<interfaces.length; i++) {\n              qx.Interface.assert(clazz, interfaces[i], true);\n            }\n          }\n          superclass = superclass.superclass;\n        }\n      },\n\n      \"default\" : function(clazz) {}\n    }),\n    \n    \n    /**\n     * Attaches an annotation to a class\n     *\n     * @param clazz {Map} Static methods or fields\n     * @param group {String} Group name\n     * @param key {String} Name of the annotated item\n     * @param anno {Object} Annotation object\n     */\n    __attachAnno : function(clazz, group, key, anno) {\n      if (anno !== undefined) {\n        if (clazz.$$annotations === undefined) {\n          clazz.$$annotations = {};\n          clazz.$$annotations[group] = {};\n          \n        } else if (clazz.$$annotations[group] === undefined) {\n          clazz.$$annotations[group] = {};\n        }\n        \n        if (!qx.lang.Type.isArray(anno)) {\n          anno = [anno];\n        }\n        \n        if (key) {\n          clazz.$$annotations[group][key] = anno;\n        } else {\n          clazz.$$annotations[group] = anno;\n        }\n      }\n    },\n\n\n    /**\n     * Creates a class by type. Supports modern inheritance etc.\n     *\n     * @param name {String} Full name of the class\n     * @param type {String} type of the class, i.e. \"static\", \"abstract\" or \"singleton\"\n     * @param extend {Class} Superclass to inherit from\n     * @param statics {Map} Static methods or fields\n     * @param construct {Function} Constructor of the class\n     * @param destruct {Function} Destructor of the class\n     * @param mixins {Mixin[]} array of mixins of the class\n     * @return {Class} The generated class\n     */\n    __createClass : function(name, type, extend, statics, construct, destruct, mixins)\n    {\n      var isStrictMode = function () {\n        return (typeof this == 'undefined');\n      };\n\n      var clazz;\n\n      if (!extend && qx.core.Environment.get(\"qx.aspects\") == false)\n      {\n        // Create empty/non-empty class\n        clazz = statics || {};\n        qx.Bootstrap.setDisplayNames(clazz, name);\n      }\n      else\n      {\n        clazz = {};\n\n        if (extend)\n        {\n          // Create default constructor\n          if (!construct) {\n            construct = this.__createDefaultConstructor();\n          }\n\n          clazz = this.__wrapConstructor(construct, name, type);\n\n          // Add singleton getInstance()\n          if (type === \"singleton\") {\n            clazz.getInstance = this.getInstance;\n          }\n\n          qx.Bootstrap.setDisplayName(construct, name, \"constructor\");\n        }\n        \n        // Copy statics\n        if (statics)\n        {\n          qx.Bootstrap.setDisplayNames(statics, name);\n\n          var key;\n\n          for (var i=0, a=Object.keys(statics), l=a.length; i<l; i++)\n          {\n            key = a[i];\n            var staticValue = statics[key];\n\n            if (qx.core.Environment.get(\"qx.debug\")) {\n              if (key.charAt(0) === '@') {\n                if (statics[key.substring(1)] === undefined) {\n                  throw new Error('Annonation for static \"' + key.substring(1) + '\" of Class \"' + clazz.classname + '\" does not exist!');\n                }\n                if (key.charAt(1) === \"_\" && key.charAt(2) === \"_\") {\n                  throw new Error('Cannot annotate private static \"' + key.substring(1) + '\" of Class \"' + clazz.classname);\n                }\n              }\n            }\n            if (key.charAt(0) === '@') {\n              continue;\n            }\n\n            if (qx.core.Environment.get(\"qx.aspects\"))\n            {\n\n              if (staticValue instanceof Function) {\n                staticValue = qx.core.Aspect.wrap(name + \".\" + key, staticValue, \"static\");\n              }\n\n              clazz[key] = staticValue;\n            }\n            else\n            {\n              clazz[key] = staticValue;\n            }\n            \n            // Attach annotations\n            this.__attachAnno(clazz, \"statics\", key, statics[\"@\" + key]);\n          }\n        }\n      }\n\n      // Create namespace\n      var basename = name ? qx.Bootstrap.createNamespace(name, clazz) : \"\";\n\n      // Store names in constructor/object\n      clazz.classname = name;\n      if (!isStrictMode()) {\n        try {\n          clazz.name = name;\n        } catch(ex) {\n          // Nothing\n        }\n      }\n      clazz.basename = basename;\n\n      // Store type info\n      clazz.$$type = \"Class\";\n      if (type) {\n        clazz.$$classtype = type;\n      }\n\n      // Attach toString\n      if (!clazz.hasOwnProperty(\"toString\")) {\n        clazz.toString = this.genericToString;\n      }\n\n      if (extend)\n      {\n        qx.Bootstrap.extendClass(clazz, construct, extend, name, basename);\n\n        // Store destruct onto class\n        if (destruct)\n        {\n          if (qx.core.Environment.get(\"qx.aspects\")) {\n            destruct = qx.core.Aspect.wrap(name, destruct, \"destructor\");\n          }\n\n          clazz.$$destructor = destruct;\n          qx.Bootstrap.setDisplayName(destruct, name, \"destruct\");\n        }\n      }\n\n      // Store class reference in global class registry\n      this.$$registry[name] = clazz;\n\n      // Return final class object\n      return clazz;\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n       PRIVATE ADD HELPERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Attach events to the class\n     *\n     * @param clazz {Class} class to add the events to\n     * @param events {Map} map of event names the class fires.\n     * @param patch {Boolean ? false} Enable redefinition of event type?\n     */\n    __addEvents : function(clazz, events, patch)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (typeof events !== \"object\" || qx.Bootstrap.getClass(events) === \"Array\") {\n          throw new Error(clazz.classname + \": the events must be defined as map!\");\n        }\n\n        for (var key in events)\n        {\n          if (typeof events[key] !== \"string\") {\n            throw new Error(clazz.classname + \"/\" + key + \": the event value needs to be a string with the class name of the event object which will be fired.\");\n          }\n        }\n\n        // Compare old and new event type/value if patching is disabled\n        if (clazz.$$events && patch !== true)\n        {\n          for (var key in events)\n          {\n            if (clazz.$$events[key] !== undefined && clazz.$$events[key] !== events[key]) {\n              throw new Error(clazz.classname + \"/\" + key + \": the event value/type cannot be changed from \" + clazz.$$events[key] + \" to \" + events[key]);\n            }\n          }\n        }\n      }\n\n      if (clazz.$$events)\n      {\n        for (var key in events) {\n          clazz.$$events[key] = events[key];\n        }\n      }\n      else\n      {\n        clazz.$$events = events;\n      }\n    },\n\n\n    /**\n     * Attach properties to classes\n     *\n     * @param clazz {Class} class to add the properties to\n     * @param properties {Map} map of properties\n     * @param patch {Boolean ? false} Overwrite property with the limitations of a property\n               which means you are able to refine but not to replace (esp. for new properties)\n     */\n    __addProperties : function(clazz, properties, patch)\n    {\n      // check for the property module\n      if (!qx.core.Environment.get(\"module.property\")) {\n        throw new Error(\"Property module disabled.\");\n      }\n      \n      if (qx.core.Environment.get(\"qx.debug\")) {\n        if (qx.Bootstrap.isQxCoreObject(properties)) {\n          throw new Error(\"Invalid 'properties' for \" + clazz.classname);\n        }\n      }\n\n      var config;\n\n      if (patch === undefined) {\n        patch = false;\n      }\n\n      var proto = clazz.prototype;\n\n      for (var name in properties)\n      {\n        config = properties[name];\n\n        // Check incoming configuration\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          this.__validateProperty(clazz, name, config, patch);\n        }\n\n        // Store name into configuration\n        config.name = name;\n\n        // Add config to local registry\n        if (!config.refine)\n        {\n          if (clazz.$$properties === undefined) {\n            clazz.$$properties = {};\n          }\n\n          clazz.$$properties[name] = config;\n        }\n\n        // Store init value to prototype. This makes it possible to\n        // overwrite this value in derived classes.\n        if (config.init !== undefined) {\n          clazz.prototype[\"$$init_\" + name] = config.init;\n        }\n\n        // register event name\n        if (config.event !== undefined) {\n          // break if no events layer loaded\n          if (!qx.core.Environment.get(\"module.events\")) {\n            throw new Error(\"Events module not enabled.\");\n          }\n          var event = {};\n          event[config.event] = \"qx.event.type.Data\";\n          if (config.async) {\n          \tevent[config.event + \"Async\"] = \"qx.event.type.Data\";\n          }\n          this.__addEvents(clazz, event, patch);\n        }\n\n        // Remember inheritable properties\n        if (config.inheritable)\n        {\n          this.__Property.$$inheritable[name] = true;\n          if (!proto.$$refreshInheritables) {\n            this.__Property.attachRefreshInheritables(clazz);\n          }\n        }\n\n        if (!config.refine) {\n          this.__Property.attachMethods(clazz, name, config);\n        }\n        \n        // Add annotations\n        this.__attachAnno(clazz, \"properties\", name, config[\"@\"]);\n      }\n    },\n\n    /**\n     * Validates the given property\n     *\n     * @signature function(clazz, name, config, patch)\n     * @param clazz {Class} class to add property to\n     * @param name {String} name of the property\n     * @param config {Map} configuration map\n     * @param patch {Boolean ? false} enable refine/patch?\n     */\n    __validateProperty : qx.core.Environment.select(\"qx.debug\",\n    {\n      \"true\": function(clazz, name, config, patch)\n      {\n        // check for properties\n        if (!qx.core.Environment.get(\"module.property\")) {\n          throw new Error(\"Property module disabled.\");\n        }\n\n        var has = this.hasProperty(clazz, name);\n\n        if (has)\n        {\n          var existingProperty = this.getPropertyDefinition(clazz, name);\n\n          if (config.refine && existingProperty.init === undefined) {\n            throw new Error(\"Could not refine an init value if there was previously no init value defined. Property '\" + name + \"' of class '\" + clazz.classname + \"'.\");\n          }\n        }\n\n        if (!has && config.refine) {\n          throw new Error(\"Could not refine non-existent property: '\" + name + \"' of class: '\" + clazz.classname + \"'!\");\n        }\n\n        if (has && !patch) {\n          throw new Error(\"Class \" + clazz.classname + \" already has a property: \" + name + \"!\");\n        }\n\n        if (has && patch)\n        {\n          if (!config.refine) {\n            throw new Error('Could not refine property \"' + name + '\" without a \"refine\" flag in the property definition! This class: ' + clazz.classname + ', original class: ' + this.getByProperty(clazz, name).classname + '.');\n          }\n\n          for (var key in config)\n          {\n            if (key !== \"init\" && key !== \"refine\" && key !== \"@\") {\n              throw new Error(\"Class \" + clazz.classname + \" could not refine property: \" + name + \"! Key: \" + key + \" could not be refined!\");\n            }\n          }\n        }\n\n        // Check 0.7 keys\n        var allowed = config.group ? this.__Property.$$allowedGroupKeys : this.__Property.$$allowedKeys;\n        for (var key in config)\n        {\n          if (allowed[key] === undefined) {\n            throw new Error('The configuration key \"' + key + '\" of property \"' + name + '\" in class \"' + clazz.classname + '\" is not allowed!');\n          }\n\n          if (config[key] === undefined) {\n            throw new Error('Invalid key \"' + key + '\" of property \"' + name + '\" in class \"' + clazz.classname + '\"! The value is undefined: ' + config[key]);\n          }\n\n          if (allowed[key] !== null && typeof config[key] !== allowed[key]) {\n            throw new Error('Invalid type of key \"' + key + '\" of property \"' + name + '\" in class \"' + clazz.classname + '\"! The type of the key must be \"' + allowed[key] + '\"!');\n          }\n        }\n\n        if (config.transform != null)\n        {\n          if (!(typeof config.transform === \"string\")) {\n            throw new Error('Invalid transform definition of property \"' + name + '\" in class \"' + clazz.classname + '\"! Needs to be a String.');\n          }\n        }\n\n        if (config.check != null)\n        {\n          if (\n            !qx.Bootstrap.isString(config.check) &&\n            !qx.Bootstrap.isArray(config.check) &&\n            !qx.Bootstrap.isFunction(config.check)\n          ) {\n            throw new Error('Invalid check definition of property \"' + name + '\" in class \"' + clazz.classname + '\"! Needs to be a String, Array or Function.');\n          }\n        }\n      },\n\n      \"default\" : null\n    }),\n\n\n    /**\n     * Attach members to a class\n     *\n     * @param clazz {Class} clazz to add members to\n     * @param members {Map} The map of members to attach\n     * @param patch {Boolean ? false} Enable patching of\n     * @param base {Boolean ? true} Attach base flag to mark function as members\n     *     of this class\n     * @param wrap {Boolean ? false} Whether the member method should be wrapped.\n     *     this is needed to allow base calls in patched mixin members.\n     */\n    __addMembers : function(clazz, members, patch, base, wrap)\n    {\n      var proto = clazz.prototype;\n      var key, member;\n      qx.Bootstrap.setDisplayNames(members, clazz.classname + \".prototype\");\n\n      for (var i=0, a=Object.keys(members), l=a.length; i<l; i++)\n      {\n        key = a[i];\n        member = members[key];\n\n        if (qx.core.Environment.get(\"qx.debug\"))\n        {\n          if (key.charAt(0) === '@') {\n            var annoKey = key.substring(1);\n            if (members[annoKey] === undefined && proto[annoKey] === undefined) {\n              throw new Error('Annonation for \"' + annoKey + '\" of Class \"' + clazz.classname + '\" does not exist!');\n            }\n            if (key.charAt(1) === \"_\" && key.charAt(2) === \"_\") {\n              throw new Error('Cannot annotate private member \"' + key.substring(1) + '\" of Class \"' + clazz.classname);\n            }\n          } else {\n            if (proto[key] !== undefined && key.charAt(0) === \"_\" && key.charAt(1) === \"_\") {\n              throw new Error('Overwriting private member \"' + key + '\" of Class \"' + clazz.classname + '\" is not allowed!');\n            }\n  \n            if (patch !== true && proto.hasOwnProperty(key)) {\n              throw new Error('Overwriting member \"' + key + '\" of Class \"' + clazz.classname + '\" is not allowed!');\n            }\n          }\n        }\n        \n        // Annotations are not members\n        if (key.charAt(0) === '@') {\n          var annoKey = key.substring(1);\n          if (members[annoKey] === undefined) {\n            this.__attachAnno(clazz, \"members\", annoKey, members[key]);\n          }\n          continue;\n        }\n\n        // If it's a property accessor, we need to install it now so that this.base can refer to it\n        if (proto[key] != undefined && proto[key].$$install) {\n        \tproto[key].$$install();\n        }\n\n        // Added helper stuff to functions\n        // Hint: Could not use typeof function because RegExp objects are functions, too\n        // Protect to apply base property and aspect support on special attributes e.g.\n        // classes which are function like as well.\n        if (base !== false && member instanceof Function && member.$$type == null)\n        {\n          if (wrap == true)\n          {\n            // wrap \"patched\" mixin member\n            member = this.__mixinMemberWrapper(member, proto[key]);\n          }\n          else\n          {\n            // Configure extend (named base here)\n            // Hint: proto[key] is not yet overwritten here\n            if (proto[key]) {\n              member.base = proto[key];\n            }\n            member.self = clazz;\n          }\n\n          if (qx.core.Environment.get(\"qx.aspects\")) {\n            member = qx.core.Aspect.wrap(clazz.classname + \".\" + key, member, \"member\");\n          }\n        }\n\n        // Attach member\n        proto[key] = member;\n        \n        // Attach annotations\n        this.__attachAnno(clazz, \"members\", key, members[\"@\" + key]);\n      }\n    },\n\n\n    /**\n     * Wraps a member function of a mixin, which is included using \"patch\". This\n     * allows \"base\" calls in the mixin member function.\n     *\n     * @param member {Function} The mixin method to wrap\n     * @param base {Function} The overwritten method\n     * @return {Function} the wrapped mixin member\n     */\n    __mixinMemberWrapper : function(member, base)\n    {\n      if (base)\n      {\n        return function()\n        {\n          var oldBase = member.base;\n          member.base = base;\n          var retval = member.apply(this, arguments);\n          member.base = oldBase;\n          return retval;\n        };\n      }\n      else\n      {\n        return member;\n      }\n    },\n\n\n    /**\n     * Add a single interface to a class\n     *\n     * @param clazz {Class} class to add interface to\n     * @param iface {Interface} the Interface to add\n     */\n    __addInterface : function(clazz, iface)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (!clazz || !iface) {\n          throw new Error(\"Incomplete parameters!\");\n        }\n\n        // This differs from mixins, we only check if the interface is already\n        // directly used by this class. It is allowed however, to have an interface\n        // included multiple times by extends in the interfaces etc.\n        if (this.hasOwnInterface(clazz, iface)) {\n          throw new Error('Interface \"' + iface.name + '\" is already used by Class \"' + clazz.classname + '!');\n        }\n\n        // Check interface and wrap members\n        if (clazz.$$classtype !== \"abstract\") {\n          qx.Interface.assert(clazz, iface, true);\n        }\n      }\n\n      // Store interface reference\n      var list = qx.Interface.flatten([iface]);\n      if (clazz.$$implements)\n      {\n        clazz.$$implements.push(iface);\n        clazz.$$flatImplements.push.apply(clazz.$$flatImplements, list);\n      }\n      else\n      {\n        clazz.$$implements = [iface];\n        clazz.$$flatImplements = list;\n      }\n    },\n\n\n    /**\n     * Include all features of the mixin into the given class, recursively.\n     *\n     * @param clazz {Class} The class onto which the mixin should be attached.\n     * @param mixin {Mixin} Include all features of this mixin\n     * @param patch {Boolean} Overwrite existing fields, functions and properties\n     */\n    __addMixin : function(clazz, mixin, patch)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (!clazz || !mixin) {\n          throw new Error(\"Incomplete parameters!\");\n        }\n      }\n\n      if (this.hasMixin(clazz, mixin)) {\n        return;\n      }\n\n      // Attach content\n      var list = qx.Mixin.flatten([mixin]);\n      var entry;\n\n      for (var i=0, l=list.length; i<l; i++)\n      {\n        entry = list[i];\n\n        // Attach events\n        if (entry.$$events) {\n          this.__addEvents(clazz, entry.$$events, patch);\n        }\n\n        // Attach properties (Properties are already readonly themselves, no patch handling needed)\n        if (entry.$$properties) {\n          this.__addProperties(clazz, entry.$$properties, patch);\n        }\n\n        // Attach members (Respect patch setting, but dont apply base variables)\n        if (entry.$$members) {\n          this.__addMembers(clazz, entry.$$members, patch, patch, patch);\n        }\n      }\n\n      // Store mixin reference\n      if (clazz.$$includes)\n      {\n        clazz.$$includes.push(mixin);\n        clazz.$$flatIncludes.push.apply(clazz.$$flatIncludes, list);\n      }\n      else\n      {\n        clazz.$$includes = [mixin];\n        clazz.$$flatIncludes = list;\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n       PRIVATE FUNCTION HELPERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the default constructor.\n     * This constructor just calls the constructor of the base class.\n     *\n     * @return {Function} The default constructor.\n     */\n    __createDefaultConstructor : function()\n    {\n      function defaultConstructor() {\n        defaultConstructor.base.apply(this, arguments);\n      }\n\n      return defaultConstructor;\n    },\n\n\n    /**\n     * Generate a wrapper of the original class constructor in order to enable\n     * some of the advanced OO features (e.g. abstract class, singleton, mixins)\n     *\n     * @param construct {Function} the original constructor\n     * @param name {String} name of the class\n     * @param type {String} the user specified class type\n     * @return {Function} The wrapped constructor\n     */\n    __wrapConstructor : function(construct, name, type)\n    {\n      var wrapper = function()\n      {\n        var clazz = wrapper;\n\n        if (qx.core.Environment.get(\"qx.debug\"))\n        {\n          // new keyword check\n          if (!(this instanceof clazz)) {\n            throw new Error(\"Please initialize '\" + name + \"' objects using the new keyword!\");\n          }\n\n          // add abstract and singleton checks\n          if (type === \"abstract\")\n          {\n            if (this.classname===name) {\n              throw new Error(\"The class ',\" + name + \"' is abstract! It is not possible to instantiate it.\");\n            }\n          }\n          else if (type === \"singleton\")\n          {\n            if (!clazz.$$allowconstruct) {\n              throw new Error(\"The class '\" + name + \"' is a singleton! It is not possible to instantiate it directly. Use the static getInstance() method instead.\");\n            }\n          }\n        }\n\n        // Execute default constructor\n        var retval=clazz.$$original.apply(this,arguments);\n\n        // Initialize local mixins\n        if (clazz.$$includes)\n        {\n          var mixins=clazz.$$flatIncludes;\n          for (var i=0, l=mixins.length; i<l; i++)\n          {\n            if (mixins[i].$$constructor) {\n              mixins[i].$$constructor.apply(this,arguments);\n            }\n          }\n        }\n\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          // Mark instance as initialized\n          if (this.classname === name) {\n            this.$$initialized = true;\n          }\n        }\n\n        // Return optional return value\n        return retval;\n      };\n\n      if (qx.core.Environment.get(\"qx.aspects\"))\n      {\n        var aspectWrapper = qx.core.Aspect.wrap(name, wrapper, \"constructor\");\n        wrapper.$$original = construct;\n        wrapper.constructor = aspectWrapper;\n        wrapper = aspectWrapper;\n      }\n\n      // Store original constructor\n      wrapper.$$original = construct;\n\n      // Store wrapper into constructor (needed for base calls etc.)\n      construct.wrapper = wrapper;\n\n      // Return generated wrapper\n      return wrapper;\n    }\n  },\n\n  defer : function()\n  {\n    // Binding of already loaded bootstrap classes\n    if (qx.core.Environment.get(\"qx.aspects\"))\n    {\n      for (var classname in qx.Bootstrap.$$registry)\n      {\n        var statics = qx.Bootstrap.$$registry[classname];\n\n        for (var key in statics)\n        {\n          // only functions, no regexps\n          if (statics[key] instanceof Function) {\n            statics[key] = qx.core.Aspect.wrap(classname + \".\" + key, statics[key], \"static\");\n          }\n        }\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * This mixin is forwarding the static methods of\n * {@link qx.data.SingleValueBinding} to the instance including the mixin.\n * The source object will be <code>this</code>.\n */\nqx.Mixin.define(\"qx.data.MBinding\",\n{\n  members :\n  {\n    /**\n     * The bind method delegates the call to the\n     * {@link qx.data.SingleValueBinding#bind} function. As source, the current\n     * object (this) will be used.\n     *\n     * @param sourcePropertyChain {String} The property chain which represents\n     *   the source property.\n     * @param targetObject {qx.core.Object} The object which the source should\n     *   be bind to.\n     * @param targetProperty {String} The property name of the target object.\n     * @param options {Map?null} A map containing the options. See\n     *   {@link qx.data.SingleValueBinding#bind} for more\n     *   information.\n     *\n     * @return {var} Returns the internal id for that binding. This can be used\n     *   for referencing the binding e.g. for removing. This is not an atomic\n     *   id so you can't you use it as a hash-map index.\n     *\n     * @throws {qx.core.AssertionError} If the event is no data event or\n     *   there is no property definition for object and property (source and\n     *   target).\n     */\n    bind : function(sourcePropertyChain, targetObject, targetProperty, options)\n    {\n      return qx.data.SingleValueBinding.bind(\n        this, sourcePropertyChain, targetObject, targetProperty, options\n      );\n    },\n\n\n    /**\n     * The bind method delegates the call to the\n     * {@link qx.data.SingleValueBinding#bind} function. As source, the current\n     * object (this) will be used.\n     *\n     * @param sourcePropertyChain {String} The property chain which represents\n     *   the source property.\n     * @param targetObject {qx.core.Object} The object which the source should\n     *   be bind to.\n     * @param targetProperty {String} The property name of the target object.\n     * @param options {Map} A map containing the options. See\n     *   {@link qx.data.SingleValueBinding#bind} for more\n     *   information.\n     *\n     * @return {qx.Promise} A promise which is resolved when the initial value\n     * \t has been set on the target.  Note that this does NOT resolve when subsequent\n     *   values are returned.  The promise value is the internal id for that binding. \n     *   The id can be used for referencing the binding e.g. for removing. This is not \n     *   an atomic id so you can't you use it as a hash-map index.\n     *\n     * @throws {qx.core.AssertionError} If the event is no data event or\n     *   there is no property definition for object and property (source and\n     *   target).\n     */\n    bindAsync : qx.core.Environment.select(\"qx.promise\", {\n      \"true\": function(sourcePropertyChain, targetObject, targetProperty, options) {\n        var id = qx.data.SingleValueBinding.bind(\n          this, sourcePropertyChain, targetObject, targetProperty, options\n        );\n        if (id.initialPromise) {\n          return id.initialPromise.then(function() {\n            id.initialPromise = null;\n            return id;\n          });\n        } else {\n          return qx.Promise.resolve(id);\n        }\n      },\n      \"false\": function(sourcePropertyChain, targetObject, targetProperty, options) {\n        return this.bind(sourcePropertyChain, targetObject, targetProperty, options);\n      }\n    }),\n\n\n    /**\n     * Removes the binding with the given id from the current object. The\n     * id has to be the id returned by any of the bind functions.\n     *\n     * @param id {var} The id of the binding.\n     * @throws {Error} If the binding could not be found.\n     */\n    removeBinding: function(id){\n      qx.data.SingleValueBinding.removeBindingFromObject(this, id);\n    },\n\n\n    /**\n     * Removes all bindings between the object and the related one.\n     *\n     * @param relatedObject {qx.core.Object} The object of which related\n     *   bindings should be removed.\n     * @throws {Error} If one of the bindings listed internally can not be\n     *   removed.\n     */\n    removeRelatedBindings : function(relatedObject) {\n      qx.data.SingleValueBinding.removeRelatedBindings(this, relatedObject);\n    },\n\n\n    /**\n     * Removes all bindings from the object.\n     *\n     * @throws {qx.core.AssertionError} If the object is not in the internal\n     *   registry of the bindings.\n     * @throws {Error} If one of the bindings listed internally can not be\n     *   removed.\n     */\n    removeAllBindings: function() {\n      qx.data.SingleValueBinding.removeAllBindingsForObject(this);\n    },\n\n\n    /**\n     * Returns an array which lists all bindings for the object.\n     *\n     * @return {Array} An array of binding informations. Every binding\n     *   information is an array itself containing id, sourceObject, sourceEvent,\n     *   targetObject and targetProperty in that order.\n     */\n    getBindings: function() {\n      return qx.data.SingleValueBinding.getAllBindingsForObject(this);\n    }\n  },\n\n\n  destruct : function() {\n    // restore the object hash for disposing the bindings\n    this.$$hash = this.$$discardedHashCode;\n    this.removeAllBindings();\n    delete this.$$hash;\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Methods to get information about the JavaScript call stack.\n *\n * @require(qx.lang.normalize.String)\n * @ignore(qx.bom.client.EcmaScript.*)\n * @ignore(qx.bom.client)\n * @ignore(qx.bom)\n * @ignore(qx.Class.*)\n */\nqx.Bootstrap.define(\"qx.dev.StackTrace\",\n{\n  statics:\n  {\n\n    /**\n     * Optional user-defined function to convert source file names into readable\n     * class names. Will be called with the source file name extracted from the\n     * browser's stack trace information as the only argument. The returned\n     * string is used in the output of {@link #getStackTraceFromError}\n     */\n    FILENAME_TO_CLASSNAME : null,\n\n    /**\n     * Optional user-defined formatting function for stack trace information.\n     * Will be called by with an array of strings representing the calls in the\n     * stack trace. {@link #getStackTraceFromError} will return the output of\n     * this function. Must return an array of strings.\n     */\n    FORMAT_STACKTRACE : null,\n\n    /**\n     * Get a stack trace of the current position in the code.\n     *\n     * Browser compatibility:\n     * <ul>\n     *   <li>In new versions of Gecko, WebKit and Opera, the output of\n     *   {@link #getStackTraceFromError} and {@link #getStackTraceFromCaller} is\n     *   combined to generate the richest trace, including line numbers.</li>\n     *   <li>For Internet Explorer (and other engines that do not provide stack\n     *    traces), {@link #getStackTraceFromCaller} is used</li>\n     * </ul>\n     *\n     * @return {String[]} Stack trace of the current position in the code. Each line in the array\n     *     represents one call in the stack trace.\n     */\n    getStackTrace : function()\n    {\n      var trace = [];\n      try {\n        throw new Error();\n      }\n      catch(ex) {\n        if (qx.dev.StackTrace.hasEnvironmentCheck &&\n            qx.core.Environment.get(\"ecmascript.error.stacktrace\"))\n        {\n          var errorTrace = qx.dev.StackTrace.getStackTraceFromError(ex);\n          var callerTrace = qx.dev.StackTrace.getStackTraceFromCaller(arguments);\n          qx.lang.Array.removeAt(errorTrace, 0);\n\n          trace = callerTrace.length > errorTrace.length ? callerTrace : errorTrace;\n          for (var i=0; i<Math.min(callerTrace.length, errorTrace.length); i++)\n          {\n            var callerCall = callerTrace[i];\n            if (callerCall.indexOf(\"anonymous\") >= 0) {\n              continue;\n            }\n\n            var methodName = null;\n            var callerArr = callerCall.split(\".\");\n            var mO = /(.*?)\\(/.exec(callerArr[callerArr.length - 1]);\n            if (mO && mO.length == 2) {\n              methodName = mO[1];\n              callerArr.pop();\n            }\n            if (callerArr[callerArr.length - 1] == \"prototype\") {\n              callerArr.pop();\n            }\n            var callerClassName = callerArr.join(\".\");\n\n            var errorCall = errorTrace[i];\n            var errorArr = errorCall.split(\":\");\n            var errorClassName = errorArr[0];\n            var lineNumber = errorArr[1];\n            var columnNumber;\n            if (errorArr[2]) {\n              columnNumber = errorArr[2];\n            }\n\n            var className = null;\n            if (qx.Class && qx.Class.getByName(errorClassName)) {\n              className = errorClassName;\n            } else {\n              className = callerClassName;\n            }\n            var line = className;\n            if (methodName) {\n              line += \".\" + methodName;\n            }\n            line += \":\" + lineNumber;\n            if (columnNumber) {\n              line += \":\" + columnNumber;\n            }\n            trace[i] = line;\n          }\n        }\n        else {\n          trace = this.getStackTraceFromCaller(arguments);\n        }\n      }\n\n      return trace;\n    },\n\n\n    /**\n     * Get a stack trace from the arguments special variable using the\n     * <code>caller</code> property.\n     *\n     * This methods returns class/mixin and function names of each step\n     * in the call stack.\n     *\n     * Recursion is not supported.\n     *\n     * @param args {arguments} arguments variable.\n     * @return {String[]} Stack trace of caller of the function the arguments variable belongs to.\n     *     Each line in the array represents one call in the stack trace.\n     * @signature function(args)\n     */\n    getStackTraceFromCaller : function(args)\n    {\n      var isStrictMode = function () {\n        return (typeof this == 'undefined');\n      };\n\n      var trace = [];\n      var fcn = null;\n      if (!isStrictMode()) {\n        try {\n          fcn = qx.lang.Function.getCaller(args);\n        }catch(ex) {\n          // Nothing\n        }\n      }\n      var knownFunction = {};\n      while (fcn)\n      {\n        var fcnName = qx.lang.Function.getName(fcn);\n        trace.push(fcnName);\n\n        try {\n          fcn = fcn.caller;\n        } catch(ex) {\n          break;\n        }\n\n        if (!fcn) {\n          break;\n        }\n\n        // avoid infinite recursion\n        var hash = qx.core.ObjectRegistry.toHashCode(fcn);\n        if (knownFunction[hash]) {\n          trace.push(\"...\");\n          break;\n        }\n        knownFunction[hash] = fcn;\n      }\n      return trace;\n    },\n\n\n    /**\n     * Try to get a stack trace from an Error object. Mozilla sets the field\n     * <code>stack</code> for Error objects thrown using <code>throw new Error()</code>.\n     * From this field it is possible to get a stack trace from the position\n     * the exception was thrown at.\n     *\n     * This will get the JavaScript file names and the line numbers of each call.\n     * The file names are converted into qooxdoo class names if possible (customizable\n     * via {@link #FILENAME_TO_CLASSNAME}).\n     *\n     * The stack trace can be custom formatted using {@link #FORMAT_STACKTRACE}.\n     *\n     * This works reliably in Gecko-based browsers. Later Opera versions and\n     * Chrome also provide a useful stack trace. For Safari, only the class or\n     * file name and line number where the error occurred are returned.\n     * IE 6/7/8/9 does not attach any stack information to error objects so an\n     * empty array is returned.\n     *\n     * @param error {Error} Error exception instance.\n     * @return {String[]} Stack trace of the exception. Each line in the array\n     *     represents one call in the stack trace.\n     */\n    getStackTraceFromError : function(error)\n    {\n      var trace = [];\n      var lineRe,\n          hit,\n          className,\n          lineNumber,\n          columnNumber,\n          fileName,\n          url;\n\n      var traceProp = qx.dev.StackTrace.hasEnvironmentCheck ?\n          qx.core.Environment.get(\"ecmascript.error.stacktrace\") : null;\n\n      if (traceProp === \"stack\") {\n        if (!error.stack) {\n          return trace;\n        }\n        // Gecko style, e.g. \"()@http://localhost:8080/webcomponent-test-SNAPSHOT/webcomponent/js/com/ptvag/webcomponent/common/log/Logger:253\"\n        lineRe = /@(.+):(\\d+)$/gm;\n\n        while ((hit = lineRe.exec(error.stack)) != null)\n        {\n          url = hit[1];\n          lineNumber = hit[2];\n\n          className = this.__fileNameToClassName(url);\n          trace.push(className + \":\" + lineNumber);\n        }\n\n        if (trace.length > 0) {\n          return this.__formatStackTrace(trace);\n        }\n        /*\n         * Chrome trace info comes in two flavors:\n         * at [jsObject].function (fileUrl:line:char)\n         * at fileUrl:line:char\n         */\n        lineRe = /at (.*)/gm;\n        var fileReParens = /\\((.*?)(:[\\d:]+)\\)/;\n        var fileRe = /(.*?)(:[\\d:]+$)/;\n        while ((hit = lineRe.exec(error.stack)) != null) {\n          var fileMatch = fileReParens.exec(hit[1]);\n          if (!fileMatch) {\n            fileMatch = fileRe.exec(hit[1]);\n          }\n\n          if (fileMatch) {\n            className = this.__fileNameToClassName(fileMatch[1]);\n            trace.push(className + fileMatch[2]);\n          } else {\n            trace.push(hit[1]);\n          }\n        }\n      }\n      else if (traceProp === \"stacktrace\")\n      {\n        // Opera\n        var stacktrace = error.stacktrace;\n        if (!stacktrace) {\n          return trace;\n        }\n        if (stacktrace.indexOf(\"Error created at\") >= 0) {\n          stacktrace = stacktrace.split(\"Error created at\")[0];\n        }\n\n        // new Opera style (10.6+)\n        lineRe = /line\\ (\\d+?),\\ column\\ (\\d+?)\\ in\\ (?:.*?)\\ in\\ (.*?):[^\\/]/gm;\n        while ((hit = lineRe.exec(stacktrace)) != null) {\n          lineNumber = hit[1];\n          columnNumber = hit[2];\n          url = hit[3];\n          className = this.__fileNameToClassName(url);\n          trace.push(className + \":\" + lineNumber + \":\" + columnNumber);\n        }\n\n        if (trace.length > 0) {\n          return this.__formatStackTrace(trace);\n        }\n\n        // older Opera style\n        lineRe = /Line\\ (\\d+?)\\ of\\ linked\\ script\\ (.*?)$/gm;\n        while ((hit = lineRe.exec(stacktrace)) != null) {\n          lineNumber = hit[1];\n          url = hit[2];\n          className = this.__fileNameToClassName(url);\n          trace.push(className + \":\" + lineNumber);\n        }\n      }\n      else if (error.message && error.message.indexOf(\"Backtrace:\") >= 0) {\n        // Some old Opera versions append the trace to the message property\n        var traceString = error.message.split(\"Backtrace:\")[1].trim();\n        var lines = traceString.split(\"\\n\");\n        for (var i=0; i<lines.length; i++)\n        {\n          var reResult = lines[i].match(/\\s*Line ([0-9]+) of.* (\\S.*)/);\n          if (reResult && reResult.length >= 2) {\n            lineNumber = reResult[1];\n            fileName = this.__fileNameToClassName(reResult[2]);\n            trace.push(fileName + \":\" + lineNumber);\n          }\n        }\n      }\n      else if (error.sourceURL && error.line) {\n        // Safari\n        trace.push(this.__fileNameToClassName(error.sourceURL) + \":\" + error.line);\n      }\n\n      return this.__formatStackTrace(trace);\n    },\n\n    /**\n     * Converts the URL of a JavaScript file to a class name using either a\n     * user-defined ({@link #FILENAME_TO_CLASSNAME}) or default\n     * ({@link #__fileNameToClassNameDefault}) converter\n     *\n     * @param fileName {String} URL of the JavaScript file\n     * @return {String} Result of the conversion\n     */\n    __fileNameToClassName : function(fileName)\n    {\n      if (typeof qx.dev.StackTrace.FILENAME_TO_CLASSNAME == \"function\") {\n        var convertedName = qx.dev.StackTrace.FILENAME_TO_CLASSNAME(fileName);\n        if (qx.core.Environment.get(\"qx.debug\") &&\n          !qx.lang.Type.isString(convertedName))\n        {\n          throw new Error(\"FILENAME_TO_CLASSNAME must return a string!\");\n        }\n        return convertedName;\n      }\n\n      return qx.dev.StackTrace.__fileNameToClassNameDefault(fileName);\n    },\n\n\n    /**\n     * Converts the URL of a JavaScript file to a class name if the file is\n     * named using the qooxdoo naming conventions.\n     *\n     * @param fileName {String} URL of the JavaScript file\n     * @return {String} class name of the file if conversion was possible.\n     * Otherwise the fileName is returned unmodified.\n     */\n    __fileNameToClassNameDefault : function(fileName)\n    {\n      var scriptDir = \"/source/class/\";\n      var jsPos = fileName.indexOf(scriptDir);\n      var paramPos = fileName.indexOf(\"?\");\n      if (paramPos >= 0) {\n        fileName = fileName.substring(0, paramPos);\n      }\n      var className = (jsPos == -1) ? fileName : fileName.substring(jsPos + scriptDir.length).replace(/\\//g, \".\").replace(/\\.js$/, \"\");\n      return className;\n    },\n\n\n    /**\n     * Runs the given stack trace array through the formatter function\n     * ({@link #FORMAT_STACKTRACE}) if available and returns it. Otherwise, the\n     * original array is returned\n     *\n     * @param trace {String[]} Stack trace information\n     * @return {String[]} Formatted stack trace info\n     */\n    __formatStackTrace : function(trace)\n    {\n      if (typeof qx.dev.StackTrace.FORMAT_STACKTRACE == \"function\") {\n        trace = qx.dev.StackTrace.FORMAT_STACKTRACE(trace);\n        // Can't use qx.core.Assert here since it throws an AssertionError which\n        // calls getStackTrace in its constructor, leading to infinite recursion\n        if (qx.core.Environment.get(\"qx.debug\") && !qx.lang.Type.isArray(trace)) {\n          throw new Error(\"FORMAT_STACKTRACE must return an array of strings!\");\n        }\n      }\n      return trace;\n    }\n  },\n\n  defer : function(statics)\n  {\n    // This is necessary to avoid an infinite loop when logging the absence\n    // of the \"ecmascript.error.stacktrace\" environment key.\n    statics.hasEnvironmentCheck = qx.bom && qx.bom.client &&\n      qx.bom.client.EcmaScript && qx.bom.client.EcmaScript.getStackTrace;\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2006 STZ-IDA, Germany, http://www.stz-ida.de\n     2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Carsten Lergenmueller (carstenl)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * An memory container which stores arbitrary data up to a maximum number of\n * entries. When new entries come in an the maximum is reached, the oldest\n * entries are deleted.\n *\n * A mark feature also exists which can be used to remember a point in time.\n * When retrieving entries, it is possible to get only those entries\n * after the marked time. This is useful if data from the buffer is extracted\n * and processed. Whenever this happens, a mark() call can be used so that the\n * next extraction will only get new data.\n */\nqx.Bootstrap.define(\"qx.util.RingBuffer\",\n{\n  extend : Object,\n\n  /**\n   * Constructor.\n   *\n   * @param maxEntries {Integer ? 50} Maximum number of entries in the buffer\n   */\n  construct : function(maxEntries)\n  {\n    this.setMaxEntries(maxEntries || 50);\n  },\n\n\n  members :\n  {\n    //Next slot in ringbuffer to use\n    __nextIndexToStoreTo : 0,\n\n    //Number of elements in ring buffer\n    __entriesStored : 0,\n\n    //Was a mark set?\n    __isMarkActive: false,\n\n    //How many elements were stored since setting of mark?\n    __entriesStoredSinceMark : 0,\n\n    //ring buffer\n    __entries : null,\n\n    //Maximum number of messages to store. Could be converted to a qx property.\n    __maxEntries : null,\n\n\n    /**\n     * Set the maximum number of messages to hold. If null the number of\n     * messages is not limited.\n     *\n     * Warning: Changing this property will clear the events logged so far.\n     *\n     * @param maxEntries {Integer} the maximum number of messages to hold\n     */\n    setMaxEntries : function(maxEntries)\n    {\n      this.__maxEntries = maxEntries;\n      this.clear();\n    },\n\n\n    /**\n     * Get the maximum number of entries to hold\n     *\n     * @return {Integer}\n     */\n    getMaxEntries : function() {\n      return this.__maxEntries;\n    },\n\n\n    /**\n     * Adds a single entry\n     *\n     * @param entry {var} The data to store\n     */\n    addEntry : function(entry)\n    {\n      this.__entries[this.__nextIndexToStoreTo] = entry;\n\n      this.__nextIndexToStoreTo = this.__addToIndex(this.__nextIndexToStoreTo, 1);\n\n      //Count # of stored entries\n      var max = this.getMaxEntries();\n      if (this.__entriesStored < max){\n        this.__entriesStored++;\n      }\n\n      //Count # of stored elements since last mark call\n      if (this.__isMarkActive && (this.__entriesStoredSinceMark < max)){\n        this.__entriesStoredSinceMark++;\n      }\n    },\n    \n    \n    /**\n     * Returns the number of entries stored\n     * @return {Integer}\n     */\n    getNumEntriesStored: function() {\n      return this.__entriesStored;\n    },\n\n\n    /**\n     * Remembers the current position in the ring buffer\n     *\n     */\n    mark : function(){\n      this.__isMarkActive = true;\n      this.__entriesStoredSinceMark = 0;\n    },\n\n\n    /**\n     * Removes the current mark position\n     */\n    clearMark : function(){\n      this.__isMarkActive = false;\n    },\n\n\n    /**\n     * Returns all stored entries. Mark is ignored.\n     *\n     * @return {Array} array of stored entries\n     */\n    getAllEntries : function() {\n      return this.getEntries(this.getMaxEntries(), false);\n    },\n\n\n    /**\n     * Returns entries which have been added previously.\n     *\n     * @param count {Integer} The number of entries to retrieve. If there are\n     *    more entries than the given count, the oldest ones will not be returned.\n     *\n     * @param startingFromMark {Boolean ? false} If true, only entries since\n     *   the last call to mark() will be returned\n     * @return {Array} array of stored entries\n     */\n    getEntries : function(count, startingFromMark)\n    {\n      //Trim count so it does not exceed ringbuffer size\n      if (count > this.__entriesStored) {\n        count = this.__entriesStored;\n      }\n\n      // Trim count so it does not exceed last call to mark (if mark was called\n      // and startingFromMark was true)\n      if (\n        startingFromMark &&\n        this.__isMarkActive &&\n        (count > this.__entriesStoredSinceMark)\n      ) {\n        count = this.__entriesStoredSinceMark;\n      }\n\n      if (count > 0){\n\n        var indexOfYoungestElementInHistory = this.__addToIndex(this.__nextIndexToStoreTo,  -1);\n        var startIndex = this.__addToIndex(indexOfYoungestElementInHistory, - count + 1);\n\n        var result;\n\n        if (startIndex <= indexOfYoungestElementInHistory) {\n          //Requested segment not wrapping around ringbuffer boundary, get in one run\n          result = this.__entries.slice(startIndex, indexOfYoungestElementInHistory + 1);\n        } else {\n          //Requested segment wrapping around ringbuffer boundary, get two parts & concat\n          result = this.__entries.slice(startIndex, this.__entriesStored).concat(this.__entries.slice(0, indexOfYoungestElementInHistory + 1));\n        }\n      } else {\n        result = [];\n      }\n\n      return result;\n    },\n\n\n    /**\n     * Clears all entries\n     */\n    clear : function()\n    {\n      this.__entries = new Array(this.getMaxEntries());\n      this.__entriesStored = 0;\n      this.__entriesStoredSinceMark = 0;\n      this.__nextIndexToStoreTo = 0;\n    },\n\n\n    /**\n     * Adds a number to an ringbuffer index. Does a modulus calculation,\n     * i. e. if the index leaves the ringbuffer space it will wrap around to\n     * the other end of the ringbuffer.\n     *\n     * @param idx {Number} The current index.\n     * @param addMe {Number} The number to add.\n     * @return {Number} The new index\n     */\n    __addToIndex : function (idx, addMe){\n      var max = this.getMaxEntries();\n      var result = (idx + addMe) % max;\n\n      //If negative, wrap up into the ringbuffer space\n      if (result < 0){\n        result += max;\n      }\n      return result;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2006 STZ-IDA, Germany, http://www.stz-ida.de\n     2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Carsten Lergenmueller (carstenl)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * An appender that writes all messages to a memory container. The messages\n * can be retrieved later, f. i. when an error dialog pops up and the question\n * arises what actions have caused the error.\n *\n * A mark feature also exists which can be used to remember a point in time.\n * When retrieving log events, it is possible to get only those events\n * after the marked time. This is useful if data from the buffer is extracted\n * and f. i. sent to a logging system. Whenever this happens, a mark() call\n * can be used so that the next extraction will only get new data.\n */\nqx.Bootstrap.define(\"qx.log.appender.RingBuffer\",\n{\n  extend : qx.util.RingBuffer,\n\n  /**\n   * @param maxMessages {Integer?50} Maximum number of messages in the buffer\n   */\n  construct : function(maxMessages) {\n    this.setMaxMessages(maxMessages || 50);\n  },\n\n\n  members :\n  {\n\n    /**\n     * Set the maximum number of messages to hold. If null the number of\n     * messages is not limited.\n     *\n     * Warning: Changing this property will clear the events logged so far.\n     *\n     * @param maxMessages {Integer} the maximum number of messages to hold\n     */\n    setMaxMessages : function(maxMessages) {\n      this.setMaxEntries(maxMessages);\n    },\n\n\n    /**\n     * Get the maximum number of messages to hold\n     *\n     * @return {Integer} the maximum number of messages\n     */\n    getMaxMessages : function() {\n      return this.getMaxEntries();\n    },\n\n\n    /**\n     * Processes a single log entry\n     *\n     * @param entry {Map} The entry to process\n     */\n    process : function(entry) {\n      this.addEntry(entry);\n    },\n\n\n    /**\n     * Returns all stored log events\n     *\n     * @return {Array} array of stored log events\n     */\n    getAllLogEvents : function() {\n      return this.getAllEntries();\n    },\n\n\n    /**\n     * Returns log events which have been logged previously.\n     *\n     * @param count {Integer} The number of events to retrieve. If there are\n     *    more events than the given count, the oldest ones will not be returned.\n     *\n     * @param startingFromMark {Boolean ? false} If true, only entries since the last call to mark()\n     *                                           will be returned\n     * @return {Array} array of stored log events\n     */\n    retrieveLogEvents : function(count, startingFromMark) {\n      return this.getEntries(count, startingFromMark);\n    },\n\n\n    /**\n     * Clears the log history\n     */\n    clearHistory : function() {\n      this.clear();\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * John Spackman (john.spackman@zenesis.com)\n\n************************************************************************ */\n\n/**\n * Main qooxdoo logging class.\n *\n * Used as central logging feature by qx.core.Object.\n *\n * Extremely modular and lightweight to support logging at bootstrap and\n * at shutdown as well.\n *\n * * Supports dynamic appenders to push the output to the user\n * * Supports buffering of the last 50 messages (configurable)\n * * Supports different debug levels (\"debug\", \"info\", \"warn\" or \"error\")\n * * Simple data serialization for incoming messages\n *\n * Typical use of this class is via qx.core.MLogging which is included into most\n * classes, so you would use \"this.debug(...)\" etc, but qx.log.Logger.debug(),\n * .warn(), .error(), .info(), and .trace() can be used directly for static code.\n *\n * The first parameter is expected to be the context object, ie the object which\n * is sending the log; this can be null but that will prevent the filtering from\n * filtering on class name so ideally it will be a real qx.core.Object derived\n * object.  Other parameters are any Javascript object which will be serialized\n * into the log message\n *\n * <pre class=\"javascript\">\n *  qx.log.Logger.warn(myObject, \"This is a message to log\", myParam, otherData);\n * </pre>\n *\n *\n * The output of logging is controlled by \"appenders\", which are classes that\n * accept a log message and output it somehow (see examples in qx.log.appender.*);\n * typical examples are qx.log.appender.Console which outputs to the browser\n * console, or qx.log.appender.Native which outputs messages into a popup\n * window as part of your Qooxdoo UI.\n *\n * While it's quick and easy to add logging calls to code as and when you need it,\n * it is often convenient to control which logging calls output messages at runtime\n * rather than having to edit code. @see qx.log.Logger#addFilter\n *\n * @require(qx.dev.StackTrace)\n */\nqx.Bootstrap.define(\"qx.log.Logger\",\n{\n  statics :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      CONFIGURATION\n    ---------------------------------------------------------------------------\n    */\n\n    __level : \"debug\",\n\n\n    /**\n     * Configures the minimum log level required for new messages.\n     *\n     * @param value {String} One of \"debug\", \"info\", \"warn\" or \"error\".\n     */\n    setLevel : function(value) {\n      this.__level = value;\n    },\n\n\n    /**\n     * Returns the currently configured minimum log level required for new\n     * messages.\n     *\n     * @return {Integer} Debug level\n     */\n    getLevel : function() {\n      return this.__level;\n    },\n\n\n    /**\n     * Configures the number of messages to be kept in the buffer.\n     *\n     * @param value {Integer} Any positive integer\n     */\n    setTreshold : function(value) {\n      this.__buffer.setMaxMessages(value);\n    },\n\n\n    /**\n     * Returns the currently configured number of messages to be kept in the\n     * buffer.\n     *\n     * @return {Integer} Treshold value\n     */\n    getTreshold : function() {\n      return this.__buffer.getMaxMessages();\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      APPENDER MANAGEMENT\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {Map} Map of all known appenders by ID */\n    __appenders : [],\n\n\n    /** @type {Map} Map of all known appenders by name */\n    __appendersByName: {},\n\n\n    /** @type {Array} Array of filters to apply when selecting appenders to append to */\n    __filters: [],\n\n\n    /** @type {Integer} Last free appender ID */\n    __id : 0,\n\n\n    /**\n     * Registers the given appender and inserts the last cached messages.\n     * \n     * Note that an appender is named by it's class name, unless it has a property\n     * called `appenderName`\n     *\n     * @param appender {Class} A static appender class supporting at\n     *   least a <code>process()</code> method to handle incoming messages.\n     */\n    register : function(appender)\n    {\n      if (appender.$$id) {\n        return;\n      }\n\n      // Register appender\n      var id = this.__id++;\n      var appenderName = appender.appenderName || appender.classname;\n      this.__appenders[id] = appender;\n      this.__appendersByName[appenderName] = appender;\n      appender.$$id = id;\n\n      // Insert previous messages\n      var entries = this.__buffer.getAllLogEvents();\n      for (var i=0, l=entries.length; i<l; i++) {\n        var entry = entries[i];\n\n        var appenders = this.__getAppenders(entry.loggerName, entry.level);\n        if (appenders[appenderName]) {\n          appender.process(entry);\n        }\n      }\n    },\n\n\n    /**\n     * Unregisters the given appender\n     *\n     * @param appender {Class} A static appender class\n     */\n    unregister : function(appender)\n    {\n      var id = appender.$$id;\n      if (id == null) {\n        return;\n      }\n\n      var appenderName = appender.appenderName || appender.classname;\n      delete this.__appendersByName[appenderName];\n      delete this.__appenders[id];\n      delete appender.$$id;\n    },\n\n\n    /**\n     * Adds a filter that specifies the appenders to use for a given logger name (classname).\n     *\n     * By default, every log entry is output to all appenders but you can change this\n     * behaviour by calling qx.log.Logger.addFilter; every log message is associated\n     * with a class and a logging level (ie debug, warn, info, error, etc) and you can\n     * apply a filter on either one.\n     *\n     * For example, to restrict the output to only allow qx.ui.* classes to output debug\n     * logging information you would use this:\n     *\n     *  <pre class=\"javascript\">\n     *    qx.log.Logger.addFilter(/^qx\\.ui/, null, \"debug\");\n     *  </pre>\n     *\n     * Note that while the default is to log everything, as soon as you apply one filter\n     * you are specifying an exhaustive list of classes; so if you use the above example,\n     * the ONLY classes that will be able to log is qx.ui.*.  If you want to use multiple\n     * classes to the output, just add more addFilter calls.\n     *\n     * The logging level (eg \"debug\", \"error\", etc) is greater than or equal to - so in\n     * the above example, debug, error, warn, and info will be output but trace will not.\n     *\n     * The second parameter to addFilter is the classname of the appender to use; this\n     * allows you to specify that log messages only go to one destination; for example:\n     *\n     *  <pre class=\"javascript\">\n     *    qx.log.Logger.addFilter(/^qx\\.ui/, \"qx.log.appender.Console\", \"warn\");\n     *    qx.log.Logger.addFilter(/^qx\\.io/, \"qx.log.appender.Native\", \"debug\");\n     *    qx.log.Logger.addFilter(/^qx\\.io/, \"qx.log.appender.Console\", \"error\");\n     *  </pre>\n     *\n     * In this example, qx.ui.* will only go to the Console appender and only if a warning\n     * is issued; qx.io.* will go to Native for debug, error, warn, and info and to\n     * Console for error, warn, and info\n     *\n     * Note that an appender is named by it's class name, unless it has a property\n     * called `appenderName`.\n     * \n     * @param logger {String|RegExp} the pattern to match in the logger name\n     * @param appenderName {String?} the name of the appender class, if undefined then all appenders\n     * @param level {String?} the minimum logging level to use the appender, if undefined the default level is used\n     */\n    addFilter: function(logger, appenderName, level) {\n      if (typeof logger == \"string\") {\n        logger = new RegExp(logger);\n      }\n      this.__filters.push({ loggerMatch: logger, level: level||this.__level, appenderName: appenderName });\n    },\n\n    /**\n     * Reset all filters\n     */\n    resetFilters: function() {\n      this.__filters = [];\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      USER METHODS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Sending a message at level \"debug\" to the logger.\n     *\n     * @param object {Object} Contextual object (either instance or static class)\n     * @param message {var} Any number of arguments supported. An argument may\n     *   have any JavaScript data type. All data is serialized immediately and\n     *   does not keep references to other objects.\n     */\n    debug : function(object, message) {\n      qx.log.Logger.__log(\"debug\", arguments);\n    },\n\n\n    /**\n     * Sending a message at level \"info\" to the logger.\n     *\n     * @param object {Object} Contextual object (either instance or static class)\n     * @param message {var} Any number of arguments supported. An argument may\n     *   have any JavaScript data type. All data is serialized immediately and\n     *   does not keep references to other objects.\n     */\n    info : function(object, message) {\n      qx.log.Logger.__log(\"info\", arguments);\n    },\n\n\n    /**\n     * Sending a message at level \"warn\" to the logger.\n     *\n     * @param object {Object} Contextual object (either instance or static class)\n     * @param message {var} Any number of arguments supported. An argument may\n     *   have any JavaScript data type. All data is serialized immediately and\n     *   does not keep references to other objects.\n     */\n    warn : function(object, message) {\n      qx.log.Logger.__log(\"warn\", arguments);\n    },\n\n\n    /**\n     * Sending a message at level \"error\" to the logger.\n     *\n     * @param object {Object} Contextual object (either instance or static class)\n     * @param message {var} Any number of arguments supported. An argument may\n     *   have any JavaScript data type. All data is serialized immediately and\n     *   does not keep references to other objects.\n     */\n    error : function(object, message) {\n      qx.log.Logger.__log(\"error\", arguments);\n    },\n\n\n    /**\n     * Prints the current stack trace at level \"info\"\n     *\n     * @param object {Object?} Contextual object (either instance or static class)\n     * @param message {var} Any number of arguments supported. An argument may\n     *   have any JavaScript data type. All data is serialized immediately and\n     *   does not keep references to other objects.\n     */\n    trace : function(object, message) {\n      if (qx.log.Logger.isLoggerEnabled(\"trace\", object)) {\n        var trace = qx.dev.StackTrace.getStackTrace();\n        var args = qx.lang.Array.fromArguments(arguments);\n        args.push(trace.join(\"\\n\"));\n        qx.log.Logger.__log(\"trace\", args);\n      }\n    },\n\n\n    /**\n     * Prints a method deprecation warning and a stack trace if the setting\n     * <code>qx.debug</code> is set to <code>true</code>.\n     *\n     * @param fcn {Function} reference to the deprecated function. This is\n     *     arguments.callee if the calling method is to be deprecated.\n     * @param msg {String?} Optional message to be printed.\n     */\n    deprecatedMethodWarning : function(fcn, msg)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        var functionName = qx.lang.Function.getName(fcn);\n        this.warn(\n          \"The method '\"+ functionName + \"' is deprecated: \" +\n          (msg || \"Please consult the API documentation of this method for alternatives.\")\n        );\n        this.trace();\n      }\n    },\n\n\n    /**\n     * Prints a class deprecation warning and a stack trace if the setting\n     * <code>qx.debug</code> is set to <code>true</code>.\n     *\n     * @param clazz {Class} reference to the deprecated class.\n     * @param msg {String?} Optional message to be printed.\n     */\n    deprecatedClassWarning : function(clazz, msg)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        var className = clazz.classname || \"unknown\";\n        this.warn(\n          \"The class '\"+className+\"' is deprecated: \" +\n          (msg || \"Please consult the API documentation of this class for alternatives.\")\n        );\n        this.trace();\n      }\n    },\n\n\n    /**\n     * Prints an event deprecation warning and a stack trace if the setting\n     * <code>qx.debug</code> is set to <code>true</code>.\n     *\n     * @param clazz {Class} reference to the deprecated class.\n     * @param event {String} deprecated event name.\n     * @param msg {String?} Optional message to be printed.\n     */\n    deprecatedEventWarning : function(clazz, event, msg)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        var className = clazz.self ? clazz.self.classname : \"unknown\";\n        this.warn(\n          \"The event '\"+(event || \"unknown\")+\"' from class '\"+className+\"' is deprecated: \" +\n          (msg || \"Please consult the API documentation of this class for alternatives.\")\n        );\n        this.trace();\n      }\n    },\n\n\n    /**\n     * Prints a mixin deprecation warning and a stack trace if the setting\n     * <code>qx.debug</code> is set to <code>true</code>.\n     *\n     * @param clazz {Class} reference to the deprecated mixin.\n     * @param msg {String?} Optional message to be printed.\n     */\n    deprecatedMixinWarning : function(clazz, msg)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        var mixinName = clazz ? clazz.name : \"unknown\";\n        this.warn(\n          \"The mixin '\"+mixinName+\"' is deprecated: \" +\n          (msg || \"Please consult the API documentation of this class for alternatives.\")\n        );\n        this.trace();\n      }\n    },\n\n\n    /**\n     * Prints a constant deprecation warning and a stacktrace if the setting\n     * <code>qx.debug</code> is set to <code>true</code> AND the browser supports\n     * __defineGetter__!\n     *\n     * @param clazz {Class} The class the constant is attached to.\n     * @param constant {String} The name of the constant as string.\n     * @param msg {String} Optional message to be printed.\n     */\n    deprecatedConstantWarning : function(clazz, constant, msg)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        // check if __defineGetter__ is available\n        if (clazz.__defineGetter__) {\n          var self = this;\n          var constantValue = clazz[constant];\n          clazz.__defineGetter__(constant, function() {\n            self.warn(\n              \"The constant '\"+ constant + \"' is deprecated: \" +\n              (msg || \"Please consult the API documentation for alternatives.\")\n            );\n            self.trace();\n            return constantValue;\n          });\n        }\n      }\n    },\n\n\n    /**\n     * Prints a deprecation warning and a stacktrace when a subclass overrides\n     * the passed method name. The deprecation is only printed if the setting\n     * <code>qx.debug</code> is set to <code>true</code>.\n     *\n     *\n     * @param object {qx.core.Object} Instance to check for overriding.\n     * @param baseclass {Class} The baseclass as starting point.\n     * @param methodName {String} The method name which is deprecated for overriding.\n     * @param msg {String?} Optional message to be printed.\n     */\n    deprecateMethodOverriding : function(object, baseclass, methodName, msg)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        var clazz = object.constructor;\n\n        while(clazz.classname !== baseclass.classname)\n        {\n          if (clazz.prototype.hasOwnProperty(methodName))\n          {\n            this.warn(\n              \"The method '\" + qx.lang.Function.getName(object[methodName]) +\n              \"' overrides a deprecated method: \" +\n              (msg || \"Please consult the API documentation for alternatives.\")\n            );\n            this.trace();\n            break;\n          }\n          clazz = clazz.superclass;\n        }\n      }\n    },\n\n\n    /**\n     * Deletes the current buffer. Does not influence message handling of the\n     * connected appenders.\n     *\n     */\n    clear : function() {\n      this.__buffer.clearHistory();\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      INTERNAL LOGGING IMPLEMENTATION\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {qx.log.appender.RingBuffer} Message buffer of previously fired messages. */\n    __buffer : new qx.log.appender.RingBuffer(50),\n\n\n    /** @type {Map} Numeric translation of log levels */\n    __levels :\n    {\n      trace: 0,\n      debug : 1,\n      info : 2,\n      warn : 3,\n      error : 4\n    },\n\n    /** @type {Map} cache of appenders for a given logger and level */\n    __appendersCache: {},\n\n\n    /**\n     * Detects the name of the logger to use for an object\n     *\n     * @param object {Object} Contextual object (either instance or static class)\n     * @return {String} Logger name\n     */\n    __getLoggerName: function(object) {\n      if (object) {\n        if (object.classname) {\n          return object.classname;\n        }\n        if (typeof object == \"string\") {\n          return object;\n        }\n      }\n      return \"[default]\";\n    },\n\n\n    /**\n     * Detects whether a logger level is enabled for an object\n     *\n     * @param level {String} One of \"trace\", \"debug\", \"info\", \"warn\" or \"error\"\n     * @param object {Object} Contextual object (either instance or static class)\n     * @return {Boolean} True if the logger is enabled\n     */\n    isLoggerEnabled: function(level, object) {\n      var loggerName = this.__getLoggerName(object);\n      var appenders = this.__getAppenders(loggerName, level);\n      return !!Object.keys(appenders).length;\n    },\n\n\n    /**\n     * Internal logging main routine.\n     *\n     * @param level {String} One of \"trace\", \"debug\", \"info\", \"warn\" or \"error\"\n     * @param args {Array} List of other arguments, where the first is\n     *   taken as the context object.\n     */\n    __log : function(level, args)\n    {\n      // Get object and determine appenders\n      var object = args.length < 2 ? null : args[0];\n      var loggerName = this.__getLoggerName(object);\n      var appenders = this.__getAppenders(loggerName, level);\n      if (!Object.keys(appenders).length) {\n        return;\n      }\n\n      // Serialize and cache\n      var start = object ? 1 : 0;\n      var items = [];\n      for (var i=start, l=args.length; i<l; i++) {\n        items.push(this.__serialize(args[i], true));\n      }\n\n      // Build entry\n      var time = new Date;\n      var entry =\n      {\n        time : time,\n        offset : time-qx.Bootstrap.LOADSTART,\n        level: level,\n        loggerName: loggerName,\n        items: items,\n        // store window to allow cross frame logging\n        win: window\n      };\n\n      // Add relation fields\n      if (object)\n      {\n        if (qx.Bootstrap.isQxCoreObject(object)) {\n          entry.object = object.toHashCode();\n        }\n        if (object.$$type) {\n          entry.clazz = object;\n        } else if (object.constructor) {\n          entry.clazz = object.constructor;\n        }\n      }\n\n      this.__buffer.process(entry);\n\n      // Send to appenders\n      for (var classname in appenders) {\n        appenders[classname].process(entry);\n      }\n    },\n\n\n    /**\n     * Finds the appenders for a given classname\n     *\n     * @param className {String} Name of the class\n     * @param level {String} the minimum logging level to use the appender\n     * @return {Array} list of appenders\n     */\n    __getAppenders: function(className, level) {\n      var levels = this.__levels;\n\n      // If no filters, then all appenders apply\n      if (!this.__filters.length) {\n        // Check the default level\n        if (levels[level] < levels[this.__level]) {\n          return [];\n        }\n        return this.__appendersByName;\n      }\n\n      // Check the cache\n      var cacheId = className + \"|\" + level;\n      var appenders = this.__appendersCache[cacheId];\n      if (appenders !== undefined) {\n        return appenders;\n      }\n\n      var appenders = {};\n      for (var i = 0; i < this.__filters.length; i++) {\n        var filter = this.__filters[i];\n\n        // Filters only apply to certain levels\n        if (levels[level] < levels[filter.level]) {\n          continue;\n        }\n\n        // No duplicates\n        if (filter.appenderName && appenders[filter.appenderName]) {\n          continue;\n        }\n\n        // Test\n        if (!filter.loggerMatch || filter.loggerMatch.test(className)) {\n          if (filter.appenderName) {\n            appenders[filter.appenderName] = this.__appendersByName[filter.appenderName];\n          }\n          else {\n            return this.__appendersCache[cacheId] = this.__appendersByName;\n          }\n        }\n      }\n\n      return this.__appendersCache[cacheId] = appenders;\n    },\n\n\n\n    /**\n     * Detects the type of the variable given.\n     *\n     * @param value {var} Incoming value\n     * @return {String} Type of the incoming value. Possible values:\n     *   \"undefined\", \"null\", \"boolean\", \"number\", \"string\",\n     *   \"function\", \"array\", \"error\", \"map\",\n     *   \"class\", \"instance\", \"node\", \"stringify\", \"unknown\"\n     */\n    __detect : function(value)\n    {\n      if (value === undefined) {\n        return \"undefined\";\n      } else if (value === null) {\n        return \"null\";\n      }\n\n      if (value.$$type) {\n        return \"class\";\n      }\n\n      var type = typeof value;\n\n      if (type === \"function\" || type == \"string\" || type === \"number\" || type === \"boolean\") {\n        return type;\n      }\n\n      else if (type === \"object\")\n      {\n        if (value.nodeType) {\n          return \"node\";\n          // In Gecko, DOMException doesn't inherit from Error\n        } else if (value instanceof Error || (value.name && value.message)) {\n          return \"error\";\n        } else if (value.classname) {\n          return \"instance\";\n        } else if (value instanceof Array) {\n          return \"array\";\n        } else if (value instanceof Date) {\n          return \"date\";\n        } else {\n          return \"map\";\n        }\n      }\n\n      if (value.toString) {\n        return \"stringify\";\n      }\n\n      return \"unknown\";\n    },\n\n\n    /**\n     * Serializes the incoming value. If it is a singular value, the result is\n     * a simple string. For an array or a map the result can also be a\n     * serialized string of a limited number of individual items.\n     *\n     * @param value {var} Incoming value\n     * @param deep {Boolean?false} Whether arrays and maps should be\n     *    serialized for a limited number of items\n     * @return {Map} Contains the keys <code>type</code>, <code>text</code> and\n     * <code>trace</code>.\n     */\n    __serialize : function(value, deep)\n    {\n      var type = this.__detect(value);\n      var text = \"unknown\";\n      var trace = [];\n\n      switch(type)\n      {\n        case \"null\":\n        case \"undefined\":\n          text = type;\n          break;\n\n        case \"string\":\n        case \"number\":\n        case \"boolean\":\n        case \"date\":\n          text = value;\n          break;\n\n        case \"node\":\n          if (value.nodeType === 9)\n          {\n            text = \"document\";\n          }\n          else if (value.nodeType === 3)\n          {\n            text = \"text[\" + value.nodeValue + \"]\";\n          }\n          else if (value.nodeType === 1)\n          {\n            text = value.nodeName.toLowerCase();\n            if (value.id) {\n              text += \"#\" + value.id;\n            }\n          }\n          else\n          {\n            text = \"node\";\n          }\n          break;\n\n        case \"function\":\n          text = qx.lang.Function.getName(value) || type;\n          break;\n\n        case \"instance\":\n        case \"class\":\n        case \"stringify\":\n          text = value.toString();\n          break;\n\n        case \"error\":\n          trace = qx.dev.StackTrace.getStackTraceFromError(value);\n          text = (value.basename ? value.basename + \": \" : \"\") +\n                 value.toString();\n          break;\n\n        case \"array\":\n          if (deep)\n          {\n            text = [];\n            for (var i=0, l=value.length; i<l; i++)\n            {\n              if (text.length > 20)\n              {\n                text.push(\"...(+\" + (l-i) + \")\");\n                break;\n              }\n\n              text.push(this.__serialize(value[i], false));\n            }\n          }\n          else\n          {\n            text = \"[...(\" + value.length + \")]\";\n          }\n          break;\n\n        case \"map\":\n          if (deep)\n          {\n            var temp;\n\n            // Produce sorted key list\n            var sorted = [];\n            for (var key in value) {\n              sorted.push(key);\n            }\n            sorted.sort();\n\n            // Temporary text list\n            text = [];\n            for (var i=0, l=sorted.length; i<l; i++)\n            {\n              if (text.length > 20)\n              {\n                text.push(\"...(+\" + (l-i) + \")\");\n                break;\n              }\n\n              // Additional storage of hash-key\n              key = sorted[i];\n              temp = this.__serialize(value[key], false);\n              temp.key = key;\n              text.push(temp);\n            }\n          }\n          else\n          {\n            var number=0;\n            for (var key in value) {\n              number++;\n            }\n            text = \"{...(\" + number + \")}\";\n          }\n          break;\n      }\n\n      return {\n        type : type,\n        text : text,\n        trace : trace\n      };\n    }\n  },\n\n\n  defer : function(statics)\n  {\n    var logs = qx.Bootstrap.$$logs;\n    for (var i=0; i<logs.length; i++) {\n      statics.__log(logs[i][0], logs[i][1]);\n    }\n\n    qx.Bootstrap.debug = statics.debug;\n    qx.Bootstrap.info = statics.info;\n    qx.Bootstrap.warn = statics.warn;\n    qx.Bootstrap.error = statics.error;\n    qx.Bootstrap.trace = statics.trace;\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * This mixin offers the basic logging features offered by {@link qx.log.Logger}.\n */\nqx.Mixin.define(\"qx.core.MLogging\",\n{\n  members :\n  {\n    /** @type {Class} Pointer to the regular logger class */\n    __Logger : qx.log.Logger,\n\n\n    /**\n     * Logs a debug message.\n     *\n     * @param varargs {var} The item(s) to log. Any number of arguments is\n     * supported. If an argument is not a string, the object dump will be\n     * logged.\n     */\n    debug : function(varargs) {\n      this.__logMessage(\"debug\", arguments);\n    },\n\n\n    /**\n     * Logs an info message.\n     *\n     * @param varargs {var} The item(s) to log. Any number of arguments is\n     * supported. If an argument is not a string, the object dump will be\n     * logged.\n     */\n    info : function(varargs) {\n      this.__logMessage(\"info\", arguments);\n    },\n\n\n    /**\n     * Logs a warning message.\n     *\n     * @param varargs {var} The item(s) to log. Any number of arguments is\n     * supported. If an argument is not a string, the object dump will be\n     * logged.\n     */\n    warn : function(varargs) {\n      this.__logMessage(\"warn\", arguments);\n    },\n\n\n    /**\n     * Logs an error message.\n     *\n     * @param varargs {var} The item(s) to log. Any number of arguments is\n     * supported. If an argument is not a string, the object dump will be\n     * logged.\n     */\n    error : function(varargs) {\n      this.__logMessage(\"error\", arguments);\n    },\n\n\n    /**\n     * Logs an error message with the current stack trace\n     *\n     * @param varargs {var} The item(s) to log. Any number of arguments is\n     * supported. If an argument is not a string, the object dump will be\n     * logged.\n     */\n    trace : function(varargs) {\n      this.__logMessage(\"trace\", arguments);\n    },\n\n\n    /**\n     * Helper that calls the appropriate logger function with the current object\n     * and any number of items.\n     *\n     * @param level {String} The log level of the message\n     * @param varargs {arguments} Arguments list to be logged\n     */\n    __logMessage : function(level, varargs)\n    {\n      var argumentsArray = qx.lang.Array.fromArguments(varargs);\n      argumentsArray.unshift(this);\n      this.__Logger[level].apply(this.__Logger, argumentsArray);\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Sebastian Werner (wpbasti)\n     * Alexander Steitz (aback)\n     * Christian Hagendorn (chris_schmidt)\n     * Tobias Oberrauch (toberrauch) <tobias.oberrauch@1und1.de>\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * Juriy Zaytsev\n     http://thinkweb2.com/projects/prototype/detecting-event-support-without-browser-sniffing/\n\n     Copyright (c) 2009 Juriy Zaytsev\n\n     License:\n       BSD: http://github.com/kangax/iseventsupported/blob/master/LICENSE\n\n     ----------------------------------------------------------------------\n\n     http://github.com/kangax/iseventsupported/blob/master/LICENSE\n\n     Copyright (c) 2009 Juriy Zaytsev\n\n     Permission is hereby granted, free of charge, to any person\n     obtaining a copy of this software and associated documentation\n     files (the \"Software\"), to deal in the Software without\n     restriction, including without limitation the rights to use,\n     copy, modify, merge, publish, distribute, sublicense, and/or sell\n     copies of the Software, and to permit persons to whom the\n     Software is furnished to do so, subject to the following\n     conditions:\n\n     The above copyright notice and this permission notice shall be\n     included in all copies or substantial portions of the Software.\n\n     THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n     EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n     OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n     NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n     HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n     WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n     FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n     OTHER DEALINGS IN THE SOFTWARE.\n\n************************************************************************ */\n\n/**\n * Wrapper around native event management capabilities of the browser.\n * This class should not be used directly normally. It's better\n * to use {@link qx.event.Registration} instead.\n */\nqx.Bootstrap.define(\"qx.bom.Event\",\n{\n  statics :\n  {\n    /**\n     * Use the low level browser functionality to attach event listeners\n     * to DOM nodes.\n     *\n     * Use this with caution. This is only thought for event handlers and\n     * qualified developers. These are not mem-leak protected!\n     *\n     * @param target {Object} Any valid native event target\n     * @param type {String} Name of the event\n     * @param listener {Function} The pointer to the function to assign\n     * @param useCapture {Boolean ? false} A Boolean value that specifies the event phase to add\n     *    the event handler for the capturing phase or the bubbling phase.\n     * @param passive {Boolean ? false} Specifies whether to set the passive option to true or false if supported.\n     */\n    addNativeListener : function(target, type, listener, useCapture, passive)\n    {\n      if (target.addEventListener) {\n        if (passive === undefined || !qx.core.Environment.get(\"event.passive\")) {\n          target.addEventListener(type, listener, !!useCapture);\n        } else {\n          target.addEventListener(type, listener, { capture: !!useCapture, passive: !!passive });\n\t\t}  \n      } else if (target.attachEvent) {\n        target.attachEvent(\"on\" + type, listener);\n      } else if (typeof target[\"on\" + type] != \"undefined\") {\n        target[\"on\" + type] = listener;\n      } else {\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          qx.log.Logger.warn(\"No method available to add native listener to \" + target);\n        }\n      }\n    },\n\n\n    /**\n     * Use the low level browser functionality to remove event listeners\n     * from DOM nodes.\n     *\n     * @param target {Object} Any valid native event target\n     * @param type {String} Name of the event\n     * @param listener {Function} The pointer to the function to assign\n     * @param useCapture {Boolean ? false} A Boolean value that specifies the event phase to remove\n     *    the event handler for the capturing phase or the bubbling phase.\n     */\n    removeNativeListener : function(target, type, listener, useCapture)\n    {\n      if (target.removeEventListener)\n      {\n        target.removeEventListener(type, listener, !!useCapture);\n      }\n      else if (target.detachEvent)\n      {\n        try {\n          target.detachEvent(\"on\" + type, listener);\n        }\n        catch(e)\n        {\n          // IE7 sometimes dispatches \"unload\" events on protected windows\n          // Ignore the \"permission denied\" errors.\n          if(e.number !== -2146828218) {\n            throw e;\n          };\n        }\n      }\n      else if (typeof target[\"on\" + type] != \"undefined\")\n      {\n        target[\"on\" + type] = null;\n      }\n      else\n      {\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          qx.log.Logger.warn(\"No method available to remove native listener from \" + target);\n        }\n      }\n    },\n\n\n    /**\n     * Returns the target of the event.\n     *\n     * @param e {Event} Native event object\n     * @return {Object} Any valid native event target\n     */\n    getTarget : function(e) {\n      return e.target || e.srcElement;\n    },\n\n\n    /**\n     * Computes the related target from the native DOM event\n     *\n     * @param e {Event} Native DOM event object\n     * @return {Element} The related target\n     */\n    getRelatedTarget : function(e)\n    {\n      if (e.relatedTarget !== undefined)\n      {\n        // In Firefox the related target of mouse events is sometimes an\n        // anonymous div inside of a text area, which raises an exception if\n        // the nodeType is read. This is why the try/catch block is needed.\n        if ((qx.core.Environment.get(\"engine.name\") == \"gecko\"))\n        {\n          try {\n            e.relatedTarget && e.relatedTarget.nodeType;\n          } catch (ex) {\n            return null;\n          }\n        }\n\n        return e.relatedTarget;\n      }\n      else if (e.fromElement !== undefined &&\n        (e.type === \"mouseover\" || e.type === \"pointerover\"))\n      {\n        return e.fromElement;\n      } else if (e.toElement !== undefined) {\n        return e.toElement;\n      } else {\n        return null;\n      }\n    },\n\n\n    /**\n     * Prevent the native default of the event to be processed.\n     *\n     * This is useful to stop native keybindings, native selection\n     * and other native functionality behind events.\n     *\n     * @param e {Event} Native event object\n     */\n    preventDefault : function(e)\n    {\n      if (e.preventDefault) {\n        e.preventDefault();\n      }\n      else {\n        try {\n          // this allows us to prevent some key press events in IE.\n          // See bug #1049\n          e.keyCode = 0;\n        } catch(ex) {}\n\n        e.returnValue = false;\n      }\n    },\n\n\n    /**\n     * Stops the propagation of the given event to the parent element.\n     *\n     * Only useful for events which bubble e.g. mousedown.\n     *\n     * @param e {Event} Native event object\n     */\n    stopPropagation : function(e)\n    {\n      if (e.stopPropagation) {\n        e.stopPropagation();\n      } else {\n        e.cancelBubble = true;\n      }\n    },\n\n\n    /**\n     * Fires a synthetic native event on the given element.\n     *\n     * @param target {Element} DOM element to fire event on\n     * @param type {String} Name of the event to fire\n     * @return {Boolean} A value that indicates whether any of the event handlers called {@link #preventDefault}.\n     *  <code>true</code> The default action is permitted, <code>false</code> the caller should prevent the default action.\n     */\n    fire : function(target, type)\n    {\n      // dispatch for standard first\n      if (document.createEvent)\n      {\n        var evt = document.createEvent(\"HTMLEvents\");\n        evt.initEvent(type, true, true);\n\n        return !target.dispatchEvent(evt);\n      }\n\n      // dispatch for IE\n      else\n      {\n        var evt = document.createEventObject();\n        return target.fireEvent(\"on\" + type, evt);\n      }\n    },\n\n\n    /**\n     * Whether the given target supports the given event type.\n     *\n     * Useful for testing for support of new features like\n     * touch events, gesture events, orientation change, on/offline, etc.\n     *\n     * *NOTE:* This check is *case-insensitive*.\n     * <code>supportsEvent(window, \"cLicK\")</code> will return <code>true</code>\n     * but <code>window.addEventListener(\"cLicK\", callback)</code> will fail\n     * silently!\n     *\n     * @param target {var} Any valid target e.g. window, dom node, etc.\n     * @param type {String} Type of the event e.g. click, mousedown\n     * @return {Boolean} Whether the given event is supported\n     */\n    supportsEvent : function(target, type)\n    {\n      var browserName = qx.core.Environment.get(\"browser.name\");\n      var engineName = qx.core.Environment.get(\"engine.name\");\n\n      // transitionEnd support can not be detected generically for Internet Explorer 10+ [BUG #7875]\n      if (type.toLowerCase().indexOf(\"transitionend\") != -1\n          && engineName === \"mshtml\"\n          && qx.core.Environment.get(\"browser.documentmode\") > 9)\n      {\n        return true;\n      }\n\n      /**\n       * add exception for safari mobile ()\n       * @see http://bugzilla.qooxdoo.org/show_bug.cgi?id=8244\n       */\n      var safariBrowserNames = [\"mobile safari\", \"safari\"];\n      if (\n        engineName === \"webkit\" &&\n        safariBrowserNames.indexOf(browserName) > -1\n      ) {\n        var supportedEvents = [\n          'loadeddata', 'progress', 'timeupdate', 'seeked', 'canplay', 'play',\n          'playing', 'pause', 'loadedmetadata', 'ended', 'volumechange'\n        ];\n        if (supportedEvents.indexOf(type.toLowerCase()) > -1) {\n          return true;\n        }\n      }\n\n      // The 'transitionend' event can only be detected on window objects,\n      // not DOM elements [BUG #7249]\n      if (target != window && type.toLowerCase().indexOf(\"transitionend\") != -1) {\n        var transitionSupport = qx.core.Environment.get(\"css.transition\");\n        return (transitionSupport && transitionSupport[\"end-event\"] == type);\n      }\n      // Using the lowercase representation is important for the\n      // detection of events like 'MSPointer*'. They have to detected\n      // using the lower case name of the event.\n      var eventName = \"on\" + type.toLowerCase();\n\n      var supportsEvent = (eventName in target);\n\n      if (!supportsEvent)\n      {\n        supportsEvent = typeof target[eventName] == \"function\";\n\n        if (!supportsEvent && target.setAttribute)\n        {\n          target.setAttribute(eventName, \"return;\");\n          supportsEvent = typeof target[eventName] == \"function\";\n\n          target.removeAttribute(eventName);\n        }\n      }\n\n      return supportsEvent;\n    },\n\n\n    /**\n     * Returns the (possibly vendor-prefixed) name of the given event type.\n     * *NOTE:* Incorrect capitalization of type names will *not* be corrected. See\n     * {@link #supportsEvent} for details.\n     *\n     * @param target {var} Any valid target e.g. window, dom node, etc.\n     * @param type {String} Type of the event e.g. click, mousedown\n     * @return {String|null} Event name or <code>null</code> if the event is not\n     * supported.\n     */\n    getEventName : function(target, type)\n    {\n      var pref = [\"\"].concat(qx.bom.Style.VENDOR_PREFIXES);\n      for (var i=0, l=pref.length; i<l; i++) {\n        var prefix = pref[i].toLowerCase();\n        if (qx.bom.Event.supportsEvent(target, prefix + type)) {\n          return prefix ? prefix + qx.lang.String.firstUp(type) : type;\n        }\n      }\n\n      return null;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2016 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * John Spackman (john.spackman@zenesis.com)\n\n************************************************************************ */\n\n/**\n * Classes which implement this interface are required to be disposed when they are\n * no longer needed, by calling .dispose(); they are also registered with qx.core.ObjectRegistry\n * so that qx.core.ObjectRegistry.fromHashCode() will work.\n * \n * Note that classes do not have to implement this interface in order to provide a dispose\n * method and/or a destructor. \n */\nqx.Interface.define(\"qx.core.IDisposable\", {\n\t\n\tmembers: {\n    /**\n     * Dispose this object\n     *\n     */\n\t\tdispose: function() {\n\t\t\t\n\t\t}\n\t}\n});","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Wrapper for browser DOM event handling for each browser window/frame.\n *\n * @require(qx.bom.Event)\n */\nqx.Class.define(\"qx.event.Manager\",\n{\n  extend : Object,\n  implement: [ qx.core.IDisposable ],\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Creates a new instance of the event handler.\n   *\n   * @param win {Window} The DOM window this manager handles the events for\n   * @param registration {qx.event.Registration} The event registration to use\n   */\n  construct : function(win, registration)\n  {\n    // Assign window object\n    this.__window = win;\n    this.__windowId = qx.core.ObjectRegistry.toHashCode(win);\n    this.__registration = registration;\n\n    // Register to the page unload event.\n    // Only for iframes and other secondary documents.\n    if (win.qx !== qx)\n    {\n      var self = this;\n      var method = function () {\n        qx.bom.Event.removeNativeListener(win, \"unload\", method);\n        self.dispose();\n      };\n      if (qx.core.Environment.get(\"qx.globalErrorHandling\")) {\n        qx.bom.Event.addNativeListener(win, \"unload\", qx.event.GlobalError.observeMethod(method));\n      } else {\n        qx.bom.Event.addNativeListener(win, \"unload\", method);\n      }\n    }\n\n    // Registry for event listeners\n    this.__listeners = {};\n\n    // The handler and dispatcher instances\n    this.__handlers = {};\n    this.__dispatchers = {};\n\n    this.__handlerCache = {};\n\n    this.__clearBlackList = new qx.util.DeferredCall(function() {\n      this.__blacklist = null;\n    }, this);\n    this.__clearBlackList.$$blackListCleaner = true;\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Last used ID for an event */\n    __lastUnique : 0,\n\n\n    /**\n     * Returns an unique ID which may be used in combination with a target and\n     * a type to identify an event entry.\n     *\n     * @return {String} The next free identifier (auto-incremented)\n     */\n    getNextUniqueId : function() {\n      return (this.__lastUnique++) + \"\";\n    },\n    \n    \n    /** @type {Function} global event monitor, called with parameters of target and event */\n    __globalEventMonitor: null,\n    \n    \n    /**\n     * Returns the global event monitor\n     * \n     * @return {Function?} the global monitor function\n     */\n    getGlobalEventMonitor: function() {\n      return this.__globalEventMonitor;\n    },\n    \n    \n    /**\n     * Sets the global event monitor\n     * \n     * @param cb {Function?} the global monitor function\n     */\n    setGlobalEventMonitor: function(cb) {\n      this.__globalEventMonitor = cb;\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __registration : null,\n    __listeners : null,\n\n    __dispatchers : null,\n    __disposeWrapper : null,\n\n    __handlers : null,\n    __handlerCache : null,\n    __window : null,\n    __windowId : null,\n\n    __blacklist : null,\n    __clearBlackList : null,\n\n\n    /*\n    ---------------------------------------------------------------------------\n      HELPERS\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Get the window instance the event manager is responsible for\n     *\n     * @return {Window} DOM window instance\n     */\n    getWindow : function() {\n      return this.__window;\n    },\n\n\n    /**\n     * Get the hashcode of the manager's window\n     *\n     * @return {String} The window's hashcode\n     */\n    getWindowId : function() {\n      return this.__windowId;\n    },\n\n\n    /**\n     * Returns an instance of the given handler class for this manager(window).\n     *\n     * @param clazz {Class} Any class which implements {@link qx.event.IEventHandler}\n     * @return {Object} The instance used by this manager\n     */\n    getHandler : function(clazz)\n    {\n      var handler = this.__handlers[clazz.classname];\n\n      if (handler) {\n        return handler;\n      }\n\n      return this.__handlers[clazz.classname] = new clazz(this);\n    },\n\n\n    /**\n     * Returns an instance of the given dispatcher class for this manager(window).\n     *\n     * @param clazz {Class} Any class which implements {@link qx.event.IEventHandler}\n     * @return {Object} The instance used by this manager\n     */\n    getDispatcher : function(clazz)\n    {\n      var dispatcher = this.__dispatchers[clazz.classname];\n\n      if (dispatcher) {\n        return dispatcher;\n      }\n\n      return this.__dispatchers[clazz.classname] = new clazz(this, this.__registration);\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT LISTENER MANAGEMENT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Get a copy of all event listeners for the given combination\n     * of target, event type and phase.\n     *\n     * This method is especially useful and for event handlers to\n     * to query the listeners registered in the manager.\n     *\n     * @param target {Object} Any valid event target\n     * @param type {String} Event type\n     * @param capture {Boolean ? false} Whether the listener is for the\n     *       capturing phase of the bubbling phase.\n     * @return {Array | null} Array of registered event handlers. May return\n     *       null when no listener were found.\n     */\n    getListeners : function(target, type, capture)\n    {\n      var targetKey = target.$$hash || qx.core.ObjectRegistry.toHashCode(target);\n      var targetMap = this.__listeners[targetKey];\n\n      if (!targetMap) {\n        return null;\n      }\n\n      var entryKey = type + (capture ? \"|capture\" : \"|bubble\");\n      var entryList = targetMap[entryKey];\n\n      return entryList ? entryList.concat() : null;\n    },\n\n\n    /**\n     * Returns all registered listeners.\n     *\n     * @internal\n     *\n     * @return {Map} All registered listeners. The key is the hash code form an object.\n     */\n    getAllListeners : function() {\n      return this.__listeners;\n    },\n\n\n    /**\n     * Returns a serialized array of all events attached on the given target.\n     *\n     * @param target {Object} Any valid event target\n     * @return {Map[]} Array of maps where everyone contains the keys:\n     *   <code>handler</code>, <code>self</code>, <code>type</code> and <code>capture</code>.\n     */\n    serializeListeners : function(target)\n    {\n      var targetKey = target.$$hash || qx.core.ObjectRegistry.toHashCode(target);\n      var targetMap = this.__listeners[targetKey];\n      var result = [];\n\n      if (targetMap)\n      {\n        var indexOf, type, capture, entryList, entry;\n        for (var entryKey in targetMap)\n        {\n          indexOf = entryKey.indexOf(\"|\");\n          type = entryKey.substring(0, indexOf);\n          capture = entryKey.charAt(indexOf+1) == \"c\";\n          entryList = targetMap[entryKey];\n\n          for (var i=0, l=entryList.length; i<l; i++)\n          {\n            entry = entryList[i];\n            result.push(\n            {\n              self: entry.context,\n              handler: entry.handler,\n              type: type,\n              capture: capture\n            });\n          }\n        }\n      }\n\n      return result;\n    },\n\n\n    /**\n     * This method might be used to temporally remove all events\n     * directly attached to the given target. This do not work\n     * have any effect on bubbling events normally.\n     *\n     * This is mainly thought for detaching events in IE, before\n     * cloning them. It also removes all leak scenarios\n     * when unloading a document and may be used here as well.\n     *\n     * @internal\n     * @param target {Object} Any valid event target\n     * @param enable {Boolean} Whether to enable or disable the events\n     */\n    toggleAttachedEvents : function(target, enable)\n    {\n      var targetKey = target.$$hash || qx.core.ObjectRegistry.toHashCode(target);\n      var targetMap = this.__listeners[targetKey];\n\n      if (targetMap)\n      {\n        var indexOf, type, capture, entryList;\n        for (var entryKey in targetMap)\n        {\n          indexOf = entryKey.indexOf(\"|\");\n          type = entryKey.substring(0, indexOf);\n          capture = entryKey.charCodeAt(indexOf+1) === 99; // checking for character \"c\".\n          entryList = targetMap[entryKey];\n\n          if (enable) {\n            this.__registerAtHandler(target, type, capture);\n          } else {\n            this.__unregisterAtHandler(target, type, capture);\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Check whether there are one or more listeners for an event type\n     * registered at the target.\n     *\n     * @param target {Object} Any valid event target\n     * @param type {String} The event type\n     * @param capture {Boolean ? false} Whether to check for listeners of\n     *         the bubbling or of the capturing phase.\n     * @return {Boolean} Whether the target has event listeners of the given type.\n     */\n    hasListener : function(target, type, capture)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (target == null)\n        {\n          qx.log.Logger.trace(this);\n          throw new Error(\"Invalid object: \" + target);\n        }\n      }\n\n      var targetKey = target.$$hash || qx.core.ObjectRegistry.toHashCode(target);\n      var targetMap = this.__listeners[targetKey];\n\n      if (!targetMap) {\n        return false;\n      }\n\n      var entryKey = type + (capture ? \"|capture\" : \"|bubble\");\n      var entryList = targetMap[entryKey];\n\n      return !!(entryList && entryList.length > 0);\n    },\n\n\n    /**\n     * Imports a list of event listeners at once. This only\n     * works for newly created elements as it replaces\n     * all existing data structures.\n     *\n     * Works with a map of data. Each entry in this map should be a\n     * map again with the keys <code>type</code>, <code>listener</code>,\n     * <code>self</code>, <code>capture</code> and an optional <code>unique</code>.\n     *\n     * The values are identical to the parameters of {@link #addListener}.\n     * For details please have a look there.\n     *\n     * @param target {Object} Any valid event target\n     * @param list {Map} A map where every listener has an unique key.\n     */\n    importListeners : function(target, list)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (target == null)\n        {\n          qx.log.Logger.trace(this);\n          throw new Error(\"Invalid object: \" + target);\n        }\n      }\n\n      var targetKey = target.$$hash || qx.core.ObjectRegistry.toHashCode(target);\n      var targetMap = this.__listeners[targetKey] = {};\n      var clazz = qx.event.Manager;\n\n      for (var listKey in list)\n      {\n        var item = list[listKey];\n\n        var entryKey = item.type + (item.capture ? \"|capture\" : \"|bubble\");\n        var entryList = targetMap[entryKey];\n\n        if (!entryList)\n        {\n          entryList = targetMap[entryKey] = [];\n\n          // This is the first event listener for this type and target\n          // Inform the event handler about the new event\n          // they perform the event registration at DOM level if needed\n          this.__registerAtHandler(target, item.type, item.capture);\n        }\n\n        // Append listener to list\n        entryList.push(\n        {\n          handler : item.listener,\n          context : item.self,\n          unique : item.unique || (clazz.__lastUnique++) + \"\"\n        });\n      }\n    },\n\n\n    /**\n     * Add an event listener to any valid target. The event listener is passed an\n     * instance of {@link qx.event.type.Event} containing all relevant information\n     * about the event as parameter.\n     *\n     * @param target {Object} Any valid event target\n     * @param type {String} Name of the event e.g. \"click\", \"keydown\", ...\n     * @param listener {Function} Event listener function\n     * @param self {Object ? null} Reference to the 'this' variable inside\n     *         the event listener. When not given, the corresponding dispatcher\n     *         usually falls back to a default, which is the target\n     *         by convention. Note this is not a strict requirement, i.e.\n     *         custom dispatchers can follow a different strategy.\n     * @param capture {Boolean ? false} Whether to attach the event to the\n     *         capturing phase or the bubbling phase of the event. The default is\n     *         to attach the event handler to the bubbling phase.\n     * @return {String} An opaque ID, which can be used to remove the event listener\n     *         using the {@link #removeListenerById} method.\n     * @throws {Error} if the parameters are wrong\n     */\n    addListener : function(target, type, listener, self, capture)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        var msg = \"Failed to add event listener for type '\"+ type +\"'\" +\n          \" to the target '\" + target.classname + \"': \";\n\n        qx.core.Assert.assertObject(target, msg + \"Invalid Target.\");\n        qx.core.Assert.assertString(type, msg + \"Invalid event type.\");\n        qx.core.Assert.assertFunctionOrAsyncFunction(listener, msg + \"Invalid callback function\");\n\n        if (capture !== undefined) {\n          qx.core.Assert.assertBoolean(capture, \"Invalid capture flag.\");\n        }\n      }\n      \n      var targetKey = target.$$hash || qx.core.ObjectRegistry.toHashCode(target);\n      var targetMap = this.__listeners[targetKey];\n\n      if (!targetMap) {\n        targetMap = this.__listeners[targetKey] = {};\n      }\n\n      var entryKey = type + (capture ? \"|capture\" : \"|bubble\");\n      var entryList = targetMap[entryKey];\n\n      if (!entryList) {\n        entryList = targetMap[entryKey] = [];\n      }\n\n      // This is the first event listener for this type and target\n      // Inform the event handler about the new event\n      // they perform the event registration at DOM level if needed\n      if (entryList.length === 0) {\n        this.__registerAtHandler(target, type, capture);\n      }\n\n      // Append listener to list\n      var unique = (qx.event.Manager.__lastUnique++) + \"\";\n      var entry =\n      {\n        handler : listener,\n        context : self,\n        unique : unique\n      };\n\n      entryList.push(entry);\n\n      return entryKey + \"|\" + unique;\n    },\n\n\n    /**\n     * Get the event handler class matching the given event target and type\n     *\n     * @param target {var} The event target\n     * @param type {String} The event type\n     * @return {qx.event.IEventHandler|null} The best matching event handler or\n     *     <code>null</code>.\n     */\n    findHandler : function(target, type)\n    {\n      var isDomNode=false, isWindow=false, isObject=false, isDocument = false;\n      var key;\n\n      if (target.nodeType === 1)\n      {\n        isDomNode = true;\n        key = \"DOM_\" + target.tagName.toLowerCase() + \"_\" + type;\n      } else if (target.nodeType === 9) {\n        isDocument = true;\n        key = \"DOCUMENT_\" + type;\n      }\n\n      // Please note:\n      // Identical operator does not work in IE (as of version 7) because\n      // document.parentWindow is not identical to window. Crazy stuff.\n      else if (target == this.__window)\n      {\n        isWindow = true;\n        key = \"WIN_\" + type;\n      }\n      else if (target.classname)\n      {\n        isObject = true;\n        key = \"QX_\" + target.classname + \"_\" + type;\n      }\n      else\n      {\n        key = \"UNKNOWN_\" + target + \"_\" + type;\n      }\n\n\n      var cache = this.__handlerCache;\n      if (cache[key]) {\n        return cache[key];\n      }\n\n\n      var classes = this.__registration.getHandlers();\n      var IEventHandler = qx.event.IEventHandler;\n      var clazz, instance, supportedTypes, targetCheck;\n\n      for (var i=0, l=classes.length; i<l; i++)\n      {\n        clazz = classes[i];\n\n        // shortcut type check\n        supportedTypes = clazz.SUPPORTED_TYPES;\n        if (supportedTypes && !supportedTypes[type]) {\n          continue;\n        }\n\n        // shortcut target check\n        targetCheck = clazz.TARGET_CHECK;\n        if (targetCheck)\n        {\n          // use bitwise & to compare for the bitmask!\n          var found = false;\n          if (isDomNode && ((targetCheck & IEventHandler.TARGET_DOMNODE) != 0)) {\n            found = true;\n          } else if (isWindow && ((targetCheck & IEventHandler.TARGET_WINDOW) != 0)) {\n            found = true;\n          } else if (isObject && ((targetCheck & IEventHandler.TARGET_OBJECT) != 0)) {\n            found = true;\n          } else if (isDocument && ((targetCheck & IEventHandler.TARGET_DOCUMENT) != 0)) {\n            found = true;\n          }\n\n          if (!found) {\n            continue;\n          }\n        }\n\n        instance = this.getHandler(classes[i]);\n        if (clazz.IGNORE_CAN_HANDLE || instance.canHandleEvent(target, type))\n        {\n          cache[key] = instance;\n          return instance;\n        }\n      }\n\n      return null;\n    },\n\n\n    /**\n     * This method is called each time an event listener for one of the\n     * supported events is added using {qx.event.Manager#addListener}.\n     *\n     * @param target {Object} Any valid event target\n     * @param type {String} event type\n     * @param capture {Boolean} Whether to attach the event to the\n     *         capturing phase or the bubbling phase of the event.\n     * @throws {Error} if there is no handler for the event\n     */\n    __registerAtHandler : function(target, type, capture)\n    {\n      var handler = this.findHandler(target, type);\n\n      if (handler)\n      {\n        handler.registerEvent(target, type, capture);\n        return;\n      }\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        qx.log.Logger.warn(\n          this,\n          \"There is no event handler for the event '\" + type +\n          \"' on target '\" + target + \"'!\"\n        );\n      }\n    },\n\n\n    /**\n     * Remove an event listener from an event target.\n     *\n     * @param target {Object} Any valid event target\n     * @param type {String} Name of the event\n     * @param listener {Function} The pointer to the event listener\n     * @param self {Object ? null} Reference to the 'this' variable inside\n     *         the event listener.\n     * @param capture {Boolean ? false} Whether to remove the event listener of\n     *         the bubbling or of the capturing phase.\n     * @return {Boolean} Whether the event was removed successfully (was existant)\n     * @throws {Error} if the parameters are wrong\n     */\n    removeListener : function(target, type, listener, self, capture)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        var msg = \"Failed to remove event listener for type '\" + type + \"'\" +\n          \" from the target '\" + target.classname + \"': \";\n\n        qx.core.Assert.assertObject(target, msg + \"Invalid Target.\");\n        qx.core.Assert.assertString(type, msg + \"Invalid event type.\");\n        qx.core.Assert.assertFunction(listener, msg + \"Invalid callback function\");\n\n        if (self !== undefined) {\n          qx.core.Assert.assertObject(self, \"Invalid context for callback.\");\n        }\n\n        if (capture !== undefined) {\n          qx.core.Assert.assertBoolean(capture, \"Invalid capture flag.\");\n        }\n      }\n\n      var targetKey = target.$$hash || qx.core.ObjectRegistry.toHashCode(target);\n      var targetMap = this.__listeners[targetKey];\n\n      if (!targetMap) {\n        return false;\n      }\n\n      var entryKey = type + (capture ? \"|capture\" : \"|bubble\");\n      var entryList = targetMap[entryKey];\n\n      if (!entryList) {\n        return false;\n      }\n\n      var entry;\n      for (var i=0, l=entryList.length; i<l; i++)\n      {\n        entry = entryList[i];\n\n        if (entry.handler === listener && entry.context === self)\n        {\n          qx.lang.Array.removeAt(entryList, i);\n          this.__addToBlacklist(entry.unique);\n\n          if (entryList.length == 0) {\n            this.__unregisterAtHandler(target, type, capture);\n          }\n\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Removes an event listener from an event target by an ID returned by\n     * {@link #addListener}.\n     *\n     * @param target {Object} The event target\n     * @param id {String} The ID returned by {@link #addListener}\n     * @return {Boolean} <code>true</code> if the handler was removed\n     */\n    removeListenerById : function(target, id)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        var msg = \"Failed to remove event listener for id '\" + id + \"'\" +\n          \" from the target '\" + target.classname + \"': \";\n\n        qx.core.Assert.assertObject(target, msg + \"Invalid Target.\");\n        qx.core.Assert.assertString(id, msg + \"Invalid id type.\");\n      }\n\n      var split = id.split(\"|\");\n      var type = split[0];\n      var capture = split[1].charCodeAt(0) == 99; // detect leading \"c\"\n      var unique = split[2];\n\n      var targetKey = target.$$hash || qx.core.ObjectRegistry.toHashCode(target);\n      var targetMap = this.__listeners[targetKey];\n\n      if (!targetMap) {\n        return false;\n      }\n\n      var entryKey = type + (capture ? \"|capture\" : \"|bubble\");\n      var entryList = targetMap[entryKey];\n\n      if (!entryList) {\n        return false;\n      }\n\n      var entry;\n      for (var i=0, l=entryList.length; i<l; i++)\n      {\n        entry = entryList[i];\n\n        if (entry.unique === unique)\n        {\n          qx.lang.Array.removeAt(entryList, i);\n          this.__addToBlacklist(entry.unique);\n\n          if (entryList.length == 0) {\n            this.__unregisterAtHandler(target, type, capture);\n          }\n\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Remove all event listeners, which are attached to the given event target.\n     *\n     * @param target {Object} The event target to remove all event listeners from.\n     * @return {Boolean} Whether the events were existant and were removed successfully.\n     */\n    removeAllListeners : function(target)\n    {\n      var targetKey = target.$$hash || qx.core.ObjectRegistry.toHashCode(target);\n      var targetMap = this.__listeners[targetKey];\n      if (!targetMap) {\n        return false;\n      }\n\n      // Deregister from event handlers\n      var split, type, capture;\n      for (var entryKey in targetMap)\n      {\n        if (targetMap[entryKey].length > 0)\n        {\n          // This is quite expensive, see bug #1283\n          split = entryKey.split(\"|\");\n\n          targetMap[entryKey].forEach(function(entry) {\n            this.__addToBlacklist(entry.unique);\n          }, this);\n\n          type = split[0];\n          capture = split[1] === \"capture\";\n\n          this.__unregisterAtHandler(target, type, capture);\n        }\n      }\n\n      delete this.__listeners[targetKey];\n      return true;\n    },\n\n\n    /**\n     * Internal helper for deleting the internal listener  data structure for\n     * the given targetKey.\n     *\n     * @param targetKey {String} Hash code for the object to delete its\n     *   listeners.\n     *\n     * @internal\n     */\n    deleteAllListeners : function(targetKey) {\n      delete this.__listeners[targetKey];\n    },\n\n\n    /**\n     * This method is called each time the an event listener for one of the\n     * supported events is removed by using {qx.event.Manager#removeListener}\n     * and no other event listener is listening on this type.\n     *\n     * @param target {Object} Any valid event target\n     * @param type {String} event type\n     * @param capture {Boolean} Whether to attach the event to the\n     *         capturing phase or the bubbling phase of the event.\n     * @throws {Error} if there is no handler for the event\n     */\n    __unregisterAtHandler : function(target, type, capture)\n    {\n      var handler = this.findHandler(target, type);\n\n      if (handler)\n      {\n        handler.unregisterEvent(target, type, capture);\n        return;\n      }\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        qx.log.Logger.warn(\n          this,\n          \"There is no event handler for the event '\" + type +\n          \"' on target '\" + target + \"'!\"\n        );\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT DISPATCH\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Dispatches an event object using the qooxdoo event handler system. The\n     * event will only be visible in event listeners attached using\n     * {@link #addListener}. After dispatching the event object will be pooled\n     * for later reuse or disposed.\n     *\n     * @param target {Object} Any valid event target\n     * @param event {qx.event.type.Event} The event object to dispatch. The event\n     *     object must be obtained using {@link qx.event.Registration#createEvent}\n     *     and initialized using {@link qx.event.type.Event#init}.\n     * @return {Boolean|qx.Promise} whether the event default was prevented or not.\n     *     Returns true, when the event was NOT prevented.\n     * @throws {Error} if there is no dispatcher for the event\n     */\n    dispatchEvent : function(target, event)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        var msg = \"Could not dispatch event '\" + event + \"' on target '\" + target.classname +\"': \";\n\n        qx.core.Assert.assertNotUndefined(target, msg + \"Invalid event target.\");\n        qx.core.Assert.assertNotNull(target, msg + \"Invalid event target.\");\n        qx.core.Assert.assertInstance(event, qx.event.type.Event, msg + \"Invalid event object.\");\n      }\n      \n      if (qx.event.Manager.__globalEventMonitor) {\n        try {\n          var preventDefault = event.getDefaultPrevented();\n          qx.event.Manager.__globalEventMonitor(target, event);\n          if (preventDefault != event.getDefaultPrevented()) {\n            qx.log.Logger.error(\"Unexpected change by GlobalEventMonitor, modifications to events: \");\n          }\n        }catch (ex) {\n          qx.log.Logger.error(\"Error in GlobalEventMonitor: \" + ex);\n        }\n      }\n\n      // Preparations\n      var type = event.getType();\n\n      if (!event.getBubbles() && !this.hasListener(target, type))\n      {\n        qx.event.Pool.getInstance().poolObject(event);\n        return true;\n      }\n\n      if (!event.getTarget()) {\n        event.setTarget(target);\n      }\n\n      // Interacion data\n      var classes = this.__registration.getDispatchers();\n      var instance;\n\n      // Loop through the dispatchers\n      var dispatched = false;\n      var tracker = {};\n\n      for (var i=0, l=classes.length; i<l; i++)\n      {\n        instance = this.getDispatcher(classes[i]);\n\n        // Ask if the dispatcher can handle this event\n        if (instance.canDispatchEvent(target, event, type))\n        {\n          qx.event.Utils.track(tracker, instance.dispatchEvent(target, event, type));\n          dispatched = true;\n          break;\n        }\n      }\n\n      if (!dispatched)\n      {\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          qx.log.Logger.error(this, \"No dispatcher can handle event of type \" + type + \" on \" + target);\n        }\n        return true;\n      }\n\n      return qx.event.Utils.then(tracker, function() {\n        // check whether \"preventDefault\" has been called\n        var preventDefault = event.getDefaultPrevented();\n  \n        // Release the event instance to the event pool\n        qx.event.Pool.getInstance().poolObject(event);\n  \n        return !preventDefault;\n      });\n    },\n\n\n    /**\n     * Dispose the event manager\n     */\n    dispose : function()\n    {\n      // Remove from manager list\n      this.__registration.removeManager(this);\n\n      qx.util.DisposeUtil.disposeMap(this, \"__handlers\");\n      qx.util.DisposeUtil.disposeMap(this, \"__dispatchers\");\n\n      // Dispose data fields\n      this.__listeners = this.__window = this.__disposeWrapper = null;\n      this.__registration = this.__handlerCache = null;\n    },\n\n    /**\n     * Add event to blacklist.\n     *\n     * @param uid {number} unique event id\n     */\n    __addToBlacklist : function(uid) {\n      if (this.__blacklist === null) {\n        this.__blacklist = {};\n        this.__clearBlackList.schedule();        \n      }\n      this.__blacklist[uid] = true;\n    },\n\n    /**\n     * Check if the event with the given id has been removed and is therefore blacklisted for event handling\n     *\n     * @param uid {number} unique event id\n     * @return {boolean}\n     */\n    isBlacklisted : function(uid) {\n      return (this.__blacklist !== null && this.__blacklist[uid] === true);\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Basic node creation and type detection\n */\nqx.Bootstrap.define(\"qx.dom.Node\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      NODE TYPES\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * @type {Map} Node type:\n     *\n     * * ELEMENT\n     * * ATTRIBUTE\n     * * TEXT\n     * * CDATA_SECTION\n     * * ENTITY_REFERENCE\n     * * ENTITY\n     * * PROCESSING_INSTRUCTION\n     * * COMMENT\n     * * DOCUMENT\n     * * DOCUMENT_TYPE\n     * * DOCUMENT_FRAGMENT\n     * * NOTATION\n     */\n    ELEMENT                : 1,\n    ATTRIBUTE              : 2,\n    TEXT                   : 3,\n    CDATA_SECTION          : 4,\n    ENTITY_REFERENCE       : 5,\n    ENTITY                 : 6,\n    PROCESSING_INSTRUCTION : 7,\n    COMMENT                : 8,\n    DOCUMENT               : 9,\n    DOCUMENT_TYPE          : 10,\n    DOCUMENT_FRAGMENT      : 11,\n    NOTATION               : 12,\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      DOCUMENT ACCESS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the owner document of the given node\n     *\n     * @param node {Node|Document|Window} the node which should be tested\n     * @return {Document|null} The document of the given DOM node\n     */\n    getDocument : function(node)\n    {\n      return node.nodeType === this.DOCUMENT ? node : // is document already\n        node.ownerDocument || // is DOM node\n        node.document; // is window\n    },\n\n\n    /**\n     * Returns the DOM2 <code>defaultView</code> (window).\n     *\n     * @param node {Node|Document|Window} node to inspect\n     * @return {Window} the <code>defaultView</code> of the given node\n     */\n    getWindow : function(node)\n    {\n      // is a window already\n        if (node.nodeType == null) {\n          return node;\n        }\n\n        // jump to document\n        if (node.nodeType !== this.DOCUMENT) {\n          node = node.ownerDocument;\n        }\n\n        // jump to window\n        return node.defaultView || node.parentWindow;\n    },\n\n\n    /**\n     * Returns the document element. (Logical root node)\n     *\n     * This is a convenience attribute that allows direct access to the child\n     * node that is the root element of the document. For HTML documents,\n     * this is the element with the tagName \"HTML\".\n     *\n     * @param node {Node|Document|Window} node to inspect\n     * @return {Element} document element of the given node\n     */\n    getDocumentElement : function(node) {\n      return this.getDocument(node).documentElement;\n    },\n\n\n    /**\n     * Returns the body element. (Visual root node)\n     *\n     * This normally only makes sense for HTML documents. It returns\n     * the content area of the HTML document.\n     *\n     * @param node {Node|Document|Window} node to inspect\n     * @return {Element} document body of the given node\n     */\n    getBodyElement : function(node) {\n      return this.getDocument(node).body;\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TYPE TESTS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Whether the given object is a DOM node\n     *\n     * @param node {Node} the node which should be tested\n     * @return {Boolean} true if the node is a DOM node\n     */\n    isNode : function(node) {\n      return !!(node && node.nodeType != null);\n    },\n\n\n    /**\n     * Whether the given object is a DOM element node\n     *\n     * @param node {Node} the node which should be tested\n     * @return {Boolean} true if the node is a DOM element\n     */\n    isElement : function(node) {\n      return !!(node && node.nodeType === this.ELEMENT);\n    },\n\n\n    /**\n     * Whether the given object is a DOM document node\n     *\n     * @param node {Node} the node which should be tested\n     * @return {Boolean} true when the node is a DOM document\n     */\n    isDocument : function(node) {\n      return !!(node && node.nodeType === this.DOCUMENT);\n    },\n\n\n    /**\n     * Whether the given object is a DOM document fragment node\n     *\n     * @param node {Node} the node which should be tested\n     * @return {Boolean} true when the node is a DOM document fragment\n     */\n    isDocumentFragment : function(node) {\n      return !!(node && node.nodeType === this.DOCUMENT_FRAGMENT);\n    },\n\n\n    /**\n     * Whether the given object is a DOM text node\n     *\n     * @param node {Node} the node which should be tested\n     * @return {Boolean} true if the node is a DOM text node\n     */\n    isText : function(node) {\n      return !!(node && node.nodeType === this.TEXT);\n    },\n\n\n    /**\n     * Check whether the given object is a browser window object.\n     *\n     * @param obj {Object} the object which should be tested\n     * @return {Boolean} true if the object is a window object\n     */\n    isWindow : function(obj) {\n      return !!(obj && obj.history && obj.location && obj.document);\n    },\n\n\n    /**\n     * Whether the node has the given node name\n     *\n     * @param node {Node} the node\n     * @param nodeName {String} the node name to check for\n     * @return {Boolean} Whether the node has the given node name\n     */\n    isNodeName : function (node, nodeName)\n    {\n      if(!nodeName || !node || !node.nodeName) {\n        return false;\n      }\n\n      return nodeName.toLowerCase() == qx.dom.Node.getName(node);\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      UTILITIES\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Get the node name as lower case string\n     *\n     * @param node {Node} the node\n     * @return {String} the node name\n     */\n    getName : function (node)\n    {\n      if(!node || !node.nodeName) {\n        return null;\n      }\n\n      return node.nodeName.toLowerCase();\n    },\n\n\n    /**\n     * Returns the text content of an node where the node may be of node type\n     * NODE_ELEMENT, NODE_ATTRIBUTE, NODE_TEXT or NODE_CDATA\n     *\n     * @param node {Node} the node from where the search should start.\n     *     If the node has subnodes the text contents are recursively retreived and joined.\n     * @return {String} the joined text content of the given node or null if not appropriate.\n     * @signature function(node)\n     */\n    getText : function(node)\n    {\n      if(!node || !node.nodeType) {\n        return null;\n      }\n\n      switch(node.nodeType)\n      {\n        case 1: // NODE_ELEMENT\n          var i, a=[], nodes=node.childNodes, length=nodes.length;\n          for (i=0; i<length; i++) {\n            a[i] = this.getText(nodes[i]);\n          }\n\n          return a.join(\"\");\n\n        case 2: // NODE_ATTRIBUTE\n        case 3: // NODE_TEXT\n        case 4: // CDATA\n          return node.nodeValue;\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Checks if the given node is a block node\n     *\n     * @param node {Node} Node\n     * @return {Boolean} whether it is a block node\n     */\n    isBlockNode : function(node)\n    {\n      if (!qx.dom.Node.isElement(node)) {\n       return false;\n      }\n\n      node = qx.dom.Node.getName(node);\n\n      return /^(body|form|textarea|fieldset|ul|ol|dl|dt|dd|li|div|hr|p|h[1-6]|quote|pre|table|thead|tbody|tfoot|tr|td|th|iframe|address|blockquote)$/.test(node);\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * jQuery\n     http://jquery.com\n     Version 1.3.1\n\n     Copyright:\n       2009 John Resig\n\n     License:\n       MIT: http://www.opensource.org/licenses/mit-license.php\n\n   * Underscore.js\n     http://underscorejs.org\n\n     Copyright:\n       2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n\n     License:\n       MIT: http://www.opensource.org/licenses/mit-license.php\n\n************************************************************************ */\n\n/**\n * Static helper functions for arrays with a lot of often used convenience\n * methods like <code>remove</code> or <code>contains</code>.\n *\n * The native JavaScript Array is not modified by this class. However,\n * there are modifications to the native Array in {@link qx.lang.normalize.Array} for\n * browsers that do not support certain JavaScript features natively .\n *\n * @ignore(qx.data)\n * @ignore(qx.data.IListData)\n * @ignore(qx.Class.*)\n * @require(qx.lang.normalize.Date)\n */\nqx.Bootstrap.define(\"qx.lang.Array\",\n{\n  statics :\n  {\n    /**\n     * Converts an array like object to any other array like\n     * object.\n     *\n     * Attention: The returned array may be same\n     * instance as the incoming one if the constructor is identical!\n     *\n     * @param object {var} any array-like object\n     * @param constructor {Function} constructor of the new instance\n     * @param offset {Integer?0} position to start from\n     * @return {Array} the converted array\n     */\n    cast : function(object, constructor, offset)\n    {\n      if (object.constructor === constructor) {\n        return object;\n      }\n\n      if (qx.data && qx.data.IListData) {\n        if (qx.Class && qx.Class.hasInterface(object, qx.data.IListData)) {\n          var object = object.toArray();\n        }\n      }\n\n\n      // Create from given constructor\n      var ret = new constructor;\n\n      // Some collections in mshtml are not able to be sliced.\n      // These lines are a special workaround for this client.\n      if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\"))\n      {\n        if (object.item)\n        {\n          for (var i=offset||0, l=object.length; i<l; i++) {\n            ret.push(object[i]);\n          }\n\n          return ret;\n        }\n      }\n\n      // Copy over items\n      if (Object.prototype.toString.call(object) === \"[object Array]\" && offset == null) {\n        ret.push.apply(ret, object);\n      } else {\n        ret.push.apply(ret, Array.prototype.slice.call(object, offset||0));\n      }\n\n      return ret;\n    },\n\n\n    /**\n     * Convert an arguments object into an array.\n     *\n     * @param args {arguments} arguments object\n     * @param offset {Integer?0} position to start from\n     * @return {Array} a newly created array (copy) with the content of the arguments object.\n     */\n    fromArguments : function(args, offset) {\n      return Array.prototype.slice.call(args, offset||0);\n    },\n\n\n    /**\n     * Convert a (node) collection into an array\n     *\n     * @param coll {var} node collection\n     * @return {Array} a newly created array (copy) with the content of the node collection.\n     */\n    fromCollection : function(coll)\n    {\n      // The native Array.slice cannot be used with some Array-like objects\n      // including NodeLists in older IEs\n      if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\"))\n      {\n        if (coll.item)\n        {\n          var arr = [];\n          for (var i=0, l=coll.length; i<l; i++) {\n            arr[i] = coll[i];\n          }\n\n          return arr;\n        }\n      }\n\n      return Array.prototype.slice.call(coll, 0);\n    },\n\n\n    /**\n     * Expand shorthand definition to a four element list.\n     * This is an utility function for padding/margin and all other shorthand handling.\n     *\n     * @param input {Array} arr with one to four elements\n     * @return {Array} an arr with four elements\n     */\n    fromShortHand : function(input)\n    {\n      var len = input.length;\n      var result = qx.lang.Array.clone(input);\n\n      // Copy Values (according to the length)\n      switch(len)\n      {\n        case 1:\n          result[1] = result[2] = result[3] = result[0];\n          break;\n\n        case 2:\n          result[2] = result[0];\n          // no break here\n\n        case 3:\n          result[3] = result[1];\n      }\n\n      // Return list with 4 items\n      return result;\n    },\n\n\n    /**\n     * Return a copy of the given array\n     *\n     * @param arr {Array} the array to copy\n     * @return {Array} copy of the array\n     */\n    clone : function(arr) {\n      return arr.concat();\n    },\n\n\n    /**\n     * Insert an element at a given position into the array\n     *\n     * @param arr {Array} the array\n     * @param obj {var} the element to insert\n     * @param i {Integer} position where to insert the element into the array\n     * @return {Array} the array\n     */\n    insertAt : function(arr, obj, i)\n    {\n      arr.splice(i, 0, obj);\n\n      return arr;\n    },\n\n\n    /**\n     * Insert an element into the array before a given second element.\n     *\n     * @param arr {Array} the array\n     * @param obj {var} object to be inserted\n     * @param obj2 {var} insert obj1 before this object\n     * @return {Array} the array\n     */\n    insertBefore : function(arr, obj, obj2)\n    {\n      var i = arr.indexOf(obj2);\n\n      if (i == -1) {\n        arr.push(obj);\n      } else {\n        arr.splice(i, 0, obj);\n      }\n\n      return arr;\n    },\n\n\n    /**\n     * Insert an element into the array after a given second element.\n     *\n     * @param arr {Array} the array\n     * @param obj {var} object to be inserted\n     * @param obj2 {var} insert obj1 after this object\n     * @return {Array} the array\n     */\n    insertAfter : function(arr, obj, obj2)\n    {\n      var i = arr.indexOf(obj2);\n\n      if (i == -1 || i == (arr.length - 1)) {\n        arr.push(obj);\n      } else {\n        arr.splice(i + 1, 0, obj);\n      }\n\n      return arr;\n    },\n\n\n    /**\n     * Remove an element from the array at the given index\n     *\n     * @param arr {Array} the array\n     * @param i {Integer} index of the element to be removed\n     * @return {var} The removed element.\n     */\n    removeAt : function(arr, i) {\n      return arr.splice(i, 1)[0];\n    },\n\n\n    /**\n     * Remove all elements from the array\n     *\n     * @param arr {Array} the array\n     * @return {Array} empty array\n     */\n    removeAll : function(arr)\n    {\n      arr.length = 0;\n      return this;\n    },\n\n\n    /**\n     * Append the elements of an array to the array\n     *\n     * @param arr1 {Array} the array\n     * @param arr2 {Array} the elements of this array will be appended to other one\n     * @return {Array} The modified array.\n     * @throws {Error} if one of the arguments is not an array\n     */\n    append : function(arr1, arr2)\n    {\n      if (arr1 instanceof qx.data.Array) {\n        return arr1.append(arr2);\n      }\n      if (arr2 instanceof qx.data.Array) {\n        arr2 = arr2.toArray();\n      }\n      \n      // this check is important because opera throws an uncatchable error if apply is called without\n      // an arr as second argument.\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        qx.core.Assert && qx.core.Assert.assertArray(arr1, \"The first parameter must be an array.\");\n        qx.core.Assert && qx.core.Assert.assertArray(arr2, \"The second parameter must be an array.\");\n      }\n\n      Array.prototype.push.apply(arr1, arr2);\n      return arr1;\n    },\n\n\n    /**\n     * Modifies the first array as it removes all elements\n     * which are listed in the second array as well.\n     *\n     * @param arr1 {Array} the array\n     * @param arr2 {Array} the elements of this array will be excluded from the other one\n     * @return {Array} The modified array.\n     * @throws {Error} if one of the arguments is not an array\n     */\n    exclude : function(arr1, arr2)\n    {\n      if (arr1 instanceof qx.data.Array) {\n        return arr1.exclude(arr2);\n      }\n      \n      // this check is important because opera throws an uncatchable error if apply is called without\n      // an arr as second argument.\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        qx.core.Assert && qx.core.Assert.assertArray(arr1, \"The first parameter must be an array.\");\n        qx.core.Assert && qx.core.Assert.assertArray(arr2, \"The second parameter must be an array.\");\n      }\n\n      arr2.forEach(function(item) {\n        var index = arr1.indexOf(item);\n        if (index != -1) {\n          arr1.splice(index, 1);\n        }\n      });\n\n      return arr1;\n    },\n\n\n    /**\n     * Remove an element from the array.\n     *\n     * @param arr {Array} the array\n     * @param obj {var} element to be removed from the array\n     * @return {var} the removed element\n     */\n    remove : function(arr, obj)\n    {\n      if (arr instanceof qx.data.Array) {\n        return arr.remove(obj);\n      }\n      \n      var i = arr.indexOf(obj);\n\n      if (i != -1)\n      {\n        arr.splice(i, 1);\n        return obj;\n      }\n    },\n\n    /**\n     * Whether the array contains the given element\n     *\n     * @deprecated {6.0} Please use Array instance include method instead\n     *\n     * @param arr {Array} the array\n     * @param obj {var} object to look for\n     * @return {Boolean} whether the arr contains the element\n     */\n    contains : function(arr, obj) {\n      return arr.includes(obj);\n    },\n\n    /**\n     * Check whether the two arrays have the same content. Checks only the\n     * equality of the arrays' content.\n     *\n     * @param arr1 {Array} first array\n     * @param arr2 {Array} second array\n     * @return {Boolean} Whether the two arrays are equal\n     */\n    equals : function(arr1, arr2)\n    {\n      if (arr1 instanceof qx.data.Array) {\n        return arr1.equals(arr2);\n      }\n      arr2 = qx.lang.Array.toNativeArray(arr2);\n      \n      var length = arr1.length;\n\n      if (length !== arr2.length) {\n        return false;\n      }\n\n      for (var i=0; i<length; i++)\n      {\n        if (arr1[i] !== arr2[i]) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n\n\n    /**\n     * Returns the sum of all values in the given array. Supports\n     * numeric values only.\n     *\n     * @param arr {Number[]} Array to process\n     * @return {Number} The sum of all values.\n     */\n    sum : function(arr)\n    {\n      var result = 0;\n      for (var i=0, l=arr.length; i<l; i++) {\n        if (arr[i] != undefined) {\n          result += arr[i];\n        }\n      }\n\n      return result;\n    },\n\n\n    /**\n     * Returns the highest value in the given array. Supports\n     * numeric values only.\n     *\n     * @param arr {Number[]} Array to process\n     * @return {Number | null} The highest of all values or undefined if array is empty.\n     */\n    max : function(arr)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert && qx.core.Assert.assertArray(arr, \"Parameter must be an array.\");\n      }\n\n      var i, len=arr.length, result = arr[0];\n\n      for (i = 1; i < len; i++)\n      {\n        if (arr[i] > result) {\n          result = arr[i];\n        }\n      }\n\n      return result === undefined ? null : result;\n    },\n\n\n    /**\n     * Returns the lowest value in the given array. Supports\n     * numeric values only.\n     *\n     * @param arr {Number[]} Array to process\n     * @return {Number | null} The lowest of all values or undefined if array is empty.\n     */\n    min : function(arr)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert && qx.core.Assert.assertArray(arr, \"Parameter must be an array.\");\n      }\n\n      var i, len=arr.length, result = arr[0];\n\n      for (i = 1; i < len; i++)\n      {\n        if (arr[i] < result) {\n          result = arr[i];\n        }\n      }\n\n      return result === undefined ? null : result;\n    },\n\n\n    /**\n     * Recreates an array which is free of all duplicate elements from the original.\n     *\n     * This method does not modify the original array!\n     *\n     * Keep in mind that this methods deletes undefined indexes.\n     *\n     * @param arr {Array} Incoming array\n     * @return {Array} Returns a copy with no duplicates\n     */\n    unique: function(arr)\n    {\n      var ret=[], doneStrings={}, doneNumbers={}, doneObjects={};\n      var value, count=0;\n      var key = \"qx\" + Date.now();\n      var hasNull=false, hasFalse=false, hasTrue=false;\n\n      // Rebuild array and omit duplicates\n      for (var i=0, len=arr.length; i<len; i++)\n      {\n        value = arr[i];\n\n        // Differ between null, primitives and reference types\n        if (value === null)\n        {\n          if (!hasNull)\n          {\n            hasNull = true;\n            ret.push(value);\n          }\n        }\n        else if (value === undefined)\n        {\n          // pass\n        }\n        else if (value === false)\n        {\n          if (!hasFalse)\n          {\n            hasFalse = true;\n            ret.push(value);\n          }\n        }\n        else if (value === true)\n        {\n          if (!hasTrue)\n          {\n            hasTrue = true;\n            ret.push(value);\n          }\n        }\n        else if (typeof value === \"string\")\n        {\n          if (!doneStrings[value])\n          {\n            doneStrings[value] = 1;\n            ret.push(value);\n          }\n        }\n        else if (typeof value === \"number\")\n        {\n          if (!doneNumbers[value])\n          {\n            doneNumbers[value] = 1;\n            ret.push(value);\n          }\n        }\n        else\n        {\n          var hash = value[key];\n\n          if (hash == null) {\n            hash = value[key] = count++;\n          }\n\n          if (!doneObjects[hash])\n          {\n            doneObjects[hash] = value;\n            ret.push(value);\n          }\n        }\n      }\n\n      // Clear object hashs\n      for (var hash in doneObjects)\n      {\n        try\n        {\n          delete doneObjects[hash][key];\n        }\n        catch(ex)\n        {\n          try\n          {\n            doneObjects[hash][key] = null;\n          }\n          catch(ex1)\n          {\n            throw new Error(\"Cannot clean-up map entry doneObjects[\" + hash + \"][\" + key + \"]\");\n          }\n        }\n      }\n\n      return ret;\n    },\n\n    /**\n     * Returns a new array with integers from start to stop incremented or decremented by step.\n     *\n     * @param start {Integer} start of the new array, defaults to 0\n     * @param stop {Integer} stop of the new array\n     * @param step {Integer} increment / decrement - depends whether you use positive or negative values\n     * @return {Array} Returns a new array with integers\n     */\n    range : function(start, stop, step)\n    {\n      if (arguments.length <= 1) {\n        stop = start || 0;\n        start = 0;\n      }\n      step = arguments[2] || 1;\n\n      var length = Math.max(Math.ceil((stop - start) / step), 0);\n      var idx = 0;\n      var range = Array(length);\n\n      while (idx < length) {\n        range[idx++] = start;\n        start += step;\n      }\n\n      return range;\n    },\n    \n    \n    /**\n     * Replaces the contents of the array `dest`\n     * \n     * @param dest {Array|qx.data.Array} the array to edit (if null then a new array is created)\n     * @param src {Array|qx.data.Array} the array to copy from, or null\n     * @return {Array} the edited array (or the new array, if dest is null)\n     */\n    replace: function(dest, src) {\n      if (dest instanceof qx.data.Array) {\n        return dest.replace(src);\n      }\n      \n      if (src === null) {\n        if (dest === null) {\n          return null;\n        } else {\n          return [];\n        }\n      }\n      \n      src = qx.lang.Array.toNativeArray(src);\n      if (dest === null) {\n        dest = src.slice(0);\n      } else {\n        var args = [ 0, dest.length ];\n        src.forEach(function(item) {\n          args.push(item);\n        });\n        dest.splice.apply(dest, args);\n      }\n      return dest;\n    },\n    \n    \n    /**\n     * Returns a native array from src where possible; qx.data.Array is converted to its native array,\n     * in which case unless `clone` parameter is set to true the rules of qx.data.Array.toArray should \n     * be followed, ie that the array should not be manipulated directly.\n     * \n     * @param src {qx.data.Array|Array} the object to return as an array\n     * @param clone{Boolean?} whether to make the returned array a clone, ie editable by the calling code\n     * @return {Array}\n     */\n    toNativeArray: function(src, clone) {\n      if (src === undefined || src === null) {\n        return src;\n      }\n      if (src instanceof qx.data.Array) {\n        if (clone) {\n          return src.toArray().slice(0);\n        }\n        return src.toArray();\n      }\n      if (qx.lang.Type.isArray(src)) {\n        if (clone) {\n          return src.slice(0);\n        }\n        return src;\n      }\n      return [ src ];\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * Mootools\n     http://mootools.net\n     Version 1.1.1\n\n     Copyright:\n       2007 Valerio Proietti\n\n     License:\n       MIT: http://www.opensource.org/licenses/mit-license.php\n\n************************************************************************ */\n\n/**\n * Collection of helper methods operating on functions.\n *\n * @ignore(qx.core.Object)\n * @require(qx.lang.Array)\n */\nqx.Bootstrap.define(\"qx.lang.Function\",\n{\n  statics :\n  {\n    /**\n     * Extract the caller of a function from the arguments variable.\n     * This will not work in Opera < 9.6.\n     *\n     * @param args {arguments} The local arguments variable\n     * @return {Function} A reference to the calling function or \"undefined\" if caller is not supported.\n     */\n    getCaller : function(args) {\n      return args.caller ? args.caller.callee : args.callee.caller;\n    },\n\n\n    /**\n     * Try to get a sensible textual description of a function object.\n     * This may be the class/mixin and method name of a function\n     * or at least the signature of the function.\n     *\n     * @param fcn {Function} function the get the name for.\n     * @return {String} Name of the function.\n     */\n    getName : function(fcn)\n    {\n      if (fcn.displayName) {\n        return fcn.displayName;\n      }\n\n      if (fcn.$$original || fcn.wrapper || fcn.classname) {\n        return fcn.classname + \".constructor()\";\n      }\n\n      if (fcn.$$mixin)\n      {\n        //members\n        for(var key in fcn.$$mixin.$$members)\n        {\n          if (fcn.$$mixin.$$members[key] == fcn) {\n            return fcn.$$mixin.name + \".prototype.\" + key + \"()\";\n          }\n        }\n\n        // statics\n        for(var key in fcn.$$mixin)\n        {\n          if (fcn.$$mixin[key] == fcn) {\n            return fcn.$$mixin.name + \".\" + key + \"()\";\n          }\n        }\n      }\n\n      if (fcn.self)\n      {\n        var clazz = fcn.self.constructor;\n        if (clazz)\n        {\n          // members\n          for(var key in clazz.prototype)\n          {\n            if (clazz.prototype[key] == fcn) {\n              return clazz.classname + \".prototype.\" + key + \"()\";\n            }\n          }\n          // statics\n          for(var key in clazz)\n          {\n            if (clazz[key] == fcn) {\n              return clazz.classname + \".\" + key + \"()\";\n            }\n          }\n        }\n      }\n\n      var fcnReResult = fcn.toString().match(/function\\s*(\\w*)\\s*\\(.*/);\n      if (fcnReResult && fcnReResult.length >= 1 && fcnReResult[1]) {\n        return fcnReResult[1] + \"()\";\n      }\n\n      return 'anonymous()';\n    },\n\n\n    /**\n     * Evaluates JavaScript code globally\n     *\n     * @lint ignoreDeprecated(eval)\n     *\n     * @param data {String} JavaScript commands\n     * @return {var} Result of the execution\n     */\n    globalEval : function(data)\n    {\n      if (window.execScript) {\n        return window.execScript(data);\n      } else {\n        return eval.call(window, data);\n      }\n    },\n\n\n    /**\n     * Base function for creating functional closures which is used by most other methods here.\n     *\n     * *Syntax*\n     *\n     * <pre class='javascript'>var createdFunction = qx.lang.Function.create(myFunction, [options]);</pre>\n     *\n     * @param func {Function} Original function to wrap\n     * @param options {Map?} Map of options\n     * <ul>\n     * <li><strong>self</strong>: The object that the \"this\" of the function will refer to. Default is the same as the wrapper function is called.</li>\n     * <li><strong>args</strong>: An array of arguments that will be passed as arguments to the function when called.\n     *     Default is no custom arguments; the function will receive the standard arguments when called.</li>\n     * <li><strong>delay</strong>: If set, the returned function will delay the actual execution by this amount of milliseconds and return a timer handle when called.\n     *     Default is no delay.</li>\n     * <li><strong>periodical</strong>: If set the returned function will periodically perform the actual execution with this specified interval\n     *      and return a timer handle when called. Default is no periodical execution.</li>\n     * <li><strong>attempt</strong>: If set to true, the returned function will try to execute and return either the results or false on error. Default is false.</li>\n     * </ul>\n     *\n     * @return {Function} Wrapped function\n     */\n    create : function(func, options)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert && qx.core.Assert.assertFunction(func, \"Invalid parameter 'func'.\");\n      }\n\n      // Nothing to be done when there are no options.\n      if (!options) {\n        return func;\n      }\n\n      // Check for at least one attribute.\n      if (!(options.self || options.args || options.delay != null || options.periodical != null || options.attempt)) {\n        return func;\n      }\n\n      return function(event)\n      {\n        if (qx.core.Environment.get(\"qx.debug\"))\n        {\n          if (qx.core.Object && options.self && qx.Bootstrap.isObject(options.self) && options.self.isDisposed && qx.Bootstrap.isFunction(options.self.isDisposed))\n          {\n            if (options.self.isDisposed()) {\n              qx.core.Assert && qx.core.Assert.fail(\n                \"Trying to call a bound function with a disposed object as context: \" + options.self.toString() + \" :: \" + qx.lang.Function.getName(func)\n              );\n            }\n          }\n        }\n\n        // Convert (and copy) incoming arguments\n        var args = qx.lang.Array.fromArguments(arguments);\n\n        // Prepend static arguments\n        if (options.args) {\n          args = options.args.concat(args);\n        }\n\n        if (options.delay || options.periodical)\n        {\n          var returns = function() {\n            return func.apply(options.self||this, args);\n          };\n\n          if (qx.core.Environment.get(\"qx.globalErrorHandling\")) {\n            returns = qx.event.GlobalError.observeMethod(returns);\n          }\n\n          if (options.delay) {\n            return window.setTimeout(returns, options.delay);\n          }\n\n          if (options.periodical) {\n            return window.setInterval(returns, options.periodical);\n          }\n        }\n        else if (options.attempt)\n        {\n          var ret = false;\n\n          try {\n            ret = func.apply(options.self||this, args);\n          } catch(ex) {}\n\n          return ret;\n        }\n        else\n        {\n          return func.apply(options.self||this, args);\n        }\n      };\n    },\n\n\n    /**\n     * Returns a function whose \"this\" is altered.\n     *\n     *\n     * *Native way*\n     *\n     * This is also a feature of JavaScript 1.8.5 and will be supplied\n     * by modern browsers. Including {@link qx.lang.normalize.Function}\n     * will supply a cross browser normalization of the native\n     * implementation. We like to encourage you to use the native function!\n     *\n     *\n     * *Syntax*\n     *\n     * <pre class='javascript'>qx.lang.Function.bind(myFunction, [self, [varargs...]]);</pre>\n     *\n     * *Example*\n     *\n     * <pre class='javascript'>\n     * function myFunction()\n     * {\n     *   this.setStyle('color', 'red');\n     *   // note that 'this' here refers to myFunction, not an element\n     *   // we'll need to bind this function to the element we want to alter\n     * };\n     *\n     * var myBoundFunction = qx.lang.Function.bind(myFunction, myElement);\n     * myBoundFunction(); // this will make the element myElement red.\n     * </pre>\n     *\n     * If you find yourself using this static method a lot, you may be\n     * interested in the bindTo() method in the mixin qx.core.MBindTo.\n     *\n     * @see qx.core.MBindTo\n     *\n     * @param func {Function} Original function to wrap\n     * @param self {Object ? null} The object that the \"this\" of the function will refer to.\n     * @param varargs {arguments ? null} The arguments to pass to the function.\n     * @return {Function} The bound function.\n     */\n    bind : function(func, self, varargs)\n    {\n      return this.create(func,\n      {\n        self  : self,\n        args  : arguments.length > 2 ? qx.lang.Array.fromArguments(arguments, 2) : null\n      });\n    },\n\n\n    /**\n     * Returns a function whose arguments are pre-configured.\n     *\n     * *Syntax*\n     *\n     * <pre class='javascript'>qx.lang.Function.curry(myFunction, [varargs...]);</pre>\n     *\n     * *Example*\n     *\n     * <pre class='javascript'>\n     * function myFunction(elem) {\n     *   elem.setStyle('color', 'red');\n     * };\n     *\n     * var myBoundFunction = qx.lang.Function.curry(myFunction, myElement);\n     * myBoundFunction(); // this will make the element myElement red.\n     * </pre>\n     *\n     * @param func {Function} Original function to wrap\n     * @param varargs {arguments} The arguments to pass to the function.\n     * @return {var} The pre-configured function.\n     */\n    curry : function(func, varargs)\n    {\n      return this.create(func, {\n        args  : arguments.length > 1 ? qx.lang.Array.fromArguments(arguments, 1) : null\n      });\n    },\n\n\n    /**\n     * Returns a function which could be used as a listener for a native event callback.\n     *\n     * *Syntax*\n     *\n     * <pre class='javascript'>qx.lang.Function.listener(myFunction, [self, [varargs...]]);</pre>\n     *\n     * @param func {Function} Original function to wrap\n     * @param self {Object ? null} The object that the \"this\" of the function will refer to.\n     * @param varargs {arguments ? null} The arguments to pass to the function.\n     * @return {var} The bound function.\n     */\n    listener : function(func, self, varargs)\n    {\n      if (arguments.length < 3)\n      {\n        return function(event)\n        {\n          // Directly execute, but force first parameter to be the event object.\n          return func.call(self||this, event||window.event);\n        };\n      }\n      else\n      {\n        var optargs = qx.lang.Array.fromArguments(arguments, 2);\n\n        return function(event)\n        {\n          var args = [event||window.event];\n\n          // Append static arguments\n          args.push.apply(args, optargs);\n\n          // Finally execute original method\n          func.apply(self||this, args);\n        };\n      }\n    },\n\n\n    /**\n     * Tries to execute the function.\n     *\n     * *Syntax*\n     *\n     * <pre class='javascript'>var result = qx.lang.Function.attempt(myFunction, [self, [varargs...]]);</pre>\n     *\n     * *Example*\n     *\n     * <pre class='javascript'>\n     * var myObject = {\n     *   'cow': 'moo!'\n     * };\n     *\n     * var myFunction = function()\n     * {\n     *   for(var i = 0; i < arguments.length; i++) {\n     *     if(!this[arguments[i]]) throw('doh!');\n     *   }\n     * };\n     *\n     * var result = qx.lang.Function.attempt(myFunction, myObject, 'pig', 'cow'); // false\n     * </pre>\n     *\n     * @param func {Function} Original function to wrap\n     * @param self {Object ? null} The object that the \"this\" of the function will refer to.\n     * @param varargs {arguments ? null} The arguments to pass to the function.\n     * @return {Boolean|var} <code>false</code> if an exception is thrown, else the function's return.\n     */\n    attempt : function(func, self, varargs)\n    {\n      return this.create(func,\n      {\n        self    : self,\n        attempt : true,\n        args    : arguments.length > 2 ? qx.lang.Array.fromArguments(arguments, 2) : null\n      })();\n    },\n\n\n    /**\n     * Delays the execution of a function by a specified duration.\n     *\n     * *Syntax*\n     *\n     * <pre class='javascript'>var timeoutID = qx.lang.Function.delay(myFunction, [delay, [self, [varargs...]]]);</pre>\n     *\n     * *Example*\n     *\n     * <pre class='javascript'>\n     * var myFunction = function(){ alert('moo! Element id is: ' + this.id); };\n     * //wait 50 milliseconds, then call myFunction and bind myElement to it\n     * qx.lang.Function.delay(myFunction, 50, myElement); // alerts: 'moo! Element id is: ... '\n     *\n     * // An anonymous function, example\n     * qx.lang.Function.delay(function(){ alert('one second later...'); }, 1000); //wait a second and alert\n     * </pre>\n     *\n     * @param func {Function} Original function to wrap\n     * @param delay {Integer} The duration to wait (in milliseconds).\n     * @param self {Object ? null} The object that the \"this\" of the function will refer to.\n     * @param varargs {arguments ? null} The arguments to pass to the function.\n     * @return {Integer} The JavaScript Timeout ID (useful for clearing delays).\n     */\n    delay : function(func, delay, self, varargs)\n    {\n      return this.create(func,\n      {\n        delay : delay,\n        self  : self,\n        args  : arguments.length > 3 ? qx.lang.Array.fromArguments(arguments, 3) : null\n      })();\n    },\n\n\n    /**\n     * Executes a function in the specified intervals of time\n     *\n     * *Syntax*\n     *\n     * <pre class='javascript'>var intervalID = qx.lang.Function.periodical(myFunction, [period, [self, [varargs...]]]);</pre>\n     *\n     * *Example*\n     *\n     * <pre class='javascript'>\n     * var Site = { counter: 0 };\n     * var addCount = function(){ this.counter++; };\n     * qx.lang.Function.periodical(addCount, 1000, Site); // will add the number of seconds at the Site\n     * </pre>\n     *\n     * @param func {Function} Original function to wrap\n     * @param interval {Integer} The duration of the intervals between executions.\n     * @param self {Object ? null} The object that the \"this\" of the function will refer to.\n     * @param varargs {arguments ? null} The arguments to pass to the function.\n     * @return {Integer} The Interval ID (useful for clearing a periodical).\n     */\n    periodical : function(func, interval, self, varargs)\n    {\n      return this.create(func,\n      {\n        periodical : interval,\n        self       : self,\n        args       : arguments.length > 3 ? qx.lang.Array.fromArguments(arguments, 3) : null\n      })();\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Wrapper for browser generic event handling.\n *\n * Supported events differ from target to target. Generally the handlers\n * in {@link qx.event.handler} defines the available features.\n *\n * @require(qx.event.Manager)\n * @require(qx.dom.Node)\n * @require(qx.lang.Function)\n */\nqx.Class.define(\"qx.event.Registration\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * Static list of all instantiated event managers. The key is the qooxdoo\n     * hash value of the corresponding window\n     */\n    __managers : {},\n\n\n    /**\n     * Get an instance of the event manager, which can handle events for the\n     * given target.\n     *\n     * @param target {Object} Any valid event target\n     * @return {qx.event.Manager} The event manger for the target.\n     */\n    getManager : function(target)\n    {\n      if (target == null)\n      {\n        if (qx.core.Environment.get(\"qx.debug\"))\n        {\n          qx.log.Logger.error(\"qx.event.Registration.getManager(null) was called!\");\n          qx.log.Logger.trace(this);\n        }\n\n        target = window;\n      }\n      else if (target.nodeType)\n      {\n        target = qx.dom.Node.getWindow(target);\n      }\n      else if (!qx.dom.Node.isWindow(target))\n      {\n        target = window;\n      }\n\n      var hash = target.$$hash || qx.core.ObjectRegistry.toHashCode(target);\n      var manager = this.__managers[hash];\n\n      if (!manager)\n      {\n        manager = new qx.event.Manager(target, this);\n        this.__managers[hash] = manager;\n      }\n\n      return manager;\n    },\n\n\n    /**\n     * Removes a manager for a specific window from the list.\n     *\n     * Normally only used when the manager gets disposed through\n     * an unload event of the attached window.\n     *\n     * @param mgr {qx.event.Manager} The manager to remove\n     */\n    removeManager : function(mgr)\n    {\n      var id = mgr.getWindowId();\n      delete this.__managers[id];\n    },\n\n\n    /**\n     * Add an event listener to a DOM target. The event listener is passed an\n     * instance of {@link qx.event.type.Event} containing all relevant information\n     * about the event as parameter.\n     *\n     * @param target {Object} Any valid event target\n     * @param type {String} Name of the event e.g. \"click\", \"keydown\", ...\n     * @param listener {Function} Event listener function\n     * @param self {Object ? null} Reference to the 'this' variable inside\n     *         the event listener. When not given, the corresponding dispatcher\n     *         usually falls back to a default, which is the target\n     *         by convention. Note this is not a strict requirement, i.e.\n     *         custom dispatchers can follow a different strategy.\n     * @param capture {Boolean} Whether to attach the event to the\n     *         capturing phase or the bubbling phase of the event. The default is\n     *         to attach the event handler to the bubbling phase.\n     * @return {var} An opaque id, which can be used to remove the event listener\n     *         using the {@link #removeListenerById} method.\n     */\n    addListener : function(target, type, listener, self, capture) {\n      return this.getManager(target).addListener(target, type, listener, self, capture);\n    },\n\n\n    /**\n     * Remove an event listener from an event target.\n     *\n     * Note: All registered event listeners will automatically at page unload\n     *   so it is not necessary to detach events in the destructor.\n     *\n     * @param target {Object} The event target\n     * @param type {String} Name of the event\n     * @param listener {Function} The pointer to the event listener\n     * @param self {Object ? null} Reference to the 'this' variable inside\n     *         the event listener.\n     * @param capture {Boolean} Whether to remove the event listener of\n     *    the bubbling or of the capturing phase.\n     * @return {Boolean} Whether the event was removed. Return <code>false</code> if\n     *    the event was already removed before.\n     */\n    removeListener : function(target, type, listener, self, capture) {\n      return this.getManager(target).removeListener(target, type, listener, self, capture);\n    },\n\n\n    /**\n     * Removes an event listener from an event target by an id returned by\n     * {@link #addListener}\n     *\n     * @param target {Object} The event target\n     * @param id {var} The id returned by {@link #addListener}\n     * @return {Boolean} Whether the event was removed. Return <code>false</code> if\n     *    the event was already removed before.\n     */\n    removeListenerById : function(target, id) {\n      return this.getManager(target).removeListenerById(target, id);\n    },\n\n\n    /**\n     * Remove all event listeners, which are attached to the given event target.\n     *\n     * @param target {Object} The event target to remove all event listeners from.\n     * @return {Boolean} Whether the events were existant and were removed successfully.\n     */\n    removeAllListeners : function(target) {\n      return this.getManager(target).removeAllListeners(target);\n    },\n\n\n    /**\n     * Internal helper for deleting the listeners map used during shutdown.\n     *\n     * @param target {Object} The event target to delete the internal map for\n     *    all event listeners.\n     *\n     * @internal\n     */\n    deleteAllListeners : function(target) {\n      var targetKey = target.$$hash;\n      if (targetKey) {\n        this.getManager(target).deleteAllListeners(targetKey);\n      }\n    },\n\n\n    /**\n     * Check whether there are one or more listeners for an event type\n     * registered at the target.\n     *\n     * @param target {Object} Any valid event target\n     * @param type {String} The event type\n     * @param capture {Boolean ? false} Whether to check for listeners of\n     *         the bubbling or of the capturing phase.\n     * @return {Boolean} Whether the target has event listeners of the given type.\n     */\n    hasListener : function(target, type, capture) {\n      return this.getManager(target).hasListener(target, type, capture);\n    },\n\n\n    /**\n     * Returns a serialized array of all events attached on the given target.\n     *\n     * @param target {Object} Any valid event target\n     * @return {Map[]} Array of maps where everyone contains the keys:\n     *   <code>handler</code>, <code>self</code>, <code>type</code> and <code>capture</code>.\n     */\n    serializeListeners : function(target) {\n      return this.getManager(target).serializeListeners(target);\n    },\n\n\n    /**\n     * Get an event instance of the given class, which can be dispatched using\n     * an event manager. The created events must be initialized using\n     * {@link qx.event.type.Event#init}.\n     *\n     * @param type {String} The type of the event to create\n     * @param clazz {Object?qx.event.type.Event} The event class to use\n     * @param args {Array?null} Array which will be passed to\n     *       the event's init method.\n     * @return {qx.event.type.Event} An instance of the given class.\n     */\n    createEvent : function(type, clazz, args)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (arguments.length > 1 && clazz === undefined) {\n          throw new Error(\"Create event of type \" + type + \" with undefined class. Please use null to explicit fallback to default event type!\");\n        }\n      }\n\n      // Fallback to default\n      if (clazz == null) {\n        clazz = qx.event.type.Event;\n      }\n\n      var obj = qx.event.Pool.getInstance().getObject(clazz);\n\n      // Initialize with given arguments\n      args ? obj.init.apply(obj, args) : obj.init();\n\n      // Setup the type\n      // Note: Native event may setup this later or using init() above\n      // using the native information.\n      if (type) {\n        obj.setType(type);\n      }\n\n      return obj;\n    },\n\n\n    /**\n     * Dispatch an event object on the given target.\n     *\n     * It is normally better to use {@link #fireEvent} because it uses\n     * the event pooling and is quite handy otherwise as well. After dispatching\n     * the event object will be pooled for later reuse or disposed.\n     *\n     * @param target {Object} Any valid event target\n     * @param event {qx.event.type.Event} The event object to dispatch. The event\n     *       object must be obtained using {@link #createEvent} and initialized\n     *       using {@link qx.event.type.Event#init}.\n     * @return {Boolean|qx.Promise} whether the event default was prevented or not.\n     *     Returns true, when the event was NOT prevented.\n     */\n    dispatchEvent : function(target, event) {\n      return this.getManager(target).dispatchEvent(target, event);\n    },\n\n\n    /**\n     * Create an event object and dispatch it on the given target.\n     *\n     * @param target {Object} Any valid event target\n     * @param type {String} Event type to fire\n     * @param clazz {Class?qx.event.type.Event} The event class\n     * @param args {Array?null} Arguments, which will be passed to\n     *       the event's init method.\n     * @return {Event} the event\n     * @see #createEvent\n     */\n    __fireEvent : function(target, type, clazz, args)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (arguments.length > 2 && clazz === undefined && args !== undefined) {\n          throw new Error(\"Create event of type \" + type + \" with undefined class. Please use null to explicit fallback to default event type!\");\n        }\n\n        var msg = \"Could not fire event '\" + type + \"' on target '\" + (target ? target.classname : \"undefined\") +\"': \";\n\n        qx.core.Assert.assertNotUndefined(target, msg + \"Invalid event target.\");\n        qx.core.Assert.assertNotNull(target, msg + \"Invalid event target.\");\n      }\n\n      var evt = this.createEvent(type, clazz||null, args);\n      this.getManager(target).dispatchEvent(target, evt);\n      return evt;\n    },\n\n\n    /**\n     * Create an event object and dispatch it on the given target.\n     *\n     * Note about Promises in v6.0: this method has changed to return either a boolean (true if the\n     * event was prevented) or a promise which will evaluate to the same thing; this is\n     * because events are now asynchronous and preventDefault is inherently synchronous.\n     * However, although this changing in the return type is conspicuous it does not necessarily\n     * introduce a backwards compatibility issue because the \"truthy\" nature of the return\n     * is preserved.  Code which needs to take care of asynchronous issues will need to change,\n     * but that was necessary anyway, and it is rare to use the return value of this method (only\n     * one class in Qooxdoo used it).\n     *\n     * @param target {Object} Any valid event target\n     * @param type {String} Event type to fire\n     * @param clazz {Class?qx.event.type.Event} The event class\n     * @param args {Array?null} Arguments, which will be passed to\n     *       the event's init method.\n     * @return {Boolean|qx.Promise} whether the event default was prevented or not.\n     *     Returns true, when the event was NOT prevented.\n     * @see #createEvent\n     */\n    fireEvent : function(target, type, clazz, args)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (arguments.length > 2 && clazz === undefined && args !== undefined) {\n          throw new Error(\"Create event of type \" + type + \" with undefined class. Please use null to explicit fallback to default event type!\");\n        }\n\n        var msg = \"Could not fire event '\" + type + \"' on target '\" + (target ? target.classname : \"undefined\") +\"': \";\n\n        qx.core.Assert.assertNotUndefined(target, msg + \"Invalid event target.\");\n        qx.core.Assert.assertNotNull(target, msg + \"Invalid event target.\");\n      }\n\n      var evt = this.createEvent(type, clazz||null, args);\n      var tracker = {};\n      var self = this;\n      qx.event.Utils.then(tracker, function() {\n          return self.getManager(target).dispatchEvent(target, evt);\n        });\n      return qx.event.Utils.then(tracker, function() {\n        return !evt.getDefaultPrevented();\n      });\n    },\n\n\n    /**\n     * Create an event object and dispatch it on the given target; equivalent to fireEvent, except that it\n     * always returns a promise\n     *\n     * @param target {Object} Any valid event target\n     * @param type {String} Event type to fire\n     * @param clazz {Class?qx.event.type.Event} The event class\n     * @param args {Array?null} Arguments, which will be passed to\n     *       the event's init method.\n     * @return {qx.Promise} a promise aggregated from the event handlers;\n     * \tif the default was prevented, the promise is rejected\n     * @see #createEvent\n     */\n    fireEventAsync : function(target, type, clazz, args)\n    {\n      if (qx.core.Environment.get(\"qx.promise\")) {\n        return qx.Promise.resolve(this.fireEvent(target, type, clazz, args));\n      } else {\n        throw new Error(this.classname + \".fireNonBubblingEventAsync not supported because qx.promise==false\");\n      }\n    },\n\n\n    /**\n     * Create an event object and dispatch it on the given target.\n     * The event dispatched with this method does never bubble! Use only if you\n     * are sure that bubbling is not required.\n     *\n     * @param target {Object} Any valid event target\n     * @param type {String} Event type to fire\n     * @param clazz {Class?qx.event.type.Event} The event class\n     * @param args {Array?null} Arguments, which will be passed to\n     *       the event's init method.\n     * @return {Event} the event\n     * @see #createEvent\n     */\n    __fireNonBubblingEvent : function(target, type, clazz, args)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (arguments.length > 2 && clazz === undefined && args !== undefined) {\n          throw new Error(\"Create event of type \" + type + \" with undefined class. Please use null to explicit fallback to default event type!\");\n        }\n      }\n\n      var mgr = this.getManager(target);\n      if (!mgr.hasListener(target, type, false)) {\n        return null;\n      }\n\n      var evt = this.createEvent(type, clazz||null, args);\n      mgr.dispatchEvent(target, evt);\n      return evt;\n    },\n\n\n    /**\n     * Create an event object and dispatch it on the given target.\n     * The event dispatched with this method does never bubble! Use only if you\n     * are sure that bubbling is not required.\n     *\n     * @param target {Object} Any valid event target\n     * @param type {String} Event type to fire\n     * @param clazz {Class?qx.event.type.Event} The event class\n     * @param args {Array?null} Arguments, which will be passed to\n     *       the event's init method.\n     * @return {Boolean} whether the event default was prevented or not.\n     *     Returns true, when the event was NOT prevented.\n     * @see #createEvent\n     */\n    fireNonBubblingEvent : function(target, type, clazz, args)\n    {\n      var evt = this.__fireNonBubblingEvent.apply(this, arguments);\n      if (evt === null) {\n      \treturn true;\n      }\n      return !evt.getDefaultPrevented();\n    },\n\n\n    /**\n     * Create an event object and dispatch it on the given target.\n     * The event dispatched with this method does never bubble! Use only if you\n     * are sure that bubbling is not required.\n     *\n     * @param target {Object} Any valid event target\n     * @param type {String} Event type to fire\n     * @param clazz {Class?qx.event.type.Event} The event class\n     * @param args {Array?null} Arguments, which will be passed to\n     *       the event's init method.\n     * @return {qx.Promise} a promise aggregated from the event handlers;\n     * \tif the default was prevented, the promise is rejected\n     * @see #createEvent\n     */\n    fireNonBubblingEventAsync : qx.core.Environment.select(\"qx.promise\", {\n      \"true\": function(target, type, clazz, args) {\n        var evt = this.__fireNonBubblingEvent.apply(this, arguments);\n        if (evt === null) {\n          return qx.Promise.resolve(true);\n        }\n        return evt.promise();\n      },\n      \"false\": function() {\n        throw new Error(this.classname + \".fireNonBubblingEventAsync not supported because qx.promise==false\");\n      }\n    }),\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER/DISPATCHER PRIORITY\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {Integer} Highest priority. Used by handlers and dispatchers. */\n    PRIORITY_FIRST : -32000,\n\n    /** @type {Integer} Default priority. Used by handlers and dispatchers. */\n    PRIORITY_NORMAL : 0,\n\n    /** @type {Integer} Lowest priority. Used by handlers and dispatchers. */\n    PRIORITY_LAST : 32000,\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER REGISTRATION\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {Array} Contains all known event handlers */\n    __handlers : [],\n\n\n    /**\n     * Register an event handler.\n     *\n     * @param handler {qx.event.IEventHandler} Event handler to add\n     * @throws {Error} if the handler does not have the IEventHandler interface.\n     */\n    addHandler : function(handler)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert.assertInterface(handler, qx.event.IEventHandler, \"Invalid event handler.\");\n      }\n\n      // Append to list\n      this.__handlers.push(handler);\n\n      // Re-sort list\n      this.__handlers.sort(function(a, b) {\n        return a.PRIORITY - b.PRIORITY;\n      });\n    },\n\n\n    /**\n     * Get a list of registered event handlers.\n     *\n     * @return {qx.event.IEventHandler[]} registered event handlers\n     */\n    getHandlers : function() {\n      return this.__handlers;\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT DISPATCHER REGISTRATION\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {Array} Contains all known event dispatchers */\n    __dispatchers : [],\n\n\n    /**\n     * Register an event dispatcher.\n     *\n     * @param dispatcher {qx.event.IEventDispatcher} Event dispatcher to add\n     * @param priority {Integer} One of\n     * {@link qx.event.Registration#PRIORITY_FIRST},\n     * {@link qx.event.Registration#PRIORITY_NORMAL}\n     *       or {@link qx.event.Registration#PRIORITY_LAST}.\n     * @throws {Error} if the dispatcher does not have the IEventHandler interface.\n     */\n    addDispatcher : function(dispatcher, priority)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert.assertInterface(dispatcher, qx.event.IEventDispatcher, \"Invalid event dispatcher!\");\n      }\n\n      // Append to list\n      this.__dispatchers.push(dispatcher);\n\n      // Re-sort list\n      this.__dispatchers.sort(function(a, b) {\n        return a.PRIORITY - b.PRIORITY;\n      });\n    },\n\n\n    /**\n     * Get a list of registered event dispatchers.\n     *\n     * @return {qx.event.IEventDispatcher[]} all registered event dispatcher\n     */\n    getDispatchers : function() {\n      return this.__dispatchers;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * This mixin offers basic event handling capabilities. It includes the\n * commonly known methods for managing event listeners and firing events.\n *\n * @use(qx.event.dispatch.Direct)\n * @use(qx.event.handler.Object)\n */\nqx.Mixin.define(\"qx.core.MEvent\",\n{\n  members :\n  {\n    /** @type {Class} Pointer to the regular event registration class */\n    __Registration : qx.event.Registration,\n\n\n    /**\n     * Add event listener to this object.\n     *\n     * @param type {String} name of the event type\n     * @param listener {Function} event callback function\n     * @param self {Object ? null} Reference to the 'this' variable inside\n     *         the event listener. When not given, the corresponding dispatcher\n     *         usually falls back to a default, which is the target\n     *         by convention. Note this is not a strict requirement, i.e.\n     *         custom dispatchers can follow a different strategy.\n     * @param capture {Boolean ? false} Whether to attach the event to the\n     *         capturing phase or the bubbling phase of the event. The default is\n     *         to attach the event handler to the bubbling phase.\n     * @return {String} An opaque id, which can be used to remove the event listener\n     *         using the {@link #removeListenerById} method.\n     */\n    addListener : function(type, listener, self, capture)\n    {\n      if (!this.$$disposed) {\n        return this.__Registration.addListener(this, type, listener, self, capture);\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Add event listener to this object, which is only called once. After the\n     * listener is called the event listener gets removed.\n     *\n     * @param type {String} name of the event type\n     * @param listener {Function} event callback function\n     * @param context {Object ? window} reference to the 'this' variable inside the callback\n     * @param capture {Boolean ? false} Whether to attach the event to the\n     *         capturing phase or the bubbling phase of the event. The default is\n     *         to attach the event handler to the bubbling phase.\n     * @return {String} An opaque id, which can be used to remove the event listener\n     *         using the {@link #removeListenerById} method.\n     */\n    addListenerOnce : function(type, listener, context, capture)\n    {\n      var self = this; // self is needed to remove the listener inside the callback\n      if (!context) {\n        context = this;\n      }\n      var id;         // store id in closure context\n      var callback = function(e)\n      {\n        self.removeListenerById(id);\n        listener.call(context, e);\n      };\n      // check for wrapped callback storage\n      if (!listener.$$wrapped_callback) {\n        listener.$$wrapped_callback = {};\n      }\n      // store the call for each type in case the listener is\n      // used for more than one type [BUG #8038]\n      listener.$$wrapped_callback[type + this.toHashCode()] = callback;\n      id = this.addListener(type, callback, context, capture);\n      return id;\n    },\n\n\n    /**\n     * Remove event listener from this object\n     *\n     * @param type {String} name of the event type\n     * @param listener {Function} event callback function\n     * @param self {Object ? null} reference to the 'this' variable inside the callback\n     * @param capture {Boolean} Whether to remove the event listener of\n     *   the bubbling or of the capturing phase.\n     * @return {Boolean} Whether the event was removed successfully (has existed)\n     */\n    removeListener : function(type, listener, self, capture)\n    {\n      if (!this.$$disposed) {\n        // special handling for wrapped once listener\n        if (listener.$$wrapped_callback && listener.$$wrapped_callback[type + this.$$hash]) {\n          var callback = listener.$$wrapped_callback[type + this.$$hash];\n          delete listener.$$wrapped_callback[type + this.$$hash];\n          listener = callback;\n        }\n        return this.__Registration.removeListener(this, type, listener, self, capture);\n      }\n      return false;\n    },\n\n\n    /**\n     * Removes an event listener from an event target by an id returned by\n     * {@link #addListener}\n     *\n     * @param id {String} The id returned by {@link #addListener}\n     * @return {Boolean} Whether the event was removed successfully (has existed)\n     */\n    removeListenerById : function(id)\n    {\n      if (!this.$$disposed) {\n        return this.__Registration.removeListenerById(this, id);\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Check if there are one or more listeners for an event type.\n     *\n     * @param type {String} name of the event type\n     * @param capture {Boolean ? false} Whether to check for listeners of\n     *         the bubbling or of the capturing phase.\n     * @return {Boolean} Whether the object has a listener of the given type.\n     */\n    hasListener : function(type, capture) {\n      return this.__Registration.hasListener(this, type, capture);\n    },\n\n\n    /**\n     * Dispatch an event on this object\n     *\n     * @param evt {qx.event.type.Event} event to dispatch\n     * @return {Boolean} Whether the event default was prevented or not.\n     *     Returns true, when the event was NOT prevented.\n     */\n    dispatchEvent : function(evt)\n    {\n      if (!this.$$disposed) {\n        return this.__Registration.dispatchEvent(this, evt);\n      }\n\n      return true;\n    },\n\n\n    /**\n     * Creates and dispatches an event on this object.\n     *\n     * @param type {String} Event type to fire\n     * @param clazz {Class?qx.event.type.Event} The event class\n     * @param args {Array?null} Arguments, which will be passed to\n     *       the event's init method.\n     * @return {Boolean|qx.Promise} whether the event default was prevented or not.\n     *     Returns true, when the event was NOT prevented.\n     */\n    fireEvent : function(type, clazz, args)\n    {\n      if (!this.$$disposed) {\n        return this.__Registration.fireEvent(this, type, clazz, args);\n      }\n\n      return true;\n    },\n\n\n    /**\n     * Create an event object and dispatch it on this object.\n     * The event dispatched with this method does never bubble! Use only if you\n     * are sure that bubbling is not required.\n     *\n     * @param type {String} Event type to fire\n     * @param clazz {Class?qx.event.type.Event} The event class\n     * @param args {Array?null} Arguments, which will be passed to\n     *       the event's init method.\n     * @return {Boolean} Whether the event default was prevented or not.\n     *     Returns true, when the event was NOT prevented.\n     */\n    fireNonBubblingEvent : function(type, clazz, args)\n    {\n      if (!this.$$disposed) {\n        return this.__Registration.fireNonBubblingEvent(this, type, clazz, args);\n      }\n\n      return true;\n    },\n\n\n    /**\n     * Creates and dispatches an non-bubbling data event on this object.\n     *\n     * @param type {String} Event type to fire\n     * @param data {var} User defined data attached to the event object\n     * @param oldData {var?null} The event's old data (optional)\n     * @param cancelable {Boolean?false} Whether or not an event can have its default\n     *     action prevented. The default action can either be the browser's\n     *     default action of a native event (e.g. open the context menu on a\n     *     right click) or the default action of a qooxdoo class (e.g. close\n     *     the window widget). The default action can be prevented by calling\n     *     {@link qx.event.type.Event#preventDefault}\n     * @return {Boolean|qx.Promise} whether the event default was prevented or not.\n     *     Returns true, when the event was NOT prevented.\n     */\n    fireDataEvent : function(type, data, oldData, cancelable)\n    {\n      if (!this.$$disposed)\n      {\n        if (oldData === undefined) {\n          oldData = null;\n        }\n        return this.__Registration.fireEvent(\n          this, type, qx.event.type.Data, [data, oldData, !!cancelable]\n        );\n      }\n\n      return true;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * This mixin offers the basic property features which include generic\n * setter, getter and resetter.\n */\nqx.Mixin.define(\"qx.core.MProperty\",\n{\n  members :\n  {\n    /**\n     * Sets multiple properties at once by using a property list or\n     * sets one property and its value by the first and second argument.\n     * As a fallback, if no generated property setter could be found, a\n     * handwritten setter will be searched and invoked if available.\n     *\n     * @param data {Map | String} a map of property values. The key is the name of the property.\n     * @param value {var?} the value, only used when <code>data</code> is a string.\n     * @return {Object} Returns this instance if <code>data</code> is a map\n     *   or a non-generated setter is called; otherwise returns <code>value</code>.\n     * @throws {Error} if a property defined does not exist\n     */\n    set : function(data, value)\n    {\n      var setter = qx.core.Property.$$method.set;\n\n      if (qx.Bootstrap.isString(data))\n      {\n        if (!this[setter[data]])\n        {\n          if (this[\"set\" + qx.Bootstrap.firstUp(data)] != undefined) {\n            this[\"set\" + qx.Bootstrap.firstUp(data)](value);\n            return this;\n          }\n\n          throw new Error(\"No such property: \" + data);\n        }\n\n        return this[setter[data]](value);\n      }\n      else\n      {\n        for (var prop in data)\n        {\n          if (!this[setter[prop]])\n          {\n            if (this[\"set\" + qx.Bootstrap.firstUp(prop)] != undefined) {\n              this[\"set\" + qx.Bootstrap.firstUp(prop)](data[prop]);\n              continue;\n            }\n\n            throw new Error(\"No such property: \" + prop);\n          }\n\n          this[setter[prop]](data[prop]);\n        }\n\n        return this;\n      }\n    },\n\n\n    /**\n     * Returns the value of the given property. If no generated getter could be\n     * found, a fallback tries to access a handwritten getter.\n     *\n     * @param prop {String} Name of the property.\n     * @return {var} The value of the value\n     * @throws {Error} if a property defined does not exist\n     */\n    get : function(prop)\n    {\n      var getter = qx.core.Property.$$method.get;\n\n      if (!this[getter[prop]])\n      {\n        if (this[\"get\" + qx.Bootstrap.firstUp(prop)] != undefined) {\n          return this[\"get\" + qx.Bootstrap.firstUp(prop)]();\n        }\n\n        throw new Error(\"No such property: \" + prop);\n      }\n\n\n      return this[getter[prop]]();\n    },\n\n\n    /**\n     * Resets the value of the given property. If no generated resetter could be\n     * found, a handwritten resetter will be invoked, if available.\n     *\n     * @param prop {String} Name of the property.\n     * @throws {Error} if a property defined does not exist\n     */\n    reset : function(prop)\n    {\n      var resetter = qx.core.Property.$$method.reset;\n\n      if (!this[resetter[prop]])\n      {\n        if (this[\"reset\" + qx.Bootstrap.firstUp(prop)] != undefined) {\n          this[\"reset\" + qx.Bootstrap.firstUp(prop)]();\n          return;\n        }\n\n        throw new Error(\"No such property: \" + prop);\n      }\n\n\n      this[resetter[prop]]();\n    },\n\n    /**\n     * Checks if the property is initialized, i.e. has a defined init value or\n     * has got a value by a setter method.\n     *\n     * @param prop {String} Name of the property\n     * @return {Boolean} If the property is initialized\n     * @throws {Error} If the property defined does not exist\n     */\n    isPropertyInitialized : function(prop)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert.assertString(prop);\n\n        if (!this[\"get\" + qx.Bootstrap.firstUp(prop)]) {\n          throw new Error(\"No such property: \" + prop);\n        }\n      }\n\n      return this[\"$$user_\" + prop] !== undefined ||\n        this[\"$$init_\" + prop] !== undefined;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2017 Zenesis Limited, http://www.zenesis.com\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * John Spackman (john.spackman@zenesis.com, @johnspackman)\n\n************************************************************************ */\n\n/**\n * A mixin providing objects by ID and owners.\n * \n * The typical use of IDs is to override the `_createQxObjectImpl` method and create\n * new instances on demand; all code should access these instances by calling\n * `getQxObject`.\n */\nqx.Mixin.define(\"qx.core.MObjectId\", {\n  \n  /*\n   * ****************************************************************************\n   * PROPERTIES\n   * ****************************************************************************\n   */\n\n  properties: {\n\n    /** The owning object */\n    qxOwner : {\n      init : null,\n      check : \"qx.core.Object\",\n      nullable : true,\n      apply : \"_applyQxOwner\"\n    },\n\n\n    /** {String} The ID of the object.  */\n    qxObjectId : {\n      init: null,\n      check : function(value) { return value === null || (typeof value == \"string\" && value.indexOf('/') < 0); },\n      nullable : true,\n      apply : \"_applyQxObjectId\"\n    }\n  },\n\n  /*\n   * ****************************************************************************\n   * MEMBERS\n   * ****************************************************************************\n   */\n\n  members: {\n    \n    __ownedQxObjects: null,\n    __changingQxOwner: false,\n\n    /**\n     * Apply owner\n     */\n    _applyQxOwner : function(value, oldValue) {\n      if (!this.__changingQxOwner) {\n        throw new Error(\"Please use API methods to change owner, not the property\");\n      }\n    },\n    \n    /**\n     * Apply objectId\n     */\n    _applyQxObjectId : function(value, oldValue) {\n      if (!this.__changingQxOwner) {\n        var owner = this.getQxOwner();\n        if (owner) {\n          owner.__onOwnedObjectIdChange(this, value, oldValue);\n        }\n        this._cascadeQxObjectIdChanges();\n      }\n    },\n    \n    /**\n     * Called when a child's objectId changes\n     */\n    __onOwnedObjectIdChange: function(obj, newId, oldId) {\n      delete this.__ownedQxObjects[oldId];\n      this.__ownedQxObjects[newId] = obj;\n    },\n    \n    /**\n     * Reflect changes to IDs or owners\n     */\n    _cascadeQxObjectIdChanges: function() {\n      if (typeof this.getContentElement == \"function\") {\n        var contentElement = this.getContentElement();\n        if (contentElement) {\n          contentElement.updateObjectId();\n        }\n      }\n      if (this.__ownedQxObjects) {\n        for (var name in this.__ownedQxObjects) {\n          var obj = this.__ownedQxObjects[name];\n          if (obj instanceof qx.core.Object) {\n            obj._cascadeQxObjectIdChanges();\n          }\n        }\n      }\n    },\n    \n    /**\n     * Returns the object with the specified ID\n     * \n     * @param id\n     *          {String} ID of the object\n     * @return {qx.core.Object?} the found object\n     */\n    getQxObject: function(id) {\n      if (this.__ownedQxObjects) {\n        var obj = this.__ownedQxObjects[id];\n        if (obj !== undefined) {\n          return obj;\n        }\n      }\n      \n      // Separate out the child control ID\n      var controlId = null;\n      var pos = id.indexOf('#');\n      if (pos > -1) {\n        controlId = id.substring(pos + 1);\n        id = id.substring(0, pos);\n      }\n      \n      var result = undefined;\n      \n      // Handle paths\n      if (id.indexOf('/') > -1) {\n        var segs = id.split('/');\n        var target = this;\n        var found = segs.every(function(seg) {\n          if (!seg.length) {\n            return true;\n          }\n          if (!target) {\n            return false;\n          }\n          var tmp = target.getQxObject(seg);\n          if (tmp !== undefined) {\n            target = tmp;\n            return true;\n          }\n        });\n        if (found) {\n          result = target;\n        }\n        \n      } else {\n        // No object, creating the object\n        result = this._createQxObject(id);\n      }\n      \n      if (result && controlId) {\n        var childControl = result.getChildControl(controlId);\n        return childControl;\n      }\n      \n      return result;\n    },\n    \n    /**\n     * Creates the object and adds it to a list; most classes are expected to\n     * override `_createQxObjectImpl` NOT this method.\n     * \n     * @param id {String} ID of the object\n     * @return {qx.core.Object?} the created object\n     */\n    _createQxObject: function(id) {\n      var result = this._createQxObjectImpl(id);\n      if (result !== undefined) {\n        this.addOwnedQxObject(result, id);\n      }\n      return result;\n    },\n    \n    /**\n     * Creates the object, intended to be overridden. Null is a valid return\n     * value and will be cached by `getQxObject`, however `undefined` is NOT a\n     * valid value and so will not be cached meaning that `_createQxObjectImpl`\n     * will be called multiple times until a valid value is returned.\n     * \n     * @param id {String} ID of the object\n     * @return {qx.core.Object?} the created object\n     */\n    _createQxObjectImpl: function(id) {\n      return undefined;\n    },\n    \n    /**\n     * Adds an object as owned by this object\n     * \n     * @param obj {qx.core.Object} the object to register\n     * @param id {String?} the id to set when registering the object\n     */\n    addOwnedQxObject: function(obj, id) {\n      if (!this.__ownedQxObjects) {\n        this.__ownedQxObjects = {};\n      }\n      \n      if (!(obj instanceof qx.core.Object)) {\n        if (!id) {\n          throw new Error(\"Cannot register an object that has no ID, obj=\" + obj);\n        }\n        if (this.__ownedQxObjects[id]) {\n          throw new Error(\"Cannot register an object with ID '\" + id + \"' because that ID is already in use, this=\" + this + \", obj=\" + obj);\n        }\n        this.__ownedQxObjects[id] = obj;\n        return;\n      }\n      \n      var thatOwner = obj.getQxOwner();\n      if (thatOwner === this) {\n        return;\n      }\n      obj.__changingQxOwner = true;\n      try {\n        if (thatOwner) {\n          thatOwner.__removeOwnedQxObjectImpl(obj);\n        }\n        if (id === undefined) {\n          id = obj.getQxObjectId();\n        }\n        if (!id) {\n          throw new Error(\"Cannot register an object that has no ID, obj=\" + obj);\n        }\n        if (this.__ownedQxObjects[id]) {\n          throw new Error(\"Cannot register an object with ID '\" + id + \"' because that ID is already in use, this=\" + this + \", obj=\" + obj);\n        }\n        if (obj.getQxOwner() != null) {\n          throw new Error(\"Cannot register an object with ID '\" + id + \"' because it is already owned by another object this=\" + this + \", obj=\" + obj);\n        }\n        obj.setQxOwner(this);\n        obj.setQxObjectId(id);\n        obj._cascadeQxObjectIdChanges();\n      } finally {\n        obj.__changingQxOwner = false;\n      }\n      this.__ownedQxObjects[id] = obj;\n    },\n\n    /**\n     * Discards an object from the list of owned objects; note that this does\n     * not dispose of the object, simply forgets it if it exists.\n     * \n     * @param args {String|Object} the ID of the object to discard, or the object itself\n     */\n    removeOwnedQxObject: function(args) {\n      if (!this.__ownedQxObjects) {\n        throw new Error(\"Cannot discard object because it is not owned by this, this=\" + this + \", object=\" + obj);\n      }\n      \n      var id;\n      var obj;\n      if (typeof args === \"string\") {\n        if (args.indexOf('/') > -1) {\n          throw new Error(\"Cannot discard owned objects based on a path\");\n        }\n        id = args;\n        obj = this.__ownedQxObjects[id];\n        if (obj === undefined) {\n          return;\n        }\n      } else {\n        obj = args;\n        if (!(obj instanceof qx.core.Object)) {\n          throw new Error(\"Cannot discard object by reference because it is not a Qooxdoo object, please remove it using the original ID; object=\" + obj);\n        }\n        id = obj.getQxObjectId();\n        if (this.__ownedQxObjects[id] !== obj) {\n          throw new Error(\"Cannot discard object because it is not owned by this, this=\" + this + \", object=\" + obj);\n        }\n      }\n\n      if (obj !== null) {\n        if (!(obj instanceof qx.core.Object)) {\n          this.__removeOwnedQxObjectImpl(obj);\n          delete this.__ownedQxObjects[id];\n        } else {\n          obj.__changingQxOwner = true;\n          try {\n            this.__removeOwnedQxObjectImpl(obj);\n            obj._cascadeQxObjectIdChanges();\n          } finally {\n            obj.__changingQxOwner = false;\n          }\n        }\n      }\n    },\n    \n    /**\n     * Removes an owned object\n     * \n     * @param obj {qx.core.Object} the object\n     */\n    __removeOwnedQxObjectImpl: function(obj) {\n      if (obj !== null) {\n        var id = obj.getQxObjectId();\n        obj.setQxOwner(null);\n        delete this.__ownedQxObjects[id];\n      }\n    },\n\n    /**\n     * Returns an array of objects that are owned by this object, or an empty\n     * array if none exists.\n     * \n     * @return {Array}\n     */    \n    getOwnedQxObjects : function(){\n      return this.__ownedQxObjects ? Object.values(this.__ownedQxObjects) : [];\n    }\n  }\n});","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Utility class with type check for all native JavaScript data types.\n *\n */\nqx.Bootstrap.define(\"qx.lang.Type\",\n{\n  statics :\n  {\n    /**\n     * Get the internal class of the value. See\n     * http://perfectionkills.com/instanceof-considered-harmful-or-how-to-write-a-robust-isarray/\n     * for details.\n     *\n     * @signature function(value)\n     * @param value {var} value to get the class for\n     * @return {String} the internal class of the value\n     */\n    getClass : qx.Bootstrap.getClass,\n\n\n    /**\n     * Whether the value is a string.\n     *\n     * @signature function(value)\n     * @param value {var} Value to check.\n     * @return {Boolean} Whether the value is a string.\n     */\n    isString : qx.Bootstrap.isString,\n\n\n    /**\n     * Whether the value is an array.\n     *\n     * @signature function(value)\n     * @param value {var} Value to check.\n     * @return {Boolean} Whether the value is an array.\n     */\n    isArray : qx.Bootstrap.isArray,\n\n\n    /**\n     * Whether the value is an object. Note that built-in types like Window are\n     * not reported to be objects.\n     *\n     * @signature function(value)\n     * @param value {var} Value to check.\n     * @return {Boolean} Whether the value is an object.\n     */\n     isObject : qx.Bootstrap.isObject,\n\n\n    /**\n     * Whether the value is a function.\n     *\n     * @signature function(value)\n     * @param value {var} Value to check.\n     * @return {Boolean} Whether the value is a function.\n     */\n    isFunction : qx.Bootstrap.isFunction,\n\n\n    /**\n     * Whether the value is a function or an async function.\n     *\n     * @signature function(value)\n     * @param value {var} Value to check.\n     * @return {Boolean} Whether the value is a function or an async function.\n     */\n    isFunctionOrAsyncFunction : qx.Bootstrap.isFunctionOrAsyncFunction,\n\n\n    /**\n    * Whether the value is a regular expression.\n    *\n    * @param value {var} Value to check.\n    * @return {Boolean} Whether the value is a regular expression.\n    */\n    isRegExp : function(value) {\n      return this.getClass(value) === \"RegExp\";\n    },\n\n\n    /**\n    * Whether the value is a number.\n    *\n    * This function checks if the _type_ of the value is Number.\n    * Global properties *NaN*, *-Infinity*, *+Infinity*,\n    * *Number.POSITIVE_INFINITY* and *Number.NEGATIVE_INFINITY*\n    * return true.\n    *\n    * @param value {var} Value to check.\n    * @return {Boolean} Whether the value is a number.\n    */\n    isNumber : function(value) {\n      // Added \"value !== null\" because IE throws an exception \"Object expected\"\n      // by executing \"value instanceof Number\" if value is a DOM element that\n      // doesn't exist. It seems that there is an internal different between a\n      // JavaScript null and a null returned from calling DOM.\n      // e.q. by document.getElementById(\"ReturnedNull\").\n      return (\n        value !== null && (\n        this.getClass(value) === \"Number\" ||\n        value instanceof Number)\n      );\n    },\n\n\n    /**\n    * Whether the value is a boolean.\n    *\n    * @param value {var} Value to check.\n    * @return {Boolean} Whether the value is a boolean.\n    */\n    isBoolean : function(value)\n    {\n      // Added \"value !== null\" because IE throws an exception \"Object expected\"\n      // by executing \"value instanceof Boolean\" if value is a DOM element that\n      // doesn't exist. It seems that there is an internal different between a\n      // JavaScript null and a null returned from calling DOM.\n      // e.q. by document.getElementById(\"ReturnedNull\").\n      return (\n        value !== null && (\n        this.getClass(value) === \"Boolean\" ||\n        value instanceof Boolean)\n      );\n    },\n\n\n    /**\n     * Whether the value is a date.\n     *\n     * @param value {var} Value to check.\n     * @return {Boolean} Whether the value is a date.\n     */\n    isDate : function(value)\n    {\n      // Added \"value !== null\" because IE throws an exception \"Object expected\"\n      // by executing \"value instanceof Date\" if value is a DOM element that\n      // doesn't exist. It seems that there is an internal different between a\n      // JavaScript null and a null returned from calling DOM.\n      // e.q. by document.getElementById(\"ReturnedNull\").\n      return (\n        value !== null && (\n        this.getClass(value) === \"Date\" ||\n        value instanceof Date)\n      );\n    },\n\n\n    /**\n     * Whether the value is a Error.\n     *\n     * @param value {var} Value to check.\n     * @return {Boolean} Whether the value is a Error.\n     */\n    isError : function(value)\n    {\n      // Added \"value !== null\" because IE throws an exception \"Object expected\"\n      // by executing \"value instanceof Error\" if value is a DOM element that\n      // doesn't exist. It seems that there is an internal different between a\n      // JavaScript null and a null returned from calling DOM.\n      // e.q. by document.getElementById(\"ReturnedNull\").\n      return (\n        value !== null && (\n        this.getClass(value) === \"Error\" ||\n        value instanceof Error)\n      );\n    },\n\n\n    /**\n     * Whether the value is a Promise.\n     *\n     * checks if value exists and has a function 'then'\n     *\n     * @param value {var} Value to check.\n     * @return {Boolean} Whether the value is a Promise.\n     *\n     */\n     isPromise : function(value)\n     {\n      return (value != null) && this.isFunction(value.then);\n     }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * A collection of assertions.\n *\n * These methods can be used to assert incoming parameters, return values, ...\n * If an assertion fails an {@link AssertionError} is thrown.\n *\n * Assertions are used in unit tests as well.\n *\n * @require(qx.lang.Type)\n * @ignore(qx.Class.*)\n */\nqx.Bootstrap.define(\"qx.core.Assert\",\n{\n  statics :\n  {\n    __logError : true,\n\n    /**\n     * Assert that the condition evaluates to <code>true</code>. An\n     * {@link AssertionError} is thrown if otherwise.\n     *\n     * @param comment {String} Message to be shown if the assertion fails. This\n     *    message is provided by the user.\n     * @param msgvarargs {var} any number of parts of a message to show if assertion\n     *                         triggers. Each will be converted to a string and all\n     *                         parts will be concatenated. E. g. instead of\n     *                         \"Got invalid value \" + this.__toString(val) + \"!!!!!\"\n     *                         use\n     *                         \"Got invalid value \", val, \"!!!!!\"\n     *                         (much better performance)\n     *\n     */\n    __fail : function(comment, msgvarargs)\n    {\n      // Build up message from message varargs. It's not really important\n      // how long this takes as it is done only when assertion is triggered\n      var msg = \"\";\n      for (var i=1, l=arguments.length; i<l; i++)\n      {\n        msg = msg + this.__toString(arguments[i] === undefined ? \"'undefined'\" : arguments[i]);\n      }\n\n      var fullComment = \"\";\n      if (msg) {\n        fullComment = comment + \": \" + msg;\n      } else {\n        fullComment = comment;\n      }\n      var errorMsg = \"Assertion error! \" + fullComment;\n\n      if (qx.Class && qx.Class.isDefined(\"qx.core.AssertionError\"))\n      {\n        var err = new qx.core.AssertionError(comment, msg);\n        if (this.__logError) {\n          qx.Bootstrap.error(errorMsg + \"\\n Stack trace: \\n\" + err.getStackTrace());\n        }\n        throw err;\n      }\n      else\n      {\n        if (this.__logError) {\n          qx.Bootstrap.error(errorMsg);\n        }\n        throw new Error(errorMsg);\n      }\n    },\n\n\n    /**\n     * Convert an unknown value to a string to display in error messages\n     *\n     * @param value {var} any value\n     * @return {String} a string representation of the value\n     */\n    __toString : function(value)\n    {\n      var stringValue;\n\n      if (value === null)\n      {\n        stringValue = \"null\";\n      }\n      else if (qx.lang.Type.isArray(value) && value.length > 10)\n      {\n        stringValue = \"Array[\" + value.length + \"]\";\n      } else if ((value instanceof Object) && (value.toString == null))\n      {\n        stringValue = qx.lang.Json.stringify(value, null, 2);\n      } else\n      {\n        try {\n          stringValue = value.toString();\n        } catch(e) {\n          stringValue = \"\";\n        }\n      }\n      return stringValue;\n    },\n\n\n    /**\n     * Assert that the condition evaluates to <code>true</code>.\n     *\n     * @param condition {var} Condition to check for. Must evaluate to\n     *    <code>true</code>.\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assert : function(condition, msg) {\n      condition == true || this.__fail(msg || \"\", \"Called assert with 'false'\");\n    },\n\n\n    /**\n     * Raise an {@link AssertionError}.\n     *\n     * @param msg {String} Message to be shown if the assertion fails.\n     * @param compact {Boolean?false} Show less verbose message. Default: false.\n     */\n    fail : function(msg, compact) {\n      var msgvarargs = compact ? \"\" : \"Called fail().\";\n      this.__fail(msg || \"\", msgvarargs);\n    },\n\n\n    /**\n     * Assert that the value is <code>true</code> (Identity check).\n     *\n     * @param value {Boolean} Condition to check for. Must be identical to\n     *    <code>true</code>.\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertTrue : function(value, msg) {\n      (value === true) || this.__fail(msg || \"\", \"Called assertTrue with '\", value, \"'\");\n    },\n\n\n    /**\n     * Assert that the value is <code>false</code> (Identity check).\n     *\n     * @param value {Boolean} Condition to check for. Must be identical to\n     *    <code>false</code>.\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertFalse : function(value, msg) {\n      (value === false) || this.__fail(msg || \"\", \"Called assertFalse with '\", value, \"'\");\n    },\n\n\n    /**\n     * Assert that both values are equal. (Uses the equality operator\n     * <code>==</code>.)\n     *\n     * @param expected {var} Reference value\n     * @param found {var} found value\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertEquals : function(expected, found, msg)\n    {\n      expected == found || this.__fail(\n        msg || \"\",\n        \"Expected '\", expected,\n        \"' but found '\", found, \"'!\"\n      );\n    },\n\n    /**\n     * Assert that both values are not equal. (Uses the not equality operator\n     * <code>!=</code>.)\n     *\n     * @param expected {var} Reference value\n     * @param found {var} found value\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertNotEquals : function(expected, found, msg)\n    {\n        expected != found || this.__fail(\n        msg || \"\",\n        \"Expected '\",expected,\n        \"' to be not equal with '\", found, \"'!\"\n      );\n    },\n\n    /**\n     * Assert that both float values are equal. This might be needed because\n     * of the natural floating point inaccuracy of computers.\n     *\n     * @param expected {Float} Reference value\n     * @param found {Float} Found value\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertEqualsFloat : function(expected, found, msg)\n    {\n      this.assertNumber(expected);\n      this.assertNumber(found);\n\n      qx.lang.Number.equals(expected, found) ||\n        this.__fail(msg || \"\", \"Expected '\", expected, \"' to be equal with '\",\n        found, \"'!\"\n      );\n    },\n\n    /**\n     * Assert that both float values are not equal. This might be needed\n     * because of the natural floating point inaccuracy of computers.\n     *\n     * @param expected {Float} Reference value\n     * @param found {Float} Found value\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertNotEqualsFloat : function(expected, found, msg)\n    {\n      this.assertNumber(expected);\n      this.assertNumber(found);\n\n      !qx.lang.Number.equals(expected, found) ||\n        this.__fail(msg || \"\", \"Expected '\", expected,\n        \"' to be not equal with '\", found, \"'!\"\n      );\n    },\n\n    /**\n     * Assert that both values are identical. (Uses the identity operator\n     * <code>===</code>.)\n     *\n     * @param expected {var} Reference value\n     * @param found {var} found value\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertIdentical : function(expected, found, msg)\n    {\n      expected === found || this.__fail(\n        msg || \"\",\n        \"Expected '\", expected,\n        \"' (identical) but found '\", found, \"'!\"\n      );\n    },\n\n\n    /**\n     * Assert that both values are not identical. (Uses the not identity operator\n     * <code>!==</code>.)\n     *\n     * @param expected {var} Reference value\n     * @param found {var} found value\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertNotIdentical : function(expected, found, msg)\n    {\n      expected !== found || this.__fail(\n        msg || \"\",\n        \"Expected '\", expected,\n        \"' to be not identical with '\", found, \"'!\"\n      );\n    },\n\n\n    /**\n     * Assert that the value is not <code>undefined</code>.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertNotUndefined : function(value, msg)\n    {\n      value !== undefined || this.__fail(\n        msg || \"\",\n        \"Expected value not to be undefined but found undefined!\"\n      );\n    },\n\n\n    /**\n     * Assert that the value is <code>undefined</code>.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertUndefined : function(value, msg)\n    {\n      value === undefined || this.__fail(\n        msg || \"\",\n        \"Expected value to be undefined but found \", value, \"!\"\n      );\n    },\n\n\n    /**\n     * Assert that the value is not <code>null</code>.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertNotNull : function(value, msg)\n    {\n      value !== null || this.__fail(\n        msg || \"\",\n        \"Expected value not to be null but found null!\"\n      );\n    },\n\n\n    /**\n     * Assert that the value is <code>null</code>.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertNull : function(value, msg)\n    {\n      value === null || this.__fail(\n        msg || \"\",\n        \"Expected value to be null but found \", value, \"!\"\n      );\n    },\n\n\n    /**\n     * Assert that the first two arguments are equal, when serialized into\n     * JSON.\n     *\n     * @param expected {var} The the expected value\n     * @param found {var} The found value\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertJsonEquals : function(expected, found, msg) {\n      this.assertEquals(\n        qx.lang.Json.stringify(expected),\n        qx.lang.Json.stringify(found),\n        msg\n      );\n    },\n\n\n    /**\n     * Assert that the given string matches the regular expression\n     *\n     * @param str {String} String, which should match the regular expression\n     * @param re {String|RegExp} Regular expression to match\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertMatch : function(str, re, msg)\n    {\n      this.assertString(str);\n      this.assert(\n        qx.lang.Type.isRegExp(re) || qx.lang.Type.isString(re),\n        \"The parameter 're' must be a string or a regular expression.\"\n      );\n      str.search(re) >= 0 || this.__fail(\n        msg || \"\",\n        \"The String '\", str, \"' does not match the regular expression '\", re.toString(), \"'!\"\n      );\n    },\n\n\n    /**\n     * Assert that the number of arguments is within the given range\n     *\n     * @param args {arguments} The <code>arguments<code> variable of a function\n     * @param minCount {Integer} Minimal number of arguments\n     * @param maxCount {Integer} Maximum number of arguments\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertArgumentsCount : function(args, minCount, maxCount, msg)\n    {\n      var argCount = args.length;\n      (argCount >= minCount && argCount <= maxCount) || this.__fail(\n        msg || \"\",\n        \"Wrong number of arguments given. Expected '\", minCount, \"' to '\",\n        maxCount, \"' arguments but found '\", argCount, \"' arguments.\"\n      );\n    },\n\n\n    /**\n     * Assert that an event is fired.\n     *\n     * @param obj {Object} The object on which the event should be fired.\n     * @param event {String} The event which should be fired.\n     * @param invokeFunc {Function} The function which will be invoked and which\n     *   fires the event.\n     * @param listenerFunc {Function?null} The function which will be invoked in the\n     *   listener. The function receives one parameter which is the event.\n     * @param msg {String?\"\"} Message to be shows if the assertion fails.\n     */\n    assertEventFired : function(obj, event, invokeFunc, listenerFunc, msg)\n    {\n      var called = false;\n      var listener = function(e)\n      {\n        if (listenerFunc) {\n          listenerFunc.call(obj, e);\n        }\n        called = true;\n      };\n\n      var id;\n      try {\n        id = obj.addListener(event, listener, obj);\n        invokeFunc.call(obj);\n      } catch (ex) {\n        throw ex;\n      } finally {\n        try {\n          obj.removeListenerById(id);\n        } catch (ex) { /* ignore */ }\n      }\n\n      called === true || this.__fail(msg || \"\", \"Event (\", event, \") not fired.\");\n    },\n\n\n    /**\n     * Assert that an event is not fired.\n     *\n     * @param obj {Object} The object on which the event should be fired.\n     * @param event {String} The event which should be fired.\n     * @param invokeFunc {Function} The function which will be invoked and which\n     *   should not fire the event.\n     * @param msg {String?} Message to be shows if the assertion fails.\n     */\n    assertEventNotFired : function(obj, event, invokeFunc, msg)\n    {\n      var called = false;\n      var listener = function(e) {\n        called = true;\n      };\n      var id = obj.addListener(event, listener, obj);\n\n      invokeFunc.call();\n      called === false || this.__fail(msg || \"\", \"Event (\", event, \") was fired.\");\n\n      obj.removeListenerById(id);\n    },\n\n\n    /**\n     * Asserts that the callback raises a matching exception.\n     *\n     * @param callback {Function} function to check\n     * @param exception {Error?Error} Expected constructor of the exception.\n     *   The assertion fails if the raised exception is not an instance of the\n     *   parameter.\n     * @param re {String|RegExp} The assertion fails if the error message does\n     *   not match this parameter\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertException : function(callback, exception, re, msg)\n    {\n      var exception = exception || Error;\n      var error;\n\n      try {\n        this.__logError = false;\n        callback();\n      } catch(ex) {\n        error = ex;\n      } finally {\n        this.__logError = true;\n      }\n\n      if (error == null) {\n        this.__fail(msg || \"\", \"The function did not raise an exception!\");\n      }\n\n      error instanceof exception || this.__fail(msg || \"\",\n        \"The raised exception does not have the expected type! \",\n        exception , \" != \", error);\n\n      if (re) {\n        this.assertMatch(error.toString(), re, msg);\n      }\n    },\n\n\n    /**\n     * Assert that the value is an item in the given array.\n     *\n     * @param value {var} Value to check\n     * @param array {Array} List of valid values\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertInArray : function(value, array, msg)\n    {\n      array.indexOf(value) !== -1 || this.__fail(\n        msg || \"\",\n        \"The value '\", value,\n        \"' must have any of the values defined in the array '\",\n        array, \"'\"\n      );\n    },\n\n\n    /**\n     * Assert that the value is NOT an item in the given array\n     *\n     * @param value {var} Value to check\n     * @param array {Array} List of values\n     * @param msg {String?} Message to be shown if the assertion fails\n     */\n    assertNotInArray : function(value, array, msg) {\n      array.indexOf(value) === -1 || this.__fail(\n          msg || \"\",\n          qx.lang.String.format(\n            \"The value '%1' must not have any of the values defined in the array '%2'\",\n            [value, array]\n          )\n        );\n    },\n\n\n    /**\n     * Assert that both array have identical array items.\n     *\n     * @param expected {Array} The expected array\n     * @param found {Array} The found array\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertArrayEquals : function(expected, found, msg)\n    {\n      this.assertArray(expected, msg);\n      this.assertArray(found, msg);\n\n      msg = msg ||\n        \"Expected [\" + expected.join(\", \") +\n        \"], but found [\" + found.join(\", \") + \"]\";\n\n      if (expected.length !== found.length) {\n        this.fail(msg, true);\n      }\n\n      for (var i=0; i<expected.length; i++) {\n        if (expected[i] !== found[i]) {\n          this.fail(msg, true);\n        }\n      }\n    },\n\n\n    /**\n     * Assert that the value is a key in the given map.\n     *\n     * @param value {var} Value to check\n     * @param map {Map} Map, where the keys represent the valid values\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertKeyInMap : function(value, map, msg)\n    {\n      map[value] !== undefined || this.__fail(\n        msg || \"\",\n        \"The value '\", value, \"' must must be a key of the map '\",\n        map, \"'\"\n      );\n    },\n\n\n    /**\n     * Assert that the value is a function.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertFunction : function(value, msg)\n    {\n      qx.lang.Type.isFunction(value) || this.__fail(\n        msg || \"\",\n        \"Expected value to be typeof function but found \", value, \"!\"\n      );\n    },\n\n    /**\n     * Assert that the value is a function or an async function.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertFunctionOrAsyncFunction : function(value, msg)\n    {\n      qx.lang.Type.isFunctionOrAsyncFunction(value) || this.__fail(\n        msg || \"\",\n        \"Expected value to be typeof function or typeof async function but found \", value, \"!\"\n      );\n    },\n\n    /**\n     * Assert that the value is a string.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertString : function(value, msg) {\n      qx.lang.Type.isString(value) || this.__fail(\n        msg || \"\",\n        \"Expected value to be a string but found \", value, \"!\"\n      );\n    },\n\n\n    /**\n     * Assert that the value is a boolean.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertBoolean : function(value, msg)\n    {\n      qx.lang.Type.isBoolean(value) || this.__fail(\n        msg || \"\",\n        \"Expected value to be a boolean but found \", value, \"!\"\n      );\n    },\n\n\n    /**\n     * Assert that the value is a number.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertNumber : function(value, msg)\n    {\n      (qx.lang.Type.isNumber(value) && isFinite(value)) || this.__fail(\n        msg || \"\",\n        \"Expected value to be a number but found \", value, \"!\"\n      );\n    },\n\n\n    /**\n     * Assert that the value is a number >= 0.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertPositiveNumber : function(value, msg)\n    {\n      (qx.lang.Type.isNumber(value) && isFinite(value) && value >= 0) || this.__fail(\n        msg || \"\",\n        \"Expected value to be a number >= 0 but found \", value, \"!\"\n      );\n    },\n\n\n    /**\n     * Assert that the value is an integer.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertInteger : function(value, msg)\n    {\n      (qx.lang.Type.isNumber(value) && isFinite(value) && value % 1 === 0) || this.__fail(\n        msg || \"\",\n        \"Expected value to be an integer but found \", value, \"!\"\n      );\n    },\n\n\n    /**\n     * Assert that the value is an integer >= 0.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertPositiveInteger : function(value, msg)\n    {\n      var condition = (\n        qx.lang.Type.isNumber(value) &&\n        isFinite(value) &&\n        value % 1 === 0 &&\n        value >= 0\n      );\n      condition || this.__fail(\n        msg || \"\",\n        \"Expected value to be an integer >= 0 but found \", value, \"!\"\n      );\n    },\n\n\n    /**\n     * Assert that the value is inside the given range.\n     *\n     * @param value {var} Value to check\n     * @param min {Number} lower bound\n     * @param max {Number} upper bound\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertInRange : function(value, min, max, msg)\n    {\n      (value >= min && value <= max) || this.__fail(\n        msg || \"\",\n        qx.lang.String.format(\"Expected value '%1' to be in the range '%2'..'%3'!\", [value, min, max])\n      );\n    },\n\n\n    /**\n     * Assert that the value is an object.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertObject : function(value, msg)\n    {\n      var condition = value !== null &&\n        (qx.lang.Type.isObject(value) || typeof value === \"object\");\n      condition || this.__fail(\n        msg || \"\",\n        \"Expected value to be typeof object but found \", (value), \"!\"\n      );\n    },\n\n\n    /**\n     * Assert that the value is an array.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertArray : function(value, msg)\n    {\n      qx.lang.Type.isArray(value) || this.__fail(\n        msg || \"\",\n        \"Expected value to be an array but found \", value, \"!\"\n      );\n    },\n\n\n    /**\n     * Assert that the value is a map either created using <code>new Object</code>\n     * or by using the object literal notation <code>{ ... }</code>.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertMap : function(value, msg)\n    {\n      qx.lang.Type.isObject(value) || this.__fail(\n        msg || \"\",\n        \"Expected value to be a map but found \", value, \"!\"\n      );\n    },\n\n\n    /**\n    * Assert that the value is a regular expression.\n    *\n    * @param value {var} Value to check\n    * @param msg {String?} Message to be shown if the assertion fails.\n    */\n   assertRegExp : function(value, msg)\n   {\n     qx.lang.Type.isRegExp(value) || this.__fail(\n       msg || \"\",\n       \"Expected value to be a regular expression but found \", value, \"!\"\n     );\n   },\n\n\n    /**\n     * Assert that the value has the given type using the <code>typeof</code>\n     * operator. Because the type is not always what it is supposed to be it is\n     * better to use more explicit checks like {@link #assertString} or\n     * {@link #assertArray}.\n     *\n     * @param value {var} Value to check\n     * @param type {String} expected type of the value\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertType : function(value, type, msg)\n    {\n      this.assertString(type, \"Invalid argument 'type'\");\n\n      typeof(value) === type || this.__fail(\n        msg || \"\",\n        \"Expected value to be typeof '\", type, \"' but found \", value, \"!\"\n      );\n    },\n\n\n    /**\n     * Assert that the value is an instance of the given class.\n     *\n     * @param value {var} Value to check\n     * @param clazz {Class} The value must be an instance of this class\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertInstance : function(value, clazz, msg)\n    {\n      var className = clazz.classname || clazz + \"\";\n\n      value instanceof clazz || this.__fail(\n        msg || \"\",\n        \"Expected value to be instanceof '\", className, \"' but found \", value, \"!\"\n      );\n    },\n\n\n    /**\n     * Assert that the value implements the given interface.\n     *\n     * @param value {var} Value to check\n     * @param iface {Class} The value must implement this interface\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertInterface : function(value, iface, msg) {\n      qx.Class && qx.Class.implementsInterface(value, iface) || this.__fail(\n        msg || \"\",\n        \"Expected object '\", value, \"' to implement the interface '\", iface, \"'!\"\n      );\n    },\n\n\n    /**\n     * Assert that the value represents the given CSS color value. This method\n     * parses the color strings and compares the RGB values. It is able to\n     * parse values supported by {@link qx.util.ColorUtil#stringToRgb}.\n     *\n     *  @param expected {String} The expected color\n     *  @param value {String} The value to check\n     *  @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertCssColor : function(expected, value, msg)\n    {\n      var ColorUtil = qx.Class ? qx.Class.getByName(\"qx.util.ColorUtil\") : null;\n      if (!ColorUtil) {\n        throw new Error(\"qx.util.ColorUtil not available! Your code must have a dependency on 'qx.util.ColorUtil'\");\n      }\n\n      var expectedRgb = ColorUtil.stringToRgb(expected);\n      try\n      {\n        var valueRgb = ColorUtil.stringToRgb(value);\n      }\n      catch (ex)\n      {\n        this.__fail(\n          msg || \"\",\n          \"Expected value to be the CSS color '\", expected,\n          \"' (rgb(\", expectedRgb.join(\",\"),\n          \")), but found value '\", value, \"', which cannot be converted to a CSS color!\"\n        );\n      }\n\n      var condition = expectedRgb[0] == valueRgb[0] && expectedRgb[1] == valueRgb[1] && expectedRgb[2] == valueRgb[2];\n      condition || this.__fail(\n        msg || \"\",\n          \"Expected value to be the CSS color '\", expectedRgb,\n          \"' (rgb(\", expectedRgb.join(\",\"),\n          \")), but found value '\", value,\n          \"' (rgb(\", valueRgb.join(\",\"), \"))!\"\n      );\n    },\n\n\n    /**\n     * Assert that the value is a DOM element.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertElement : function(value, msg)\n    {\n      // see qx.dom.Node.isElement\n      !!(value && value.nodeType === 1) || this.__fail(\n        msg || \"\",\n        \"Expected value to be a DOM element but found  '\", value, \"'!\"\n      );\n    },\n\n\n    /**\n     * Assert that the value is an instance of {@link qx.core.Object}.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertQxObject : function(value, msg)\n    {\n      this.__isQxInstance(value, \"qx.core.Object\") || this.__fail(\n        msg || \"\",\n        \"Expected value to be a qooxdoo object but found \", value, \"!\"\n      );\n    },\n\n\n    /**\n     * Assert that the value is an instance of {@link qx.ui.core.Widget}.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertQxWidget : function(value, msg)\n    {\n      this.__isQxInstance(value, \"qx.ui.core.Widget\") || this.__fail(\n        msg || \"\",\n        \"Expected value to be a qooxdoo widget but found \", value, \"!\"\n      );\n    },\n\n\n    /**\n     * Internal helper for checking the instance of a qooxdoo object using the\n     * classname.\n     *\n     * @param object {var} The object to check.\n     * @param classname {String} The classname of the class as string.\n     * @return {Boolean} <code>true</code> if the object is an instance of the\n     * class\n     */\n    __isQxInstance : function(object, classname)\n    {\n      if (!object) {\n        return false;\n      }\n      var clazz = object.constructor;\n      while(clazz) {\n        if (clazz.classname === classname) {\n          return true;\n        }\n        clazz = clazz.superclass;\n      }\n      return false;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * This mixin includes all assertions from {@link qx.core.Assert} to conveniently\n * call assertions. It is included into {@link qx.core.Object} if debugging code\n * is enabled. It is further included into all unit tests\n * {@link qx.dev.unit.TestCase}.\n *\n * @require(qx.core.Assert)\n */\nqx.Mixin.define(\"qx.core.MAssert\",\n{\n  members :\n  {\n  /**\n   * Assert that the condition evaluates to <code>true</code>.\n   *\n   * @param condition {var} Condition to check for. Must evaluate to\n   *    <code>true</code>.\n   * @param msg {String?} Message to be shown if the assertion fails.\n   */\n    assert : function(condition, msg) {\n      qx.core.Assert.assert(condition, msg);\n    },\n\n\n    /**\n     * Raise an {@link AssertionError}\n     *\n     * @param msg {String} Message to be shown if the assertion fails.\n     * @param compact {Boolean?false} Show less verbose message. Default: false.\n     */\n    fail : function(msg, compact) {\n      qx.core.Assert.fail(msg, compact);\n    },\n\n\n    /**\n     * Assert that the value is <code>true</code> (Identity check).\n     *\n     * @param value {Boolean} Condition to check for. Must be identical to\n     *    <code>true</code>.\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertTrue : function(value, msg) {\n      qx.core.Assert.assertTrue(value, msg);\n    },\n\n\n    /**\n     * Assert that the value is <code>false</code> (Identity check).\n     *\n     * @param value {Boolean} Condition to check for. Must be identical to\n     *    <code>false</code>.\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertFalse : function(value, msg) {\n      qx.core.Assert.assertFalse(value, msg);\n    },\n\n\n    /**\n     * Assert that both values are equal. (Uses the equality operator\n     * <code>==</code>.)\n     *\n     * @param expected {var} Reference value\n     * @param found {var} found value\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertEquals : function(expected, found, msg) {\n      qx.core.Assert.assertEquals(expected, found, msg);\n    },\n\n    /**\n     * Assert that both values are not equal. (Uses the not equality operator\n     * <code>!=</code>.)\n     *\n     * @param expected {var} Reference value\n     * @param found {var} found value\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertNotEquals : function(expected, found, msg) {\n      qx.core.Assert.assertNotEquals(expected, found, msg);\n    },\n\n\n    /**\n     * Assert that both float values are equal. This might be needed because\n     * of the natural floating point inaccuracy of computers.\n     *\n     * @param expected {Float} Reference value\n     * @param found {Float} Found value\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertEqualsFloat : function(expected, found, msg) {\n      qx.core.Assert.assertEqualsFloat(expected, found, msg);\n    },\n\n\n    /**\n     * Assert that both float values are not equal. This might be needed\n     * because of the natural floating point inaccuracy of computers.\n     *\n     * @param expected {Float} Reference value\n     * @param found {Float} Found value\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertNotEqualsFloat : function(expected, found, msg) {\n      qx.core.Assert.assertNotEqualsFloat(expected, found, msg);\n    },\n\n\n    /**\n     * Assert that both values are identical. (Uses the identity operator\n     * <code>===</code>.)\n     *\n     * @param expected {var} Reference value\n     * @param found {var} found value\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertIdentical : function(expected, found, msg) {\n      qx.core.Assert.assertIdentical(expected, found, msg);\n    },\n\n\n    /**\n     * Assert that both values are not identical. (Uses the not identity operator\n     * <code>!==</code>.)\n     *\n     * @param expected {var} Reference value\n     * @param found {var} found value\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertNotIdentical : function(expected, found, msg) {\n      qx.core.Assert.assertNotIdentical(expected, found, msg);\n    },\n\n\n    /**\n     * Assert that the value is not <code>undefined</code>.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertNotUndefined : function(value, msg) {\n      qx.core.Assert.assertNotUndefined(value, msg);\n    },\n\n\n    /**\n     * Assert that the value is <code>undefined</code>.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertUndefined : function(value, msg) {\n      qx.core.Assert.assertUndefined(value, msg);\n    },\n\n\n    /**\n     * Assert that the value is not <code>null</code>.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertNotNull : function(value, msg) {\n      qx.core.Assert.assertNotNull(value, msg);\n    },\n\n\n    /**\n     * Assert that the value is <code>null</code>.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertNull : function(value, msg) {\n      qx.core.Assert.assertNull(value, msg);\n    },\n\n\n    /**\n     * Assert that the first two arguments are equal, when serialized into\n     * JSON.\n     *\n     * @param expected {var} The expected value\n     * @param found {var} The found value\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertJsonEquals : function(expected, found, msg) {\n      qx.core.Assert.assertJsonEquals(expected, found, msg);\n    },\n\n\n    /**\n     * Assert that the given string matches the regular expression\n     *\n     * @param str {String} String, which should match the regular expression\n     * @param re {RegExp} Regular expression to match\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertMatch : function(str, re, msg) {\n      qx.core.Assert.assertMatch(str, re, msg);\n    },\n\n\n    /**\n     * Assert that the number of arguments is within the given range\n     *\n     * @param args {arguments} The <code>arguments<code> variable of a function\n     * @param minCount {Integer} Minimal number of arguments\n     * @param maxCount {Integer} Maximum number of arguments\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertArgumentsCount : function(args, minCount, maxCount, msg) {\n      qx.core.Assert.assertArgumentsCount(args, minCount, maxCount, msg);\n    },\n\n\n    /**\n     * Assert that an event is fired.\n     *\n     * @param obj {Object} The object on which the event should be fired.\n     * @param event {String} The event which should be fired.\n     * @param invokeFunc {Function} The function which will be invoked and which\n     *   fires the event.\n     * @param listener {Function?null} The function which will be invoked in the\n     *   listener. The function has one parameter called e which is the event.\n     * @param msg {String?\"\"} Message to be shows if the assertion fails.\n     */\n    assertEventFired : function(obj, event, invokeFunc, listener, msg) {\n      qx.core.Assert.assertEventFired(obj, event, invokeFunc, listener, msg);\n    },\n\n\n    /**\n     * Assert that an event is not fired.\n     *\n     * @param obj {Object} The object on which the event should be fired.\n     * @param event {String} The event which should be fired.\n     * @param invokeFunc {Function} The function which will be invoked and which\n     *   should not fire the event.\n     * @param msg {String?} Message to be shows if the assertion fails.\n     */\n    assertEventNotFired : function(obj, event, invokeFunc, msg) {\n      qx.core.Assert.assertEventNotFired(obj, event, invokeFunc, msg);\n    },\n\n\n    /**\n     * Asserts that the callback raises a matching exception.\n     *\n     * @param callback {Function} function to check\n     * @param exception {Error?Error} Expected constructor of the exception.\n     *   The assertion fails if the raised exception is not an instance of the\n     *   parameter.\n     * @param re {String|RegExp} The assertion fails if the error message does\n     *   not match this parameter\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertException : function(callback, exception, re, msg) {\n      qx.core.Assert.assertException(callback, exception, re, msg);\n    },\n\n\n    /**\n     * Assert that the value is an item in the given array.\n     *\n     * @param value {var} Value to check\n     * @param array {Array} List of valid values\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertInArray : function(value, array, msg) {\n      qx.core.Assert.assertInArray(value, array, msg);\n    },\n\n\n    /**\n     * Assert that the value is NOT an item in the given array\n     *\n     * @param value {var} Value to check\n     * @param array {Array} List of values\n     * @param msg {String?} Message to be shown if the assertion fails\n     */\n    assertNotInArray : function(value, array, msg) {\n      qx.core.Assert.assertNotInArray(value, array, msg);\n    },\n\n\n    /**\n     * Assert that both array have identical array items.\n     *\n     * @param expected {Array} The expected array\n     * @param found {Array} The found array\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertArrayEquals : function(expected, found, msg) {\n      qx.core.Assert.assertArrayEquals(expected, found, msg);\n    },\n\n\n    /**\n     * Assert that the value is a key in the given map.\n     *\n     * @param value {var} Value to check\n     * @param map {Map} Map, where the keys represent the valid values\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertKeyInMap : function(value, map, msg) {\n      qx.core.Assert.assertKeyInMap(value, map, msg);\n    } ,\n\n\n    /**\n     * Assert that the value is a function.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertFunction : function(value, msg) {\n      qx.core.Assert.assertFunction(value, msg);\n    },\n\n\n    /**\n     * Assert that the value is a string.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertString : function(value, msg) {\n      qx.core.Assert.assertString(value, msg);\n    },\n\n\n    /**\n     * Assert that the value is a boolean.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertBoolean : function(value, msg) {\n      qx.core.Assert.assertBoolean(value, msg);\n    },\n\n\n    /**\n     * Assert that the value is a number.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertNumber : function(value, msg) {\n      qx.core.Assert.assertNumber(value, msg);\n    },\n\n\n    /**\n     * Assert that the value is a number >= 0.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertPositiveNumber : function(value, msg) {\n      qx.core.Assert.assertPositiveNumber(value, msg);\n    },\n\n\n    /**\n     * Assert that the value is an integer.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertInteger : function(value, msg) {\n      qx.core.Assert.assertInteger(value, msg);\n    },\n\n\n    /**\n     * Assert that the value is an integer >= 0.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertPositiveInteger : function(value, msg) {\n      qx.core.Assert.assertPositiveInteger(value, msg);\n    },\n\n\n    /**\n     * Assert that the value is inside the given range.\n     *\n     * @param value {var} Value to check\n     * @param min {Number} lower bound\n     * @param max {Number} upper bound\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertInRange : function(value, min, max, msg) {\n      qx.core.Assert.assertInRange(value, min, max, msg);\n    },\n\n\n    /**\n     * Assert that the value is an object.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertObject : function(value, msg) {\n      qx.core.Assert.assertObject(value, msg);\n    },\n\n\n    /**\n     * Assert that the value is an array.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertArray : function(value, msg) {\n      qx.core.Assert.assertArray(value, msg);\n    },\n\n\n    /**\n     * Assert that the value is a map either created using <code>new Object</code>\n     * or by using the object literal notation <code>{ ... }</code>.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertMap : function(value, msg) {\n      qx.core.Assert.assertMap(value, msg);\n    },\n\n\n    /**\n     * Assert that the value is a regular expression.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertRegExp : function(value, msg) {\n       qx.core.Assert.assertRegExp(value, msg);\n    },\n\n\n    /**\n     * Assert that the value has the given type using the <code>typeof</code>\n     * operator. Because the type is not always what it is supposed to be it is\n     * better to use more explicit checks like {@link #assertString} or\n     * {@link #assertArray}.\n     *\n     * @param value {var} Value to check\n     * @param type {String} expected type of the value\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertType : function(value, type, msg) {\n      qx.core.Assert.assertType(value, type, msg);\n    },\n\n\n    /**\n     * Assert that the value is an instance of the given class.\n     *\n     * @param value {var} Value to check\n     * @param clazz {Class} The value must be an instance of this class\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertInstance : function(value, clazz, msg) {\n      qx.core.Assert.assertInstance(value, clazz, msg);\n    },\n\n\n    /**\n     * Assert that the value implements the given interface.\n     *\n     * @param value {var} Value to check\n     * @param iface {Class} The value must implement this interface\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertInterface : function(value, iface, msg) {\n      qx.core.Assert.assertInterface(value, iface, msg);\n    },\n\n\n    /**\n     * Assert that the value represents the given CSS color value. This method\n     * parses the color strings and compares the RGB values. It is able to\n     * parse values supported by {@link qx.util.ColorUtil#stringToRgb}.\n     *\n     *  @param expected {String} The expected color\n     *  @param value {String} The value to check\n     *  @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertCssColor : function(expected, value, msg) {\n      qx.core.Assert.assertCssColor(expected, value, msg);\n    },\n\n\n    /**\n     * Assert that the value is a DOM element.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertElement : function(value, msg) {\n      qx.core.Assert.assertElement(value, msg);\n    },\n\n\n    /**\n     * Assert that the value is an instance of {@link qx.core.Object}.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertQxObject : function(value, msg) {\n      qx.core.Assert.assertQxObject(value, msg);\n    },\n\n\n    /**\n     * Assert that the value is an instance of {@link qx.ui.core.Widget}.\n     *\n     * @param value {var} Value to check\n     * @param msg {String?} Message to be shown if the assertion fails.\n     */\n    assertQxWidget : function(value, msg) {\n      qx.core.Assert.assertQxWidget(value, msg);\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * The qooxdoo root class. All other classes are direct or indirect subclasses of this one.\n *\n * This class contains methods for:\n *\n * * object management (creation and destruction)\n * * interfaces for event system\n * * generic setter/getter support\n * * interfaces for logging console\n * * user friendly OO interfaces like {@link #self} or {@link #base}\n *\n * @require(qx.core.ObjectRegistry)\n */\nqx.Class.define(\"qx.core.Object\",\n{\n  extend : Object,\n  include : qx.core.Environment.filter({\n    \"module.databinding\" : qx.data.MBinding,\n    \"module.logger\" : qx.core.MLogging,\n    \"module.events\" : qx.core.MEvent,\n    \"module.property\" : qx.core.MProperty,\n    \"module.objectid\" : qx.core.MObjectId,\n    \"qx.debug\" : qx.core.MAssert\n  }),\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Create a new instance\n   */\n  construct : function() {\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** Internal type */\n    $$type : \"Object\"\n  },\n\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __Property : qx.core.Environment.get(\"module.property\") ? qx.core.Property : null,\n\n\n    /*\n    ---------------------------------------------------------------------------\n      BASICS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Return unique hash code of object\n     *\n     * @return {String} unique hash code of the object\n     */\n    toHashCode : function() {\n      if (!this.$$hash && !this.$$disposed) {\n        if (!qx.core.Environment.get(\"qx.automaticMemoryManagement\") || qx.Class.hasInterface(this.constructor, qx.core.IDisposable)) {\n          qx.core.ObjectRegistry.register(this);\n        } else {\n          qx.core.ObjectRegistry.toHashCode(this);\n        }\n      }\n      return this.$$hash;\n    },\n    \n    \n    /**\n     * Returns a UUID for this object\n     * \n     * @return {String} a UUID\n     */\n    toUuid : function() {\n      if (!this.$$uuid) {\n        this.$$uuid = qx.util.Uuid.createUuidV4();\n      }\n      \n      return this.$$uuid;\n    },\n    \n    \n    /**\n     * Sets a UUID; normally set automatically, you would only set this manually\n     * if you have a very special reason to do so - for example, you are using UUIDs which are\n     * synchronized from a special source, eg remote server.\n     * \n     * This can only be called once, and only if it has not been automatically allocated.  If\n     * you really do need to call this, call it as soon after construction as possible to avoid\n     * an exception.  \n     * \n     * @param uuid {String} an ID which is unique across the whole application\n     */\n    setExplicitUuid : function(uuid) {\n      if (Boolean(this.$$uuid)) {\n        throw new Error(\"Cannot change the UUID of an object once set\");\n      }\n      this.$$uuid = uuid;\n    },\n\n\n    /**\n     * Returns a string representation of the qooxdoo object.\n     *\n     * @return {String} string representation of the object\n     */\n    toString : function() {\n      return this.classname + \"[\" + this.toHashCode() + \"]\";\n    },\n\n\n    /**\n     * Call the same method of the super class.\n     *\n     * @param args {IArguments} the arguments variable of the calling method\n     * @param varargs {var?} variable number of arguments passed to the overwritten function\n     * @return {var} the return value of the method of the base class.\n     */\n    base : function(args, varargs)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (!qx.Bootstrap.isFunctionOrAsyncFunction(args.callee.base)) {\n          throw new Error(\n            \"Cannot call super class. Method is not derived: \" +\n            args.callee.displayName\n          );\n        }\n      }\n\n      if (arguments.length === 1) {\n        return args.callee.base.call(this);\n      } else {\n        return args.callee.base.apply(this, Array.prototype.slice.call(arguments, 1));\n      }\n    },\n\n\n    /**\n     * Returns the static class (to access static members of this class)\n     *\n     * @param args {arguments} the arguments variable of the calling method\n     * @return {var} the return value of the method of the base class.\n     */\n    self : function(args) {\n      return args.callee.self;\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CLONE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     *\n     * Returns a clone of this object. Copies over all user configured\n     * property values. Do not configure a parent nor apply the appearance\n     * styles directly.\n     *\n     * @return {qx.core.Object} The clone\n     */\n    clone : function()\n    {\n      if (!qx.core.Environment.get(\"module.property\")) {\n        throw new Error(\"Cloning only possible with properties.\");\n      }\n\n      var clazz = this.constructor;\n      var clone = new clazz;\n      var props = qx.Class.getProperties(clazz);\n      var user = this.__Property.$$store.user;\n      var setter = this.__Property.$$method.set;\n      var name;\n\n      // Iterate through properties\n      for (var i=0, l=props.length; i<l; i++)\n      {\n        name = props[i];\n        if (this.hasOwnProperty(user[name])) {\n          clone[setter[name]](this[user[name]]);\n        }\n      }\n\n      // Return clone\n      return clone;\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      USER DATA\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {Map} stored user data */\n    __userData : null,\n\n\n    /**\n     * Store user defined data inside the object.\n     *\n     * @param key {String} the key\n     * @param value {Object} the value of the user data\n     */\n    setUserData : function(key, value)\n    {\n      if (!this.__userData) {\n        this.__userData = {};\n      }\n\n      this.__userData[key] = value;\n    },\n\n\n    /**\n     * Load user defined data from the object\n     *\n     * @param key {String} the key\n     * @return {Object} the user data\n     */\n    getUserData : function(key)\n    {\n      if (!this.__userData) {\n        return null;\n      }\n      var data = this.__userData[key];\n      return data === undefined ? null : data;\n    },\n\n    /**\n     * Clears all user defined data from the object.\n     */\n    resetUserData : function() {\n      this.__userData = null;\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      DISPOSER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns true if the object is disposed.\n     *\n     * @return {Boolean} Whether the object has been disposed\n     */\n    isDisposed : function() {\n      return this.$$disposed || false;\n    },\n\n\n    /**\n     * Returns true if the object is being disposed, ie this.dispose() has started but \n     * not finished\n     *\n     * @return {Boolean} Whether the object is being disposed\n     */\n    isDisposing : function() {\n      return this.$$disposing || false;\n    },\n\n\n    /**\n     * Dispose this object\n     *\n     */\n    dispose : function()\n    {\n      // Check first\n      if (this.$$disposed) {\n        return;\n      }\n\n      // Mark as disposed (directly, not at end, to omit recursions)\n      this.$$disposed = true;\n      this.$$disposing = true;\n      this.$$instance = null;\n      this.$$allowconstruct = null;\n\n      // Debug output\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (qx.core.Environment.get(\"qx.debug.dispose.level\") > 2) {\n          qx.Bootstrap.debug(this, \"Disposing \" + this.classname + \"[\" + this.toHashCode() + \"]\");\n        }\n      }\n\n      // Deconstructor support for classes\n      var clazz = this.constructor;\n      var mixins;\n\n      while (clazz.superclass)\n      {\n        // Processing this class...\n        if (clazz.$$destructor) {\n          clazz.$$destructor.call(this);\n        }\n\n        // Destructor support for mixins\n        if (clazz.$$includes)\n        {\n          mixins = clazz.$$flatIncludes;\n\n          for (var i=0, l=mixins.length; i<l; i++)\n          {\n            if (mixins[i].$$destructor) {\n              mixins[i].$$destructor.call(this);\n            }\n          }\n        }\n\n        // Jump up to next super class\n        clazz = clazz.superclass;\n      }\n\n      this.$$disposing = false;\n      \n      // Additional checks\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (qx.core.Environment.get(\"qx.debug.dispose.level\") > 0)\n        {\n          var key, value;\n          for (key in this)\n          {\n            value = this[key];\n\n            // Check for Objects but respect values attached to the prototype itself\n            if (value !== null && typeof value === \"object\" && !(qx.Bootstrap.isString(value)))\n            {\n              // Check prototype value\n              // undefined is the best, but null may be used as a placeholder for\n              // private variables (hint: checks in qx.Class.define). We accept both.\n              if (this.constructor.prototype[key] != null) {\n                continue;\n              }\n\n              if (qx.core.Environment.get(\"qx.debug.dispose.level\") > 1) {\n                qx.Bootstrap.warn(this, \"Missing destruct definition for '\" + key + \"' in \" + this.classname + \"[\" + this.toHashCode() + \"]: \" + value);\n                delete this[key];\n              }\n            }\n          }\n        }\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      DISPOSER UTILITIES\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Disconnects and disposes given objects from instance.\n     * Only works with qx.core.Object based objects e.g. Widgets.\n     *\n     * @param varargs {arguments} Names of fields (which store objects) to dispose\n     */\n    _disposeObjects : function(varargs) {\n      qx.util.DisposeUtil.disposeObjects(this, arguments);\n    },\n\n\n    /**\n     * Disconnects and disposes given singleton objects from instance.\n     * Only works with qx.core.Object based objects e.g. Widgets.\n     *\n     * @param varargs {arguments} Names of fields (which store objects) to dispose\n     */\n    _disposeSingletonObjects : function(varargs) {\n      qx.util.DisposeUtil.disposeObjects(this, arguments, true);\n    },\n\n\n    /**\n     * Disposes all members of the given array and deletes\n     * the field which refers to the array afterwards.\n     *\n     * @param field {String} Name of the field which refers to the array\n     */\n    _disposeArray : function(field) {\n      qx.util.DisposeUtil.disposeArray(this, field);\n    },\n\n\n    /**\n     * Disposes all members of the given map and deletes\n     * the field which refers to the map afterwards.\n     *\n     * @param field {String} Name of the field which refers to the map\n     */\n    _disposeMap : function(field) {\n      qx.util.DisposeUtil.disposeMap(this, field);\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     ENVIRONMENT SETTINGS\n  *****************************************************************************\n  */\n\n  environment : {\n    \"qx.debug.dispose.level\" : 0\n  },\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    if (qx.core.Environment.get(\"module.events\")) {\n      if (!qx.core.ObjectRegistry.inShutDown) {\n        // Cleanup event listeners\n        qx.event.Registration.removeAllListeners(this);\n      } else {\n        // on shutdown, just clear the internal listener map\n        qx.event.Registration.deleteAllListeners(this);\n      }\n    }\n\n    // Cleanup object registry\n    qx.core.ObjectRegistry.unregister(this);\n\n    // Cleanup user data\n    this.__userData = null;\n\n    // only of properties are available\n    if (qx.core.Environment.get(\"module.property\")) {\n      // Cleanup properties\n      var clazz = this.constructor;\n      var properties;\n      var store = this.__Property.$$store;\n      var storeUser = store.user;\n      var storeTheme = store.theme;\n      var storeInherit = store.inherit;\n      var storeUseinit = store.useinit;\n      var storeInit = store.init;\n\n      while(clazz)\n      {\n        properties = clazz.$$properties;\n        if (properties)\n        {\n          for (var name in properties)\n          {\n            if (properties[name].dereference) {\n              this[storeUser[name]] = this[storeTheme[name]] = this[storeInherit[name]] = this[storeUseinit[name]] = this[storeInit[name]] = undefined;\n            }\n          }\n        }\n\n        clazz = clazz.superclass;\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * This interface defines a data structure compatible with the data binding\n * controllers.\n * It defines a minimum of functionality which the controller need to work.\n */\nqx.Interface.define(\"qx.data.IListData\",\n{\n  events :\n  {\n    /**\n     * The change event which will be fired if there is a change in the data structure.\n     * The data contains a map with three key value pairs:\n     * <li>start: The start index of the change.</li>\n     * <li>end: The end index of the change.</li>\n     * <li>type: The type of the change as a String. This can be 'add',\n     * 'remove', 'order' or 'add/remove'</li>\n     * <li>added: The items which has been added (as a JavaScript array)</li>\n     * <li>removed: The items which has been removed (as a JavaScript array)</li>\n     */\n    \"change\" : \"qx.event.type.Data\",\n\n    /**\n     * The changeLength event will be fired every time the length of the\n     * data structure changes.\n     */\n    \"changeLength\": \"qx.event.type.Event\"\n  },\n\n\n  members :\n  {\n    /**\n     * Returns the item at the given index\n     *\n     * @param index {Number} The index requested of the data element.\n     *\n     * @return {var} The element at the given index.\n     */\n    getItem : function(index) {},\n\n\n    /**\n     * Sets the given item at the given position in the data structure. A\n     * change event has to be fired.\n     *\n     * @param index {Number} The index of the data element.\n     * @param item {var} The new item to set.\n     */\n    setItem : function(index, item) {},\n\n\n    /**\n     * Method to remove and add new element to the data. For every remove or\n     * add a change event should be fired.\n     *\n     * @param startIndex {Integer} The index where the splice should start\n     * @param amount {Integer} Defines number of element which will be removed\n     *   at the given position.\n     * @param varargs {var} All following parameters will be added at the given\n     *   position to the array.\n     * @return {qx.data.Array} An array containing the removed elements.\n     */\n    splice : function(startIndex, amount, varargs) {},\n\n\n    /**\n     * Check if the given item is in the current data structure.\n     *\n     * @param item {var} The item which is possibly in the data structure.\n     * @return {Boolean} true, if the array contains the given item.\n     */\n    contains : function(item) {},\n\n\n    /**\n     * Returns the current length of the data structure.\n     *\n     * @return {Number} The current length of the data structure.\n     */\n    getLength : function() {},\n\n\n    /**\n     * Returns the list data as native array.\n     *\n     * @return {Array} The native array.\n     */\n    toArray: function() {}\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Basic event object.\n *\n * Please note:\n * Event objects are only valid during the event dispatch. After the dispatch\n * event objects are pooled or disposed. If you want to safe a reference to an\n * event instance use the {@link #clone} method.\n *\n * The interface is modeled after the DOM level 2 event interface:\n * http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-interface\n *\n * @use(qx.event.Registration)\n */\nqx.Class.define(\"qx.event.type.Event\",\n{\n  extend : qx.core.Object,\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** The current event phase is the capturing phase. */\n    CAPTURING_PHASE : 1,\n\n    /** The event is currently being evaluated at the target */\n    AT_TARGET       : 2,\n\n    /** The current event phase is the bubbling phase. */\n    BUBBLING_PHASE  : 3\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n  \t/** {qx.Promise[]} promises returned by event handlers */\n  \t_promises: null,\n  \t\n    /**\n     * Initialize the fields of the event. The event must be initialized before\n     * it can be dispatched.\n     *\n     * @param canBubble {Boolean?false} Whether or not the event is a bubbling event.\n     *     If the event is bubbling, the bubbling can be stopped using\n     *     {@link #stopPropagation}\n     * @param cancelable {Boolean?false} Whether or not an event can have its default\n     *     action prevented. The default action can either be the browser's\n     *     default action of a native event (e.g. open the context menu on a\n     *     right click) or the default action of a qooxdoo class (e.g. close\n     *     the window widget). The default action can be prevented by calling\n     *     {@link #preventDefault}\n     * @return {qx.event.type.Event} The initialized event instance\n     */\n    init : function(canBubble, cancelable)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (canBubble !== undefined)\n        {\n          qx.core.Assert.assertBoolean(canBubble, \"Invalid argument value 'canBubble'.\");\n        }\n\n        if (cancelable !== undefined)\n        {\n          qx.core.Assert.assertBoolean(cancelable, \"Invalid argument value 'cancelable'.\");\n        }\n      }\n\n      this._type = null;\n      this._target = null;\n      this._currentTarget = null;\n      this._relatedTarget = null;\n      this._originalTarget = null;\n      this._stopPropagation = false;\n      this._preventDefault = false;\n      this._bubbles = !!canBubble;\n      this._cancelable = !!cancelable;\n      this._timeStamp = (new Date()).getTime();\n      this._eventPhase = null;\n      this._promises = null;\n\n      return this;\n    },\n\n\n    /**\n     * Create a clone of the event object, which is not automatically disposed\n     * or pooled after an event dispatch.\n     *\n     * @param embryo {qx.event.type.Event?null} Optional event class, which will\n     *     be configured using the data of this event instance. The event must be\n     *     an instance of this event class. If the value is <code>null</code>,\n     *     a new pooled instance is created.\n     * @return {qx.event.type.Event} a clone of this class.\n     */\n    clone : function(embryo)\n    {\n      if (embryo) {\n        var clone = embryo;\n      } else {\n        var clone = qx.event.Pool.getInstance().getObject(this.constructor);\n      }\n\n      clone._type = this._type;\n      clone._target = this._target;\n      clone._currentTarget = this._currentTarget;\n      clone._relatedTarget = this._relatedTarget;\n      clone._originalTarget = this._originalTarget;\n      clone._stopPropagation = this._stopPropagation;\n      clone._bubbles = this._bubbles;\n      clone._preventDefault = this._preventDefault;\n      clone._cancelable = this._cancelable;\n      clone._promises = this._promises;\n\n      return clone;\n    },\n\n\n\n    /**\n     * Stops event from all further processing. Execute this when the\n     * current handler should have \"exclusive rights\" to the event\n     * and no further reaction by anyone else should happen.\n     */\n    stop : function()\n    {\n      if (this._bubbles) {\n        this.stopPropagation();\n      }\n\n      if (this._cancelable) {\n        this.preventDefault();\n      }\n    },\n\n\n    /**\n     * This method is used to prevent further propagation of an event during event\n     * flow. If this method is called by any event listener the event will cease\n     * propagating through the tree. The event will complete dispatch to all listeners\n     * on the current event target before event flow stops.\n     *\n     */\n    stopPropagation : function()\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.assertTrue(this._bubbles, \"Cannot stop propagation on a non bubbling event: \" + this.getType());\n      }\n      this._stopPropagation = true;\n    },\n\n\n    /**\n     * Get whether further event propagation has been stopped.\n     *\n     * @return {Boolean} Whether further propagation has been stopped.\n     */\n    getPropagationStopped : function() {\n      return !!this._stopPropagation;\n    },\n\n\n    /**\n     * Prevent the default action of cancelable events, e.g. opening the context\n     * menu, ...\n     *\n     */\n    preventDefault : function()\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.assertTrue(this._cancelable, \"Cannot prevent default action on a non cancelable event: \" + this.getType());\n      }\n      this._preventDefault = true;\n    },\n    \n    \n    /**\n     * Adds a promise to the list of promises returned by event handlers\n     * @param promise {qx.Promise} the promise to add\n     */\n    addPromise: qx.core.Environment.select(\"qx.promise\", {\n      \"true\": function(promise) {\n          if (this._promises === null) {\n            this._promises = [promise];\n          } else {\n            this._promises.push(promise);\n          }\n        },\n      \"false\": function() {\n        throw new Error(this.classname + \".addPromise not supported because qx.promise==false\");\n      }\n    }),\n    \n    \n    /**\n     * Returns the array of promises, or null if there are no promises\n     * @return {qx.Promise[]?}\n     */\n    getPromises: qx.core.Environment.select(\"qx.promise\", {\n      \"true\": function() {\n        return this._promises;\n      },\n      \"false\": function() {\n        throw new Error(this.classname + \".getPromises not supported because qx.promise==false\");\n      }\n    }),\n    \n    \n    /**\n     * Returns a promise for this event; if the event is defaultPrevented, the promise\n     * is a rejected promise, otherwise it is fulfilled.  The promise returned will only\n     * be fulfilled when the promises added via {@link addPromise} are also fulfilled\n     */\n    promise: qx.core.Environment.select(\"qx.promise\", {\n      \"true\": function() {\n        if (this.getDefaultPrevented()) {\n          return qx.Promise.reject();\n        }\n        if (this._promises === null) {\n          return qx.Promise.resolve(true);\n        }\n        return qx.Promise.all(this._promises);\n      },\n      \"false\": function() {\n        throw new Error(this.classname + \".promise not supported because qx.promise==false\");\n      }\n    }),\n\n\n    /**\n     * Get whether the default action has been prevented\n     *\n     * @return {Boolean} Whether the default action has been prevented\n     */\n    getDefaultPrevented : function() {\n      return !!this._preventDefault;\n    },\n\n\n    /**\n     * The name of the event\n     *\n     * @return {String} name of the event\n     */\n    getType : function() {\n      return this._type;\n    },\n\n\n    /**\n     * Override the event type\n     *\n     * @param type {String} new event type\n     */\n    setType : function(type) {\n      this._type = type;\n    },\n\n\n    /**\n     * Used to indicate which phase of event flow is currently being evaluated.\n     *\n     * @return {Integer} The current event phase. Possible values are\n     *         {@link #CAPTURING_PHASE}, {@link #AT_TARGET} and {@link #BUBBLING_PHASE}.\n     */\n    getEventPhase : function() {\n      return this._eventPhase;\n    },\n\n\n    /**\n     * Override the event phase\n     *\n     * @param eventPhase {Integer} new event phase\n     */\n    setEventPhase : function(eventPhase) {\n      this._eventPhase = eventPhase;\n    },\n\n\n    /**\n     * The time (in milliseconds relative to the epoch) at which the event was created.\n     *\n     * @return {Integer} the timestamp the event was created.\n     */\n    getTimeStamp : function() {\n      return this._timeStamp;\n    },\n\n\n    /**\n     * Returns the event target to which the event was originally\n     * dispatched.\n     *\n     * @return {Element} target to which the event was originally\n     *       dispatched.\n     */\n    getTarget : function() {\n      return this._target;\n    },\n\n\n    /**\n     * Override event target.\n     *\n     * @param target {Element} new event target\n     */\n    setTarget : function(target) {\n      this._target = target;\n    },\n\n\n    /**\n     * Get the event target node whose event listeners are currently being\n     * processed. This is particularly useful during event capturing and\n     * bubbling.\n     *\n     * @return {Element} The target the event listener is currently\n     *       dispatched on.\n     */\n    getCurrentTarget : function() {\n      return this._currentTarget || this._target;\n    },\n\n\n    /**\n     * Override current target.\n     *\n     * @param currentTarget {Element} new current target\n     */\n    setCurrentTarget : function(currentTarget) {\n      this._currentTarget = currentTarget;\n    },\n\n\n    /**\n     * Get the related event target. This is only configured for\n     * events which also had an influences on another element e.g.\n     * mouseover/mouseout, focus/blur, ...\n     *\n     * @return {Element} The related target\n     */\n    getRelatedTarget : function() {\n      return this._relatedTarget;\n    },\n\n\n    /**\n     * Override related target.\n     *\n     * @param relatedTarget {Element} new related target\n     */\n    setRelatedTarget : function(relatedTarget) {\n      this._relatedTarget = relatedTarget;\n    },\n\n\n    /**\n     * Get the original event target. This is only configured\n     * for events which are fired by another event (often when\n     * the target should be reconfigured for another view) e.g.\n     * low-level DOM event to widget event.\n     *\n     * @return {Element} The original target\n     */\n    getOriginalTarget : function() {\n      return this._originalTarget;\n    },\n\n\n    /**\n     * Override original target.\n     *\n     * @param originalTarget {Element} new original target\n     */\n    setOriginalTarget : function(originalTarget) {\n      this._originalTarget = originalTarget;\n    },\n\n\n    /**\n     * Check whether or not the event is a bubbling event. If the event can\n     * bubble the value is true, else the value is false.\n     *\n     * @return {Boolean} Whether the event bubbles\n     */\n    getBubbles : function() {\n      return this._bubbles;\n    },\n\n\n    /**\n     * Set whether the event bubbles.\n     *\n     * @param bubbles {Boolean} Whether the event bubbles\n     */\n    setBubbles : function(bubbles) {\n      this._bubbles = bubbles;\n    },\n\n\n    /**\n     * Get whether the event is cancelable\n     *\n     * @return {Boolean} Whether the event is cancelable\n     */\n    isCancelable : function() {\n      return this._cancelable;\n    },\n\n\n    /**\n     * Set whether the event is cancelable\n     *\n     * @param cancelable {Boolean} Whether the event is cancelable\n     */\n    setCancelable : function(cancelable) {\n      this._cancelable = cancelable;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * Event object for data holding event or data changes.\n */\nqx.Class.define(\"qx.event.type.Data\",\n{\n  extend : qx.event.type.Event,\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __data : null,\n    __old : null,\n\n\n    /**\n     * Initializes an event object.\n     *\n     * @param data {var} The event's new data\n     * @param old {var?null} The event's old data (optional)\n     * @param cancelable {Boolean?false} Whether or not an event can have its default\n     *     action prevented. The default action can either be the browser's\n     *     default action of a native event (e.g. open the context menu on a\n     *     right click) or the default action of a qooxdoo class (e.g. close\n     *     the window widget). The default action can be prevented by calling\n     *     {@link qx.event.type.Event#preventDefault}\n     * @return {qx.event.type.Data} the initialized instance.\n     */\n    init : function(data, old, cancelable)\n    {\n      this.base(arguments, false, cancelable);\n\n      this.__data = data;\n      this.__old = old;\n\n      return this;\n    },\n\n\n    /**\n     * Get a copy of this object\n     *\n     * @param embryo {qx.event.type.Data?null} Optional event class, which will\n     *     be configured using the data of this event instance. The event must be\n     *     an instance of this event class. If the data is <code>null</code>,\n     *     a new pooled instance is created.\n     * @return {qx.event.type.Data} a copy of this object\n     */\n    clone : function(embryo)\n    {\n      var clone = this.base(arguments, embryo);\n\n      clone.__data = this.__data;\n      clone.__old = this.__old;\n\n      return clone;\n    },\n\n\n    /**\n     * The new data of the event sending this data event.\n     * The return data type is the same as the event data type.\n     *\n     * @return {var} The new data of the event\n     */\n    getData : function() {\n      return this.__data;\n    },\n\n\n    /**\n     * The old data of the event sending this data event.\n     * The return data type is the same as the event data type.\n     *\n     * @return {var} The old data of the event\n     */\n    getOldData : function() {\n      return this.__old;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * All event dispatchers must implement this interface. Event dispatchers must\n * register themselves at the event Manager using\n * {@link qx.event.Registration#addDispatcher}.\n */\nqx.Interface.define(\"qx.event.IEventDispatcher\",\n{\n  members:\n  {\n    /**\n     * Whether the dispatcher is responsible for the this event.\n     *\n     * @param target {Element|Event} The event dispatch target\n     * @param event {qx.event.type.Event} The event object\n     * @param type {String} the event type\n     * @return {Boolean} Whether the event dispatcher is responsible for the this event\n     */\n    canDispatchEvent : function(target, event, type)\n    {\n      this.assertInstance(event, qx.event.type.Event);\n      this.assertString(type);\n    },\n\n\n    /**\n     * This function dispatches the event to the event listeners.\n     *\n     * @param target {Element|Event} The event dispatch target\n     * @param event {qx.event.type.Event} event object to dispatch\n     * @param type {String} the event type\n     * @return {qx.Promise?} a promise, if one or more of the event handlers returned a promise\n     */\n    dispatchEvent : function(target, event, type)\n    {\n      this.assertInstance(event, qx.event.type.Event);\n      this.assertString(type);\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Dispatches events directly on the event target (no bubbling nor capturing).\n */\nqx.Class.define(\"qx.event.dispatch.Direct\",\n{\n  extend : qx.core.Object,\n  implement : qx.event.IEventDispatcher,\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager) {\n    this._manager = manager;\n  },\n\n\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this dispatcher */\n    PRIORITY : qx.event.Registration.PRIORITY_LAST\n  },\n\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      EVENT DISPATCHER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canDispatchEvent : function(target, event, type) {\n      return !event.getBubbles();\n    },\n\n\n    // interface implementation\n    dispatchEvent : function(target, event, type)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (target instanceof qx.core.Object)\n        {\n          var expectedEventClassName = qx.Class.getEventType(target.constructor, type);\n          var expectedEventClass = qx.Class.getByName(expectedEventClassName);\n          if (!expectedEventClass)\n          {\n            this.error(\n              \"The event type '\" + type + \"' declared in the class '\" +\n              target.constructor + \" is not an available class': \" +\n              expectedEventClassName\n            );\n          }\n          else if (!(event instanceof expectedEventClass))\n          {\n            this.error(\n              \"Expected event type to be instanceof '\" + expectedEventClassName +\n              \"' but found '\" + event.classname + \"'\"\n            );\n          }\n        }\n      }\n\n      event.setEventPhase(qx.event.type.Event.AT_TARGET);\n\n      var tracker = {};\n      var self = this;\n      var listeners = this._manager.getListeners(target, type, false);\n      if (listeners) {\n        listeners.forEach(function(listener) {\n          if (self._manager.isBlacklisted(listener.unique)) {\n            return;\n          }\n          var context = listener.context || target;\n\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            // warn if the context is disposed\n            if (context && context.isDisposed && context.isDisposed() && !context.isDisposing()) {\n              self.warn(\n                \"The context object '\" + context + \"' for the event '\" +\n                type + \"' of '\" + target + \"'is already disposed.\"\n              );\n            }\n          }\n          qx.event.Utils.then(tracker, function() {\n            return listener.handler.call(context, event);\n          });\n        });\n      }\n      \n      return tracker.promise;\n    }\n  },\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addDispatcher(statics);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2016 Zenesis Limited, http://www.zenesis.com\n     BluebirdJS Copyright (c) 2013-2016 Petka Antonov http://bluebirdjs.com/\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n * John Spackman (john.spackman@zenesis.com)\n\n ************************************************************************ */\n\n/**\n * This class adds Promise/A+ support to Qooxdoo, as specified at \n * https://github.com/promises-aplus/promises-spec and using the Bluebird Promise\n * library (http://bluebirdjs.com/) to implement it.  The official Promise/A+ API) \n * is mirrored exactly, and a number of extension methods are added with the BluebirdJS \n * API for inspiration (many/most of the extension functions are taken verbatim).\n * \n * There are two ways to bind a 'this' value to callbacks - the first is to\n * append a context method to methods like then(), and the second is to specify\n * the context as the second parameter to the constructor and all callbacks will\n * be bound to that value.\n * \n * For example:\n * \n * <pre class=\"javascript\">\n *   var promise = new qx.Promise(myAsyncFunction, this);\n *   promise.then(function() {\n *     // 'this' is preserved from the outer scope\n *   });\n *   \n *   // ... is the same as: ...\n *   var promise = new qx.Promise(myAsyncFunction);\n *   promise.then(function() {\n *     // 'this' is preserved from the outer scope\n *   }, this);\n * </pre>\n * \n * If you have an existing qx.Promise and want to bind all callbacks, use the\n * bind() method - but note that it returns a new promise:\n * \n *  <pre class=\"javascript\">\n *    var promise = someMethodThatReturnsAPromise();\n *    var boundPromise = promise.bind(this);\n *    boundPromise.then(function() {\n *      // 'this' is preserved from the outer scope\n *    }, this);\n *  </pre>\n * \n */\n\n/* \n @ignore(process.*)\n @ignore(global.*)\n @ignore(Symbol.*)\n @ignore(chrome.*)\n \n*/ \n\nqx.Class.define(\"qx.Promise\", {\n  extend: qx.core.Object,\n\n  /**\n   * Constructor.\n   * \n   * The promise function is called with two parameters, functions which are to be called\n   * when the promise is fulfilled or rejected respectively.  If you do not provide any\n   * parameters, the promise can be externally resolved or rejected by calling the\n   * <code>resolve()</code> or <code>reject()</code> methods.\n   * \n   * @param fn {Function} the promise function called with <code>(resolve, reject)</code>\n   * @param context {Object?} optional context for all callbacks\n   */\n  construct: function(fn, context) {\n    this.base(arguments);\n    qx.Promise.__initialize();\n    if (fn instanceof qx.Promise.Bluebird) {\n      this.__p = fn;\n    } else if (fn) {\n      if (context !== undefined && context !== null) {\n        fn = fn.bind(context);\n      }\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        var origFn = fn;\n        var self = this;\n        fn = function(resolve, reject) {\n          return origFn(resolve, function(reason) {\n            var args = qx.lang.Array.fromArguments(arguments);\n            if (reason === undefined) {\n              args.shift();\n              args.unshift(qx.Promise.__DEFAULT_ERROR);\n            } else if (reason && !(reason instanceof Error)) {\n              self.error(\"Calling reject with non-error object, createdAt=\" + JSON.stringify(self.$$createdAt || null));\n            }\n            reject.apply(this, args)\n          });\n        };\n      }\n      this.__p = new qx.Promise.Bluebird(fn);\n    } else {\n      this.__p = new qx.Promise.Bluebird(this.__externalPromise.bind(this));\n    }\n    qx.core.Assert.assertTrue(!this.__p.$$qxPromise);\n    this.__p.$$qxPromise = this;\n    if (context !== undefined && context !== null) {\n      this.__p = this.__p.bind(context);\n    }\n  },\n\n  /**\n   * Destructor\n   */\n  destruct: function() {\n    delete this.__p.$$qxPromise;\n    delete this.__p;\n  },\n\n  members: {\n    /** The Promise */\n    __p: null,\n\n    /** Stores data for completing the promise externally */\n    __external: null,\n\n\n\n    /* *********************************************************************************\n     * \n     * Promise API methods\n     * \n     */\n\n    /**\n     * Returns a promise which is determined by the functions <code>onFulfilled</code>\n     * and <code>onRejected</code>.\n     * \n     * @param onFulfilled {Function} called when the Promise is fulfilled. This function \n     *  has one argument, the fulfillment value.\n     * @param onRejected {Function?} called when the Promise is rejected. This function \n     *  has one argument, the rejection reason.\n     * @return {qx.Promise}\n     */\n    then: function(onFulfilled, onRejected) {\n      return this._callMethod('then', arguments);\n    },\n\n    /**\n     * Appends a rejection handler callback to the promise, and returns a new promise \n     * resolving to the return value of the callback if it is called, or to its original \n     * fulfillment value if the promise is instead fulfilled.\n     * \n     * @param onRejected {Function?} called when the Promise is rejected. This function \n     *  has one argument, the rejection reason.\n     * @return {qx.Promise} a qx.Promise is rejected if onRejected throws an error or \n     *  returns a Promise which is itself rejected; otherwise, it is resolved.\n     */\n    \"catch\": function(onRejected) {\n      return this._callMethod('catch', arguments);\n    },\n\n\n\n    /* *********************************************************************************\n     * \n     * Extension Promise methods\n     * \n     */\n\n    /**\n     * Creates a new qx.Promise with the 'this' set to a different context\n     * \n     * @param context {Object} the 'this' context for the new Promise\n     * @return {qx.Promise} the new promise\n     */\n    bind: function(context) {\n      return qx.Promise.__wrap(this.__p.bind(context));\n    },\n\n    /**\n     * Like calling <code>.then</code>, but the fulfillment value must be an array, which is flattened \n     * to the formal parameters of the fulfillment handler.\n     * \n     * For example:\n     * <pre>\n     * qx.Promise.all([\n     *   fs.readFileAsync(\"file1.txt\"),\n     *   fs.readFileAsync(\"file2.txt\")\n     * ]).spread(function(file1text, file2text) {\n     *   if (file1text === file2text) {\n     *     console.log(\"files are equal\");\n     *   }\n     *   else {\n     *     console.log(\"files are not equal\");\n     *   }\n     * });\n     * </pre>\n     * \n     * @param fulfilledHandler {Function} called when the Promises are fulfilled.\n     * @return {qx.Promise}\n     */\n    spread: function(fulfilledHandler) {\n      return this._callMethod('spread', arguments);\n    },\n\n    /**\n     * Appends a handler that will be called regardless of this promise's fate. The handler\n     * is not allowed to modify the value of the promise\n     * \n     * @param handler {Function?} called when the Promise is fulfilled or rejected. This function \n     *  has no arguments, but can return a promise\n     * @return {qx.Promise} a qx.Promise chained from this promise\n     */\n    \"finally\": function(onRejected) {\n      return this._callMethod('finally', arguments);\n    },\n\n    /**\n     * Cancel this promise. Will not do anything if this promise is already settled.\n     */\n    cancel: function() {\n      return this._callMethod('cancel', arguments);\n    },\n\n    /**\n     * Same as {@link qx.Promise.all} except that it iterates over the value of this promise, when\n     * it is fulfilled; for example, if this Promise resolves to an Iterable (eg an Array), \n     * <code>.all</code> will return a Promise that waits for all promises in that Iterable to be \n     * fullfilled.  The Iterable can be a mix of values and Promises\n     * \n     * @return {qx.Promise}\n     */\n    all: function() {\n      return this._callIterableMethod('all', arguments);\n    },\n\n    /**\n     * Same as {@link qx.Promise.race} except that it iterates over the value of this promise, when\n     * it is fulfilled; for example, if this Promise resolves to an Iterable (eg an Array), \n     * <code>.race</code> will return a Promise that waits until the first promise in that Iterable \n     * has been fullfilled.  The Iterable can be a mix of values and Promises\n     * \n     * @return {qx.Promise}\n     */\n    race: function(iterable) {\n      return this._callIterableMethod('race', arguments);\n    },\n\n    /**\n     * Same as {@link qx.Promise.some} except that it iterates over the value of this promise, when\n     * it is fulfilled.  Like <code>some</code>, with 1 as count. However, if the promise fulfills, \n     * the fulfillment value is not an array of 1 but the value directly.\n     * \n     * @return {qx.Promise}\n     */\n    any: function(iterable) {\n      return this._callIterableMethod('any', arguments);\n    },\n\n    /**\n     * Same as {@link qx.Promise.some} except that it iterates over the value of this promise, when\n     * it is fulfilled; return a promise that is fulfilled as soon as count promises are fulfilled \n     * in the array. The fulfillment value is an array with count values in the order they were fulfilled.\n     * \n     * @param iterable {Iterable} An iterable object, such as an Array\n     * @param count {Integer}\n     * @return {qx.Promise}\n     */\n    some: function(iterable, count) {\n      return this._callIterableMethod('some', arguments);\n    },\n\n    /**\n     * Same as {@link qx.Promise.forEach} except that it iterates over the value of this promise, when\n     * it is fulfilled; iterates over the values with the given <code>iterator</code> function with the signature \n     * <code>(value, index, length)</code> where <code>value</code> is the resolved value. Iteration happens \n     * serially. If any promise is rejected the returned promise is rejected as well.\n     * \n     * Resolves to the original array unmodified, this method is meant to be used for side effects. If the iterator \n     * function returns a promise or a thenable, then the result of the promise is awaited, before continuing with \n     * next iteration.\n     * \n     * @param iterable {Iterable} An iterable object, such as an Array\n     * @param iterator {Function} the callback, with <code>(value, index, length)</code>\n     * @return {qx.Promise}\n     */\n    forEach: function(iterable, iterator) {\n      return this._callIterableMethod('each', arguments);\n    },\n\n    /**\n     * Same as {@link qx.Promise.filter} except that it iterates over the value of this promise, when it is fulfilled; \n     * iterates over all the values into an array and filter the array to another using the given filterer function.\n     * \n     * @param iterable {Iterable} An iterable object, such as an Array\n     * @param iterator {Function} the callback, with <code>(value, index, length)</code>\n     * @param options {Object?} options; can be:\n     *  <code>concurrency</code> max nuber of simultaneous filters, default is <code>Infinity</code>\n     * @return {qx.Promise}\n     */\n    filter: function(iterable, iterator, options) {\n      return this._callIterableMethod('filter', arguments);\n    },\n\n    /**\n     * Same as {@link qx.Promise.map} except that it iterates over the value of this promise, when it is fulfilled; \n     * iterates over all the values into an array and map the array to another using the given mapper function.\n     * \n     * Promises returned by the mapper function are awaited for and the returned promise doesn't fulfill \n     * until all mapped promises have fulfilled as well. If any promise in the array is rejected, or \n     * any promise returned by the mapper function is rejected, the returned promise is rejected as well.\n     * \n     * The mapper function for a given item is called as soon as possible, that is, when the promise \n     * for that item's index in the input array is fulfilled. This doesn't mean that the result array \n     * has items in random order, it means that .map can be used for concurrency coordination unlike \n     * .all.\n     * \n     * @param iterable {Iterable} An iterable object, such as an Array\n     * @param iterator {Function} the callback, with <code>(value, index, length)</code>\n     * @param options {Object?} options; can be:\n     *  <code>concurrency</code> max nuber of simultaneous filters, default is <code>Infinity</code>\n     * @return {qx.Promise}\n     */\n    map: function(iterable, iterator, options) {\n      return this._callIterableMethod('map', arguments);\n    },\n\n    /**\n     * Same as {@link qx.Promise.mapSeries} except that it iterates over the value of this promise, when\n     * it is fulfilled; iterates over all the values into an array and iterate over the array serially, \n     * in-order.\n     * \n     * Returns a promise for an array that contains the values returned by the iterator function in their \n     * respective positions. The iterator won't be called for an item until its previous item, and the \n     * promise returned by the iterator for that item are fulfilled. This results in a mapSeries kind of \n     * utility but it can also be used simply as a side effect iterator similar to Array#forEach.\n     * \n     * If any promise in the input array is rejected or any promise returned by the iterator function is \n     * rejected, the result will be rejected as well.\n     * \n     * @param iterable {Iterable} An iterable object, such as an Array\n     * @param iterator {Function} the callback, with <code>(value, index, length)</code>\n     * @return {qx.Promise}\n     */\n    mapSeries: function(iterable, iterator) {\n      return this._callIterableMethod('mapSeries', arguments);\n    },\n\n    /**\n     * Same as {@link qx.Promise.reduce} except that it iterates over the value of this promise, when\n     * it is fulfilled; iterates over all the values in the <code>Iterable</code> into an array and \n     * reduce the array to a value using the given reducer function.\n     * \n     * If the reducer function returns a promise, then the result of the promise is awaited, before \n     * continuing with next iteration. If any promise in the array is rejected or a promise returned \n     * by the reducer function is rejected, the result is rejected as well.\n     * \n     * If initialValue is undefined (or a promise that resolves to undefined) and the iterable contains \n     * only 1 item, the callback will not be called and the iterable's single item is returned. If the \n     * iterable is empty, the callback will not be called and initialValue is returned (which may be \n     * undefined).\n     * \n     * qx.Promise.reduce will start calling the reducer as soon as possible, this is why you might want to \n     * use it over qx.Promise.all (which awaits for the entire array before you can call Array#reduce on it).\n     * \n     * @param iterable {Iterable} An iterable object, such as an Array\n     * @param reducer {Function} the callback, with <code>(value, index, length)</code>\n     * @param initialValue {Object?} optional initial value\n     * @return {qx.Promise}\n     */\n    reduce: function(iterable, reducer, initialValue) {\n      return this._callIterableMethod('reduce', arguments);\n    },\n\n    /**\n     * External promise handler\n     */\n    __externalPromise: function(resolve, reject) {\n      this.__external = { resolve: resolve, reject: reject, complete: false };\n    },\n\n    /**\n     * Returns the data stored by __externalPromise, throws an exception once processed\n     */\n    __getPendingExternal: function() {\n      if (!this.__external) {\n        throw new Error(\"Promise cannot be resolved externally\");\n      }\n      if (this.__external.complete) {\n        throw new Error(\"Promise has already been resolved or rejected\");\n      }\n      this.__external.complete = true;\n      return this.__external;\n    },\n\n    /**\n     * Resolves an external promise\n     */\n    resolve: function(value) {\n      this.__getPendingExternal().resolve(value);\n    },\n\n    /**\n     * Rejects an external promise\n     */\n    reject: function(reason) {\n      this.__getPendingExternal().reject(reason);\n    },\n\n\n\n\n\n    /* *********************************************************************************\n     * \n     * Utility methods\n     * \n     */\n\n    /**\n     * Helper method used to call Promise methods which iterate over an array\n     */\n    _callIterableMethod: function(methodName, args) {\n      args = qx.Promise.__bindArgs(args);\n      return qx.Promise.__wrap(this.__p.then(function(value) {\n        var newP = qx.Promise.Bluebird.resolve(value instanceof qx.data.Array ? value.toArray() : value);\n        return qx.Promise.__wrap(newP[methodName].apply(newP, args));\n      }));\n    },\n\n    /**\n     * Helper method used to call a Promise method\n     */\n    _callMethod: function(methodName, args) {\n      args = qx.Promise.__bindArgs(args);\n      return qx.Promise.__wrap(this.__p[methodName].apply(this.__p, args));\n    },\n\n    /**\n     * Returns the actual Promise implementation.\n     * \n     * Note that Bluebird is the current implementation, and may change without \n     * notice in the future; if you use this API you accept that this is a private \n     * implementation detail exposed for debugging or diagnosis purposes only.  For\n     * this reason, the toPromise() method is listed as deprecated starting from the\n     * first release  \n     * @deprecated {6.0} this API method is subject to change\n     */\n    toPromise: function() {\n      return this.__p;\n    }\n  },\n\n  statics: {\n\n    /** Bluebird Promise library; always available */\n    Bluebird: null,\n\n    /** Native Promise library; only available if the browser supports it */\n    Native: null,\n\n    /** Promise library, either the Native one or a Polyfill; reliable choice for native Promises */\n    Promise: null,\n    \n    /** This is used to suppress warnings about rejections without an Error object, only used if\n     * the reason is undefined\n     */\n    __DEFAULT_ERROR: new Error(\"Default Error\"),\n\n\n    /* *********************************************************************************\n     * \n     * Promise API methods\n     * \n     */\n\n    /**\n     * Returns a Promise object that is resolved with the given value. If the value is a thenable (i.e. \n     * has a then method), the returned promise will \"follow\" that thenable, adopting its eventual \n     * state; otherwise the returned promise will be fulfilled with the value. Generally, if you \n     * don't know if a value is a promise or not, Promise.resolve(value) it instead and work with \n     * the return value as a promise.\n     * \n     * @param value {Object}\n     * @param context {Object?} optional context for callbacks to be bound to\n     * @return {qx.Promise}\n     */\n    resolve: function(value, context) {\n      var promise;\n      if (value instanceof qx.Promise) {\n        promise = value;\n      } else {\n        promise = qx.Promise.__wrap(qx.Promise.Bluebird.resolve(value));\n      }\n      if (context !== undefined) {\n        promise = promise.bind(context);\n      }\n      return promise;\n    },\n\n    /**\n     * Returns a Promise object that is rejected with the given reason.\n     * @param reason {Object?} Reason why this Promise rejected. A warning is generated if not instanceof Error. If undefined, a default Error is used.\n     * @param context {Object?} optional context for callbacks to be bound to\n     * @return {qx.Promise}\n     */\n    reject: function(reason, context) {\n      var args = qx.lang.Array.fromArguments(arguments);\n      if (reason === undefined) {\n        args.shift();\n        args.unshift(qx.Promise.__DEFAULT_ERROR);\n      } else if (!(reason instanceof Error)) {\n        qx.log.Logger.warn(\"Rejecting a promise with a non-Error value\");\n      }\n      var promise = qx.Promise.__callStaticMethod('reject', args, 0);\n      if (context !== undefined) {\n        promise = promise.bind(context);\n      }\n      return promise;\n    },\n\n    /**\n     * Returns a promise that resolves when all of the promises in the object properties have resolved, \n     * or rejects with the reason of the first passed promise that rejects.  The result of each property\n     * is placed back in the object, replacing the promise.  Note that non-promise values are untouched.\n     * \n     * @param value {var} An object\n     * @return {qx.Promise}\n     */\n    allOf: function(value) {\n      function action(value) {\n        var arr = [];\n        var names = [];\n        for (var name in value) {\n          if (value.hasOwnProperty(name) && value[name] instanceof qx.Promise) {\n            arr.push(value[name]);\n            names.push(name);\n          }\n        }\n        return qx.Promise.all(arr)\n          .then(function(arr) {\n            arr.forEach(function(item, index) { \n              value[names[index]] = item; \n            });\n            return value;\n          });\n      }\n      return value instanceof qx.Promise ? value.then(action) : action(value);\n    },\n    \n    /**\n     * Returns a promise that resolves when all of the promises in the iterable argument have resolved, \n     * or rejects with the reason of the first passed promise that rejects.  Note that non-promise values \n     * are untouched.\n     * \n     * @param iterable {Iterable} An iterable object, such as an Array\n     * @return {qx.Promise}\n     */\n    all: function(iterable) {\n      return qx.Promise.__callStaticMethod('all', arguments);\n    },\n\n    /**\n     * Returns a promise that resolves or rejects as soon as one of the promises in the iterable resolves \n     * or rejects, with the value or reason from that promise.\n     * @param iterable {Iterable} An iterable object, such as an Array\n     * @return {qx.Promise}\n     */\n    race: function(iterable) {\n      return qx.Promise.__callStaticMethod('race', arguments);\n    },\n\n\n\n    /* *********************************************************************************\n     * \n     * Extension API methods\n     * \n     */\n\n    /**\n     * Like Promise.some, with 1 as count. However, if the promise fulfills, the fulfillment value is not an \n     * array of 1 but the value directly.\n     * \n     * @param iterable {Iterable} An iterable object, such as an Array\n     * @return {qx.Promise}\n     */\n    any: function(iterable) {\n      return qx.Promise.__callStaticMethod('any', arguments);\n    },\n\n    /**\n     * Given an Iterable (arrays are Iterable), or a promise of an Iterable, which produces promises (or a mix \n     * of promises and values), iterate over all the values in the Iterable into an array and return a promise \n     * that is fulfilled as soon as count promises are fulfilled in the array. The fulfillment value is an \n     * array with count values in the order they were fulfilled.\n     * \n     * @param iterable {Iterable} An iterable object, such as an Array\n     * @param count {Integer}\n     * @return {qx.Promise}\n     */\n    some: function(iterable, count) {\n      return qx.Promise.__callStaticMethod('some', arguments);\n    },\n\n    /**\n     * Iterate over an array, or a promise of an array, which contains promises (or a mix of promises and values) \n     * with the given <code>iterator</code> function with the signature <code>(value, index, length)</code> where \n     * <code>value</code> is the resolved value of a respective promise in the input array. Iteration happens \n     * serially. If any promise in the input array is rejected the returned promise is rejected as well.\n     * \n     * Resolves to the original array unmodified, this method is meant to be used for side effects. If the iterator \n     * function returns a promise or a thenable, then the result of the promise is awaited, before continuing with \n     * next iteration.\n     * \n     * @param iterable {Iterable} An iterable object, such as an Array\n     * @param iterator {Function} the callback, with <code>(value, index, length)</code>\n     * @return {qx.Promise}\n     */\n    forEach: function(iterable, iterator) {\n      return qx.Promise.__callStaticMethod('each', arguments);\n    },\n\n    /**\n     * Given an Iterable(arrays are Iterable), or a promise of an Iterable, which produces promises (or a mix of \n     * promises and values), iterate over all the values in the Iterable into an array and filter the array to \n     * another using the given filterer function.\n     * \n     * It is essentially an efficient shortcut for doing a .map and then Array#filter:\n     * <pre>\n     *   qx.Promise.map(valuesToBeFiltered, function(value, index, length) {\n     *       return Promise.all([filterer(value, index, length), value]);\n     *   }).then(function(values) {\n     *       return values.filter(function(stuff) {\n     *           return stuff[0] == true\n     *       }).map(function(stuff) {\n     *           return stuff[1];\n     *       });\n     *   });\n     * </pre>\n     * \n     * @param iterable {Iterable} An iterable object, such as an Array\n     * @param iterator {Function} the callback, with <code>(value, index, length)</code>\n     * @param options {Object?} options; can be:\n     *  <code>concurrency</code> max nuber of simultaneous filters, default is <code>Infinity</code>\n     * @return {qx.Promise}\n     */\n    filter: function(iterable, iterator, options) {\n      return qx.Promise.__callStaticMethod('filter', arguments);\n    },\n\n    /**\n     * Given an <code>Iterable</code> (arrays are <code>Iterable</code>), or a promise of an \n     * <code>Iterable</code>, which produces promises (or a mix of promises and values), iterate over \n     * all the values in the <code>Iterable</code> into an array and map the array to another using \n     * the given mapper function.\n     * \n     * Promises returned by the mapper function are awaited for and the returned promise doesn't fulfill \n     * until all mapped promises have fulfilled as well. If any promise in the array is rejected, or \n     * any promise returned by the mapper function is rejected, the returned promise is rejected as well.\n     * \n     * The mapper function for a given item is called as soon as possible, that is, when the promise \n     * for that item's index in the input array is fulfilled. This doesn't mean that the result array \n     * has items in random order, it means that .map can be used for concurrency coordination unlike \n     * .all.\n     * \n     * A common use of Promise.map is to replace the .push+Promise.all boilerplate:\n     * \n     * <pre>\n     *   var promises = [];\n     *   for (var i = 0; i < fileNames.length; ++i) {\n     *       promises.push(fs.readFileAsync(fileNames[i]));\n     *   }\n     *   qx.Promise.all(promises).then(function() {\n     *       console.log(\"done\");\n     *   });\n     *   \n     *   // Using Promise.map:\n     *   qx.Promise.map(fileNames, function(fileName) {\n     *       // Promise.map awaits for returned promises as well.\n     *       return fs.readFileAsync(fileName);\n     *   }).then(function() {\n     *       console.log(\"done\");\n     *   });\n     * </pre>\n     * \n     * @param iterable {Iterable} An iterable object, such as an Array\n     * @param iterator {Function} the callback, with <code>(value, index, length)</code>\n     * @param options {Object?} options; can be:\n     *  <code>concurrency</code> max nuber of simultaneous filters, default is <code>Infinity</code>\n     * @return {qx.Promise}\n     */\n    map: function(iterable, iterator, options) {\n      return qx.Promise.__callStaticMethod('map', arguments);\n    },\n\n    /**\n     * Given an <code>Iterable</code>(arrays are <code>Iterable</code>), or a promise of an \n     * <code>Iterable</code>, which produces promises (or a mix of promises and values), iterate over \n     * all the values in the <code>Iterable</code> into an array and iterate over the array serially, \n     * in-order.\n     * \n     * Returns a promise for an array that contains the values returned by the iterator function in their \n     * respective positions. The iterator won't be called for an item until its previous item, and the \n     * promise returned by the iterator for that item are fulfilled. This results in a mapSeries kind of \n     * utility but it can also be used simply as a side effect iterator similar to Array#forEach.\n     * \n     * If any promise in the input array is rejected or any promise returned by the iterator function is \n     * rejected, the result will be rejected as well.\n     * \n     * Example where .mapSeries(the instance method) is used for iterating with side effects:\n     * \n     * <pre>\n     * // Source: http://jakearchibald.com/2014/es7-async-functions/\n     * function loadStory() {\n     *   return getJSON('story.json')\n     *     .then(function(story) {\n     *       addHtmlToPage(story.heading);\n     *       return story.chapterURLs.map(getJSON);\n     *     })\n     *     .mapSeries(function(chapter) { addHtmlToPage(chapter.html); })\n     *     .then(function() { addTextToPage(\"All done\"); })\n     *     .catch(function(err) { addTextToPage(\"Argh, broken: \" + err.message); })\n     *     .then(function() { document.querySelector('.spinner').style.display = 'none'; });\n     * }\n     * </pre>\n     * \n     * @param iterable {Iterable} An iterable object, such as an Array\n     * @param iterator {Function} the callback, with <code>(value, index, length)</code>\n     * @return {qx.Promise}\n     */\n    mapSeries: function(iterable, iterator) {\n      return qx.Promise.__callStaticMethod('mapSeries', arguments);\n    },\n\n    /**\n     * Given an <code>Iterable</code> (arrays are <code>Iterable</code>), or a promise of an \n     * <code>Iterable</code>, which produces promises (or a mix of promises and values), iterate \n     * over all the values in the <code>Iterable</code> into an array and reduce the array to a \n     * value using the given reducer function.\n     * \n     * If the reducer function returns a promise, then the result of the promise is awaited, before \n     * continuing with next iteration. If any promise in the array is rejected or a promise returned \n     * by the reducer function is rejected, the result is rejected as well.\n     * \n     * Read given files sequentially while summing their contents as an integer. Each file contains \n     * just the text 10.\n     * \n     * <pre>\n     *   qx.Promise.reduce([\"file1.txt\", \"file2.txt\", \"file3.txt\"], function(total, fileName) {\n     *       return fs.readFileAsync(fileName, \"utf8\").then(function(contents) {\n     *           return total + parseInt(contents, 10);\n     *       });\n     *   }, 0).then(function(total) {\n     *       //Total is 30\n     *   });\n     * </pre>\n     * \n     * If initialValue is undefined (or a promise that resolves to undefined) and the iterable contains \n     * only 1 item, the callback will not be called and the iterable's single item is returned. If the \n     * iterable is empty, the callback will not be called and initialValue is returned (which may be \n     * undefined).\n     * \n     * Promise.reduce will start calling the reducer as soon as possible, this is why you might want to \n     * use it over Promise.all (which awaits for the entire array before you can call Array#reduce on it).\n     * \n     * @param iterable {Iterable} An iterable object, such as an Array\n     * @param reducer {Function} the callback, with <code>(value, index, length)</code>\n     * @param initialValue {Object?} optional initial value\n     * @return {qx.Promise}\n     */\n    reduce: function(iterable, reducer, initialValue) {\n      return qx.Promise.__callStaticMethod('reduce', arguments);\n    },\n\n    /**\n     * Returns a new function that wraps the given function fn. The new function will always return a promise that is \n     * fulfilled with the original functions return values or rejected with thrown exceptions from the original function.\n     * @param cb {Function}\n     * @return {Function}\n     */\n    method: function(cb) {\n      var wrappedCb = qx.Promise.Bluebird.method(cb);\n      return function() {\n        return qx.Promise.__wrap(wrappedCb.apply(this, arguments));\n      };\n    },\n\n    /**\n     * Like .all but for object properties or Maps* entries instead of iterated values. Returns a promise that \n     * is fulfilled when all the properties of the object or the Map's' values** are fulfilled. The promise's \n     * fulfillment value is an object or a Map with fulfillment values at respective keys to the original object \n     * or a Map. If any promise in the object or Map rejects, the returned promise is rejected with the rejection \n     * reason.\n     * \n     * If object is a trusted Promise, then it will be treated as a promise for object rather than for its \n     * properties. All other objects (except Maps) are treated for their properties as is returned by \n     * Object.keys - the object's own enumerable properties.\n     * \n     * @param input {Object} An Object\n     * @return {qx.Promise}\n     */\n    props: function(input) {\n      return qx.Promise.__callStaticMethod('props', arguments);\n    },\n\n\n    /**\n     * Returns a new function that wraps a function that is in node.js\n     * style. The resulting function returns a promise instead of taking a\n     * callback function as an argument. The promise is resolved or rejected\n     * by the action of the callback function. The provided function must\n     * accept a callback as its last argument, and that callback function must\n     * expect its first argument to be an error if non-null. If the first\n     * argument is null, the second argument (optional) will be the success\n     * value.\n     *\n     * Example:\n     *\n     * Assume there is a member method in myApp.Application such as the\n     * following:\n     * <pre><code>\n     *   issueRpc : function(method, params, callback)\n     *   {\n     *     ...\n     *   }\n     * </code></pre>\n     *\n     * where the signature of <code>callback</code> is:\n     * <pre><code>\n     *   function callback(e, result)\n     * </code></pre>\n     *\n     * The <code>issueRpc</code>method could be converted to be called using\n     * promises instead of callbacks, as shown here:\n     * <pre><code>\n     *   var app = qx.core.Init.getApplication();\n     *   var rpc = qx.Promise.promisify(app.issueRpc, { context : app });\n     *   rpc(\"ping\", [ \"hello world\" ])\n     *     .then(\n     *       function(pongValue)\n     *       {\n     *         // handle result\n     *       })\n     *     .catch(\n     *       function(e)\n     *       {\n     *         throw e;\n     *       });\n     * </code></pre>\n     *\n     * @param f {Function} The node.js-style function to be promisified\n     *\n     * @param options {Map?}\n     *   The sole user option in this map is <code>context</code>, which may\n     *   be specified to arrange for the provided callback function to be\n     *   called in the specified context.\n     *   \n     * @return {qx.Promise}\n     */\n    promisify : function(f, options) {\n      return qx.Promise.__callStaticMethod('promisify', arguments);\n    },\n    \n    \n\n    /* *********************************************************************************\n     * \n     * Internal API methods\n     * \n     */\n\n    /**\n     * Called when the Bluebird Promise class is loaded\n     * @param Promise {Class} the Promise class\n     */\n    __attachBluebird: function(Promise) {\n      qx.Promise.Bluebird = Promise;\n      Promise.config({\n        warnings: qx.core.Environment.get(\"qx.promise.warnings\"),\n        longStackTraces: qx.core.Environment.get(\"qx.promise.longStackTraces\"),\n        cancellation: true\n      });\n    },\n\n    /** Whether one-time initialisaton has happened */\n    __initialized: false,\n\n    /**\n     * One-time initializer\n     */\n    __initialize: function() {\n      if (qx.Promise.__initialized) {\n        return;\n      }\n      qx.Promise.__initialized = true;\n      qx.bom.Event.addNativeListener(window, \"unhandledrejection\", qx.Promise.__onUnhandledRejection.bind(this));\n      if (!qx.core.Environment.get(\"qx.promise\")) {\n        qx.log.Logger.error(this, \"Promises are installed and initialised but disabled from properties because qx.promise==false; this may cause unexpected behaviour\");\n      }\n    },\n\n    /**\n     * Handles unhandled errors and passes them through to Qooxdoo's global error handler\n     * @param e {NativeEvent}\n     */\n    __onUnhandledRejection: function(e) {\n      e.preventDefault();\n      var reason = null;\n      if (e instanceof Error) {\n        reason = e;\n      } else if (e.reason instanceof Error) {\n        reason = e.reason;\n      } else if (e.detail && e.detail.reason instanceof Error) {\n        reason = e.detail.reason;\n      }\n      qx.log.Logger.error(this, \"Unhandled promise rejection: \" + (reason ? reason.stack : \"(not from exception)\"));\n      qx.event.GlobalError.handleError(reason);\n    },\n\n    /**\n     * Wraps values, converting Promise into qx.Promise\n     * @param value {Object}\n     * @return {Object}\n     */\n    __wrap: function(value) {\n      if (value instanceof qx.Promise.Bluebird) {\n        if (value.$$qxPromise) {\n          value = value.$$qxPromise;\n        } else {\n          value = new qx.Promise(value);\n        }\n      }\n      return value;\n    },\n\n    /**\n     * Binds all functions in the array to the context at the end of the array;\n     * the last value must be a qx.core.Object to distinguish itself from configuration\n     * objects passed to some methods.\n     * @param args {arguments}\n     * @param minArgs {Integer?} minimum number of arguments expected for the method call;\n     * \tthis is used to determine whether the last value is for binding (default is 1)\n     * @return {Array} array of new arguments with functions bound as necessary\n     */\n    __bindArgs: function(args, minArgs) {\n      args = qx.lang.Array.fromArguments(args);\n      if (minArgs === undefined) {\n        minArgs = 1;\n      }\n      if (args.length > minArgs) {\n        var context = args[args.length - 1];\n        if (context instanceof qx.core.Object || qx.Class.isClass(context)) {\n          args.pop();\n          for (var i = 0; i < args.length; i++) {\n            if (typeof args[i] == \"function\") {\n              args[i] = args[i].bind(context);\n            }\n          }\n        }\n      }\n      return args;\n    },\n\n    /**\n     * Helper method used to call a Bluebird Promise method\n     * @param methodName {String} method name to call\n     * @param args {Array} arguments to pass\n     * @param minArgs {Integer?} {@see __bindArgs}\n     * @return {Object?}\n     */\n    __callStaticMethod: function(methodName, args, minArgs) {\n      args = qx.Promise.__bindArgs(args, minArgs);\n      return qx.Promise.__wrap(qx.Promise.Bluebird[methodName].apply(qx.Promise.Bluebird, qx.Promise.__mapArgs(args)));\n    },\n\n    /**\n     * Maps all arguments ready for passing to a Bluebird function; qx.data.Array are\n     * translated to native arrays and qx.Promise to Promise.  This is not recursive.\n     */\n    __mapArgs: function(args) {\n      var dest = [];\n      args.forEach(function(arg) {\n        if (arg instanceof qx.data.Array) {\n          dest.push(arg.toArray());\n\n        } else if (arg instanceof qx.Promise) {\n          dest.push(arg.toPromise());\n\n        } else {\n          dest.push(arg);\n        }\n      });\n      return dest;\n    }    \n  },\n\n  defer: function(statics, members) {\n    statics.Promise = statics.Native = window.Promise;\n    var debug = qx.core.Environment.get(\"qx.debug\");\n    qx.core.Environment.add(\"qx.promise.warnings\", debug);\n    qx.core.Environment.add(\"qx.promise.longStackTraces\", false);\n  }\n});\n\n/**\n * @lint ignoreUnused(exports)\n * @lint ignoreUnused(module)\n * @lint ignoreUnused(define)\n * @lint ignoreUnused(CapturedTrace)\n * @lint ignoreUnused(bitField)\n * @lint ignoreUnused(isArray)\n * @lint ignoreDeprecated(eval)\n * @lint ignoreNoLoopBlock()\n * @ignore(Map)\n * @ignore(MutationObserver)\n * @ignore(Symbol)\n * @ignore(Symbol.iterator)\n * @ignore(_dereq_)\n * @ignore(chrome)\n * @ignore(chrome.loadTimes)\n * @ignore(CustomEvent)\n * @ignore(define)\n * @ignore(define.amd)\n * @ignore(enumeration)\n * @ignore(Event)\n * @ignore(exports)\n * @ignore(global)\n * @ignore(global.setImmediate)\n * @ignore(module)\n * @ignore(module.exports)\n * @ignore(MutationObserver)\n * @ignore(obj)\n * @ignore(obj.toPromise)\n * @ignore(predicateLoop)\n * @ignore(process)\n * @ignore(process.domain)\n * @ignore(process.emit.apply)\n * @ignore(process.env)\n * @ignore(process.exit)\n * @ignore(process.nextTick)\n * @ignore(process.stderr.isTTY)\n * @ignore(process.stderr.write)\n * @ignore(process.versions.node.split)\n * @ignore(promise)\n * @ignore(Promise)\n * @ignore(self) \n * @ignore(setImmediate)\n */\n(function() {\n  /* @preserve\n   * The MIT License (MIT)\n   * \n   * Copyright (c) 2013-2015 Petka Antonov\n   * \n   * Permission is hereby granted, free of charge, to any person obtaining a copy\n   * of this software and associated documentation files (the \"Software\"), to deal\n   * in the Software without restriction, including without limitation the rights\n   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n   * copies of the Software, and to permit persons to whom the Software is\n   * furnished to do so, subject to the following conditions:\n   * \n   * The above copyright notice and this permission notice shall be included in\n   * all copies or substantial portions of the Software.\n   * \n   * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\n   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n   * THE SOFTWARE.\n   * \n   */\n  /**\n   * bluebird build version 3.4.5\n   * Features enabled: core, race, call_get, generators, map, nodeify, promisify, props, reduce, settle, some, using, timers, filter, any, each\n   */\n  !function(e){\n    qx.Promise.__attachBluebird(e());\n  }\n  (function(){\n    var define,module,exports;\n    return (function e(t,n,r){\n      function s(o,u){\n        if(!n[o]){\n          if(!t[o]){\n            var a=typeof _dereq_==\"function\"&&_dereq_;\n            if(!u&&a)\n              return a(o,!0);\n            if(i)\n              return i(o,!0);\n            var f=new Error(\"Cannot find module '\"+o+\"'\");\n            throw f.code=\"MODULE_NOT_FOUND\",f\n          }\n          var l=n[o]={exports:{}};\n          t[o][0].call(l.exports, function(e){\n            var n=t[o][1][e];\n            return s(n?n:e)\n          },l,l.exports,e,t,n,r)\n        }\n        return n[o].exports\n      }\n      var i=typeof _dereq_==\"function\"&&_dereq_;\n      for(var o=0;o<r.length;o++)\n        s(r[o]);\n      return s\n    })({\n      1:[\n        function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function(Promise) {\n            var SomePromiseArray = Promise._SomePromiseArray;\n            function any(promises) {\n              var ret = new SomePromiseArray(promises);\n              var promise = ret.promise();\n              ret.setHowMany(1);\n              ret.setUnwrap();\n              ret.init();\n              return promise;\n            }\n\n            Promise.any = function (promises) {\n              return any(promises);\n            };\n\n            Promise.prototype.any = function () {\n              return any(this);\n            };\n\n          };\n\n        },{}],2:[function(_dereq_,module,exports){\n          \"use strict\";\n          var firstLineError;\n          try {throw new Error(); } catch (e) {firstLineError = e;}\n          var schedule = _dereq_(\"./schedule\");\n          var Queue = _dereq_(\"./queue\");\n          var util = _dereq_(\"./util\");\n\n          function Async() {\n            this._customScheduler = false;\n            this._isTickUsed = false;\n            this._lateQueue = new Queue(16);\n            this._normalQueue = new Queue(16);\n            this._haveDrainedQueues = false;\n            this._trampolineEnabled = true;\n            var self = this;\n            this.drainQueues = function () {\n              self._drainQueues();\n            };\n            this._schedule = schedule;\n          }\n\n          Async.prototype.setScheduler = function(fn) {\n            var prev = this._schedule;\n            this._schedule = fn;\n            this._customScheduler = true;\n            return prev;\n          };\n\n          Async.prototype.hasCustomScheduler = function() {\n            return this._customScheduler;\n          };\n\n          Async.prototype.enableTrampoline = function() {\n            this._trampolineEnabled = true;\n          };\n\n          Async.prototype.disableTrampolineIfNecessary = function() {\n            if (util.hasDevTools) {\n              this._trampolineEnabled = false;\n            }\n          };\n\n          Async.prototype.haveItemsQueued = function () {\n            return this._isTickUsed || this._haveDrainedQueues;\n          };\n\n\n          Async.prototype.fatalError = function(e, isNode) {\n            if (isNode) {\n              process.stderr.write(\"Fatal \" + (e instanceof Error ? e.stack : e) +\n              \"\\n\");\n              process.exit(2);\n            } else {\n              this.throwLater(e);\n            }\n          };\n\n          Async.prototype.throwLater = function(fn, arg) {\n            if (arguments.length === 1) {\n              arg = fn;\n              fn = function () { throw arg; };\n            }\n            if (typeof setTimeout !== \"undefined\") {\n              setTimeout(function() {\n                fn(arg);\n              }, 0);\n            } else try {\n              this._schedule(function() {\n                fn(arg);\n              });\n            } catch (e) {\n              throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n            }\n          };\n\n          function AsyncInvokeLater(fn, receiver, arg) {\n            this._lateQueue.push(fn, receiver, arg);\n            this._queueTick();\n          }\n\n          function AsyncInvoke(fn, receiver, arg) {\n            this._normalQueue.push(fn, receiver, arg);\n            this._queueTick();\n          }\n\n          function AsyncSettlePromises(promise) {\n            this._normalQueue._pushOne(promise);\n            this._queueTick();\n          }\n\n          if (!util.hasDevTools) {\n            Async.prototype.invokeLater = AsyncInvokeLater;\n            Async.prototype.invoke = AsyncInvoke;\n            Async.prototype.settlePromises = AsyncSettlePromises;\n          } else {\n            Async.prototype.invokeLater = function (fn, receiver, arg) {\n              if (this._trampolineEnabled) {\n                AsyncInvokeLater.call(this, fn, receiver, arg);\n              } else {\n                this._schedule(function() {\n                  setTimeout(function() {\n                    fn.call(receiver, arg);\n                  }, 100);\n                });\n              }\n            };\n\n            Async.prototype.invoke = function (fn, receiver, arg) {\n              if (this._trampolineEnabled) {\n                AsyncInvoke.call(this, fn, receiver, arg);\n              } else {\n                this._schedule(function() {\n                  fn.call(receiver, arg);\n                });\n              }\n            };\n\n            Async.prototype.settlePromises = function(promise) {\n              if (this._trampolineEnabled) {\n                AsyncSettlePromises.call(this, promise);\n              } else {\n                this._schedule(function() {\n                  promise._settlePromises();\n                });\n              }\n            };\n          }\n\n          Async.prototype.invokeFirst = function (fn, receiver, arg) {\n            this._normalQueue.unshift(fn, receiver, arg);\n            this._queueTick();\n          };\n\n          Async.prototype._drainQueue = function(queue) {\n            while (queue.length() > 0) {\n              var fn = queue.shift();\n              if (typeof fn !== \"function\") {\n                fn._settlePromises();\n                continue;\n              }\n              var receiver = queue.shift();\n              var arg = queue.shift();\n              fn.call(receiver, arg);\n            }\n          };\n\n          Async.prototype._drainQueues = function () {\n            this._drainQueue(this._normalQueue);\n            this._reset();\n            this._haveDrainedQueues = true;\n            this._drainQueue(this._lateQueue);\n          };\n\n          Async.prototype._queueTick = function () {\n            if (!this._isTickUsed) {\n              this._isTickUsed = true;\n              this._schedule(this.drainQueues);\n            }\n          };\n\n          Async.prototype._reset = function () {\n            this._isTickUsed = false;\n          };\n\n          module.exports = Async;\n          module.exports.firstLineError = firstLineError;\n\n        },{\"./queue\":26,\"./schedule\":29,\"./util\":36}],3:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function(Promise, INTERNAL, tryConvertToPromise, debug) {\n            var calledBind = false;\n            var rejectThis = function(_, e) {\n              this._reject(e);\n            };\n\n            var targetRejected = function(e, context) {\n              context.promiseRejectionQueued = true;\n              context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n            };\n\n            var bindingResolved = function(thisArg, context) {\n              if (((this._bitField & 50397184) === 0)) {\n                this._resolveCallback(context.target);\n              }\n            };\n\n            var bindingRejected = function(e, context) {\n              if (!context.promiseRejectionQueued) this._reject(e);\n            };\n\n            Promise.prototype.bind = function (thisArg) {\n              if (!calledBind) {\n                calledBind = true;\n                Promise.prototype._propagateFrom = debug.propagateFromFunction();\n                Promise.prototype._boundValue = debug.boundValueFunction();\n              }\n              var maybePromise = tryConvertToPromise(thisArg);\n              var ret = new Promise(INTERNAL);\n              ret._propagateFrom(this, 1);\n              var target = this._target();\n              ret._setBoundTo(maybePromise);\n              if (maybePromise instanceof Promise) {\n                var context = {\n                    promiseRejectionQueued: false,\n                    promise: ret,\n                    target: target,\n                    bindingPromise: maybePromise\n                };\n                target._then(INTERNAL, targetRejected, undefined, ret, context);\n                maybePromise._then(\n                    bindingResolved, bindingRejected, undefined, ret, context);\n                ret._setOnCancel(maybePromise);\n              } else {\n                ret._resolveCallback(target);\n              }\n              return ret;\n            };\n\n            Promise.prototype._setBoundTo = function (obj) {\n              if (obj !== undefined) {\n                this._bitField = this._bitField | 2097152;\n                this._boundTo = obj;\n              } else {\n                this._bitField = this._bitField & (~2097152);\n              }\n            };\n\n            Promise.prototype._isBound = function () {\n              return (this._bitField & 2097152) === 2097152;\n            };\n\n            Promise.bind = function (thisArg, value) {\n              return Promise.resolve(value).bind(thisArg);\n            };\n          };\n\n        },{}],4:[function(_dereq_,module,exports){\n          \"use strict\";\n          var old;\n          if (typeof Promise !== \"undefined\") old = Promise;\n          function noConflict() {\n            try { if (Promise === bluebird) Promise = old; }\n            catch (e) {}\n            return bluebird;\n          }\n          var bluebird = _dereq_(\"./promise\")();\n          bluebird.noConflict = noConflict;\n          module.exports = bluebird;\n\n        },{\"./promise\":22}],5:[function(_dereq_,module,exports){\n          \"use strict\";\n          var cr = Object.create;\n          if (cr) {\n            var callerCache = cr(null);\n            var getterCache = cr(null);\n            callerCache[\" size\"] = getterCache[\" size\"] = 0;\n          }\n\n          module.exports = function(Promise) {\n            var util = _dereq_(\"./util\");\n            var canEvaluate = util.canEvaluate;\n            var isIdentifier = util.isIdentifier;\n\n            var getMethodCaller;\n            var getGetter;\n            if (!true) {\n              var makeMethodCaller = function (methodName) {\n                return new Function(\"ensureMethod\", \"                                    \\n\\\n                    return function(obj) {                                               \\n\\\n                    'use strict'                                                     \\n\\\n                    var len = this.length;                                           \\n\\\n                    ensureMethod(obj, 'methodName');                                 \\n\\\n                    switch(len) {                                                    \\n\\\n                    case 1: return obj.methodName(this[0]);                      \\n\\\n                    case 2: return obj.methodName(this[0], this[1]);             \\n\\\n                    case 3: return obj.methodName(this[0], this[1], this[2]);    \\n\\\n                    case 0: return obj.methodName();                             \\n\\\n                    default:                                                     \\n\\\n                    return obj.methodName.apply(obj, this);                  \\n\\\n                    }                                                                \\n\\\n                    };                                                                   \\n\\\n                    \".replace(/methodName/g, methodName))(ensureMethod);\n              };\n\n              var makeGetter = function (propertyName) {\n                return new Function(\"obj\", \"                                             \\n\\\n                    'use strict';                                                        \\n\\\n                    return obj.propertyName;                                             \\n\\\n                    \".replace(\"propertyName\", propertyName));\n              };\n\n              var getCompiled = function(name, compiler, cache) {\n                var ret = cache[name];\n                if (typeof ret !== \"function\") {\n                  if (!isIdentifier(name)) {\n                    return null;\n                  }\n                  ret = compiler(name);\n                  cache[name] = ret;\n                  cache[\" size\"]++;\n                  if (cache[\" size\"] > 512) {\n                    var keys = Object.keys(cache);\n                    for (var i = 0; i < 256; ++i) delete cache[keys[i]];\n                    cache[\" size\"] = keys.length - 256;\n                  }\n                }\n                return ret;\n              };\n\n              getMethodCaller = function(name) {\n                return getCompiled(name, makeMethodCaller, callerCache);\n              };\n\n              getGetter = function(name) {\n                return getCompiled(name, makeGetter, getterCache);\n              };\n            }\n\n            function ensureMethod(obj, methodName) {\n              var fn;\n              if (obj != null) fn = obj[methodName];\n              if (typeof fn !== \"function\") {\n                var message = \"Object \" + util.classString(obj) + \" has no method '\" +\n                util.toString(methodName) + \"'\";\n                throw new Promise.TypeError(message);\n              }\n              return fn;\n            }\n\n            function caller(obj) {\n              var methodName = this.pop();\n              var fn = ensureMethod(obj, methodName);\n              return fn.apply(obj, this);\n            }\n            Promise.prototype.call = function (methodName) {\n              var args = [].slice.call(arguments, 1);;\n              if (!true) {\n                if (canEvaluate) {\n                  var maybeCaller = getMethodCaller(methodName);\n                  if (maybeCaller !== null) {\n                    return this._then(\n                        maybeCaller, undefined, undefined, args, undefined);\n                  }\n                }\n              }\n              args.push(methodName);\n              return this._then(caller, undefined, undefined, args, undefined);\n            };\n\n            function namedGetter(obj) {\n              return obj[this];\n            }\n            function indexedGetter(obj) {\n              var index = +this;\n              if (index < 0) index = Math.max(0, index + obj.length);\n              return obj[index];\n            }\n            Promise.prototype.get = function (propertyName) {\n              var isIndex = (typeof propertyName === \"number\");\n              var getter;\n              if (!isIndex) {\n                if (canEvaluate) {\n                  var maybeGetter = getGetter(propertyName);\n                  getter = maybeGetter !== null ? maybeGetter : namedGetter;\n                } else {\n                  getter = namedGetter;\n                }\n              } else {\n                getter = indexedGetter;\n              }\n              return this._then(getter, undefined, undefined, propertyName, undefined);\n            };\n          };\n\n        },{\"./util\":36}],6:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function(Promise, PromiseArray, apiRejection, debug) {\n            var util = _dereq_(\"./util\");\n            var tryCatch = util.tryCatch;\n            var errorObj = util.errorObj;\n            var async = Promise._async;\n\n            Promise.prototype[\"break\"] = Promise.prototype.cancel = function() {\n              if (!debug.cancellation()) return this._warn(\"cancellation is disabled\");\n\n              var promise = this;\n              var child = promise;\n              while (promise._isCancellable()) {\n                if (!promise._cancelBy(child)) {\n                  if (child._isFollowing()) {\n                    child._followee().cancel();\n                  } else {\n                    child._cancelBranched();\n                  }\n                  break;\n                }\n\n                var parent = promise._cancellationParent;\n                if (parent == null || !parent._isCancellable()) {\n                  if (promise._isFollowing()) {\n                    promise._followee().cancel();\n                  } else {\n                    promise._cancelBranched();\n                  }\n                  break;\n                } else {\n                  if (promise._isFollowing()) promise._followee().cancel();\n                  promise._setWillBeCancelled();\n                  child = promise;\n                  promise = parent;\n                }\n              }\n            };\n\n            Promise.prototype._branchHasCancelled = function() {\n              this._branchesRemainingToCancel--;\n            };\n\n            Promise.prototype._enoughBranchesHaveCancelled = function() {\n              return this._branchesRemainingToCancel === undefined ||\n              this._branchesRemainingToCancel <= 0;\n            };\n\n            Promise.prototype._cancelBy = function(canceller) {\n              if (canceller === this) {\n                this._branchesRemainingToCancel = 0;\n                this._invokeOnCancel();\n                return true;\n              } else {\n                this._branchHasCancelled();\n                if (this._enoughBranchesHaveCancelled()) {\n                  this._invokeOnCancel();\n                  return true;\n                }\n              }\n              return false;\n            };\n\n            Promise.prototype._cancelBranched = function() {\n              if (this._enoughBranchesHaveCancelled()) {\n                this._cancel();\n              }\n            };\n\n            Promise.prototype._cancel = function() {\n              if (!this._isCancellable()) return;\n              this._setCancelled();\n              async.invoke(this._cancelPromises, this, undefined);\n            };\n\n            Promise.prototype._cancelPromises = function() {\n              if (this._length() > 0) this._settlePromises();\n            };\n\n            Promise.prototype._unsetOnCancel = function() {\n              this._onCancelField = undefined;\n            };\n\n            Promise.prototype._isCancellable = function() {\n              return this.isPending() && !this._isCancelled();\n            };\n\n            Promise.prototype.isCancellable = function() {\n              return this.isPending() && !this.isCancelled();\n            };\n\n            Promise.prototype._doInvokeOnCancel = function(onCancelCallback, internalOnly) {\n              if (util.isArray(onCancelCallback)) {\n                for (var i = 0; i < onCancelCallback.length; ++i) {\n                  this._doInvokeOnCancel(onCancelCallback[i], internalOnly);\n                }\n              } else if (onCancelCallback !== undefined) {\n                if (typeof onCancelCallback === \"function\") {\n                  if (!internalOnly) {\n                    var e = tryCatch(onCancelCallback).call(this._boundValue());\n                    if (e === errorObj) {\n                      this._attachExtraTrace(e.e);\n                      async.throwLater(e.e);\n                    }\n                  }\n                } else {\n                  onCancelCallback._resultCancelled(this);\n                }\n              }\n            };\n\n            Promise.prototype._invokeOnCancel = function() {\n              var onCancelCallback = this._onCancel();\n              this._unsetOnCancel();\n              async.invoke(this._doInvokeOnCancel, this, onCancelCallback);\n            };\n\n            Promise.prototype._invokeInternalOnCancel = function() {\n              if (this._isCancellable()) {\n                this._doInvokeOnCancel(this._onCancel(), true);\n                this._unsetOnCancel();\n              }\n            };\n\n            Promise.prototype._resultCancelled = function() {\n              this.cancel();\n            };\n\n          };\n\n        },{\"./util\":36}],7:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function(NEXT_FILTER) {\n            var util = _dereq_(\"./util\");\n            var getKeys = _dereq_(\"./es5\").keys;\n            var tryCatch = util.tryCatch;\n            var errorObj = util.errorObj;\n\n            function catchFilter(instances, cb, promise) {\n              return function(e) {\n                var boundTo = promise._boundValue();\n                predicateLoop: for (var i = 0; i < instances.length; ++i) {\n                  var item = instances[i];\n\n                  if (item === Error ||\n                      (item != null && item.prototype instanceof Error)) {\n                    if (e instanceof item) {\n                      return tryCatch(cb).call(boundTo, e);\n                    }\n                  } else if (typeof item === \"function\") {\n                    var matchesPredicate = tryCatch(item).call(boundTo, e);\n                    if (matchesPredicate === errorObj) {\n                      return matchesPredicate;\n                    } else if (matchesPredicate) {\n                      return tryCatch(cb).call(boundTo, e);\n                    }\n                  } else if (util.isObject(e)) {\n                    var keys = getKeys(item);\n                    for (var j = 0; j < keys.length; ++j) {\n                      var key = keys[j];\n                      if (item[key] != e[key]) {\n                        continue predicateLoop;\n                      }\n                    }\n                    return tryCatch(cb).call(boundTo, e);\n                  }\n                }\n                return NEXT_FILTER;\n              };\n            }\n\n            return catchFilter;\n          };\n\n        },{\"./es5\":13,\"./util\":36}],8:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function(Promise) {\n            var longStackTraces = false;\n            var contextStack = [];\n\n            Promise.prototype._promiseCreated = function() {};\n            Promise.prototype._pushContext = function() {};\n            Promise.prototype._popContext = function() {return null;};\n            Promise._peekContext = Promise.prototype._peekContext = function() {};\n\n            function Context() {\n              this._trace = new Context.CapturedTrace(peekContext());\n            }\n            Context.prototype._pushContext = function () {\n              if (this._trace !== undefined) {\n                this._trace._promiseCreated = null;\n                contextStack.push(this._trace);\n              }\n            };\n\n            Context.prototype._popContext = function () {\n              if (this._trace !== undefined) {\n                var trace = contextStack.pop();\n                var ret = trace._promiseCreated;\n                trace._promiseCreated = null;\n                return ret;\n              }\n              return null;\n            };\n\n            function createContext() {\n              if (longStackTraces) return new Context();\n            }\n\n            function peekContext() {\n              var lastIndex = contextStack.length - 1;\n              if (lastIndex >= 0) {\n                return contextStack[lastIndex];\n              }\n              return undefined;\n            }\n            Context.CapturedTrace = null;\n            Context.create = createContext;\n            Context.deactivateLongStackTraces = function() {};\n            Context.activateLongStackTraces = function() {\n              var Promise_pushContext = Promise.prototype._pushContext;\n              var Promise_popContext = Promise.prototype._popContext;\n              var Promise_PeekContext = Promise._peekContext;\n              var Promise_peekContext = Promise.prototype._peekContext;\n              var Promise_promiseCreated = Promise.prototype._promiseCreated;\n              Context.deactivateLongStackTraces = function() {\n                Promise.prototype._pushContext = Promise_pushContext;\n                Promise.prototype._popContext = Promise_popContext;\n                Promise._peekContext = Promise_PeekContext;\n                Promise.prototype._peekContext = Promise_peekContext;\n                Promise.prototype._promiseCreated = Promise_promiseCreated;\n                longStackTraces = false;\n              };\n              longStackTraces = true;\n              Promise.prototype._pushContext = Context.prototype._pushContext;\n              Promise.prototype._popContext = Context.prototype._popContext;\n              Promise._peekContext = Promise.prototype._peekContext = peekContext;\n              Promise.prototype._promiseCreated = function() {\n                var ctx = this._peekContext();\n                if (ctx && ctx._promiseCreated == null) ctx._promiseCreated = this;\n              };\n            };\n            return Context;\n          };\n\n        },{}],9:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function(Promise, Context) {\n            var getDomain = Promise._getDomain;\n            var async = Promise._async;\n            var Warning = _dereq_(\"./errors\").Warning;\n            var util = _dereq_(\"./util\");\n            var canAttachTrace = util.canAttachTrace;\n            var unhandledRejectionHandled;\n            var possiblyUnhandledRejection;\n            var bluebirdFramePattern =\n              /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](release|debug|instrumented)/;\n            var nodeFramePattern = /\\((?:timers\\.js):\\d+:\\d+\\)/;\n            var parseLinePattern = /[\\/<\\(](.+?):(\\d+):(\\d+)\\)?\\s*$/;\n            var stackFramePattern = null;\n            var formatStack = null;\n            var indentStackFrames = false;\n            var printWarning;\n            var debugging = !!(util.env(\"BLUEBIRD_DEBUG\") != 0 &&\n                (true ||\n                    util.env(\"BLUEBIRD_DEBUG\") ||\n                    util.env(\"NODE_ENV\") === \"development\"));\n\n            var warnings = !!(util.env(\"BLUEBIRD_WARNINGS\") != 0 &&\n                (debugging || util.env(\"BLUEBIRD_WARNINGS\")));\n\n            var longStackTraces = !!(util.env(\"BLUEBIRD_LONG_STACK_TRACES\") != 0 &&\n                (debugging || util.env(\"BLUEBIRD_LONG_STACK_TRACES\")));\n\n            var wForgottenReturn = util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\") != 0 &&\n            (warnings || !!util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\"));\n\n            Promise.prototype.suppressUnhandledRejections = function() {\n              var target = this._target();\n              target._bitField = ((target._bitField & (~1048576)) |\n                  524288);\n            };\n\n            Promise.prototype._ensurePossibleRejectionHandled = function () {\n              if ((this._bitField & 524288) !== 0) return;\n              this._setRejectionIsUnhandled();\n              async.invokeLater(this._notifyUnhandledRejection, this, undefined);\n            };\n\n            Promise.prototype._notifyUnhandledRejectionIsHandled = function () {\n              fireRejectionEvent(\"rejectionHandled\",\n                  unhandledRejectionHandled, undefined, this);\n            };\n\n            Promise.prototype._setReturnedNonUndefined = function() {\n              this._bitField = this._bitField | 268435456;\n            };\n\n            Promise.prototype._returnedNonUndefined = function() {\n              return (this._bitField & 268435456) !== 0;\n            };\n\n            Promise.prototype._notifyUnhandledRejection = function () {\n              if (this._isRejectionUnhandled()) {\n                var reason = this._settledValue();\n                this._setUnhandledRejectionIsNotified();\n                fireRejectionEvent(\"unhandledRejection\",\n                    possiblyUnhandledRejection, reason, this);\n              }\n            };\n\n            Promise.prototype._setUnhandledRejectionIsNotified = function () {\n              this._bitField = this._bitField | 262144;\n            };\n\n            Promise.prototype._unsetUnhandledRejectionIsNotified = function () {\n              this._bitField = this._bitField & (~262144);\n            };\n\n            Promise.prototype._isUnhandledRejectionNotified = function () {\n              return (this._bitField & 262144) > 0;\n            };\n\n            Promise.prototype._setRejectionIsUnhandled = function () {\n              this._bitField = this._bitField | 1048576;\n            };\n\n            Promise.prototype._unsetRejectionIsUnhandled = function () {\n              this._bitField = this._bitField & (~1048576);\n              if (this._isUnhandledRejectionNotified()) {\n                this._unsetUnhandledRejectionIsNotified();\n                this._notifyUnhandledRejectionIsHandled();\n              }\n            };\n\n            Promise.prototype._isRejectionUnhandled = function () {\n              return (this._bitField & 1048576) > 0;\n            };\n\n            Promise.prototype._warn = function(message, shouldUseOwnTrace, promise) {\n              return warn(message, shouldUseOwnTrace, promise || this);\n            };\n\n            Promise.onPossiblyUnhandledRejection = function (fn) {\n              var domain = getDomain();\n              possiblyUnhandledRejection =\n                typeof fn === \"function\" ? (domain === null ?\n                    fn : util.domainBind(domain, fn))\n                    : undefined;\n            };\n\n            Promise.onUnhandledRejectionHandled = function (fn) {\n              var domain = getDomain();\n              unhandledRejectionHandled =\n                typeof fn === \"function\" ? (domain === null ?\n                    fn : util.domainBind(domain, fn))\n                    : undefined;\n            };\n\n            var disableLongStackTraces = function() {};\n            Promise.longStackTraces = function () {\n              if (async.haveItemsQueued() && !config.longStackTraces) {\n                throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n              }\n              if (!config.longStackTraces && longStackTracesIsSupported()) {\n                var Promise_captureStackTrace = Promise.prototype._captureStackTrace;\n                var Promise_attachExtraTrace = Promise.prototype._attachExtraTrace;\n                config.longStackTraces = true;\n                disableLongStackTraces = function() {\n                  if (async.haveItemsQueued() && !config.longStackTraces) {\n                    throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n                  }\n                  Promise.prototype._captureStackTrace = Promise_captureStackTrace;\n                  Promise.prototype._attachExtraTrace = Promise_attachExtraTrace;\n                  Context.deactivateLongStackTraces();\n                  async.enableTrampoline();\n                  config.longStackTraces = false;\n                };\n                Promise.prototype._captureStackTrace = longStackTracesCaptureStackTrace;\n                Promise.prototype._attachExtraTrace = longStackTracesAttachExtraTrace;\n                Context.activateLongStackTraces();\n                async.disableTrampolineIfNecessary();\n              }\n            };\n\n            Promise.hasLongStackTraces = function () {\n              return config.longStackTraces && longStackTracesIsSupported();\n            };\n\n            var fireDomEvent = (function() {\n              try {\n                if (typeof CustomEvent === \"function\") {\n                  var event = new CustomEvent(\"CustomEvent\");\n                  util.global.dispatchEvent(event);\n                  return function(name, event) {\n                    var domEvent = new CustomEvent(name.toLowerCase(), {\n                      detail: event,\n                      cancelable: true\n                    });\n                    return !util.global.dispatchEvent(domEvent);\n                  };\n                } else if (typeof Event === \"function\") {\n                  var event = new Event(\"CustomEvent\");\n                  util.global.dispatchEvent(event);\n                  return function(name, event) {\n                    var domEvent = new Event(name.toLowerCase(), {\n                      cancelable: true\n                    });\n                    domEvent.detail = event;\n                    return !util.global.dispatchEvent(domEvent);\n                  };\n                } else {\n                  var event = document.createEvent(\"CustomEvent\");\n                  event.initCustomEvent(\"testingtheevent\", false, true, {});\n                  util.global.dispatchEvent(event);\n                  return function(name, event) {\n                    var domEvent = document.createEvent(\"CustomEvent\");\n                    domEvent.initCustomEvent(name.toLowerCase(), false, true,\n                        event);\n                    return !util.global.dispatchEvent(domEvent);\n                  };\n                }\n              } catch (e) {}\n              return function() {\n                return false;\n              };\n            })();\n\n            var fireGlobalEvent = (function() {\n              if (util.isNode) {\n                return function() {\n                  return process.emit.apply(process, arguments);\n                };\n              } else {\n                if (!util.global) {\n                  return function() {\n                    return false;\n                  };\n                }\n                return function(name) {\n                  var methodName = \"on\" + name.toLowerCase();\n                  var method = util.global[methodName];\n                  if (!method) return false;\n                  method.apply(util.global, [].slice.call(arguments, 1));\n                  return true;\n                };\n              }\n            })();\n\n            function generatePromiseLifecycleEventObject(name, promise) {\n              return {promise: promise};\n            }\n\n            var eventToObjectGenerator = {\n                promiseCreated: generatePromiseLifecycleEventObject,\n                promiseFulfilled: generatePromiseLifecycleEventObject,\n                promiseRejected: generatePromiseLifecycleEventObject,\n                promiseResolved: generatePromiseLifecycleEventObject,\n                promiseCancelled: generatePromiseLifecycleEventObject,\n                promiseChained: function(name, promise, child) {\n                  return {promise: promise, child: child};\n                },\n                warning: function(name, warning) {\n                  return {warning: warning};\n                },\n                unhandledRejection: function (name, reason, promise) {\n                  return {reason: reason, promise: promise};\n                },\n                rejectionHandled: generatePromiseLifecycleEventObject\n            };\n\n            var activeFireEvent = function (name) {\n              var globalEventFired = false;\n              try {\n                globalEventFired = fireGlobalEvent.apply(null, arguments);\n              } catch (e) {\n                async.throwLater(e);\n                globalEventFired = true;\n              }\n\n              var domEventFired = false;\n              try {\n                domEventFired = fireDomEvent(name,\n                    eventToObjectGenerator[name].apply(null, arguments));\n              } catch (e) {\n                async.throwLater(e);\n                domEventFired = true;\n              }\n\n              return domEventFired || globalEventFired;\n            };\n\n            Promise.config = function(opts) {\n              opts = Object(opts);\n              if (\"longStackTraces\" in opts) {\n                if (opts.longStackTraces) {\n                  Promise.longStackTraces();\n                } else if (!opts.longStackTraces && Promise.hasLongStackTraces()) {\n                  disableLongStackTraces();\n                }\n              }\n              if (\"warnings\" in opts) {\n                var warningsOption = opts.warnings;\n                config.warnings = !!warningsOption;\n                wForgottenReturn = config.warnings;\n\n                if (util.isObject(warningsOption)) {\n                  if (\"wForgottenReturn\" in warningsOption) {\n                    wForgottenReturn = !!warningsOption.wForgottenReturn;\n                  }\n                }\n              }\n              if (\"cancellation\" in opts && opts.cancellation && !config.cancellation) {\n                if (async.haveItemsQueued()) {\n                  throw new Error(\n                  \"cannot enable cancellation after promises are in use\");\n                }\n                Promise.prototype._clearCancellationData =\n                  cancellationClearCancellationData;\n                Promise.prototype._propagateFrom = cancellationPropagateFrom;\n                Promise.prototype._onCancel = cancellationOnCancel;\n                Promise.prototype._setOnCancel = cancellationSetOnCancel;\n                Promise.prototype._attachCancellationCallback =\n                  cancellationAttachCancellationCallback;\n                Promise.prototype._execute = cancellationExecute;\n                propagateFromFunction = cancellationPropagateFrom;\n                config.cancellation = true;\n              }\n              if (\"monitoring\" in opts) {\n                if (opts.monitoring && !config.monitoring) {\n                  config.monitoring = true;\n                  Promise.prototype._fireEvent = activeFireEvent;\n                } else if (!opts.monitoring && config.monitoring) {\n                  config.monitoring = false;\n                  Promise.prototype._fireEvent = defaultFireEvent;\n                }\n              }\n            };\n\n            function defaultFireEvent() { return false; }\n\n            Promise.prototype._fireEvent = defaultFireEvent;\n            Promise.prototype._execute = function(executor, resolve, reject) {\n              try {\n                executor(resolve, reject);\n              } catch (e) {\n                return e;\n              }\n            };\n            Promise.prototype._onCancel = function () {};\n            Promise.prototype._setOnCancel = function (handler) { ; };\n            Promise.prototype._attachCancellationCallback = function(onCancel) {\n              ;\n            };\n            Promise.prototype._captureStackTrace = function () {};\n            Promise.prototype._attachExtraTrace = function () {};\n            Promise.prototype._clearCancellationData = function() {};\n            Promise.prototype._propagateFrom = function (parent, flags) {\n              ;\n              ;\n            };\n\n            function cancellationExecute(executor, resolve, reject) {\n              var promise = this;\n              try {\n                executor(resolve, reject, function(onCancel) {\n                  if (typeof onCancel !== \"function\") {\n                    throw new TypeError(\"onCancel must be a function, got: \" +\n                        util.toString(onCancel));\n                  }\n                  promise._attachCancellationCallback(onCancel);\n                });\n              } catch (e) {\n                return e;\n              }\n            }\n\n            function cancellationAttachCancellationCallback(onCancel) {\n              if (!this._isCancellable()) return this;\n\n              var previousOnCancel = this._onCancel();\n              if (previousOnCancel !== undefined) {\n                if (util.isArray(previousOnCancel)) {\n                  previousOnCancel.push(onCancel);\n                } else {\n                  this._setOnCancel([previousOnCancel, onCancel]);\n                }\n              } else {\n                this._setOnCancel(onCancel);\n              }\n            }\n\n            function cancellationOnCancel() {\n              return this._onCancelField;\n            }\n\n            function cancellationSetOnCancel(onCancel) {\n              this._onCancelField = onCancel;\n            }\n\n            function cancellationClearCancellationData() {\n              this._cancellationParent = undefined;\n              this._onCancelField = undefined;\n            }\n\n            function cancellationPropagateFrom(parent, flags) {\n              if ((flags & 1) !== 0) {\n                this._cancellationParent = parent;\n                var branchesRemainingToCancel = parent._branchesRemainingToCancel;\n                if (branchesRemainingToCancel === undefined) {\n                  branchesRemainingToCancel = 0;\n                }\n                parent._branchesRemainingToCancel = branchesRemainingToCancel + 1;\n              }\n              if ((flags & 2) !== 0 && parent._isBound()) {\n                this._setBoundTo(parent._boundTo);\n              }\n            }\n\n            function bindingPropagateFrom(parent, flags) {\n              if ((flags & 2) !== 0 && parent._isBound()) {\n                this._setBoundTo(parent._boundTo);\n              }\n            }\n            var propagateFromFunction = bindingPropagateFrom;\n\n            function boundValueFunction() {\n              var ret = this._boundTo;\n              if (ret !== undefined) {\n                if (ret instanceof Promise) {\n                  if (ret.isFulfilled()) {\n                    return ret.value();\n                  } else {\n                    return undefined;\n                  }\n                }\n              }\n              return ret;\n            }\n\n            function longStackTracesCaptureStackTrace() {\n              this._trace = new CapturedTrace(this._peekContext());\n            }\n\n            function longStackTracesAttachExtraTrace(error, ignoreSelf) {\n              if (canAttachTrace(error)) {\n                var trace = this._trace;\n                if (trace !== undefined) {\n                  if (ignoreSelf) trace = trace._parent;\n                }\n                if (trace !== undefined) {\n                  trace.attachExtraTrace(error);\n                } else if (!error.__stackCleaned__) {\n                  var parsed = parseStackAndMessage(error);\n                  util.notEnumerableProp(error, \"stack\",\n                      parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n                  util.notEnumerableProp(error, \"__stackCleaned__\", true);\n                }\n              }\n            }\n\n            function checkForgottenReturns(returnValue, promiseCreated, name, promise,\n                parent) {\n              if (returnValue === undefined && promiseCreated !== null &&\n                  wForgottenReturn) {\n                if (parent !== undefined && parent._returnedNonUndefined()) return;\n                if ((promise._bitField & 65535) === 0) return;\n\n                if (name) name = name + \" \";\n                var handlerLine = \"\";\n                var creatorLine = \"\";\n                if (promiseCreated._trace) {\n                  var traceLines = promiseCreated._trace.stack.split(\"\\n\");\n                  var stack = cleanStack(traceLines);\n                  for (var i = stack.length - 1; i >= 0; --i) {\n                    var line = stack[i];\n                    if (!nodeFramePattern.test(line)) {\n                      var lineMatches = line.match(parseLinePattern);\n                      if (lineMatches) {\n                        handlerLine  = \"at \" + lineMatches[1] +\n                        \":\" + lineMatches[2] + \":\" + lineMatches[3] + \" \";\n                      }\n                      break;\n                    }\n                  }\n\n                  if (stack.length > 0) {\n                    var firstUserLine = stack[0];\n                    for (var i = 0; i < traceLines.length; ++i) {\n\n                      if (traceLines[i] === firstUserLine) {\n                        if (i > 0) {\n                          creatorLine = \"\\n\" + traceLines[i - 1];\n                        }\n                        break;\n                      }\n                    }\n\n                  }\n                }\n                var msg = \"a promise was created in a \" + name +\n                \"handler \" + handlerLine + \"but was not returned from it, \" +\n                \"see http://goo.gl/rRqMUw\" +\n                creatorLine;\n                promise._warn(msg, true, promiseCreated);\n              }\n            }\n\n            function deprecated(name, replacement) {\n              var message = name +\n              \" is deprecated and will be removed in a future version.\";\n              if (replacement) message += \" Use \" + replacement + \" instead.\";\n              return warn(message);\n            }\n\n            function warn(message, shouldUseOwnTrace, promise) {\n              if (!config.warnings) return;\n              var warning = new Warning(message);\n              var ctx;\n              if (shouldUseOwnTrace) {\n                promise._attachExtraTrace(warning);\n              } else if (config.longStackTraces && (ctx = Promise._peekContext())) {\n                ctx.attachExtraTrace(warning);\n              } else {\n                var parsed = parseStackAndMessage(warning);\n                warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n              }\n\n              if (!activeFireEvent(\"warning\", warning)) {\n                formatAndLogError(warning, \"\", true);\n              }\n            }\n\n            function reconstructStack(message, stacks) {\n              for (var i = 0; i < stacks.length - 1; ++i) {\n                stacks[i].push(\"From previous event:\");\n                stacks[i] = stacks[i].join(\"\\n\");\n              }\n              if (i < stacks.length) {\n                stacks[i] = stacks[i].join(\"\\n\");\n              }\n              return message + \"\\n\" + stacks.join(\"\\n\");\n            }\n\n            function removeDuplicateOrEmptyJumps(stacks) {\n              for (var i = 0; i < stacks.length; ++i) {\n                if (stacks[i].length === 0 ||\n                    ((i + 1 < stacks.length) && stacks[i][0] === stacks[i+1][0])) {\n                  stacks.splice(i, 1);\n                  i--;\n                }\n              }\n            }\n\n            function removeCommonRoots(stacks) {\n              var current = stacks[0];\n              for (var i = 1; i < stacks.length; ++i) {\n                var prev = stacks[i];\n                var currentLastIndex = current.length - 1;\n                var currentLastLine = current[currentLastIndex];\n                var commonRootMeetPoint = -1;\n\n                for (var j = prev.length - 1; j >= 0; --j) {\n                  if (prev[j] === currentLastLine) {\n                    commonRootMeetPoint = j;\n                    break;\n                  }\n                }\n\n                for (var j = commonRootMeetPoint; j >= 0; --j) {\n                  var line = prev[j];\n                  if (current[currentLastIndex] === line) {\n                    current.pop();\n                    currentLastIndex--;\n                  } else {\n                    break;\n                  }\n                }\n                current = prev;\n              }\n            }\n\n            function cleanStack(stack) {\n              var ret = [];\n              for (var i = 0; i < stack.length; ++i) {\n                var line = stack[i];\n                var isTraceLine = \"    (No stack trace)\" === line ||\n                stackFramePattern.test(line);\n                var isInternalFrame = isTraceLine && shouldIgnore(line);\n                if (isTraceLine && !isInternalFrame) {\n                  if (indentStackFrames && line.charAt(0) !== \" \") {\n                    line = \"    \" + line;\n                  }\n                  ret.push(line);\n                }\n              }\n              return ret;\n            }\n\n            function stackFramesAsArray(error) {\n              var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n              for (var i = 0; i < stack.length; ++i) {\n                var line = stack[i];\n                if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n                  break;\n                }\n              }\n              if (i > 0) {\n                stack = stack.slice(i);\n              }\n              return stack;\n            }\n\n            function parseStackAndMessage(error) {\n              var stack = error.stack;\n              var message = error.toString();\n              stack = typeof stack === \"string\" && stack.length > 0\n              ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n              return {\n                message: message,\n                stack: cleanStack(stack)\n              };\n            }\n\n            function formatAndLogError(error, title, isSoft) {\n              if (typeof console !== \"undefined\") {\n                var message;\n                if (util.isObject(error)) {\n                  var stack = error.stack;\n                  message = title + formatStack(stack, error);\n                } else {\n                  message = title + String(error);\n                }\n                if (typeof printWarning === \"function\") {\n                  printWarning(message, isSoft);\n                } else if (typeof console.log === \"function\" ||\n                    typeof console.log === \"object\") {\n                  console.log(message);\n                }\n              }\n            }\n\n            function fireRejectionEvent(name, localHandler, reason, promise) {\n              var localEventFired = false;\n              try {\n                if (typeof localHandler === \"function\") {\n                  localEventFired = true;\n                  if (name === \"rejectionHandled\") {\n                    localHandler(promise);\n                  } else {\n                    localHandler(reason, promise);\n                  }\n                }\n              } catch (e) {\n                async.throwLater(e);\n              }\n\n              if (name === \"unhandledRejection\") {\n                if (!activeFireEvent(name, reason, promise) && !localEventFired) {\n                  formatAndLogError(reason, \"Unhandled rejection \");\n                }\n              } else {\n                activeFireEvent(name, promise);\n              }\n            }\n\n            function formatNonError(obj) {\n              var str;\n              if (typeof obj === \"function\") {\n                str = \"[function \" +\n                (obj.name || \"anonymous\") +\n                \"]\";\n              } else {\n                str = obj && typeof obj.toString === \"function\"\n                  ? obj.toString() : util.toString(obj);\n                  var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n                  if (ruselessToString.test(str)) {\n                    try {\n                      var newStr = JSON.stringify(obj);\n                      str = newStr;\n                    }\n                    catch(e) {\n\n                    }\n                  }\n                  if (str.length === 0) {\n                    str = \"(empty array)\";\n                  }\n              }\n              return (\"(<\" + snip(str) + \">, no stack trace)\");\n            }\n\n            function snip(str) {\n              var maxChars = 41;\n              if (str.length < maxChars) {\n                return str;\n              }\n              return str.substr(0, maxChars - 3) + \"...\";\n            }\n\n            function longStackTracesIsSupported() {\n              return typeof captureStackTrace === \"function\";\n            }\n\n            var shouldIgnore = function() { return false; };\n            var parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\n            function parseLineInfo(line) {\n              var matches = line.match(parseLineInfoRegex);\n              if (matches) {\n                return {\n                  fileName: matches[1],\n                  line: parseInt(matches[2], 10)\n                };\n              }\n            }\n\n            function setBounds(firstLineError, lastLineError) {\n              if (!longStackTracesIsSupported()) return;\n              var firstStackLines = firstLineError.stack.split(\"\\n\");\n              var lastStackLines = lastLineError.stack.split(\"\\n\");\n              var firstIndex = -1;\n              var lastIndex = -1;\n              var firstFileName;\n              var lastFileName;\n              for (var i = 0; i < firstStackLines.length; ++i) {\n                var result = parseLineInfo(firstStackLines[i]);\n                if (result) {\n                  firstFileName = result.fileName;\n                  firstIndex = result.line;\n                  break;\n                }\n              }\n              for (var i = 0; i < lastStackLines.length; ++i) {\n                var result = parseLineInfo(lastStackLines[i]);\n                if (result) {\n                  lastFileName = result.fileName;\n                  lastIndex = result.line;\n                  break;\n                }\n              }\n              if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName ||\n                  firstFileName !== lastFileName || firstIndex >= lastIndex) {\n                return;\n              }\n\n              shouldIgnore = function(line) {\n                if (bluebirdFramePattern.test(line)) return true;\n                var info = parseLineInfo(line);\n                if (info) {\n                  if (info.fileName === firstFileName &&\n                      (firstIndex <= info.line && info.line <= lastIndex)) {\n                    return true;\n                  }\n                }\n                return false;\n              };\n            }\n\n            function CapturedTrace(parent) {\n              this._parent = parent;\n              this._promisesCreated = 0;\n              var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n              captureStackTrace(this, CapturedTrace);\n              if (length > 32) this.uncycle();\n            }\n            util.inherits(CapturedTrace, Error);\n            Context.CapturedTrace = CapturedTrace;\n\n            CapturedTrace.prototype.uncycle = function() {\n              var length = this._length;\n              if (length < 2) return;\n              var nodes = [];\n              var stackToIndex = {};\n\n              for (var i = 0, node = this; node !== undefined; ++i) {\n                nodes.push(node);\n                node = node._parent;\n              }\n              length = this._length = i;\n              for (var i = length - 1; i >= 0; --i) {\n                var stack = nodes[i].stack;\n                if (stackToIndex[stack] === undefined) {\n                  stackToIndex[stack] = i;\n                }\n              }\n              for (var i = 0; i < length; ++i) {\n                var currentStack = nodes[i].stack;\n                var index = stackToIndex[currentStack];\n                if (index !== undefined && index !== i) {\n                  if (index > 0) {\n                    nodes[index - 1]._parent = undefined;\n                    nodes[index - 1]._length = 1;\n                  }\n                  nodes[i]._parent = undefined;\n                  nodes[i]._length = 1;\n                  var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n\n                  if (index < length - 1) {\n                    cycleEdgeNode._parent = nodes[index + 1];\n                    cycleEdgeNode._parent.uncycle();\n                    cycleEdgeNode._length =\n                      cycleEdgeNode._parent._length + 1;\n                  } else {\n                    cycleEdgeNode._parent = undefined;\n                    cycleEdgeNode._length = 1;\n                  }\n                  var currentChildLength = cycleEdgeNode._length + 1;\n                  for (var j = i - 2; j >= 0; --j) {\n                    nodes[j]._length = currentChildLength;\n                    currentChildLength++;\n                  }\n                  return;\n                }\n              }\n            };\n\n            CapturedTrace.prototype.attachExtraTrace = function(error) {\n              if (error.__stackCleaned__) return;\n              this.uncycle();\n              var parsed = parseStackAndMessage(error);\n              var message = parsed.message;\n              var stacks = [parsed.stack];\n\n              var trace = this;\n              while (trace !== undefined) {\n                stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n                trace = trace._parent;\n              }\n              removeCommonRoots(stacks);\n              removeDuplicateOrEmptyJumps(stacks);\n              util.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n              util.notEnumerableProp(error, \"__stackCleaned__\", true);\n            };\n\n            var captureStackTrace = (function stackDetection() {\n              var v8stackFramePattern = /^\\s*at\\s*/;\n              var v8stackFormatter = function(stack, error) {\n                if (typeof stack === \"string\") return stack;\n\n                if (error.name !== undefined &&\n                    error.message !== undefined) {\n                  return error.toString();\n                }\n                return formatNonError(error);\n              };\n\n              if (typeof Error.stackTraceLimit === \"number\" &&\n                  typeof Error.captureStackTrace === \"function\") {\n                Error.stackTraceLimit += 6;\n                stackFramePattern = v8stackFramePattern;\n                formatStack = v8stackFormatter;\n                var captureStackTrace = Error.captureStackTrace;\n\n                shouldIgnore = function(line) {\n                  return bluebirdFramePattern.test(line);\n                };\n                return function(receiver, ignoreUntil) {\n                  Error.stackTraceLimit += 6;\n                  captureStackTrace(receiver, ignoreUntil);\n                  Error.stackTraceLimit -= 6;\n                };\n              }\n              var err = new Error();\n\n              if (typeof err.stack === \"string\" &&\n                  err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n                stackFramePattern = /@/;\n                formatStack = v8stackFormatter;\n                indentStackFrames = true;\n                return function captureStackTrace(o) {\n                  o.stack = new Error().stack;\n                };\n              }\n\n              var hasStackAfterThrow;\n              try { throw new Error(); }\n              catch(e) {\n                hasStackAfterThrow = (\"stack\" in e);\n              }\n              if (!(\"stack\" in err) && hasStackAfterThrow &&\n                  typeof Error.stackTraceLimit === \"number\") {\n                stackFramePattern = v8stackFramePattern;\n                formatStack = v8stackFormatter;\n                return function captureStackTrace(o) {\n                  Error.stackTraceLimit += 6;\n                  try { throw new Error(); }\n                  catch(e) { o.stack = e.stack; }\n                  Error.stackTraceLimit -= 6;\n                };\n              }\n\n              formatStack = function(stack, error) {\n                if (typeof stack === \"string\") return stack;\n\n                if ((typeof error === \"object\" ||\n                    typeof error === \"function\") &&\n                    error.name !== undefined &&\n                    error.message !== undefined) {\n                  return error.toString();\n                }\n                return formatNonError(error);\n              };\n\n              return null;\n\n            })([]);\n\n            if (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n              printWarning = function (message) {\n                console.warn(message);\n              };\n              if (util.isNode && process.stderr.isTTY) {\n                printWarning = function(message, isSoft) {\n                  var color = isSoft ? \"\\u001b[33m\" : \"\\u001b[31m\";\n                  console.warn(color + message + \"\\u001b[0m\\n\");\n                };\n              } else if (!util.isNode && typeof (new Error().stack) === \"string\") {\n                printWarning = function(message, isSoft) {\n                  console.warn(\"%c\" + message,\n                      isSoft ? \"color: darkorange\" : \"color: red\");\n                };\n              }\n            }\n\n            var config = {\n                warnings: warnings,\n                longStackTraces: false,\n                cancellation: false,\n                monitoring: false\n            };\n\n            if (longStackTraces) Promise.longStackTraces();\n\n            return {\n              longStackTraces: function() {\n                return config.longStackTraces;\n              },\n              warnings: function() {\n                return config.warnings;\n              },\n              cancellation: function() {\n                return config.cancellation;\n              },\n              monitoring: function() {\n                return config.monitoring;\n              },\n              propagateFromFunction: function() {\n                return propagateFromFunction;\n              },\n              boundValueFunction: function() {\n                return boundValueFunction;\n              },\n              checkForgottenReturns: checkForgottenReturns,\n              setBounds: setBounds,\n              warn: warn,\n              deprecated: deprecated,\n              CapturedTrace: CapturedTrace,\n              fireDomEvent: fireDomEvent,\n              fireGlobalEvent: fireGlobalEvent\n            };\n          };\n\n        },{\"./errors\":12,\"./util\":36}],10:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function(Promise) {\n            function returner() {\n              return this.value;\n            }\n            function thrower() {\n              throw this.reason;\n            }\n\n            Promise.prototype[\"return\"] =\n              Promise.prototype.thenReturn = function (value) {\n              if (value instanceof Promise) value.suppressUnhandledRejections();\n              return this._then(\n                  returner, undefined, undefined, {value: value}, undefined);\n            };\n\n            Promise.prototype[\"throw\"] =\n              Promise.prototype.thenThrow = function (reason) {\n              return this._then(\n                  thrower, undefined, undefined, {reason: reason}, undefined);\n            };\n\n            Promise.prototype.catchThrow = function (reason) {\n              if (arguments.length <= 1) {\n                return this._then(\n                    undefined, thrower, undefined, {reason: reason}, undefined);\n              } else {\n                var _reason = arguments[1];\n                var handler = function() {throw _reason;};\n                return this.caught(reason, handler);\n              }\n            };\n\n            Promise.prototype.catchReturn = function (value) {\n              if (arguments.length <= 1) {\n                if (value instanceof Promise) value.suppressUnhandledRejections();\n                return this._then(\n                    undefined, returner, undefined, {value: value}, undefined);\n              } else {\n                var _value = arguments[1];\n                if (_value instanceof Promise) _value.suppressUnhandledRejections();\n                var handler = function() {return _value;};\n                return this.caught(value, handler);\n              }\n            };\n          };\n\n        },{}],11:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function(Promise, INTERNAL) {\n            var PromiseReduce = Promise.reduce;\n            var PromiseAll = Promise.all;\n\n            function promiseAllThis() {\n              return PromiseAll(this);\n            }\n\n            function PromiseMapSeries(promises, fn) {\n              return PromiseReduce(promises, fn, INTERNAL, INTERNAL);\n            }\n\n            Promise.prototype.each = function (fn) {\n              return PromiseReduce(this, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, this, undefined);\n            };\n\n            Promise.prototype.mapSeries = function (fn) {\n              return PromiseReduce(this, fn, INTERNAL, INTERNAL);\n            };\n\n            Promise.each = function (promises, fn) {\n              return PromiseReduce(promises, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, promises, undefined);\n            };\n\n            Promise.mapSeries = PromiseMapSeries;\n          };\n\n\n        },{}],12:[function(_dereq_,module,exports){\n          \"use strict\";\n          var es5 = _dereq_(\"./es5\");\n          var Objectfreeze = es5.freeze;\n          var util = _dereq_(\"./util\");\n          var inherits = util.inherits;\n          var notEnumerableProp = util.notEnumerableProp;\n\n          function subError(nameProperty, defaultMessage) {\n            function SubError(message) {\n              if (!(this instanceof SubError)) return new SubError(message);\n              notEnumerableProp(this, \"message\",\n                  typeof message === \"string\" ? message : defaultMessage);\n              notEnumerableProp(this, \"name\", nameProperty);\n              if (Error.captureStackTrace) {\n                Error.captureStackTrace(this, this.constructor);\n              } else {\n                Error.call(this);\n              }\n            }\n            inherits(SubError, Error);\n            return SubError;\n          }\n\n          var _TypeError, _RangeError;\n          var Warning = subError(\"Warning\", \"warning\");\n          var CancellationError = subError(\"CancellationError\", \"cancellation error\");\n          var TimeoutError = subError(\"TimeoutError\", \"timeout error\");\n          var AggregateError = subError(\"AggregateError\", \"aggregate error\");\n          try {\n            _TypeError = TypeError;\n            _RangeError = RangeError;\n          } catch(e) {\n            _TypeError = subError(\"TypeError\", \"type error\");\n            _RangeError = subError(\"RangeError\", \"range error\");\n          }\n\n          var methods = (\"join pop push shift unshift slice filter forEach some \" +\n          \"every map indexOf lastIndexOf reduce reduceRight sort reverse\").split(\" \");\n\n          for (var i = 0; i < methods.length; ++i) {\n            if (typeof Array.prototype[methods[i]] === \"function\") {\n              AggregateError.prototype[methods[i]] = Array.prototype[methods[i]];\n            }\n          }\n\n          es5.defineProperty(AggregateError.prototype, \"length\", {\n            value: 0,\n            configurable: false,\n            writable: true,\n            enumerable: true\n          });\n          AggregateError.prototype[\"isOperational\"] = true;\n          var level = 0;\n          AggregateError.prototype.toString = function() {\n            var indent = Array(level * 4 + 1).join(\" \");\n            var ret = \"\\n\" + indent + \"AggregateError of:\" + \"\\n\";\n            level++;\n            indent = Array(level * 4 + 1).join(\" \");\n            for (var i = 0; i < this.length; ++i) {\n              var str = this[i] === this ? \"[Circular AggregateError]\" : this[i] + \"\";\n              var lines = str.split(\"\\n\");\n              for (var j = 0; j < lines.length; ++j) {\n                lines[j] = indent + lines[j];\n              }\n              str = lines.join(\"\\n\");\n              ret += str + \"\\n\";\n            }\n            level--;\n            return ret;\n          };\n\n          function OperationalError(message) {\n            if (!(this instanceof OperationalError))\n              return new OperationalError(message);\n            notEnumerableProp(this, \"name\", \"OperationalError\");\n            notEnumerableProp(this, \"message\", message);\n            this.cause = message;\n            this[\"isOperational\"] = true;\n\n            if (message instanceof Error) {\n              notEnumerableProp(this, \"message\", message.message);\n              notEnumerableProp(this, \"stack\", message.stack);\n            } else if (Error.captureStackTrace) {\n              Error.captureStackTrace(this, this.constructor);\n            }\n\n          }\n          inherits(OperationalError, Error);\n\n          var errorTypes = Error[\"__BluebirdErrorTypes__\"];\n          if (!errorTypes) {\n            errorTypes = Objectfreeze({\n              CancellationError: CancellationError,\n              TimeoutError: TimeoutError,\n              OperationalError: OperationalError,\n              RejectionError: OperationalError,\n              AggregateError: AggregateError\n            });\n            es5.defineProperty(Error, \"__BluebirdErrorTypes__\", {\n              value: errorTypes,\n              writable: false,\n              enumerable: false,\n              configurable: false\n            });\n          }\n\n          module.exports = {\n              Error: Error,\n              TypeError: _TypeError,\n              RangeError: _RangeError,\n              CancellationError: errorTypes.CancellationError,\n              OperationalError: errorTypes.OperationalError,\n              TimeoutError: errorTypes.TimeoutError,\n              AggregateError: errorTypes.AggregateError,\n              Warning: Warning\n          };\n\n        },{\"./es5\":13,\"./util\":36}],13:[function(_dereq_,module,exports){\n          var isES5 = (function(){\n            \"use strict\";\n            return this === undefined;\n          })();\n\n          if (isES5) {\n            module.exports = {\n                freeze: Object.freeze,\n                defineProperty: Object.defineProperty,\n                getDescriptor: Object.getOwnPropertyDescriptor,\n                keys: Object.keys,\n                names: Object.getOwnPropertyNames,\n                getPrototypeOf: Object.getPrototypeOf,\n                isArray: Array.isArray,\n                isES5: isES5,\n                propertyIsWritable: function(obj, prop) {\n                  var descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n                  return !!(!descriptor || descriptor.writable || descriptor.set);\n                }\n            };\n          } else {\n            var has = {}.hasOwnProperty;\n            var str = {}.toString;\n            var proto = {}.constructor.prototype;\n\n            var ObjectKeys = function (o) {\n              var ret = [];\n              for (var key in o) {\n                if (has.call(o, key)) {\n                  ret.push(key);\n                }\n              }\n              return ret;\n            };\n\n            var ObjectGetDescriptor = function(o, key) {\n              return {value: o[key]};\n            };\n\n            var ObjectDefineProperty = function (o, key, desc) {\n              o[key] = desc.value;\n              return o;\n            };\n\n            var ObjectFreeze = function (obj) {\n              return obj;\n            };\n\n            var ObjectGetPrototypeOf = function (obj) {\n              try {\n                return Object(obj).constructor.prototype;\n              }\n              catch (e) {\n                return proto;\n              }\n            };\n\n            var ArrayIsArray = function (obj) {\n              try {\n                return str.call(obj) === \"[object Array]\";\n              }\n              catch(e) {\n                return false;\n              }\n            };\n\n            module.exports = {\n                isArray: ArrayIsArray,\n                keys: ObjectKeys,\n                names: ObjectKeys,\n                defineProperty: ObjectDefineProperty,\n                getDescriptor: ObjectGetDescriptor,\n                freeze: ObjectFreeze,\n                getPrototypeOf: ObjectGetPrototypeOf,\n                isES5: isES5,\n                propertyIsWritable: function() {\n                  return true;\n                }\n            };\n          }\n\n        },{}],14:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function(Promise, INTERNAL) {\n            var PromiseMap = Promise.map;\n\n            Promise.prototype.filter = function (fn, options) {\n              return PromiseMap(this, fn, options, INTERNAL);\n            };\n\n            Promise.filter = function (promises, fn, options) {\n              return PromiseMap(promises, fn, options, INTERNAL);\n            };\n          };\n\n        },{}],15:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function(Promise, tryConvertToPromise) {\n            var util = _dereq_(\"./util\");\n            var CancellationError = Promise.CancellationError;\n            var errorObj = util.errorObj;\n\n            function PassThroughHandlerContext(promise, type, handler) {\n              this.promise = promise;\n              this.type = type;\n              this.handler = handler;\n              this.called = false;\n              this.cancelPromise = null;\n            }\n\n            PassThroughHandlerContext.prototype.isFinallyHandler = function() {\n              return this.type === 0;\n            };\n\n            function FinallyHandlerCancelReaction(finallyHandler) {\n              this.finallyHandler = finallyHandler;\n            }\n\n            FinallyHandlerCancelReaction.prototype._resultCancelled = function() {\n              checkCancel(this.finallyHandler);\n            };\n\n            function checkCancel(ctx, reason) {\n              if (ctx.cancelPromise != null) {\n                if (arguments.length > 1) {\n                  ctx.cancelPromise._reject(reason);\n                } else {\n                  ctx.cancelPromise._cancel();\n                }\n                ctx.cancelPromise = null;\n                return true;\n              }\n              return false;\n            }\n\n            function succeed() {\n              return finallyHandler.call(this, this.promise._target()._settledValue());\n            }\n            function fail(reason) {\n              if (checkCancel(this, reason)) return;\n              errorObj.e = reason;\n              return errorObj;\n            }\n            function finallyHandler(reasonOrValue) {\n              var promise = this.promise;\n              var handler = this.handler;\n\n              if (!this.called) {\n                this.called = true;\n                var ret = this.isFinallyHandler()\n                ? handler.call(promise._boundValue())\n                    : handler.call(promise._boundValue(), reasonOrValue);\n                if (ret !== undefined) {\n                  promise._setReturnedNonUndefined();\n                  var maybePromise = tryConvertToPromise(ret, promise);\n                  if (maybePromise instanceof Promise) {\n                    if (this.cancelPromise != null) {\n                      if (maybePromise._isCancelled()) {\n                        var reason =\n                          new CancellationError(\"late cancellation observer\");\n                        promise._attachExtraTrace(reason);\n                        errorObj.e = reason;\n                        return errorObj;\n                      } else if (maybePromise.isPending()) {\n                        maybePromise._attachCancellationCallback(\n                            new FinallyHandlerCancelReaction(this));\n                      }\n                    }\n                    return maybePromise._then(\n                        succeed, fail, undefined, this, undefined);\n                  }\n                }\n              }\n\n              if (promise.isRejected()) {\n                checkCancel(this);\n                errorObj.e = reasonOrValue;\n                return errorObj;\n              } else {\n                checkCancel(this);\n                return reasonOrValue;\n              }\n            }\n\n            Promise.prototype._passThrough = function(handler, type, success, fail) {\n              if (typeof handler !== \"function\") return this.then();\n              return this._then(success,\n                  fail,\n                  undefined,\n                  new PassThroughHandlerContext(this, type, handler),\n                  undefined);\n            };\n\n            Promise.prototype.lastly =\n              Promise.prototype[\"finally\"] = function (handler) {\n              return this._passThrough(handler,\n                  0,\n                  finallyHandler,\n                  finallyHandler);\n            };\n\n            Promise.prototype.tap = function (handler) {\n              return this._passThrough(handler, 1, finallyHandler);\n            };\n\n            return PassThroughHandlerContext;\n          };\n\n        },{\"./util\":36}],16:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function(Promise,\n              apiRejection,\n              INTERNAL,\n              tryConvertToPromise,\n              Proxyable,\n              debug) {\n            var errors = _dereq_(\"./errors\");\n            var TypeError = errors.TypeError;\n            var util = _dereq_(\"./util\");\n            var errorObj = util.errorObj;\n            var tryCatch = util.tryCatch;\n            var yieldHandlers = [];\n\n            function promiseFromYieldHandler(value, yieldHandlers, traceParent) {\n              for (var i = 0; i < yieldHandlers.length; ++i) {\n                traceParent._pushContext();\n                var result = tryCatch(yieldHandlers[i])(value);\n                traceParent._popContext();\n                if (result === errorObj) {\n                  traceParent._pushContext();\n                  var ret = Promise.reject(errorObj.e);\n                  traceParent._popContext();\n                  return ret;\n                }\n                var maybePromise = tryConvertToPromise(result, traceParent);\n                if (maybePromise instanceof Promise) return maybePromise;\n              }\n              return null;\n            }\n\n            function PromiseSpawn(generatorFunction, receiver, yieldHandler, stack) {\n              if (debug.cancellation()) {\n                var internal = new Promise(INTERNAL);\n                var _finallyPromise = this._finallyPromise = new Promise(INTERNAL);\n                this._promise = internal.lastly(function() {\n                  return _finallyPromise;\n                });\n                internal._captureStackTrace();\n                internal._setOnCancel(this);\n              } else {\n                var promise = this._promise = new Promise(INTERNAL);\n                promise._captureStackTrace();\n              }\n              this._stack = stack;\n              this._generatorFunction = generatorFunction;\n              this._receiver = receiver;\n              this._generator = undefined;\n              this._yieldHandlers = typeof yieldHandler === \"function\"\n                ? [yieldHandler].concat(yieldHandlers)\n                    : yieldHandlers;\n                this._yieldedPromise = null;\n                this._cancellationPhase = false;\n            }\n            util.inherits(PromiseSpawn, Proxyable);\n\n            PromiseSpawn.prototype._isResolved = function() {\n              return this._promise === null;\n            };\n\n            PromiseSpawn.prototype._cleanup = function() {\n              this._promise = this._generator = null;\n              if (debug.cancellation() && this._finallyPromise !== null) {\n                this._finallyPromise._fulfill();\n                this._finallyPromise = null;\n              }\n            };\n\n            PromiseSpawn.prototype._promiseCancelled = function() {\n              if (this._isResolved()) return;\n              var implementsReturn = typeof this._generator[\"return\"] !== \"undefined\";\n\n              var result;\n              if (!implementsReturn) {\n                var reason = new Promise.CancellationError(\n                \"generator .return() sentinel\");\n                Promise.coroutine.returnSentinel = reason;\n                this._promise._attachExtraTrace(reason);\n                this._promise._pushContext();\n                result = tryCatch(this._generator[\"throw\"]).call(this._generator,\n                    reason);\n                this._promise._popContext();\n              } else {\n                this._promise._pushContext();\n                result = tryCatch(this._generator[\"return\"]).call(this._generator,\n                    undefined);\n                this._promise._popContext();\n              }\n              this._cancellationPhase = true;\n              this._yieldedPromise = null;\n              this._continue(result);\n            };\n\n            PromiseSpawn.prototype._promiseFulfilled = function(value) {\n              this._yieldedPromise = null;\n              this._promise._pushContext();\n              var result = tryCatch(this._generator.next).call(this._generator, value);\n              this._promise._popContext();\n              this._continue(result);\n            };\n\n            PromiseSpawn.prototype._promiseRejected = function(reason) {\n              this._yieldedPromise = null;\n              this._promise._attachExtraTrace(reason);\n              this._promise._pushContext();\n              var result = tryCatch(this._generator[\"throw\"])\n              .call(this._generator, reason);\n              this._promise._popContext();\n              this._continue(result);\n            };\n\n            PromiseSpawn.prototype._resultCancelled = function() {\n              if (this._yieldedPromise instanceof Promise) {\n                var promise = this._yieldedPromise;\n                this._yieldedPromise = null;\n                promise.cancel();\n              }\n            };\n\n            PromiseSpawn.prototype.promise = function () {\n              return this._promise;\n            };\n\n            PromiseSpawn.prototype._run = function () {\n              this._generator = this._generatorFunction.call(this._receiver);\n              this._receiver =\n                this._generatorFunction = undefined;\n              this._promiseFulfilled(undefined);\n            };\n\n            PromiseSpawn.prototype._continue = function (result) {\n              var promise = this._promise;\n              if (result === errorObj) {\n                this._cleanup();\n                if (this._cancellationPhase) {\n                  return promise.cancel();\n                } else {\n                  return promise._rejectCallback(result.e, false);\n                }\n              }\n\n              var value = result.value;\n              if (result.done === true) {\n                this._cleanup();\n                if (this._cancellationPhase) {\n                  return promise.cancel();\n                } else {\n                  return promise._resolveCallback(value);\n                }\n              } else {\n                var maybePromise = tryConvertToPromise(value, this._promise);\n                if (!(maybePromise instanceof Promise)) {\n                  maybePromise =\n                    promiseFromYieldHandler(maybePromise,\n                        this._yieldHandlers,\n                        this._promise);\n                  if (maybePromise === null) {\n                    this._promiseRejected(\n                        new TypeError(\n                            \"A value %s was yielded that could not be treated as a promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\\u000a\".replace(\"%s\", value) +\n                            \"From coroutine:\\u000a\" +\n                            this._stack.split(\"\\n\").slice(1, -7).join(\"\\n\")\n                        )\n                    );\n                    return;\n                  }\n                }\n                maybePromise = maybePromise._target();\n                var bitField = maybePromise._bitField;\n                ;\n                if (((bitField & 50397184) === 0)) {\n                  this._yieldedPromise = maybePromise;\n                  maybePromise._proxy(this, null);\n                } else if (((bitField & 33554432) !== 0)) {\n                  Promise._async.invoke(\n                      this._promiseFulfilled, this, maybePromise._value()\n                  );\n                } else if (((bitField & 16777216) !== 0)) {\n                  Promise._async.invoke(\n                      this._promiseRejected, this, maybePromise._reason()\n                  );\n                } else {\n                  this._promiseCancelled();\n                }\n              }\n            };\n\n            Promise.coroutine = function (generatorFunction, options) {\n              if (typeof generatorFunction !== \"function\") {\n                throw new TypeError(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n              }\n              var yieldHandler = Object(options).yieldHandler;\n              var PromiseSpawn$ = PromiseSpawn;\n              var stack = new Error().stack;\n              return function () {\n                var generator = generatorFunction.apply(this, arguments);\n                var spawn = new PromiseSpawn$(undefined, undefined, yieldHandler,\n                    stack);\n                var ret = spawn.promise();\n                spawn._generator = generator;\n                spawn._promiseFulfilled(undefined);\n                return ret;\n              };\n            };\n\n            Promise.coroutine.addYieldHandler = function(fn) {\n              if (typeof fn !== \"function\") {\n                throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n              }\n              yieldHandlers.push(fn);\n            };\n\n            Promise.spawn = function (generatorFunction) {\n              debug.deprecated(\"Promise.spawn()\", \"Promise.coroutine()\");\n              if (typeof generatorFunction !== \"function\") {\n                return apiRejection(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n              }\n              var spawn = new PromiseSpawn(generatorFunction, this);\n              var ret = spawn.promise();\n              spawn._run(Promise.spawn);\n              return ret;\n            };\n          };\n\n        },{\"./errors\":12,\"./util\":36}],17:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports =\n            function(Promise, PromiseArray, tryConvertToPromise, INTERNAL, async,\n                getDomain) {\n            var util = _dereq_(\"./util\");\n            var canEvaluate = util.canEvaluate;\n            var tryCatch = util.tryCatch;\n            var errorObj = util.errorObj;\n            var reject;\n\n            if (!true) {\n              if (canEvaluate) {\n                var thenCallback = function(i) {\n                  return new Function(\"value\", \"holder\", \"                             \\n\\\n                      'use strict';                                                    \\n\\\n                      holder.pIndex = value;                                           \\n\\\n                      holder.checkFulfillment(this);                                   \\n\\\n                      \".replace(/Index/g, i));\n                };\n\n                var promiseSetter = function(i) {\n                  return new Function(\"promise\", \"holder\", \"                           \\n\\\n                      'use strict';                                                    \\n\\\n                      holder.pIndex = promise;                                         \\n\\\n                      \".replace(/Index/g, i));\n                };\n\n                var generateHolderClass = function(total) {\n                  var props = new Array(total);\n                  for (var i = 0; i < props.length; ++i) {\n                    props[i] = \"this.p\" + (i+1);\n                  }\n                  var assignment = props.join(\" = \") + \" = null;\";\n                  var cancellationCode= \"var promise;\\n\" + props.map(function(prop) {\n                    return \"                                                         \\n\\\n                    promise = \" + prop + \";                                      \\n\\\n                    if (promise instanceof Promise) {                            \\n\\\n                    promise.cancel();                                        \\n\\\n                    }                                                            \\n\\\n                    \";\n                  }).join(\"\\n\");\n                  var passedArguments = props.join(\", \");\n                  var name = \"Holder$\" + total;\n\n\n                  var code = \"return function(tryCatch, errorObj, Promise, async) {    \\n\\\n                    'use strict';                                                    \\n\\\n                    function [TheName](fn) {                                         \\n\\\n                    [TheProperties]                                              \\n\\\n                    this.fn = fn;                                                \\n\\\n                    this.asyncNeeded = true;                                     \\n\\\n                    this.now = 0;                                                \\n\\\n                    }                                                                \\n\\\n                    \\n\\\n                    [TheName].prototype._callFunction = function(promise) {          \\n\\\n                    promise._pushContext();                                      \\n\\\n                    var ret = tryCatch(this.fn)([ThePassedArguments]);           \\n\\\n                    promise._popContext();                                       \\n\\\n                    if (ret === errorObj) {                                      \\n\\\n                    promise._rejectCallback(ret.e, false);                   \\n\\\n                    } else {                                                     \\n\\\n                    promise._resolveCallback(ret);                           \\n\\\n                    }                                                            \\n\\\n                    };                                                               \\n\\\n                    \\n\\\n                    [TheName].prototype.checkFulfillment = function(promise) {       \\n\\\n                    var now = ++this.now;                                        \\n\\\n                    if (now === [TheTotal]) {                                    \\n\\\n                    if (this.asyncNeeded) {                                  \\n\\\n                    async.invoke(this._callFunction, this, promise);     \\n\\\n                    } else {                                                 \\n\\\n                    this._callFunction(promise);                         \\n\\\n                    }                                                        \\n\\\n                    \\n\\\n                    }                                                            \\n\\\n                    };                                                               \\n\\\n                    \\n\\\n                    [TheName].prototype._resultCancelled = function() {              \\n\\\n                    [CancellationCode]                                           \\n\\\n                    };                                                               \\n\\\n                    \\n\\\n                    return [TheName];                                                \\n\\\n                    }(tryCatch, errorObj, Promise, async);                               \\n\\\n                    \";\n\n                  code = code.replace(/\\[TheName\\]/g, name)\n                  .replace(/\\[TheTotal\\]/g, total)\n                  .replace(/\\[ThePassedArguments\\]/g, passedArguments)\n                  .replace(/\\[TheProperties\\]/g, assignment)\n                  .replace(/\\[CancellationCode\\]/g, cancellationCode);\n\n                  return new Function(\"tryCatch\", \"errorObj\", \"Promise\", \"async\", code)\n                  (tryCatch, errorObj, Promise, async);\n                };\n\n                var holderClasses = [];\n                var thenCallbacks = [];\n                var promiseSetters = [];\n\n                for (var i = 0; i < 8; ++i) {\n                  holderClasses.push(generateHolderClass(i + 1));\n                  thenCallbacks.push(thenCallback(i + 1));\n                  promiseSetters.push(promiseSetter(i + 1));\n                }\n\n                reject = function (reason) {\n                  this._reject(reason);\n                };\n              }}\n\n            Promise.join = function () {\n              var last = arguments.length - 1;\n              var fn;\n              if (last > 0 && typeof arguments[last] === \"function\") {\n                fn = arguments[last];\n                if (!true) {\n                  if (last <= 8 && canEvaluate) {\n                    var ret = new Promise(INTERNAL);\n                    ret._captureStackTrace();\n                    var HolderClass = holderClasses[last - 1];\n                    var holder = new HolderClass(fn);\n                    var callbacks = thenCallbacks;\n\n                    for (var i = 0; i < last; ++i) {\n                      var maybePromise = tryConvertToPromise(arguments[i], ret);\n                      if (maybePromise instanceof Promise) {\n                        maybePromise = maybePromise._target();\n                        var bitField = maybePromise._bitField;\n                        ;\n                        if (((bitField & 50397184) === 0)) {\n                          maybePromise._then(callbacks[i], reject,\n                              undefined, ret, holder);\n                          promiseSetters[i](maybePromise, holder);\n                          holder.asyncNeeded = false;\n                        } else if (((bitField & 33554432) !== 0)) {\n                          callbacks[i].call(ret,\n                              maybePromise._value(), holder);\n                        } else if (((bitField & 16777216) !== 0)) {\n                          ret._reject(maybePromise._reason());\n                        } else {\n                          ret._cancel();\n                        }\n                      } else {\n                        callbacks[i].call(ret, maybePromise, holder);\n                      }\n                    }\n\n                    if (!ret._isFateSealed()) {\n                      if (holder.asyncNeeded) {\n                        var domain = getDomain();\n                        if (domain !== null) {\n                          holder.fn = util.domainBind(domain, holder.fn);\n                        }\n                      }\n                      ret._setAsyncGuaranteed();\n                      ret._setOnCancel(holder);\n                    }\n                    return ret;\n                  }\n                }\n              }\n              var args = [].slice.call(arguments);;\n              if (fn) args.pop();\n              var ret = new PromiseArray(args).promise();\n              return fn !== undefined ? ret.spread(fn) : ret;\n            };\n\n          };\n\n        },{\"./util\":36}],18:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function(Promise,\n              PromiseArray,\n              apiRejection,\n              tryConvertToPromise,\n              INTERNAL,\n              debug) {\n            var getDomain = Promise._getDomain;\n            var util = _dereq_(\"./util\");\n            var tryCatch = util.tryCatch;\n            var errorObj = util.errorObj;\n\n            function MappingPromiseArray(promises, fn, limit, _filter) {\n              this.constructor$(promises);\n              this._promise._captureStackTrace();\n              var domain = getDomain();\n              this._callback = domain === null ? fn : util.domainBind(domain, fn);\n              this._preservedValues = _filter === INTERNAL\n              ? new Array(this.length())\n              : null;\n              this._limit = limit;\n              this._inFlight = 0;\n              this._queue = [];\n              this._init$(undefined, -2);\n            }\n            util.inherits(MappingPromiseArray, PromiseArray);\n\n            MappingPromiseArray.prototype._init = function () {};\n\n            MappingPromiseArray.prototype._promiseFulfilled = function (value, index) {\n              var values = this._values;\n              var length = this.length();\n              var preservedValues = this._preservedValues;\n              var limit = this._limit;\n\n              if (index < 0) {\n                index = (index * -1) - 1;\n                values[index] = value;\n                if (limit >= 1) {\n                  this._inFlight--;\n                  this._drainQueue();\n                  if (this._isResolved()) return true;\n                }\n              } else {\n                if (limit >= 1 && this._inFlight >= limit) {\n                  values[index] = value;\n                  this._queue.push(index);\n                  return false;\n                }\n                if (preservedValues !== null) preservedValues[index] = value;\n\n                var promise = this._promise;\n                var callback = this._callback;\n                var receiver = promise._boundValue();\n                promise._pushContext();\n                var ret = tryCatch(callback).call(receiver, value, index, length);\n                var promiseCreated = promise._popContext();\n                debug.checkForgottenReturns(\n                    ret,\n                    promiseCreated,\n                    preservedValues !== null ? \"Promise.filter\" : \"Promise.map\",\n                        promise\n                );\n                if (ret === errorObj) {\n                  this._reject(ret.e);\n                  return true;\n                }\n\n                var maybePromise = tryConvertToPromise(ret, this._promise);\n                if (maybePromise instanceof Promise) {\n                  maybePromise = maybePromise._target();\n                  var bitField = maybePromise._bitField;\n                  ;\n                  if (((bitField & 50397184) === 0)) {\n                    if (limit >= 1) this._inFlight++;\n                    values[index] = maybePromise;\n                    maybePromise._proxy(this, (index + 1) * -1);\n                    return false;\n                  } else if (((bitField & 33554432) !== 0)) {\n                    ret = maybePromise._value();\n                  } else if (((bitField & 16777216) !== 0)) {\n                    this._reject(maybePromise._reason());\n                    return true;\n                  } else {\n                    this._cancel();\n                    return true;\n                  }\n                }\n                values[index] = ret;\n              }\n              var totalResolved = ++this._totalResolved;\n              if (totalResolved >= length) {\n                if (preservedValues !== null) {\n                  this._filter(values, preservedValues);\n                } else {\n                  this._resolve(values);\n                }\n                return true;\n              }\n              return false;\n            };\n\n            MappingPromiseArray.prototype._drainQueue = function () {\n              var queue = this._queue;\n              var limit = this._limit;\n              var values = this._values;\n              while (queue.length > 0 && this._inFlight < limit) {\n                if (this._isResolved()) return;\n                var index = queue.pop();\n                this._promiseFulfilled(values[index], index);\n              }\n            };\n\n            MappingPromiseArray.prototype._filter = function (booleans, values) {\n              var len = values.length;\n              var ret = new Array(len);\n              var j = 0;\n              for (var i = 0; i < len; ++i) {\n                if (booleans[i]) ret[j++] = values[i];\n              }\n              ret.length = j;\n              this._resolve(ret);\n            };\n\n            MappingPromiseArray.prototype.preservedValues = function () {\n              return this._preservedValues;\n            };\n\n            function map(promises, fn, options, _filter) {\n              if (typeof fn !== \"function\") {\n                return apiRejection(\"expecting a function but got \" + util.classString(fn));\n              }\n\n              var limit = 0;\n              if (options !== undefined) {\n                if (typeof options === \"object\" && options !== null) {\n                  if (typeof options.concurrency !== \"number\") {\n                    return Promise.reject(\n                        new TypeError(\"'concurrency' must be a number but it is \" +\n                            util.classString(options.concurrency)));\n                  }\n                  limit = options.concurrency;\n                } else {\n                  return Promise.reject(new TypeError(\n                      \"options argument must be an object but it is \" +\n                      util.classString(options)));\n                }\n              }\n              limit = typeof limit === \"number\" &&\n              isFinite(limit) && limit >= 1 ? limit : 0;\n              return new MappingPromiseArray(promises, fn, limit, _filter).promise();\n            }\n\n            Promise.prototype.map = function (fn, options) {\n              return map(this, fn, options, null);\n            };\n\n            Promise.map = function (promises, fn, options, _filter) {\n              return map(promises, fn, options, _filter);\n            };\n\n\n          };\n\n        },{\"./util\":36}],19:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports =\n            function(Promise, INTERNAL, tryConvertToPromise, apiRejection, debug) {\n            var util = _dereq_(\"./util\");\n            var tryCatch = util.tryCatch;\n\n            Promise.method = function (fn) {\n              if (typeof fn !== \"function\") {\n                throw new Promise.TypeError(\"expecting a function but got \" + util.classString(fn));\n              }\n              return function () {\n                var ret = new Promise(INTERNAL);\n                ret._captureStackTrace();\n                ret._pushContext();\n                var value = tryCatch(fn).apply(this, arguments);\n                var promiseCreated = ret._popContext();\n                debug.checkForgottenReturns(\n                    value, promiseCreated, \"Promise.method\", ret);\n                ret._resolveFromSyncValue(value);\n                return ret;\n              };\n            };\n\n            Promise.attempt = Promise[\"try\"] = function (fn) {\n              if (typeof fn !== \"function\") {\n                return apiRejection(\"expecting a function but got \" + util.classString(fn));\n              }\n              var ret = new Promise(INTERNAL);\n              ret._captureStackTrace();\n              ret._pushContext();\n              var value;\n              if (arguments.length > 1) {\n                debug.deprecated(\"calling Promise.try with more than 1 argument\");\n                var arg = arguments[1];\n                var ctx = arguments[2];\n                value = util.isArray(arg) ? tryCatch(fn).apply(ctx, arg)\n                    : tryCatch(fn).call(ctx, arg);\n              } else {\n                value = tryCatch(fn)();\n              }\n              var promiseCreated = ret._popContext();\n              debug.checkForgottenReturns(\n                  value, promiseCreated, \"Promise.try\", ret);\n              ret._resolveFromSyncValue(value);\n              return ret;\n            };\n\n            Promise.prototype._resolveFromSyncValue = function (value) {\n              if (value === util.errorObj) {\n                this._rejectCallback(value.e, false);\n              } else {\n                this._resolveCallback(value, true);\n              }\n            };\n          };\n\n        },{\"./util\":36}],20:[function(_dereq_,module,exports){\n          \"use strict\";\n          var util = _dereq_(\"./util\");\n          var maybeWrapAsError = util.maybeWrapAsError;\n          var errors = _dereq_(\"./errors\");\n          var OperationalError = errors.OperationalError;\n          var es5 = _dereq_(\"./es5\");\n\n          function isUntypedError(obj) {\n            return obj instanceof Error &&\n            es5.getPrototypeOf(obj) === Error.prototype;\n          }\n\n          var rErrorKey = /^(?:name|message|stack|cause)$/;\n          function wrapAsOperationalError(obj) {\n            var ret;\n            if (isUntypedError(obj)) {\n              ret = new OperationalError(obj);\n              ret.name = obj.name;\n              ret.message = obj.message;\n              ret.stack = obj.stack;\n              var keys = es5.keys(obj);\n              for (var i = 0; i < keys.length; ++i) {\n                var key = keys[i];\n                if (!rErrorKey.test(key)) {\n                  ret[key] = obj[key];\n                }\n              }\n              return ret;\n            }\n            util.markAsOriginatingFromRejection(obj);\n            return obj;\n          }\n\n          function nodebackForPromise(promise, multiArgs) {\n            return function(err, value) {\n              if (promise === null) return;\n              if (err) {\n                var wrapped = wrapAsOperationalError(maybeWrapAsError(err));\n                promise._attachExtraTrace(wrapped);\n                promise._reject(wrapped);\n              } else if (!multiArgs) {\n                promise._fulfill(value);\n              } else {\n                var args = [].slice.call(arguments, 1);;\n                promise._fulfill(args);\n              }\n              promise = null;\n            };\n          }\n\n          module.exports = nodebackForPromise;\n\n        },{\"./errors\":12,\"./es5\":13,\"./util\":36}],21:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function(Promise) {\n            var util = _dereq_(\"./util\");\n            var async = Promise._async;\n            var tryCatch = util.tryCatch;\n            var errorObj = util.errorObj;\n\n            function spreadAdapter(val, nodeback) {\n              var promise = this;\n              if (!util.isArray(val)) return successAdapter.call(promise, val, nodeback);\n              var ret =\n                tryCatch(nodeback).apply(promise._boundValue(), [null].concat(val));\n              if (ret === errorObj) {\n                async.throwLater(ret.e);\n              }\n            }\n\n            function successAdapter(val, nodeback) {\n              var promise = this;\n              var receiver = promise._boundValue();\n              var ret = val === undefined\n              ? tryCatch(nodeback).call(receiver, null)\n                  : tryCatch(nodeback).call(receiver, null, val);\n              if (ret === errorObj) {\n                async.throwLater(ret.e);\n              }\n            }\n            function errorAdapter(reason, nodeback) {\n              var promise = this;\n              if (!reason) {\n                var newReason = new Error(reason + \"\");\n                newReason.cause = reason;\n                reason = newReason;\n              }\n              var ret = tryCatch(nodeback).call(promise._boundValue(), reason);\n              if (ret === errorObj) {\n                async.throwLater(ret.e);\n              }\n            }\n\n            Promise.prototype.asCallback = Promise.prototype.nodeify = function (nodeback,\n                options) {\n              if (typeof nodeback == \"function\") {\n                var adapter = successAdapter;\n                if (options !== undefined && Object(options).spread) {\n                  adapter = spreadAdapter;\n                }\n                this._then(\n                    adapter,\n                    errorAdapter,\n                    undefined,\n                    this,\n                    nodeback\n                );\n              }\n              return this;\n            };\n          };\n\n        },{\"./util\":36}],22:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function() {\n            var makeSelfResolutionError = function () {\n              return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n            };\n            var reflectHandler = function() {\n              return new Promise.PromiseInspection(this._target());\n            };\n            var apiRejection = function(msg) {\n              return Promise.reject(new TypeError(msg));\n            };\n            function Proxyable() {}\n            var UNDEFINED_BINDING = {};\n            var util = _dereq_(\"./util\");\n\n            var getDomain;\n            if (util.isNode) {\n              getDomain = function() {\n                var ret = process.domain;\n                if (ret === undefined) ret = null;\n                return ret;\n              };\n            } else {\n              getDomain = function() {\n                return null;\n              };\n            }\n            util.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n\n            var es5 = _dereq_(\"./es5\");\n            var Async = _dereq_(\"./async\");\n            var async = new Async();\n            es5.defineProperty(Promise, \"_async\", {value: async});\n            var errors = _dereq_(\"./errors\");\n            var TypeError = Promise.TypeError = errors.TypeError;\n            Promise.RangeError = errors.RangeError;\n            var CancellationError = Promise.CancellationError = errors.CancellationError;\n            Promise.TimeoutError = errors.TimeoutError;\n            Promise.OperationalError = errors.OperationalError;\n            Promise.RejectionError = errors.OperationalError;\n            Promise.AggregateError = errors.AggregateError;\n            var INTERNAL = function(){};\n            var APPLY = {};\n            var NEXT_FILTER = {};\n            var tryConvertToPromise = _dereq_(\"./thenables\")(Promise, INTERNAL);\n            var PromiseArray =\n              _dereq_(\"./promise_array\")(Promise, INTERNAL,\n                  tryConvertToPromise, apiRejection, Proxyable);\n            var Context = _dereq_(\"./context\")(Promise);\n            /*jshint unused:false*/\n            var createContext = Context.create;\n            var debug = _dereq_(\"./debuggability\")(Promise, Context);\n            var CapturedTrace = debug.CapturedTrace;\n            var PassThroughHandlerContext =\n              _dereq_(\"./finally\")(Promise, tryConvertToPromise);\n            var catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\n            var nodebackForPromise = _dereq_(\"./nodeback\");\n            var errorObj = util.errorObj;\n            var tryCatch = util.tryCatch;\n            function check(self, executor) {\n              if (typeof executor !== \"function\") {\n                throw new TypeError(\"expecting a function but got \" + util.classString(executor));\n              }\n              if (self.constructor !== Promise) {\n                throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n              }\n            }\n\n            function Promise(executor) {\n              this._bitField = 0;\n              this._fulfillmentHandler0 = undefined;\n              this._rejectionHandler0 = undefined;\n              this._promise0 = undefined;\n              this._receiver0 = undefined;\n              if (executor !== INTERNAL) {\n                check(this, executor);\n                this._resolveFromExecutor(executor);\n              }\n              this._promiseCreated();\n              this._fireEvent(\"promiseCreated\", this);\n            }\n\n            Promise.prototype.toString = function () {\n              return \"[object Promise]\";\n            };\n\n            Promise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n              var len = arguments.length;\n              if (len > 1) {\n                var catchInstances = new Array(len - 1),\n                j = 0, i;\n                for (i = 0; i < len - 1; ++i) {\n                  var item = arguments[i];\n                  if (util.isObject(item)) {\n                    catchInstances[j++] = item;\n                  } else {\n                    return apiRejection(\"expecting an object but got \" +\n                        \"A catch statement predicate \" + util.classString(item));\n                  }\n                }\n                catchInstances.length = j;\n                fn = arguments[i];\n                return this.then(undefined, catchFilter(catchInstances, fn, this));\n              }\n              return this.then(undefined, fn);\n            };\n\n            Promise.prototype.reflect = function () {\n              return this._then(reflectHandler,\n                  reflectHandler, undefined, this, undefined);\n            };\n\n            Promise.prototype.then = function (didFulfill, didReject) {\n              if (debug.warnings() && arguments.length > 0 &&\n                  typeof didFulfill !== \"function\" &&\n                  typeof didReject !== \"function\") {\n                var msg = \".then() only accepts functions but was passed: \" +\n                util.classString(didFulfill);\n                if (arguments.length > 1) {\n                  msg += \", \" + util.classString(didReject);\n                }\n                this._warn(msg);\n              }\n              return this._then(didFulfill, didReject, undefined, undefined, undefined);\n            };\n\n            Promise.prototype.done = function (didFulfill, didReject) {\n              var promise =\n                this._then(didFulfill, didReject, undefined, undefined, undefined);\n              promise._setIsFinal();\n            };\n\n            Promise.prototype.spread = function (fn) {\n              if (typeof fn !== \"function\") {\n                return apiRejection(\"expecting a function but got \" + util.classString(fn));\n              }\n              return this.all()._then(fn, undefined, undefined, APPLY, undefined);\n            };\n\n            Promise.prototype.toJSON = function () {\n              var ret = {\n                  isFulfilled: false,\n                  isRejected: false,\n                  fulfillmentValue: undefined,\n                  rejectionReason: undefined\n              };\n              if (this.isFulfilled()) {\n                ret.fulfillmentValue = this.value();\n                ret.isFulfilled = true;\n              } else if (this.isRejected()) {\n                ret.rejectionReason = this.reason();\n                ret.isRejected = true;\n              }\n              return ret;\n            };\n\n            Promise.prototype.all = function () {\n              if (arguments.length > 0) {\n                this._warn(\".all() was passed arguments but it does not take any\");\n              }\n              return new PromiseArray(this).promise();\n            };\n\n            Promise.prototype.error = function (fn) {\n              return this.caught(util.originatesFromRejection, fn);\n            };\n\n            Promise.getNewLibraryCopy = module.exports;\n\n            Promise.is = function (val) {\n              return val instanceof Promise;\n            };\n\n            Promise.fromNode = Promise.fromCallback = function(fn) {\n              var ret = new Promise(INTERNAL);\n              ret._captureStackTrace();\n              var multiArgs = arguments.length > 1 ? !!Object(arguments[1]).multiArgs\n                  : false;\n              var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));\n              if (result === errorObj) {\n                ret._rejectCallback(result.e, true);\n              }\n              if (!ret._isFateSealed()) ret._setAsyncGuaranteed();\n              return ret;\n            };\n\n            Promise.all = function (promises) {\n              return new PromiseArray(promises).promise();\n            };\n\n            Promise.cast = function (obj) {\n              var ret = tryConvertToPromise(obj);\n              if (!(ret instanceof Promise)) {\n                ret = new Promise(INTERNAL);\n                ret._captureStackTrace();\n                ret._setFulfilled();\n                ret._rejectionHandler0 = obj;\n              }\n              return ret;\n            };\n\n            Promise.resolve = Promise.fulfilled = Promise.cast;\n\n            Promise.reject = Promise.rejected = function (reason) {\n              var ret = new Promise(INTERNAL);\n              ret._captureStackTrace();\n              ret._rejectCallback(reason, true);\n              return ret;\n            };\n\n            Promise.setScheduler = function(fn) {\n              if (typeof fn !== \"function\") {\n                throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n              }\n              return async.setScheduler(fn);\n            };\n\n            Promise.prototype._then = function (\n                didFulfill,\n                didReject,\n                _,    receiver,\n                internalData\n            ) {\n              var haveInternalData = internalData !== undefined;\n              var promise = haveInternalData ? internalData : new Promise(INTERNAL);\n              var target = this._target();\n              var bitField = target._bitField;\n\n              if (!haveInternalData) {\n                promise._propagateFrom(this, 3);\n                promise._captureStackTrace();\n                if (receiver === undefined &&\n                    ((this._bitField & 2097152) !== 0)) {\n                  if (!((bitField & 50397184) === 0)) {\n                    receiver = this._boundValue();\n                  } else {\n                    receiver = target === this ? undefined : this._boundTo;\n                  }\n                }\n                this._fireEvent(\"promiseChained\", this, promise);\n              }\n\n              var domain = getDomain();\n              if (!((bitField & 50397184) === 0)) {\n                var handler, value, settler = target._settlePromiseCtx;\n                if (((bitField & 33554432) !== 0)) {\n                  value = target._rejectionHandler0;\n                  handler = didFulfill;\n                } else if (((bitField & 16777216) !== 0)) {\n                  value = target._fulfillmentHandler0;\n                  handler = didReject;\n                  target._unsetRejectionIsUnhandled();\n                } else {\n                  settler = target._settlePromiseLateCancellationObserver;\n                  value = new CancellationError(\"late cancellation observer\");\n                  target._attachExtraTrace(value);\n                  handler = didReject;\n                }\n\n                async.invoke(settler, target, {\n                  handler: domain === null ? handler\n                      : (typeof handler === \"function\" &&\n                          util.domainBind(domain, handler)),\n                          promise: promise,\n                          receiver: receiver,\n                          value: value\n                });\n              } else {\n                target._addCallbacks(didFulfill, didReject, promise, receiver, domain);\n              }\n\n              return promise;\n            };\n\n            Promise.prototype._length = function () {\n              return this._bitField & 65535;\n            };\n\n            Promise.prototype._isFateSealed = function () {\n              return (this._bitField & 117506048) !== 0;\n            };\n\n            Promise.prototype._isFollowing = function () {\n              return (this._bitField & 67108864) === 67108864;\n            };\n\n            Promise.prototype._setLength = function (len) {\n              this._bitField = (this._bitField & -65536) |\n              (len & 65535);\n            };\n\n            Promise.prototype._setFulfilled = function () {\n              this._bitField = this._bitField | 33554432;\n              this._fireEvent(\"promiseFulfilled\", this);\n            };\n\n            Promise.prototype._setRejected = function () {\n              this._bitField = this._bitField | 16777216;\n              this._fireEvent(\"promiseRejected\", this);\n            };\n\n            Promise.prototype._setFollowing = function () {\n              this._bitField = this._bitField | 67108864;\n              this._fireEvent(\"promiseResolved\", this);\n            };\n\n            Promise.prototype._setIsFinal = function () {\n              this._bitField = this._bitField | 4194304;\n            };\n\n            Promise.prototype._isFinal = function () {\n              return (this._bitField & 4194304) > 0;\n            };\n\n            Promise.prototype._unsetCancelled = function() {\n              this._bitField = this._bitField & (~65536);\n            };\n\n            Promise.prototype._setCancelled = function() {\n              this._bitField = this._bitField | 65536;\n              this._fireEvent(\"promiseCancelled\", this);\n            };\n\n            Promise.prototype._setWillBeCancelled = function() {\n              this._bitField = this._bitField | 8388608;\n            };\n\n            Promise.prototype._setAsyncGuaranteed = function() {\n              if (async.hasCustomScheduler()) return;\n              this._bitField = this._bitField | 134217728;\n            };\n\n            Promise.prototype._receiverAt = function (index) {\n              var ret = index === 0 ? this._receiver0 : this[\n                index * 4 - 4 + 3];\n              if (ret === UNDEFINED_BINDING) {\n                return undefined;\n              } else if (ret === undefined && this._isBound()) {\n                return this._boundValue();\n              }\n              return ret;\n            };\n\n            Promise.prototype._promiseAt = function (index) {\n              return this[\n                index * 4 - 4 + 2];\n            };\n\n            Promise.prototype._fulfillmentHandlerAt = function (index) {\n              return this[\n                index * 4 - 4 + 0];\n            };\n\n            Promise.prototype._rejectionHandlerAt = function (index) {\n              return this[\n                index * 4 - 4 + 1];\n            };\n\n            Promise.prototype._boundValue = function() {};\n\n            Promise.prototype._migrateCallback0 = function (follower) {\n              var bitField = follower._bitField;\n              var fulfill = follower._fulfillmentHandler0;\n              var reject = follower._rejectionHandler0;\n              var promise = follower._promise0;\n              var receiver = follower._receiverAt(0);\n              if (receiver === undefined) receiver = UNDEFINED_BINDING;\n              this._addCallbacks(fulfill, reject, promise, receiver, null);\n            };\n\n            Promise.prototype._migrateCallbackAt = function (follower, index) {\n              var fulfill = follower._fulfillmentHandlerAt(index);\n              var reject = follower._rejectionHandlerAt(index);\n              var promise = follower._promiseAt(index);\n              var receiver = follower._receiverAt(index);\n              if (receiver === undefined) receiver = UNDEFINED_BINDING;\n              this._addCallbacks(fulfill, reject, promise, receiver, null);\n            };\n\n            Promise.prototype._addCallbacks = function (\n                fulfill,\n                reject,\n                promise,\n                receiver,\n                domain\n            ) {\n              var index = this._length();\n\n              if (index >= 65535 - 4) {\n                index = 0;\n                this._setLength(0);\n              }\n\n              if (index === 0) {\n                this._promise0 = promise;\n                this._receiver0 = receiver;\n                if (typeof fulfill === \"function\") {\n                  this._fulfillmentHandler0 =\n                    domain === null ? fulfill : util.domainBind(domain, fulfill);\n                }\n                if (typeof reject === \"function\") {\n                  this._rejectionHandler0 =\n                    domain === null ? reject : util.domainBind(domain, reject);\n                }\n              } else {\n                var base = index * 4 - 4;\n                this[base + 2] = promise;\n                this[base + 3] = receiver;\n                if (typeof fulfill === \"function\") {\n                  this[base + 0] =\n                    domain === null ? fulfill : util.domainBind(domain, fulfill);\n                }\n                if (typeof reject === \"function\") {\n                  this[base + 1] =\n                    domain === null ? reject : util.domainBind(domain, reject);\n                }\n              }\n              this._setLength(index + 1);\n              return index;\n            };\n\n            Promise.prototype._proxy = function (proxyable, arg) {\n              this._addCallbacks(undefined, undefined, arg, proxyable, null);\n            };\n\n            Promise.prototype._resolveCallback = function(value, shouldBind) {\n              if (((this._bitField & 117506048) !== 0)) return;\n              if (value === this)\n                return this._rejectCallback(makeSelfResolutionError(), false);\n              var maybePromise = tryConvertToPromise(value, this);\n              if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n              if (shouldBind) this._propagateFrom(maybePromise, 2);\n\n              var promise = maybePromise._target();\n\n              if (promise === this) {\n                this._reject(makeSelfResolutionError());\n                return;\n              }\n\n              var bitField = promise._bitField;\n              if (((bitField & 50397184) === 0)) {\n                var len = this._length();\n                if (len > 0) promise._migrateCallback0(this);\n                for (var i = 1; i < len; ++i) {\n                  promise._migrateCallbackAt(this, i);\n                }\n                this._setFollowing();\n                this._setLength(0);\n                this._setFollowee(promise);\n              } else if (((bitField & 33554432) !== 0)) {\n                this._fulfill(promise._value());\n              } else if (((bitField & 16777216) !== 0)) {\n                this._reject(promise._reason());\n              } else {\n                var reason = new CancellationError(\"late cancellation observer\");\n                promise._attachExtraTrace(reason);\n                this._reject(reason);\n              }\n            };\n\n            Promise.prototype._rejectCallback =\n              function(reason, synchronous, ignoreNonErrorWarnings) {\n              var trace = util.ensureErrorObject(reason);\n              var hasStack = trace === reason;\n              if (!hasStack && !ignoreNonErrorWarnings && debug.warnings()) {\n                var message = \"a promise was rejected with a non-error: \" +\n                util.classString(reason);\n                this._warn(message, true);\n              }\n              this._attachExtraTrace(trace, synchronous ? hasStack : false);\n              this._reject(reason);\n            };\n\n            Promise.prototype._resolveFromExecutor = function (executor) {\n              var promise = this;\n              this._captureStackTrace();\n              this._pushContext();\n              var synchronous = true;\n              var r = this._execute(executor, function(value) {\n                promise._resolveCallback(value);\n              }, function (reason) {\n                promise._rejectCallback(reason, synchronous);\n              });\n              synchronous = false;\n              this._popContext();\n\n              if (r !== undefined) {\n                promise._rejectCallback(r, true);\n              }\n            };\n\n            Promise.prototype._settlePromiseFromHandler = function (\n                handler, receiver, value, promise\n            ) {\n              var bitField = promise._bitField;\n              if (((bitField & 65536) !== 0)) return;\n              promise._pushContext();\n              var x;\n              if (receiver === APPLY) {\n                if (!value || typeof value.length !== \"number\") {\n                  x = errorObj;\n                  x.e = new TypeError(\"cannot .spread() a non-array: \" +\n                      util.classString(value));\n                } else {\n                  x = tryCatch(handler).apply(this._boundValue(), value);\n                }\n              } else {\n                x = tryCatch(handler).call(receiver, value);\n              }\n              var promiseCreated = promise._popContext();\n              bitField = promise._bitField;\n              if (((bitField & 65536) !== 0)) return;\n\n              if (x === NEXT_FILTER) {\n                promise._reject(value);\n              } else if (x === errorObj) {\n                promise._rejectCallback(x.e, false);\n              } else {\n                debug.checkForgottenReturns(x, promiseCreated, \"\",  promise, this);\n                promise._resolveCallback(x);\n              }\n            };\n\n            Promise.prototype._target = function() {\n              var ret = this;\n              while (ret._isFollowing()) ret = ret._followee();\n              return ret;\n            };\n\n            Promise.prototype._followee = function() {\n              return this._rejectionHandler0;\n            };\n\n            Promise.prototype._setFollowee = function(promise) {\n              this._rejectionHandler0 = promise;\n            };\n\n            Promise.prototype._settlePromise = function(promise, handler, receiver, value) {\n              var isPromise = promise instanceof Promise;\n              var bitField = this._bitField;\n              var asyncGuaranteed = ((bitField & 134217728) !== 0);\n              if (((bitField & 65536) !== 0)) {\n                if (isPromise) promise._invokeInternalOnCancel();\n\n                if (receiver instanceof PassThroughHandlerContext &&\n                    receiver.isFinallyHandler()) {\n                  receiver.cancelPromise = promise;\n                  if (tryCatch(handler).call(receiver, value) === errorObj) {\n                    promise._reject(errorObj.e);\n                  }\n                } else if (handler === reflectHandler) {\n                  promise._fulfill(reflectHandler.call(receiver));\n                } else if (receiver instanceof Proxyable) {\n                  receiver._promiseCancelled(promise);\n                } else if (isPromise || promise instanceof PromiseArray) {\n                  promise._cancel();\n                } else {\n                  receiver.cancel();\n                }\n              } else if (typeof handler === \"function\") {\n                if (!isPromise) {\n                  handler.call(receiver, value, promise);\n                } else {\n                  if (asyncGuaranteed) promise._setAsyncGuaranteed();\n                  this._settlePromiseFromHandler(handler, receiver, value, promise);\n                }\n              } else if (receiver instanceof Proxyable) {\n                if (!receiver._isResolved()) {\n                  if (((bitField & 33554432) !== 0)) {\n                    receiver._promiseFulfilled(value, promise);\n                  } else {\n                    receiver._promiseRejected(value, promise);\n                  }\n                }\n              } else if (isPromise) {\n                if (asyncGuaranteed) promise._setAsyncGuaranteed();\n                if (((bitField & 33554432) !== 0)) {\n                  promise._fulfill(value);\n                } else {\n                  promise._reject(value);\n                }\n              }\n            };\n\n            Promise.prototype._settlePromiseLateCancellationObserver = function(ctx) {\n              var handler = ctx.handler;\n              var promise = ctx.promise;\n              var receiver = ctx.receiver;\n              var value = ctx.value;\n              if (typeof handler === \"function\") {\n                if (!(promise instanceof Promise)) {\n                  handler.call(receiver, value, promise);\n                } else {\n                  this._settlePromiseFromHandler(handler, receiver, value, promise);\n                }\n              } else if (promise instanceof Promise) {\n                promise._reject(value);\n              }\n            };\n\n            Promise.prototype._settlePromiseCtx = function(ctx) {\n              this._settlePromise(ctx.promise, ctx.handler, ctx.receiver, ctx.value);\n            };\n\n            Promise.prototype._settlePromise0 = function(handler, value, bitField) {\n              var promise = this._promise0;\n              var receiver = this._receiverAt(0);\n              this._promise0 = undefined;\n              this._receiver0 = undefined;\n              this._settlePromise(promise, handler, receiver, value);\n            };\n\n            Promise.prototype._clearCallbackDataAtIndex = function(index) {\n              var base = index * 4 - 4;\n              this[base + 2] =\n                this[base + 3] =\n                  this[base + 0] =\n                    this[base + 1] = undefined;\n            };\n\n            Promise.prototype._fulfill = function (value) {\n              var bitField = this._bitField;\n              if (((bitField & 117506048) >>> 16)) return;\n              if (value === this) {\n                var err = makeSelfResolutionError();\n                this._attachExtraTrace(err);\n                return this._reject(err);\n              }\n              this._setFulfilled();\n              this._rejectionHandler0 = value;\n\n              if ((bitField & 65535) > 0) {\n                if (((bitField & 134217728) !== 0)) {\n                  this._settlePromises();\n                } else {\n                  async.settlePromises(this);\n                }\n              }\n            };\n\n            Promise.prototype._reject = function (reason) {\n              var bitField = this._bitField;\n              if (((bitField & 117506048) >>> 16)) return;\n              this._setRejected();\n              this._fulfillmentHandler0 = reason;\n\n              if (this._isFinal()) {\n                return async.fatalError(reason, util.isNode);\n              }\n\n              if ((bitField & 65535) > 0) {\n                async.settlePromises(this);\n              } else {\n                this._ensurePossibleRejectionHandled();\n              }\n            };\n\n            Promise.prototype._fulfillPromises = function (len, value) {\n              for (var i = 1; i < len; i++) {\n                var handler = this._fulfillmentHandlerAt(i);\n                var promise = this._promiseAt(i);\n                var receiver = this._receiverAt(i);\n                this._clearCallbackDataAtIndex(i);\n                this._settlePromise(promise, handler, receiver, value);\n              }\n            };\n\n            Promise.prototype._rejectPromises = function (len, reason) {\n              for (var i = 1; i < len; i++) {\n                var handler = this._rejectionHandlerAt(i);\n                var promise = this._promiseAt(i);\n                var receiver = this._receiverAt(i);\n                this._clearCallbackDataAtIndex(i);\n                this._settlePromise(promise, handler, receiver, reason);\n              }\n            };\n\n            Promise.prototype._settlePromises = function () {\n              var bitField = this._bitField;\n              var len = (bitField & 65535);\n\n              if (len > 0) {\n                if (((bitField & 16842752) !== 0)) {\n                  var reason = this._fulfillmentHandler0;\n                  this._settlePromise0(this._rejectionHandler0, reason, bitField);\n                  this._rejectPromises(len, reason);\n                } else {\n                  var value = this._rejectionHandler0;\n                  this._settlePromise0(this._fulfillmentHandler0, value, bitField);\n                  this._fulfillPromises(len, value);\n                }\n                this._setLength(0);\n              }\n              this._clearCancellationData();\n            };\n\n            Promise.prototype._settledValue = function() {\n              var bitField = this._bitField;\n              if (((bitField & 33554432) !== 0)) {\n                return this._rejectionHandler0;\n              } else if (((bitField & 16777216) !== 0)) {\n                return this._fulfillmentHandler0;\n              }\n            };\n\n            function deferResolve(v) {this.promise._resolveCallback(v);}\n            function deferReject(v) {this.promise._rejectCallback(v, false);}\n\n            Promise.defer = Promise.pending = function() {\n              debug.deprecated(\"Promise.defer\", \"new Promise\");\n              var promise = new Promise(INTERNAL);\n              return {\n                promise: promise,\n                resolve: deferResolve,\n                reject: deferReject\n              };\n            };\n\n            util.notEnumerableProp(Promise,\n                \"_makeSelfResolutionError\",\n                makeSelfResolutionError);\n\n            _dereq_(\"./method\")(Promise, INTERNAL, tryConvertToPromise, apiRejection,\n                debug);\n            _dereq_(\"./bind\")(Promise, INTERNAL, tryConvertToPromise, debug);\n            _dereq_(\"./cancel\")(Promise, PromiseArray, apiRejection, debug);\n            _dereq_(\"./direct_resolve\")(Promise);\n            _dereq_(\"./synchronous_inspection\")(Promise);\n            _dereq_(\"./join\")(\n                Promise, PromiseArray, tryConvertToPromise, INTERNAL, async, getDomain);\n            Promise.Promise = Promise;\n            Promise.version = \"3.4.5\";\n            _dereq_('./map.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n            _dereq_('./call_get.js')(Promise);\n            _dereq_('./using.js')(Promise, apiRejection, tryConvertToPromise, createContext, INTERNAL, debug);\n            _dereq_('./timers.js')(Promise, INTERNAL, debug);\n            _dereq_('./generators.js')(Promise, apiRejection, INTERNAL, tryConvertToPromise, Proxyable, debug);\n            _dereq_('./nodeify.js')(Promise);\n            _dereq_('./promisify.js')(Promise, INTERNAL);\n            _dereq_('./props.js')(Promise, PromiseArray, tryConvertToPromise, apiRejection);\n            _dereq_('./race.js')(Promise, INTERNAL, tryConvertToPromise, apiRejection);\n            _dereq_('./reduce.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n            _dereq_('./settle.js')(Promise, PromiseArray, debug);\n            _dereq_('./some.js')(Promise, PromiseArray, apiRejection);\n            _dereq_('./filter.js')(Promise, INTERNAL);\n            _dereq_('./each.js')(Promise, INTERNAL);\n            _dereq_('./any.js')(Promise);\n\n            util.toFastProperties(Promise);                                          \n            util.toFastProperties(Promise.prototype);                                \n            function fillTypes(value) {                                              \n              var p = new Promise(INTERNAL);                                       \n              p._fulfillmentHandler0 = value;                                      \n              p._rejectionHandler0 = value;                                        \n              p._promise0 = value;                                                 \n              p._receiver0 = value;                                                \n            }                                                                        \n            // Complete slack tracking, opt out of field-type tracking and           \n            // stabilize map                                                         \n            fillTypes({a: 1});                                                       \n            fillTypes({b: 2});                                                       \n            fillTypes({c: 3});                                                       \n            fillTypes(1);                                                            \n            fillTypes(function(){});                                                 \n            fillTypes(undefined);                                                    \n            fillTypes(false);                                                        \n            fillTypes(new Promise(INTERNAL));                                        \n            debug.setBounds(Async.firstLineError, util.lastLineError);               \n            return Promise;                                                          \n\n          };\n\n        },{\"./any.js\":1,\"./async\":2,\"./bind\":3,\"./call_get.js\":5,\"./cancel\":6,\"./catch_filter\":7,\"./context\":8,\"./debuggability\":9,\"./direct_resolve\":10,\"./each.js\":11,\"./errors\":12,\"./es5\":13,\"./filter.js\":14,\"./finally\":15,\"./generators.js\":16,\"./join\":17,\"./map.js\":18,\"./method\":19,\"./nodeback\":20,\"./nodeify.js\":21,\"./promise_array\":23,\"./promisify.js\":24,\"./props.js\":25,\"./race.js\":27,\"./reduce.js\":28,\"./settle.js\":30,\"./some.js\":31,\"./synchronous_inspection\":32,\"./thenables\":33,\"./timers.js\":34,\"./using.js\":35,\"./util\":36}],23:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function(Promise, INTERNAL, tryConvertToPromise,\n              apiRejection, Proxyable) {\n            var util = _dereq_(\"./util\");\n            var isArray = util.isArray;\n\n            function toResolutionValue(val) {\n              switch(val) {\n              case -2: return [];\n              case -3: return {};\n              }\n            }\n\n            function PromiseArray(values) {\n              var promise = this._promise = new Promise(INTERNAL);\n              if (values instanceof Promise) {\n                promise._propagateFrom(values, 3);\n              }\n              promise._setOnCancel(this);\n              this._values = values;\n              this._length = 0;\n              this._totalResolved = 0;\n              this._init(undefined, -2);\n            }\n            util.inherits(PromiseArray, Proxyable);\n\n            PromiseArray.prototype.length = function () {\n              return this._length;\n            };\n\n            PromiseArray.prototype.promise = function () {\n              return this._promise;\n            };\n\n            PromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n              var values = tryConvertToPromise(this._values, this._promise);\n              if (values instanceof Promise) {\n                values = values._target();\n                var bitField = values._bitField;\n                ;\n                this._values = values;\n\n                if (((bitField & 50397184) === 0)) {\n                  this._promise._setAsyncGuaranteed();\n                  return values._then(\n                      init,\n                      this._reject,\n                      undefined,\n                      this,\n                      resolveValueIfEmpty\n                  );\n                } else if (((bitField & 33554432) !== 0)) {\n                  values = values._value();\n                } else if (((bitField & 16777216) !== 0)) {\n                  return this._reject(values._reason());\n                } else {\n                  return this._cancel();\n                }\n              }\n              values = util.asArray(values);\n              if (values === null) {\n                var err = apiRejection(\n                    \"expecting an array or an iterable object but got \" + util.classString(values)).reason();\n                this._promise._rejectCallback(err, false);\n                return;\n              }\n\n              if (values.length === 0) {\n                if (resolveValueIfEmpty === -5) {\n                  this._resolveEmptyArray();\n                }\n                else {\n                  this._resolve(toResolutionValue(resolveValueIfEmpty));\n                }\n                return;\n              }\n              this._iterate(values);\n            };\n\n            PromiseArray.prototype._iterate = function(values) {\n              var len = this.getActualLength(values.length);\n              this._length = len;\n              this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n              var result = this._promise;\n              var isResolved = false;\n              var bitField = null;\n              for (var i = 0; i < len; ++i) {\n                var maybePromise = tryConvertToPromise(values[i], result);\n\n                if (maybePromise instanceof Promise) {\n                  maybePromise = maybePromise._target();\n                  bitField = maybePromise._bitField;\n                } else {\n                  bitField = null;\n                }\n\n                if (isResolved) {\n                  if (bitField !== null) {\n                    maybePromise.suppressUnhandledRejections();\n                  }\n                } else if (bitField !== null) {\n                  if (((bitField & 50397184) === 0)) {\n                    maybePromise._proxy(this, i);\n                    this._values[i] = maybePromise;\n                  } else if (((bitField & 33554432) !== 0)) {\n                    isResolved = this._promiseFulfilled(maybePromise._value(), i);\n                  } else if (((bitField & 16777216) !== 0)) {\n                    isResolved = this._promiseRejected(maybePromise._reason(), i);\n                  } else {\n                    isResolved = this._promiseCancelled(i);\n                  }\n                } else {\n                  isResolved = this._promiseFulfilled(maybePromise, i);\n                }\n              }\n              if (!isResolved) result._setAsyncGuaranteed();\n            };\n\n            PromiseArray.prototype._isResolved = function () {\n              return this._values === null;\n            };\n\n            PromiseArray.prototype._resolve = function (value) {\n              this._values = null;\n              this._promise._fulfill(value);\n            };\n\n            PromiseArray.prototype._cancel = function() {\n              if (this._isResolved() || !this._promise._isCancellable()) return;\n              this._values = null;\n              this._promise._cancel();\n            };\n\n            PromiseArray.prototype._reject = function (reason) {\n              this._values = null;\n              this._promise._rejectCallback(reason, false);\n            };\n\n            PromiseArray.prototype._promiseFulfilled = function (value, index) {\n              this._values[index] = value;\n              var totalResolved = ++this._totalResolved;\n              if (totalResolved >= this._length) {\n                this._resolve(this._values);\n                return true;\n              }\n              return false;\n            };\n\n            PromiseArray.prototype._promiseCancelled = function() {\n              this._cancel();\n              return true;\n            };\n\n            PromiseArray.prototype._promiseRejected = function (reason) {\n              this._totalResolved++;\n              this._reject(reason);\n              return true;\n            };\n\n            PromiseArray.prototype._resultCancelled = function() {\n              if (this._isResolved()) return;\n              var values = this._values;\n              this._cancel();\n              if (values instanceof Promise) {\n                values.cancel();\n              } else {\n                for (var i = 0; i < values.length; ++i) {\n                  if (values[i] instanceof Promise) {\n                    values[i].cancel();\n                  }\n                }\n              }\n            };\n\n            PromiseArray.prototype.shouldCopyValues = function () {\n              return true;\n            };\n\n            PromiseArray.prototype.getActualLength = function (len) {\n              return len;\n            };\n\n            return PromiseArray;\n          };\n\n        },{\"./util\":36}],24:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function(Promise, INTERNAL) {\n            var THIS = {};\n            var util = _dereq_(\"./util\");\n            var nodebackForPromise = _dereq_(\"./nodeback\");\n            var withAppended = util.withAppended;\n            var maybeWrapAsError = util.maybeWrapAsError;\n            var canEvaluate = util.canEvaluate;\n            var TypeError = _dereq_(\"./errors\").TypeError;\n            var defaultSuffix = \"Async\";\n            var defaultPromisified = {__isPromisified__: true};\n            var noCopyProps = [\n              \"arity\",    \"length\",\n              \"name\",\n              \"arguments\",\n              \"caller\",\n              \"callee\",\n              \"prototype\",\n              \"__isPromisified__\"\n              ];\n            var noCopyPropsPattern = new RegExp(\"^(?:\" + noCopyProps.join(\"|\") + \")$\");\n\n            var defaultFilter = function(name) {\n              return util.isIdentifier(name) &&\n              name.charAt(0) !== \"_\" &&\n              name !== \"constructor\";\n            };\n\n            function propsFilter(key) {\n              return !noCopyPropsPattern.test(key);\n            }\n\n            function isPromisified(fn) {\n              try {\n                return fn.__isPromisified__ === true;\n              }\n              catch (e) {\n                return false;\n              }\n            }\n\n            function hasPromisified(obj, key, suffix) {\n              var val = util.getDataPropertyOrDefault(obj, key + suffix,\n                  defaultPromisified);\n              return val ? isPromisified(val) : false;\n            }\n            function checkValid(ret, suffix, suffixRegexp) {\n              for (var i = 0; i < ret.length; i += 2) {\n                var key = ret[i];\n                if (suffixRegexp.test(key)) {\n                  var keyWithoutAsyncSuffix = key.replace(suffixRegexp, \"\");\n                  for (var j = 0; j < ret.length; j += 2) {\n                    if (ret[j] === keyWithoutAsyncSuffix) {\n                      throw new TypeError(\"Cannot promisify an API that has normal methods with '%s'-suffix\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\"\n                          .replace(\"%s\", suffix));\n                    }\n                  }\n                }\n              }\n            }\n\n            function promisifiableMethods(obj, suffix, suffixRegexp, filter) {\n              var keys = util.inheritedDataKeys(obj);\n              var ret = [];\n              for (var i = 0; i < keys.length; ++i) {\n                var key = keys[i];\n                var value = obj[key];\n                var passesDefaultFilter = filter === defaultFilter\n                ? true : defaultFilter(key, value, obj);\n                if (typeof value === \"function\" &&\n                    !isPromisified(value) &&\n                    !hasPromisified(obj, key, suffix) &&\n                    filter(key, value, obj, passesDefaultFilter)) {\n                  ret.push(key, value);\n                }\n              }\n              checkValid(ret, suffix, suffixRegexp);\n              return ret;\n            }\n\n            var escapeIdentRegex = function(str) {\n              return str.replace(/([$])/, \"\\\\$\");\n            };\n\n            var makeNodePromisifiedEval;\n            if (!true) {\n              var switchCaseArgumentOrder = function(likelyArgumentCount) {\n                var ret = [likelyArgumentCount];\n                var min = Math.max(0, likelyArgumentCount - 1 - 3);\n                for(var i = likelyArgumentCount - 1; i >= min; --i) {\n                  ret.push(i);\n                }\n                for(var i = likelyArgumentCount + 1; i <= 3; ++i) {\n                  ret.push(i);\n                }\n                return ret;\n              };\n\n              var argumentSequence = function(argumentCount) {\n                return util.filledRange(argumentCount, \"_arg\", \"\");\n              };\n\n              var parameterDeclaration = function(parameterCount) {\n                return util.filledRange(\n                    Math.max(parameterCount, 3), \"_arg\", \"\");\n              };\n\n              var parameterCount = function(fn) {\n                if (typeof fn.length === \"number\") {\n                  return Math.max(Math.min(fn.length, 1023 + 1), 0);\n                }\n                return 0;\n              };\n\n              makeNodePromisifiedEval =\n                function(callback, receiver, originalName, fn, _, multiArgs) {\n                var newParameterCount = Math.max(0, parameterCount(fn) - 1);\n                var argumentOrder = switchCaseArgumentOrder(newParameterCount);\n                var shouldProxyThis = typeof callback === \"string\" || receiver === THIS;\n\n                function generateCallForArgumentCount(count) {\n                  var args = argumentSequence(count).join(\", \");\n                  var comma = count > 0 ? \", \" : \"\";\n                  var ret;\n                  if (shouldProxyThis) {\n                    ret = \"ret = callback.call(this, {{args}}, nodeback); break;\\n\";\n                  } else {\n                    ret = receiver === undefined\n                    ? \"ret = callback({{args}}, nodeback); break;\\n\"\n                        : \"ret = callback.call(receiver, {{args}}, nodeback); break;\\n\";\n                  }\n                  return ret.replace(\"{{args}}\", args).replace(\", \", comma);\n                }\n\n                function generateArgumentSwitchCase() {\n                  var ret = \"\";\n                  for (var i = 0; i < argumentOrder.length; ++i) {\n                    ret += \"case \" + argumentOrder[i] +\":\" +\n                    generateCallForArgumentCount(argumentOrder[i]);\n                  }\n\n                  ret += \"                                                             \\n\\\n                    default:                                                             \\n\\\n                    var args = new Array(len + 1);                                   \\n\\\n                    var i = 0;                                                       \\n\\\n                    for (var i = 0; i < len; ++i) {                                  \\n\\\n                    args[i] = arguments[i];                                       \\n\\\n                    }                                                                \\n\\\n                    args[i] = nodeback;                                              \\n\\\n                    [CodeForCall]                                                    \\n\\\n                    break;                                                           \\n\\\n                    \".replace(\"[CodeForCall]\", (shouldProxyThis\n                        ? \"ret = callback.apply(this, args);\\n\"\n                            : \"ret = callback.apply(receiver, args);\\n\"));\n                  return ret;\n                }\n\n                var getFunctionCode = typeof callback === \"string\"\n                  ? (\"this != null ? this['\"+callback+\"'] : fn\")\n                      : \"fn\";\n                  var body = \"'use strict';                                                \\n\\\n                    var ret = function (Parameters) {                                    \\n\\\n                    'use strict';                                                    \\n\\\n                    var len = arguments.length;                                      \\n\\\n                    var promise = new Promise(INTERNAL);                             \\n\\\n                    promise._captureStackTrace();                                    \\n\\\n                    var nodeback = nodebackForPromise(promise, \" + multiArgs + \");   \\n\\\n                    var ret;                                                         \\n\\\n                    var callback = tryCatch([GetFunctionCode]);                      \\n\\\n                    switch(len) {                                                    \\n\\\n                    [CodeForSwitchCase]                                          \\n\\\n                    }                                                                \\n\\\n                    if (ret === errorObj) {                                          \\n\\\n                    promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\\n\\\n                    }                                                                \\n\\\n                    if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \\n\\\n                    return promise;                                                  \\n\\\n                    };                                                                   \\n\\\n                    notEnumerableProp(ret, '__isPromisified__', true);                   \\n\\\n                    return ret;                                                          \\n\\\n                    \".replace(\"[CodeForSwitchCase]\", generateArgumentSwitchCase())\n                    .replace(\"[GetFunctionCode]\", getFunctionCode);\n                  body = body.replace(\"Parameters\", parameterDeclaration(newParameterCount));\n                  return new Function(\"Promise\",\n                      \"fn\",\n                      \"receiver\",\n                      \"withAppended\",\n                      \"maybeWrapAsError\",\n                      \"nodebackForPromise\",\n                      \"tryCatch\",\n                      \"errorObj\",\n                      \"notEnumerableProp\",\n                      \"INTERNAL\",\n                      body)(\n                          Promise,\n                          fn,\n                          receiver,\n                          withAppended,\n                          maybeWrapAsError,\n                          nodebackForPromise,\n                          util.tryCatch,\n                          util.errorObj,\n                          util.notEnumerableProp,\n                          INTERNAL);\n              };\n            }\n\n            function makeNodePromisifiedClosure(callback, receiver, _, fn, __, multiArgs) {\n              var defaultThis = (function() {return this;})();\n              var method = callback;\n              if (typeof method === \"string\") {\n                callback = fn;\n              }\n              function promisified() {\n                var _receiver = receiver;\n                if (receiver === THIS) _receiver = this;\n                var promise = new Promise(INTERNAL);\n                promise._captureStackTrace();\n                var cb = typeof method === \"string\" && this !== defaultThis\n                ? this[method] : callback;\n                var fn = nodebackForPromise(promise, multiArgs);\n                try {\n                  cb.apply(_receiver, withAppended(arguments, fn));\n                } catch(e) {\n                  promise._rejectCallback(maybeWrapAsError(e), true, true);\n                }\n                if (!promise._isFateSealed()) promise._setAsyncGuaranteed();\n                return promise;\n              }\n              util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n              return promisified;\n            }\n\n            var makeNodePromisified = canEvaluate\n            ? makeNodePromisifiedEval\n                : makeNodePromisifiedClosure;\n\n            function promisifyAll(obj, suffix, filter, promisifier, multiArgs) {\n              var suffixRegexp = new RegExp(escapeIdentRegex(suffix) + \"$\");\n              var methods =\n                promisifiableMethods(obj, suffix, suffixRegexp, filter);\n\n              for (var i = 0, len = methods.length; i < len; i+= 2) {\n                var key = methods[i];\n                var fn = methods[i+1];\n                var promisifiedKey = key + suffix;\n                if (promisifier === makeNodePromisified) {\n                  obj[promisifiedKey] =\n                    makeNodePromisified(key, THIS, key, fn, suffix, multiArgs);\n                } else {\n                  var promisified = promisifier(fn, function() {\n                    return makeNodePromisified(key, THIS, key,\n                        fn, suffix, multiArgs);\n                  });\n                  util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n                  obj[promisifiedKey] = promisified;\n                }\n              }\n              util.toFastProperties(obj);\n              return obj;\n            }\n\n            function promisify(callback, receiver, multiArgs) {\n              return makeNodePromisified(callback, receiver, undefined,\n                  callback, null, multiArgs);\n            }\n\n            Promise.promisify = function (fn, options) {\n              if (typeof fn !== \"function\") {\n                throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n              }\n              if (isPromisified(fn)) {\n                return fn;\n              }\n              options = Object(options);\n              var receiver = options.context === undefined ? THIS : options.context;\n              var multiArgs = !!options.multiArgs;\n              var ret = promisify(fn, receiver, multiArgs);\n              util.copyDescriptors(fn, ret, propsFilter);\n              return ret;\n            };\n\n            Promise.promisifyAll = function (target, options) {\n              if (typeof target !== \"function\" && typeof target !== \"object\") {\n                throw new TypeError(\"the target of promisifyAll must be an object or a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n              }\n              options = Object(options);\n              var multiArgs = !!options.multiArgs;\n              var suffix = options.suffix;\n              if (typeof suffix !== \"string\") suffix = defaultSuffix;\n              var filter = options.filter;\n              if (typeof filter !== \"function\") filter = defaultFilter;\n              var promisifier = options.promisifier;\n              if (typeof promisifier !== \"function\") promisifier = makeNodePromisified;\n\n              if (!util.isIdentifier(suffix)) {\n                throw new RangeError(\"suffix must be a valid identifier\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n              }\n\n              var keys = util.inheritedDataKeys(target);\n              for (var i = 0; i < keys.length; ++i) {\n                var value = target[keys[i]];\n                if (keys[i] !== \"constructor\" &&\n                    util.isClass(value)) {\n                  promisifyAll(value.prototype, suffix, filter, promisifier,\n                      multiArgs);\n                  promisifyAll(value, suffix, filter, promisifier, multiArgs);\n                }\n              }\n\n              return promisifyAll(target, suffix, filter, promisifier, multiArgs);\n            };\n          };\n\n\n        },{\"./errors\":12,\"./nodeback\":20,\"./util\":36}],25:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function(\n              Promise, PromiseArray, tryConvertToPromise, apiRejection) {\n            var util = _dereq_(\"./util\");\n            var isObject = util.isObject;\n            var es5 = _dereq_(\"./es5\");\n            var Es6Map;\n            if (typeof Map === \"function\") Es6Map = Map;\n\n            var mapToEntries = (function() {\n              var index = 0;\n              var size = 0;\n\n              function extractEntry(value, key) {\n                this[index] = value;\n                this[index + size] = key;\n                index++;\n              }\n\n              return function mapToEntries(map) {\n                size = map.size;\n                index = 0;\n                var ret = new Array(map.size * 2);\n                map.forEach(extractEntry, ret);\n                return ret;\n              };\n            })();\n\n            var entriesToMap = function(entries) {\n              var ret = new Es6Map();\n              var length = entries.length / 2 | 0;\n              for (var i = 0; i < length; ++i) {\n                var key = entries[length + i];\n                var value = entries[i];\n                ret.set(key, value);\n              }\n              return ret;\n            };\n\n            function PropertiesPromiseArray(obj) {\n              var isMap = false;\n              var entries;\n              if (Es6Map !== undefined && obj instanceof Es6Map) {\n                entries = mapToEntries(obj);\n                isMap = true;\n              } else {\n                var keys = es5.keys(obj);\n                var len = keys.length;\n                entries = new Array(len * 2);\n                for (var i = 0; i < len; ++i) {\n                  var key = keys[i];\n                  entries[i] = obj[key];\n                  entries[i + len] = key;\n                }\n              }\n              this.constructor$(entries);\n              this._isMap = isMap;\n              this._init$(undefined, -3);\n            }\n            util.inherits(PropertiesPromiseArray, PromiseArray);\n\n            PropertiesPromiseArray.prototype._init = function () {};\n\n            PropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n              this._values[index] = value;\n              var totalResolved = ++this._totalResolved;\n              if (totalResolved >= this._length) {\n                var val;\n                if (this._isMap) {\n                  val = entriesToMap(this._values);\n                } else {\n                  val = {};\n                  var keyOffset = this.length();\n                  for (var i = 0, len = this.length(); i < len; ++i) {\n                    val[this._values[i + keyOffset]] = this._values[i];\n                  }\n                }\n                this._resolve(val);\n                return true;\n              }\n              return false;\n            };\n\n            PropertiesPromiseArray.prototype.shouldCopyValues = function () {\n              return false;\n            };\n\n            PropertiesPromiseArray.prototype.getActualLength = function (len) {\n              return len >> 1;\n            };\n\n            function props(promises) {\n              var ret;\n              var castValue = tryConvertToPromise(promises);\n\n              if (!isObject(castValue)) {\n                return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n              } else if (castValue instanceof Promise) {\n                ret = castValue._then(\n                    Promise.props, undefined, undefined, undefined, undefined);\n              } else {\n                ret = new PropertiesPromiseArray(castValue).promise();\n              }\n\n              if (castValue instanceof Promise) {\n                ret._propagateFrom(castValue, 2);\n              }\n              return ret;\n            }\n\n            Promise.prototype.props = function () {\n              return props(this);\n            };\n\n            Promise.props = function (promises) {\n              return props(promises);\n            };\n          };\n\n        },{\"./es5\":13,\"./util\":36}],26:[function(_dereq_,module,exports){\n          \"use strict\";\n          function arrayMove(src, srcIndex, dst, dstIndex, len) {\n            for (var j = 0; j < len; ++j) {\n              dst[j + dstIndex] = src[j + srcIndex];\n              src[j + srcIndex] = void 0;\n            }\n          }\n\n          function Queue(capacity) {\n            this._capacity = capacity;\n            this._length = 0;\n            this._front = 0;\n          }\n\n          Queue.prototype._willBeOverCapacity = function (size) {\n            return this._capacity < size;\n          };\n\n          Queue.prototype._pushOne = function (arg) {\n            var length = this.length();\n            this._checkCapacity(length + 1);\n            var i = (this._front + length) & (this._capacity - 1);\n            this[i] = arg;\n            this._length = length + 1;\n          };\n\n          Queue.prototype._unshiftOne = function(value) {\n            var capacity = this._capacity;\n            this._checkCapacity(this.length() + 1);\n            var front = this._front;\n            var i = (((( front - 1 ) &\n                ( capacity - 1) ) ^ capacity ) - capacity );\n            this[i] = value;\n            this._front = i;\n            this._length = this.length() + 1;\n          };\n\n          Queue.prototype.unshift = function(fn, receiver, arg) {\n            this._unshiftOne(arg);\n            this._unshiftOne(receiver);\n            this._unshiftOne(fn);\n          };\n\n          Queue.prototype.push = function (fn, receiver, arg) {\n            var length = this.length() + 3;\n            if (this._willBeOverCapacity(length)) {\n              this._pushOne(fn);\n              this._pushOne(receiver);\n              this._pushOne(arg);\n              return;\n            }\n            var j = this._front + length - 3;\n            this._checkCapacity(length);\n            var wrapMask = this._capacity - 1;\n            this[(j + 0) & wrapMask] = fn;\n            this[(j + 1) & wrapMask] = receiver;\n            this[(j + 2) & wrapMask] = arg;\n            this._length = length;\n          };\n\n          Queue.prototype.shift = function () {\n            var front = this._front,\n            ret = this[front];\n\n            this[front] = undefined;\n            this._front = (front + 1) & (this._capacity - 1);\n            this._length--;\n            return ret;\n          };\n\n          Queue.prototype.length = function () {\n            return this._length;\n          };\n\n          Queue.prototype._checkCapacity = function (size) {\n            if (this._capacity < size) {\n              this._resizeTo(this._capacity << 1);\n            }\n          };\n\n          Queue.prototype._resizeTo = function (capacity) {\n            var oldCapacity = this._capacity;\n            this._capacity = capacity;\n            var front = this._front;\n            var length = this._length;\n            var moveItemsCount = (front + length) & (oldCapacity - 1);\n            arrayMove(this, 0, this, oldCapacity, moveItemsCount);\n          };\n\n          module.exports = Queue;\n\n        },{}],27:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function(\n              Promise, INTERNAL, tryConvertToPromise, apiRejection) {\n            var util = _dereq_(\"./util\");\n\n            var raceLater = function (promise) {\n              return promise.then(function(array) {\n                return race(array, promise);\n              });\n            };\n\n            function race(promises, parent) {\n              var maybePromise = tryConvertToPromise(promises);\n\n              if (maybePromise instanceof Promise) {\n                return raceLater(maybePromise);\n              } else {\n                promises = util.asArray(promises);\n                if (promises === null)\n                  return apiRejection(\"expecting an array or an iterable object but got \" + util.classString(promises));\n              }\n\n              var ret = new Promise(INTERNAL);\n              if (parent !== undefined) {\n                ret._propagateFrom(parent, 3);\n              }\n              var fulfill = ret._fulfill;\n              var reject = ret._reject;\n              for (var i = 0, len = promises.length; i < len; ++i) {\n                var val = promises[i];\n\n                if (val === undefined && !(i in promises)) {\n                  continue;\n                }\n\n                Promise.cast(val)._then(fulfill, reject, undefined, ret, null);\n              }\n              return ret;\n            }\n\n            Promise.race = function (promises) {\n              return race(promises, undefined);\n            };\n\n            Promise.prototype.race = function () {\n              return race(this, undefined);\n            };\n\n          };\n\n        },{\"./util\":36}],28:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function(Promise,\n              PromiseArray,\n              apiRejection,\n              tryConvertToPromise,\n              INTERNAL,\n              debug) {\n            var getDomain = Promise._getDomain;\n            var util = _dereq_(\"./util\");\n            var tryCatch = util.tryCatch;\n\n            function ReductionPromiseArray(promises, fn, initialValue, _each) {\n              this.constructor$(promises);\n              var domain = getDomain();\n              this._fn = domain === null ? fn : util.domainBind(domain, fn);\n              if (initialValue !== undefined) {\n                initialValue = Promise.resolve(initialValue);\n                initialValue._attachCancellationCallback(this);\n              }\n              this._initialValue = initialValue;\n              this._currentCancellable = null;\n              if(_each === INTERNAL) {\n                this._eachValues = Array(this._length);\n              } else if (_each === 0) {\n                this._eachValues = null;\n              } else {\n                this._eachValues = undefined;\n              }\n              this._promise._captureStackTrace();\n              this._init$(undefined, -5);\n            }\n            util.inherits(ReductionPromiseArray, PromiseArray);\n\n            ReductionPromiseArray.prototype._gotAccum = function(accum) {\n              if (this._eachValues !== undefined && \n                  this._eachValues !== null && \n                  accum !== INTERNAL) {\n                this._eachValues.push(accum);\n              }\n            };\n\n            ReductionPromiseArray.prototype._eachComplete = function(value) {\n              if (this._eachValues !== null) {\n                this._eachValues.push(value);\n              }\n              return this._eachValues;\n            };\n\n            ReductionPromiseArray.prototype._init = function() {};\n\n            ReductionPromiseArray.prototype._resolveEmptyArray = function() {\n              this._resolve(this._eachValues !== undefined ? this._eachValues\n                  : this._initialValue);\n            };\n\n            ReductionPromiseArray.prototype.shouldCopyValues = function () {\n              return false;\n            };\n\n            ReductionPromiseArray.prototype._resolve = function(value) {\n              this._promise._resolveCallback(value);\n              this._values = null;\n            };\n\n            ReductionPromiseArray.prototype._resultCancelled = function(sender) {\n              if (sender === this._initialValue) return this._cancel();\n              if (this._isResolved()) return;\n              this._resultCancelled$();\n              if (this._currentCancellable instanceof Promise) {\n                this._currentCancellable.cancel();\n              }\n              if (this._initialValue instanceof Promise) {\n                this._initialValue.cancel();\n              }\n            };\n\n            ReductionPromiseArray.prototype._iterate = function (values) {\n              this._values = values;\n              var value;\n              var i;\n              var length = values.length;\n              if (this._initialValue !== undefined) {\n                value = this._initialValue;\n                i = 0;\n              } else {\n                value = Promise.resolve(values[0]);\n                i = 1;\n              }\n\n              this._currentCancellable = value;\n\n              if (!value.isRejected()) {\n                for (; i < length; ++i) {\n                  var ctx = {\n                      accum: null,\n                      value: values[i],\n                      index: i,\n                      length: length,\n                      array: this\n                  };\n                  value = value._then(gotAccum, undefined, undefined, ctx, undefined);\n                }\n              }\n\n              if (this._eachValues !== undefined) {\n                value = value\n                ._then(this._eachComplete, undefined, undefined, this, undefined);\n              }\n              value._then(completed, completed, undefined, value, this);\n            };\n\n            Promise.prototype.reduce = function (fn, initialValue) {\n              return reduce(this, fn, initialValue, null);\n            };\n\n            Promise.reduce = function (promises, fn, initialValue, _each) {\n              return reduce(promises, fn, initialValue, _each);\n            };\n\n            function completed(valueOrReason, array) {\n              if (this.isFulfilled()) {\n                array._resolve(valueOrReason);\n              } else {\n                array._reject(valueOrReason);\n              }\n            }\n\n            function reduce(promises, fn, initialValue, _each) {\n              if (typeof fn !== \"function\") {\n                return apiRejection(\"expecting a function but got \" + util.classString(fn));\n              }\n              var array = new ReductionPromiseArray(promises, fn, initialValue, _each);\n              return array.promise();\n            }\n\n            function gotAccum(accum) {\n              this.accum = accum;\n              this.array._gotAccum(accum);\n              var value = tryConvertToPromise(this.value, this.array._promise);\n              if (value instanceof Promise) {\n                this.array._currentCancellable = value;\n                return value._then(gotValue, undefined, undefined, this, undefined);\n              } else {\n                return gotValue.call(this, value);\n              }\n            }\n\n            function gotValue(value) {\n              var array = this.array;\n              var promise = array._promise;\n              var fn = tryCatch(array._fn);\n              promise._pushContext();\n              var ret;\n              if (array._eachValues !== undefined) {\n                ret = fn.call(promise._boundValue(), value, this.index, this.length);\n              } else {\n                ret = fn.call(promise._boundValue(),\n                    this.accum, value, this.index, this.length);\n              }\n              if (ret instanceof Promise) {\n                array._currentCancellable = ret;\n              }\n              var promiseCreated = promise._popContext();\n              debug.checkForgottenReturns(\n                  ret,\n                  promiseCreated,\n                  array._eachValues !== undefined ? \"Promise.each\" : \"Promise.reduce\",\n                      promise\n              );\n              return ret;\n            }\n          };\n\n        },{\"./util\":36}],29:[function(_dereq_,module,exports){\n          \"use strict\";\n          var util = _dereq_(\"./util\");\n          var schedule;\n          var noAsyncScheduler = function() {\n            throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n          };\n          var NativePromise = util.getNativePromise();\n          if (util.isNode && typeof MutationObserver === \"undefined\") {\n            var GlobalSetImmediate = global.setImmediate;\n            var ProcessNextTick = process.nextTick;\n            schedule = util.isRecentNode\n            ? function(fn) { GlobalSetImmediate.call(global, fn); }\n            : function(fn) { ProcessNextTick.call(process, fn); };\n          } else if (typeof NativePromise === \"function\" &&\n              typeof NativePromise.resolve === \"function\") {\n            var nativePromise = NativePromise.resolve();\n            schedule = function(fn) {\n              nativePromise.then(fn);\n            };\n          } else if ((typeof MutationObserver !== \"undefined\") &&\n              !(typeof window !== \"undefined\" &&\n                  window.navigator &&\n                  (window.navigator.standalone || window.cordova))) {\n            schedule = (function() {\n              var div = document.createElement(\"div\");\n              var opts = {attributes: true};\n              var toggleScheduled = false;\n              var div2 = document.createElement(\"div\");\n              var o2 = new MutationObserver(function() {\n                div.classList.toggle(\"foo\");\n                toggleScheduled = false;\n              });\n              o2.observe(div2, opts);\n\n              var scheduleToggle = function() {\n                if (toggleScheduled) return;\n                toggleScheduled = true;\n                div2.classList.toggle(\"foo\");\n              };\n\n              return function schedule(fn) {\n                var o = new MutationObserver(function() {\n                  o.disconnect();\n                  fn();\n                });\n                o.observe(div, opts);\n                scheduleToggle();\n              };\n            })();\n          } else if (typeof setImmediate !== \"undefined\") {\n            schedule = function (fn) {\n              setImmediate(fn);\n            };\n          } else if (typeof setTimeout !== \"undefined\") {\n            schedule = function (fn) {\n              setTimeout(fn, 0);\n            };\n          } else {\n            schedule = noAsyncScheduler;\n          }\n          module.exports = schedule;\n\n        },{\"./util\":36}],30:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports =\n            function(Promise, PromiseArray, debug) {\n            var PromiseInspection = Promise.PromiseInspection;\n            var util = _dereq_(\"./util\");\n\n            function SettledPromiseArray(values) {\n              this.constructor$(values);\n            }\n            util.inherits(SettledPromiseArray, PromiseArray);\n\n            SettledPromiseArray.prototype._promiseResolved = function (index, inspection) {\n              this._values[index] = inspection;\n              var totalResolved = ++this._totalResolved;\n              if (totalResolved >= this._length) {\n                this._resolve(this._values);\n                return true;\n              }\n              return false;\n            };\n\n            SettledPromiseArray.prototype._promiseFulfilled = function (value, index) {\n              var ret = new PromiseInspection();\n              ret._bitField = 33554432;\n              ret._settledValueField = value;\n              return this._promiseResolved(index, ret);\n            };\n            SettledPromiseArray.prototype._promiseRejected = function (reason, index) {\n              var ret = new PromiseInspection();\n              ret._bitField = 16777216;\n              ret._settledValueField = reason;\n              return this._promiseResolved(index, ret);\n            };\n\n            Promise.settle = function (promises) {\n              debug.deprecated(\".settle()\", \".reflect()\");\n              return new SettledPromiseArray(promises).promise();\n            };\n\n            Promise.prototype.settle = function () {\n              return Promise.settle(this);\n            };\n          };\n\n        },{\"./util\":36}],31:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports =\n            function(Promise, PromiseArray, apiRejection) {\n            var util = _dereq_(\"./util\");\n            var RangeError = _dereq_(\"./errors\").RangeError;\n            var AggregateError = _dereq_(\"./errors\").AggregateError;\n            var isArray = util.isArray;\n            var CANCELLATION = {};\n\n\n            function SomePromiseArray(values) {\n              this.constructor$(values);\n              this._howMany = 0;\n              this._unwrap = false;\n              this._initialized = false;\n            }\n            util.inherits(SomePromiseArray, PromiseArray);\n\n            SomePromiseArray.prototype._init = function () {\n              if (!this._initialized) {\n                return;\n              }\n              if (this._howMany === 0) {\n                this._resolve([]);\n                return;\n              }\n              this._init$(undefined, -5);\n              var isArrayResolved = isArray(this._values);\n              if (!this._isResolved() &&\n                  isArrayResolved &&\n                  this._howMany > this._canPossiblyFulfill()) {\n                this._reject(this._getRangeError(this.length()));\n              }\n            };\n\n            SomePromiseArray.prototype.init = function () {\n              this._initialized = true;\n              this._init();\n            };\n\n            SomePromiseArray.prototype.setUnwrap = function () {\n              this._unwrap = true;\n            };\n\n            SomePromiseArray.prototype.howMany = function () {\n              return this._howMany;\n            };\n\n            SomePromiseArray.prototype.setHowMany = function (count) {\n              this._howMany = count;\n            };\n\n            SomePromiseArray.prototype._promiseFulfilled = function (value) {\n              this._addFulfilled(value);\n              if (this._fulfilled() === this.howMany()) {\n                this._values.length = this.howMany();\n                if (this.howMany() === 1 && this._unwrap) {\n                  this._resolve(this._values[0]);\n                } else {\n                  this._resolve(this._values);\n                }\n                return true;\n              }\n              return false;\n\n            };\n            SomePromiseArray.prototype._promiseRejected = function (reason) {\n              this._addRejected(reason);\n              return this._checkOutcome();\n            };\n\n            SomePromiseArray.prototype._promiseCancelled = function () {\n              if (this._values instanceof Promise || this._values == null) {\n                return this._cancel();\n              }\n              this._addRejected(CANCELLATION);\n              return this._checkOutcome();\n            };\n\n            SomePromiseArray.prototype._checkOutcome = function() {\n              if (this.howMany() > this._canPossiblyFulfill()) {\n                var e = new AggregateError();\n                for (var i = this.length(); i < this._values.length; ++i) {\n                  if (this._values[i] !== CANCELLATION) {\n                    e.push(this._values[i]);\n                  }\n                }\n                if (e.length > 0) {\n                  this._reject(e);\n                } else {\n                  this._cancel();\n                }\n                return true;\n              }\n              return false;\n            };\n\n            SomePromiseArray.prototype._fulfilled = function () {\n              return this._totalResolved;\n            };\n\n            SomePromiseArray.prototype._rejected = function () {\n              return this._values.length - this.length();\n            };\n\n            SomePromiseArray.prototype._addRejected = function (reason) {\n              this._values.push(reason);\n            };\n\n            SomePromiseArray.prototype._addFulfilled = function (value) {\n              this._values[this._totalResolved++] = value;\n            };\n\n            SomePromiseArray.prototype._canPossiblyFulfill = function () {\n              return this.length() - this._rejected();\n            };\n\n            SomePromiseArray.prototype._getRangeError = function (count) {\n              var message = \"Input array must contain at least \" +\n              this._howMany + \" items but contains only \" + count + \" items\";\n              return new RangeError(message);\n            };\n\n            SomePromiseArray.prototype._resolveEmptyArray = function () {\n              this._reject(this._getRangeError(0));\n            };\n\n            function some(promises, howMany) {\n              if ((howMany | 0) !== howMany || howMany < 0) {\n                return apiRejection(\"expecting a positive integer\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n              }\n              var ret = new SomePromiseArray(promises);\n              var promise = ret.promise();\n              ret.setHowMany(howMany);\n              ret.init();\n              return promise;\n            }\n\n            Promise.some = function (promises, howMany) {\n              return some(promises, howMany);\n            };\n\n            Promise.prototype.some = function (howMany) {\n              return some(this, howMany);\n            };\n\n            Promise._SomePromiseArray = SomePromiseArray;\n          };\n\n        },{\"./errors\":12,\"./util\":36}],32:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function(Promise) {\n            function PromiseInspection(promise) {\n              if (promise !== undefined) {\n                promise = promise._target();\n                this._bitField = promise._bitField;\n                this._settledValueField = promise._isFateSealed()\n                ? promise._settledValue() : undefined;\n              }\n              else {\n                this._bitField = 0;\n                this._settledValueField = undefined;\n              }\n            }\n\n            PromiseInspection.prototype._settledValue = function() {\n              return this._settledValueField;\n            };\n\n            var value = PromiseInspection.prototype.value = function () {\n              if (!this.isFulfilled()) {\n                throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n              }\n              return this._settledValue();\n            };\n\n            var reason = PromiseInspection.prototype.error =\n              PromiseInspection.prototype.reason = function () {\n              if (!this.isRejected()) {\n                throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n              }\n              return this._settledValue();\n            };\n\n            var isFulfilled = PromiseInspection.prototype.isFulfilled = function() {\n              return (this._bitField & 33554432) !== 0;\n            };\n\n            var isRejected = PromiseInspection.prototype.isRejected = function () {\n              return (this._bitField & 16777216) !== 0;\n            };\n\n            var isPending = PromiseInspection.prototype.isPending = function () {\n              return (this._bitField & 50397184) === 0;\n            };\n\n            var isResolved = PromiseInspection.prototype.isResolved = function () {\n              return (this._bitField & 50331648) !== 0;\n            };\n\n            PromiseInspection.prototype.isCancelled = function() {\n              return (this._bitField & 8454144) !== 0;\n            };\n\n            Promise.prototype.__isCancelled = function() {\n              return (this._bitField & 65536) === 65536;\n            };\n\n            Promise.prototype._isCancelled = function() {\n              return this._target().__isCancelled();\n            };\n\n            Promise.prototype.isCancelled = function() {\n              return (this._target()._bitField & 8454144) !== 0;\n            };\n\n            Promise.prototype.isPending = function() {\n              return isPending.call(this._target());\n            };\n\n            Promise.prototype.isRejected = function() {\n              return isRejected.call(this._target());\n            };\n\n            Promise.prototype.isFulfilled = function() {\n              return isFulfilled.call(this._target());\n            };\n\n            Promise.prototype.isResolved = function() {\n              return isResolved.call(this._target());\n            };\n\n            Promise.prototype.value = function() {\n              return value.call(this._target());\n            };\n\n            Promise.prototype.reason = function() {\n              var target = this._target();\n              target._unsetRejectionIsUnhandled();\n              return reason.call(target);\n            };\n\n            Promise.prototype._value = function() {\n              return this._settledValue();\n            };\n\n            Promise.prototype._reason = function() {\n              this._unsetRejectionIsUnhandled();\n              return this._settledValue();\n            };\n\n            Promise.PromiseInspection = PromiseInspection;\n          };\n\n        },{}],33:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function(Promise, INTERNAL) {\n            var util = _dereq_(\"./util\");\n            var errorObj = util.errorObj;\n            var isObject = util.isObject;\n\n            function tryConvertToPromise(obj, context) {\n              if (isObject(obj)) {\n                if (obj instanceof Promise) return obj;\n                var then = getThen(obj);\n                if (then === errorObj) {\n                  if (context) context._pushContext();\n                  var ret = Promise.reject(then.e);\n                  if (context) context._popContext();\n                  return ret;\n                } else if (typeof then === \"function\") {\n                  if (isAnyBluebirdPromise(obj)) {\n                    var ret = new Promise(INTERNAL);\n                    obj._then(\n                        ret._fulfill,\n                        ret._reject,\n                        undefined,\n                        ret,\n                        null\n                    );\n                    return ret;\n                  }\n                  return doThenable(obj, then, context);\n                }\n              }\n              return obj;\n            }\n\n            function doGetThen(obj) {\n              return obj.then;\n            }\n\n            function getThen(obj) {\n              try {\n                return doGetThen(obj);\n              } catch (e) {\n                errorObj.e = e;\n                return errorObj;\n              }\n            }\n\n            var hasProp = {}.hasOwnProperty;\n            function isAnyBluebirdPromise(obj) {\n              try {\n                return hasProp.call(obj, \"_promise0\");\n              } catch (e) {\n                return false;\n              }\n            }\n\n            function doThenable(x, then, context) {\n              var promise = new Promise(INTERNAL);\n              var ret = promise;\n              if (context) context._pushContext();\n              promise._captureStackTrace();\n              if (context) context._popContext();\n              var synchronous = true;\n              var result = util.tryCatch(then).call(x, resolve, reject);\n              synchronous = false;\n\n              if (promise && result === errorObj) {\n                promise._rejectCallback(result.e, true, true);\n                promise = null;\n              }\n\n              function resolve(value) {\n                if (!promise) return;\n                promise._resolveCallback(value);\n                promise = null;\n              }\n\n              function reject(reason) {\n                if (!promise) return;\n                promise._rejectCallback(reason, synchronous, true);\n                promise = null;\n              }\n              return ret;\n            }\n\n            return tryConvertToPromise;\n          };\n\n        },{\"./util\":36}],34:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function(Promise, INTERNAL, debug) {\n            var util = _dereq_(\"./util\");\n            var TimeoutError = Promise.TimeoutError;\n\n            function HandleWrapper(handle)  {\n              this.handle = handle;\n            }\n\n            HandleWrapper.prototype._resultCancelled = function() {\n              clearTimeout(this.handle);\n            };\n\n            var afterValue = function(value) { return delay(+this).thenReturn(value); };\n            var delay = Promise.delay = function (ms, value) {\n              var ret;\n              var handle;\n              if (value !== undefined) {\n                ret = Promise.resolve(value)\n                ._then(afterValue, null, null, ms, undefined);\n                if (debug.cancellation() && value instanceof Promise) {\n                  ret._setOnCancel(value);\n                }\n              } else {\n                ret = new Promise(INTERNAL);\n                handle = setTimeout(function() { ret._fulfill(); }, +ms);\n                if (debug.cancellation()) {\n                  ret._setOnCancel(new HandleWrapper(handle));\n                }\n                ret._captureStackTrace();\n              }\n              ret._setAsyncGuaranteed();\n              return ret;\n            };\n\n            Promise.prototype.delay = function (ms) {\n              return delay(ms, this);\n            };\n\n            var afterTimeout = function (promise, message, parent) {\n              var err;\n              if (typeof message !== \"string\") {\n                if (message instanceof Error) {\n                  err = message;\n                } else {\n                  err = new TimeoutError(\"operation timed out\");\n                }\n              } else {\n                err = new TimeoutError(message);\n              }\n              util.markAsOriginatingFromRejection(err);\n              promise._attachExtraTrace(err);\n              promise._reject(err);\n\n              if (parent != null) {\n                parent.cancel();\n              }\n            };\n\n            function successClear(value) {\n              clearTimeout(this.handle);\n              return value;\n            }\n\n            function failureClear(reason) {\n              clearTimeout(this.handle);\n              throw reason;\n            }\n\n            Promise.prototype.timeout = function (ms, message) {\n              ms = +ms;\n              var ret, parent;\n\n              var handleWrapper = new HandleWrapper(setTimeout(function timeoutTimeout() {\n                if (ret.isPending()) {\n                  afterTimeout(ret, message, parent);\n                }\n              }, ms));\n\n              if (debug.cancellation()) {\n                parent = this.then();\n                ret = parent._then(successClear, failureClear,\n                    undefined, handleWrapper, undefined);\n                ret._setOnCancel(handleWrapper);\n              } else {\n                ret = this._then(successClear, failureClear,\n                    undefined, handleWrapper, undefined);\n              }\n\n              return ret;\n            };\n\n          };\n\n        },{\"./util\":36}],35:[function(_dereq_,module,exports){\n          \"use strict\";\n          module.exports = function (Promise, apiRejection, tryConvertToPromise,\n              createContext, INTERNAL, debug) {\n            var util = _dereq_(\"./util\");\n            var TypeError = _dereq_(\"./errors\").TypeError;\n            var inherits = _dereq_(\"./util\").inherits;\n            var errorObj = util.errorObj;\n            var tryCatch = util.tryCatch;\n            var NULL = {};\n\n            function thrower(e) {\n              setTimeout(function(){throw e;}, 0);\n            }\n\n            function castPreservingDisposable(thenable) {\n              var maybePromise = tryConvertToPromise(thenable);\n              if (maybePromise !== thenable &&\n                  typeof thenable._isDisposable === \"function\" &&\n                  typeof thenable._getDisposer === \"function\" &&\n                  thenable._isDisposable()) {\n                maybePromise._setDisposable(thenable._getDisposer());\n              }\n              return maybePromise;\n            }\n            function dispose(resources, inspection) {\n              var i = 0;\n              var len = resources.length;\n              var ret = new Promise(INTERNAL);\n              function iterator() {\n                if (i >= len) return ret._fulfill();\n                var maybePromise = castPreservingDisposable(resources[i++]);\n                if (maybePromise instanceof Promise &&\n                    maybePromise._isDisposable()) {\n                  try {\n                    maybePromise = tryConvertToPromise(\n                        maybePromise._getDisposer().tryDispose(inspection),\n                        resources.promise);\n                  } catch (e) {\n                    return thrower(e);\n                  }\n                  if (maybePromise instanceof Promise) {\n                    return maybePromise._then(iterator, thrower,\n                        null, null, null);\n                  }\n                }\n                iterator();\n              }\n              iterator();\n              return ret;\n            }\n\n            function Disposer(data, promise, context) {\n              this._data = data;\n              this._promise = promise;\n              this._context = context;\n            }\n\n            Disposer.prototype.data = function () {\n              return this._data;\n            };\n\n            Disposer.prototype.promise = function () {\n              return this._promise;\n            };\n\n            Disposer.prototype.resource = function () {\n              if (this.promise().isFulfilled()) {\n                return this.promise().value();\n              }\n              return NULL;\n            };\n\n            Disposer.prototype.tryDispose = function(inspection) {\n              var resource = this.resource();\n              var context = this._context;\n              if (context !== undefined) context._pushContext();\n              var ret = resource !== NULL\n              ? this.doDispose(resource, inspection) : null;\n              if (context !== undefined) context._popContext();\n              this._promise._unsetDisposable();\n              this._data = null;\n              return ret;\n            };\n\n            Disposer.isDisposer = function (d) {\n              return (d != null &&\n                  typeof d.resource === \"function\" &&\n                  typeof d.tryDispose === \"function\");\n            };\n\n            function FunctionDisposer(fn, promise, context) {\n              this.constructor$(fn, promise, context);\n            }\n            inherits(FunctionDisposer, Disposer);\n\n            FunctionDisposer.prototype.doDispose = function (resource, inspection) {\n              var fn = this.data();\n              return fn.call(resource, resource, inspection);\n            };\n\n            function maybeUnwrapDisposer(value) {\n              if (Disposer.isDisposer(value)) {\n                this.resources[this.index]._setDisposable(value);\n                return value.promise();\n              }\n              return value;\n            }\n\n            function ResourceList(length) {\n              this.length = length;\n              this.promise = null;\n              this[length-1] = null;\n            }\n\n            ResourceList.prototype._resultCancelled = function() {\n              var len = this.length;\n              for (var i = 0; i < len; ++i) {\n                var item = this[i];\n                if (item instanceof Promise) {\n                  item.cancel();\n                }\n              }\n            };\n\n            Promise.using = function () {\n              var len = arguments.length;\n              if (len < 2) return apiRejection(\n              \"you must pass at least 2 arguments to Promise.using\");\n              var fn = arguments[len - 1];\n              if (typeof fn !== \"function\") {\n                return apiRejection(\"expecting a function but got \" + util.classString(fn));\n              }\n              var input;\n              var spreadArgs = true;\n              if (len === 2 && Array.isArray(arguments[0])) {\n                input = arguments[0];\n                len = input.length;\n                spreadArgs = false;\n              } else {\n                input = arguments;\n                len--;\n              }\n              var resources = new ResourceList(len);\n              for (var i = 0; i < len; ++i) {\n                var resource = input[i];\n                if (Disposer.isDisposer(resource)) {\n                  var disposer = resource;\n                  resource = resource.promise();\n                  resource._setDisposable(disposer);\n                } else {\n                  var maybePromise = tryConvertToPromise(resource);\n                  if (maybePromise instanceof Promise) {\n                    resource =\n                      maybePromise._then(maybeUnwrapDisposer, null, null, {\n                        resources: resources,\n                        index: i\n                      }, undefined);\n                  }\n                }\n                resources[i] = resource;\n              }\n\n              var reflectedResources = new Array(resources.length);\n              for (var i = 0; i < reflectedResources.length; ++i) {\n                reflectedResources[i] = Promise.resolve(resources[i]).reflect();\n              }\n\n              var resultPromise = Promise.all(reflectedResources)\n              .then(function(inspections) {\n                for (var i = 0; i < inspections.length; ++i) {\n                  var inspection = inspections[i];\n                  if (inspection.isRejected()) {\n                    errorObj.e = inspection.error();\n                    return errorObj;\n                  } else if (!inspection.isFulfilled()) {\n                    resultPromise.cancel();\n                    return;\n                  }\n                  inspections[i] = inspection.value();\n                }\n                promise._pushContext();\n\n                fn = tryCatch(fn);\n                var ret = spreadArgs\n                ? fn.apply(undefined, inspections) : fn(inspections);\n                var promiseCreated = promise._popContext();\n                debug.checkForgottenReturns(\n                    ret, promiseCreated, \"Promise.using\", promise);\n                return ret;\n              });\n\n              var promise = resultPromise.lastly(function() {\n                var inspection = new Promise.PromiseInspection(resultPromise);\n                return dispose(resources, inspection);\n              });\n              resources.promise = promise;\n              promise._setOnCancel(resources);\n              return promise;\n            };\n\n            Promise.prototype._setDisposable = function (disposer) {\n              this._bitField = this._bitField | 131072;\n              this._disposer = disposer;\n            };\n\n            Promise.prototype._isDisposable = function () {\n              return (this._bitField & 131072) > 0;\n            };\n\n            Promise.prototype._getDisposer = function () {\n              return this._disposer;\n            };\n\n            Promise.prototype._unsetDisposable = function () {\n              this._bitField = this._bitField & (~131072);\n              this._disposer = undefined;\n            };\n\n            Promise.prototype.disposer = function (fn) {\n              if (typeof fn === \"function\") {\n                return new FunctionDisposer(fn, this, createContext());\n              }\n              throw new TypeError();\n            };\n\n          };\n\n        },{\"./errors\":12,\"./util\":36}],36:[function(_dereq_,module,exports){\n          \"use strict\";\n          var es5 = _dereq_(\"./es5\");\n          var canEvaluate = typeof navigator == \"undefined\";\n\n          var errorObj = {e: {}};\n          var tryCatchTarget;\n          var globalObject = typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window :\n              typeof global !== \"undefined\" ? global :\n                this !== undefined ? this : null;\n\n          function tryCatcher() {\n            try {\n              var target = tryCatchTarget;\n              tryCatchTarget = null;\n              return target.apply(this, arguments);\n            } catch (e) {\n              errorObj.e = e;\n              return errorObj;\n            }\n          }\n          function tryCatch(fn) {\n            tryCatchTarget = fn;\n            return tryCatcher;\n          }\n\n          var inherits = function(Child, Parent) {\n            var hasProp = {}.hasOwnProperty;\n\n            function T() {\n              this.constructor = Child;\n              this.constructor$ = Parent;\n              for (var propertyName in Parent.prototype) {\n                if (hasProp.call(Parent.prototype, propertyName) &&\n                    propertyName.charAt(propertyName.length-1) !== \"$\"\n                ) {\n                  this[propertyName + \"$\"] = Parent.prototype[propertyName];\n                }\n              }\n            }\n            T.prototype = Parent.prototype;\n            Child.prototype = new T();\n            return Child.prototype;\n          };\n\n\n          function isPrimitive(val) {\n            return val == null || val === true || val === false ||\n            typeof val === \"string\" || typeof val === \"number\";\n\n          }\n\n          function isObject(value) {\n            return typeof value === \"function\" ||\n            typeof value === \"object\" && value !== null;\n          }\n\n          function maybeWrapAsError(maybeError) {\n            if (!isPrimitive(maybeError)) return maybeError;\n\n            return new Error(safeToString(maybeError));\n          }\n\n          function withAppended(target, appendee) {\n            var len = target.length;\n            var ret = new Array(len + 1);\n            var i;\n            for (i = 0; i < len; ++i) {\n              ret[i] = target[i];\n            }\n            ret[i] = appendee;\n            return ret;\n          }\n\n          function getDataPropertyOrDefault(obj, key, defaultValue) {\n            if (es5.isES5) {\n              var desc = Object.getOwnPropertyDescriptor(obj, key);\n\n              if (desc != null) {\n                return desc.get == null && desc.set == null\n                ? desc.value\n                    : defaultValue;\n              }\n            } else {\n              return {}.hasOwnProperty.call(obj, key) ? obj[key] : undefined;\n            }\n          }\n\n          function notEnumerableProp(obj, name, value) {\n            if (isPrimitive(obj)) return obj;\n            var descriptor = {\n                value: value,\n                configurable: true,\n                enumerable: false,\n                writable: true\n            };\n            es5.defineProperty(obj, name, descriptor);\n            return obj;\n          }\n\n          function thrower(r) {\n            throw r;\n          }\n\n          var inheritedDataKeys = (function() {\n            var excludedPrototypes = [\n              Array.prototype,\n              Object.prototype,\n              Function.prototype\n              ];\n\n            var isExcludedProto = function(val) {\n              for (var i = 0; i < excludedPrototypes.length; ++i) {\n                if (excludedPrototypes[i] === val) {\n                  return true;\n                }\n              }\n              return false;\n            };\n\n            if (es5.isES5) {\n              var getKeys = Object.getOwnPropertyNames;\n              return function(obj) {\n                var ret = [];\n                var visitedKeys = Object.create(null);\n                while (obj != null && !isExcludedProto(obj)) {\n                  var keys;\n                  try {\n                    keys = getKeys(obj);\n                  } catch (e) {\n                    return ret;\n                  }\n                  for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (visitedKeys[key]) continue;\n                    visitedKeys[key] = true;\n                    var desc = Object.getOwnPropertyDescriptor(obj, key);\n                    if (desc != null && desc.get == null && desc.set == null) {\n                      ret.push(key);\n                    }\n                  }\n                  obj = es5.getPrototypeOf(obj);\n                }\n                return ret;\n              };\n            } else {\n              var hasProp = {}.hasOwnProperty;\n              return function(obj) {\n                if (isExcludedProto(obj)) return [];\n                var ret = [];\n\n                /*jshint forin:false */\n                enumeration: for (var key in obj) {\n                  if (hasProp.call(obj, key)) {\n                    ret.push(key);\n                  } else {\n                    for (var i = 0; i < excludedPrototypes.length; ++i) {\n                      if (hasProp.call(excludedPrototypes[i], key)) {\n                        continue enumeration;\n                      }\n                    }\n                    ret.push(key);\n                  }\n                }\n                return ret;\n              };\n            }\n\n          })();\n\n          var thisAssignmentPattern = /this\\s*\\.\\s*\\S+\\s*=/;\n          function isClass(fn) {\n            try {\n              if (typeof fn === \"function\") {\n                var keys = es5.names(fn.prototype);\n\n                var hasMethods = es5.isES5 && keys.length > 1;\n                var hasMethodsOtherThanConstructor = keys.length > 0 &&\n                !(keys.length === 1 && keys[0] === \"constructor\");\n                var hasThisAssignmentAndStaticMethods =\n                  thisAssignmentPattern.test(fn + \"\") && es5.names(fn).length > 0;\n\n                  if (hasMethods || hasMethodsOtherThanConstructor ||\n                      hasThisAssignmentAndStaticMethods) {\n                    return true;\n                  }\n              }\n              return false;\n            } catch (e) {\n              return false;\n            }\n          }\n\n          function toFastProperties(obj) {\n            /*jshint -W027,-W055,-W031*/\n            function FakeConstructor() {}\n            FakeConstructor.prototype = obj;\n            var l = 8;\n            while (l--) new FakeConstructor();\n            return obj;\n            eval(obj);\n          }\n\n          var rident = /^[a-z$_][a-z$_0-9]*$/i;\n          function isIdentifier(str) {\n            return rident.test(str);\n          }\n\n          function filledRange(count, prefix, suffix) {\n            var ret = new Array(count);\n            for(var i = 0; i < count; ++i) {\n              ret[i] = prefix + i + suffix;\n            }\n            return ret;\n          }\n\n          function safeToString(obj) {\n            try {\n              return obj + \"\";\n            } catch (e) {\n              return \"[no string representation]\";\n            }\n          }\n\n          function isError(obj) {\n            return obj !== null &&\n            typeof obj === \"object\" &&\n            typeof obj.message === \"string\" &&\n            typeof obj.name === \"string\";\n          }\n\n          function markAsOriginatingFromRejection(e) {\n            try {\n              notEnumerableProp(e, \"isOperational\", true);\n            }\n            catch(ignore) {}\n          }\n\n          function originatesFromRejection(e) {\n            if (e == null) return false;\n            return ((e instanceof Error[\"__BluebirdErrorTypes__\"].OperationalError) ||\n                e[\"isOperational\"] === true);\n          }\n\n          function canAttachTrace(obj) {\n            return isError(obj) && es5.propertyIsWritable(obj, \"stack\");\n          }\n\n          var ensureErrorObject = (function() {\n            if (!(\"stack\" in new Error())) {\n              return function(value) {\n                if (canAttachTrace(value)) return value;\n                try {throw new Error(safeToString(value));}\n                catch(err) {return err;}\n              };\n            } else {\n              return function(value) {\n                if (canAttachTrace(value)) return value;\n                return new Error(safeToString(value));\n              };\n            }\n          })();\n\n          function classString(obj) {\n            return {}.toString.call(obj);\n          }\n\n          function copyDescriptors(from, to, filter) {\n            var keys = es5.names(from);\n            for (var i = 0; i < keys.length; ++i) {\n              var key = keys[i];\n              if (filter(key)) {\n                try {\n                  es5.defineProperty(to, key, es5.getDescriptor(from, key));\n                } catch (ignore) {}\n              }\n            }\n          }\n\n          var asArray = function(v) {\n            if (es5.isArray(v)) {\n              return v;\n            }\n            return null;\n          };\n\n          if (typeof Symbol !== \"undefined\" && Symbol.iterator) {\n            var ArrayFrom = typeof Array.from === \"function\" ? function(v) {\n              return Array.from(v);\n            } : function(v) {\n              var ret = [];\n              var it = v[Symbol.iterator]();\n              var itResult;\n              while (!((itResult = it.next()).done)) {\n                ret.push(itResult.value);\n              }\n              return ret;\n            };\n\n            asArray = function(v) {\n              if (es5.isArray(v)) {\n                return v;\n              } else if (v != null && typeof v[Symbol.iterator] === \"function\") {\n                return ArrayFrom(v);\n              }\n              return null;\n            };\n          }\n\n          var isNode = typeof process !== \"undefined\" &&\n          classString(process).toLowerCase() === \"[object process]\";\n\n          function env(key, def) {\n            return isNode ? process.env[key] : def;\n          }\n\n          function getNativePromise() {\n            if (typeof Promise === \"function\") {\n              try {\n                var promise = new Promise(function(){});\n                if ({}.toString.call(promise) === \"[object Promise]\") {\n                  return Promise;\n                }\n              } catch (e) {}\n            }\n          }\n\n          function domainBind(self, cb) {\n            return self.bind(cb);\n          }\n\n          var ret = {\n              isClass: isClass,\n              isIdentifier: isIdentifier,\n              inheritedDataKeys: inheritedDataKeys,\n              getDataPropertyOrDefault: getDataPropertyOrDefault,\n              thrower: thrower,\n              isArray: es5.isArray,\n              asArray: asArray,\n              notEnumerableProp: notEnumerableProp,\n              isPrimitive: isPrimitive,\n              isObject: isObject,\n              isError: isError,\n              canEvaluate: canEvaluate,\n              errorObj: errorObj,\n              tryCatch: tryCatch,\n              inherits: inherits,\n              withAppended: withAppended,\n              maybeWrapAsError: maybeWrapAsError,\n              toFastProperties: toFastProperties,\n              filledRange: filledRange,\n              toString: safeToString,\n              canAttachTrace: canAttachTrace,\n              ensureErrorObject: ensureErrorObject,\n              originatesFromRejection: originatesFromRejection,\n              markAsOriginatingFromRejection: markAsOriginatingFromRejection,\n              classString: classString,\n              copyDescriptors: copyDescriptors,\n              hasDevTools: typeof chrome !== \"undefined\" && chrome &&\n              typeof chrome.loadTimes === \"function\",\n              isNode: isNode,\n              env: env,\n              global: globalObject,\n              getNativePromise: getNativePromise,\n              domainBind: domainBind\n          };\n          ret.isRecentNode = ret.isNode && (function() {\n            var version = process.versions.node.split(\".\").map(Number);\n            return (version[0] === 0 && version[1] > 10) || (version[0] > 0);\n          })();\n\n          if (ret.isNode) ret.toFastProperties(process);\n\n          try {throw new Error(); } catch (e) {ret.lastLineError = e;}\n          module.exports = ret;\n\n        },{\"./es5\":13}]},{},[4])(4)\n  });\n\n\n})();\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * Mootools\n     http://mootools.net/\n     Version 1.1.1\n\n     Copyright:\n       (c) 2007 Valerio Proietti\n\n     License:\n       MIT: http://www.opensource.org/licenses/mit-license.php\n\n   and\n\n   * XRegExp\n   http://xregexp.com/\n   Version 1.5\n\n   Copyright:\n       (c) 2006-2007, Steven Levithan <http://stevenlevithan.com>\n\n     License:\n       MIT: http://www.opensource.org/licenses/mit-license.php\n\n     Authors:\n       * Steven Levithan\n\n************************************************************************ */\n\n/**\n * String helper functions\n *\n * The native JavaScript String is not modified by this class. However,\n * there are modifications to the native String in {@link qx.lang.normalize.String} for\n * browsers that do not support certain features.\n *\n * @require(qx.lang.normalize.String)\n */\nqx.Bootstrap.define(\"qx.lang.String\",\n{\n  statics :\n  {\n\n    /**\n     * Unicode letters.  they are taken from Steve Levithan's excellent XRegExp library [http://xregexp.com/addons/unicode/unicode-base.js]\n     */\n    __unicodeLetters : \"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC\",\n\n    /**\n     * A RegExp that matches the first letter in a word - unicode aware\n     */\n    __unicodeFirstLetterInWordRegexp : null,\n\n    /**\n     * @type {Map} Cache for often used string operations [camelCasing and hyphenation]\n     * e.g. marginTop => margin-top\n     */\n    __stringsMap : {},\n\n    /**\n     * Converts a hyphenated string (separated by '-') to camel case.\n     *\n     * Example:\n     * <pre class='javascript'>qx.lang.String.camelCase(\"I-like-cookies\"); //returns \"ILikeCookies\"</pre>\n     *\n     * @param str {String} hyphenated string\n     * @return {String} camelcase string\n     */\n    camelCase : function(str)\n    {\n      var result = this.__stringsMap[str];\n      if (!result) {\n        result = str.replace(/\\-([a-z])/g, function(match, chr) {\n          return chr.toUpperCase();\n        });\n        if (str.indexOf(\"-\") >= 0) {\n          this.__stringsMap[str] = result;\n        }\n      }\n      return result;\n    },\n\n\n    /**\n     * Converts a camelcased string to a hyphenated (separated by '-') string.\n     *\n     * Example:\n     * <pre class='javascript'>qx.lang.String.hyphenate(\"weLikeCookies\"); //returns \"we-like-cookies\"</pre>\n     *\n     * @param str {String} camelcased string\n     * @return {String} hyphenated string\n     */\n    hyphenate: function(str)\n    {\n      var result = this.__stringsMap[str];\n      if (!result) {\n        result = str.replace(/[A-Z]/g, function(match){\n          return  ('-' + match.charAt(0).toLowerCase());\n        });\n        if (str.indexOf(\"-\") == -1) {\n          this.__stringsMap[str] = result;\n        }\n      }\n      return result;\n    },\n\n\n    /**\n     * Converts a string to camel case.\n     *\n     * Example:\n     * <pre class='javascript'>qx.lang.String.camelCase(\"i like cookies\"); //returns \"I Like Cookies\"</pre>\n     *\n     * @param str {String} any string\n     * @return {String} capitalized string\n     */\n    capitalize: function(str){\n      if(this.__unicodeFirstLetterInWordRegexp === null) {\n        var unicodeEscapePrefix = '\\\\u';\n        this.__unicodeFirstLetterInWordRegexp = new RegExp(\"(^|[^\" + this.__unicodeLetters.replace(/[0-9A-F]{4}/g,function(match){return unicodeEscapePrefix+match;}) + \"])[\" + this.__unicodeLetters.replace(/[0-9A-F]{4}/g,function(match){return unicodeEscapePrefix+match;}) + \"]\", \"g\");\n      }\n      return str.replace(this.__unicodeFirstLetterInWordRegexp, function(match) {\n        return match.toUpperCase();\n      });\n    },\n\n\n    /**\n     * Removes all extraneous whitespace from a string and trims it\n     *\n     * Example:\n     *\n     * <code>\n     * qx.lang.String.clean(\" i      like     cookies      \\n\\n\");\n     * </code>\n     *\n     * Returns \"i like cookies\"\n     *\n     * @param str {String} the string to clean up\n     * @return {String} Cleaned up string\n     */\n    clean: function(str){\n      return str.replace(/\\s+/g, ' ').trim();\n    },\n\n\n    /**\n     * removes white space from the left side of a string\n     *\n     * @param str {String} the string to trim\n     * @return {String} the trimmed string\n     */\n    trimLeft : function(str) {\n      return str.replace(/^\\s+/, \"\");\n    },\n\n\n    /**\n     * removes white space from the right side of a string\n     *\n     * @param str {String} the string to trim\n     * @return {String} the trimmed string\n     */\n    trimRight : function(str) {\n      return str.replace(/\\s+$/, \"\");\n    },\n\n\n    /**\n     * Check whether the string starts with the given substring\n     *\n     * @deprecated {6.0} Please use String instance startsWith method instead\n     *\n     * @param fullstr {String} the string to search in\n     * @param substr {String} the substring to look for\n     * @return {Boolean} whether the string starts with the given substring\n     */\n    startsWith : function(fullstr, substr) {\n      return fullstr.startsWith(substr);\n    },\n\n\n    /**\n     * Check whether the string ends with the given substring\n     *\n     * @deprecated {6.0} Please use String instance endsWith method instead\n     *\n     * @param fullstr {String} the string to search in\n     * @param substr {String} the substring to look for\n     * @return {Boolean} whether the string ends with the given substring\n     */\n    endsWith : function(fullstr, substr) {\n      return fullstr.endsWith(substr);\n    },\n\n\n    /**\n     * Returns a string, which repeats a string 'length' times\n     *\n     * @param str {String} string used to repeat\n     * @param times {Integer} the number of repetitions\n     * @return {String} repeated string\n     */\n    repeat : function(str, times) {\n      return str.length > 0 ? new Array(times + 1).join(str) : \"\";\n    },\n\n\n    /**\n     * Pad a string up to a given length. Padding characters are added to the left of the string.\n     *\n     * @param str {String} the string to pad\n     * @param length {Integer} the final length of the string\n     * @param ch {String} character used to fill up the string\n     * @return {String} padded string\n     */\n    pad : function(str, length, ch)\n    {\n      var padLength = length - str.length;\n      if (padLength > 0)\n      {\n        if (typeof ch === \"undefined\") {\n          ch = \"0\";\n        }\n        return this.repeat(ch, padLength) + str;\n      }\n      else\n      {\n        return str;\n      }\n    },\n\n\n    /**\n     * Convert the first character of the string to upper case.\n     *\n     * @signature function(str)\n     * @param str {String} the string\n     * @return {String} the string with an upper case first character\n     */\n    firstUp : qx.Bootstrap.firstUp,\n\n\n    /**\n     * Convert the first character of the string to lower case.\n     *\n     * @signature function(str)\n     * @param str {String} the string\n     * @return {String} the string with a lower case first character\n     */\n    firstLow : qx.Bootstrap.firstLow,\n\n\n    /**\n     * Check whether the string contains a given substring\n     *\n     * @param str {String} the string\n     * @param substring {String} substring to search for\n     * @return {Boolean} whether the string contains the substring\n     */\n    contains : function(str, substring) {\n      return str.indexOf(substring) != -1;\n    },\n\n\n    /**\n     * Print a list of arguments using a format string\n     * In the format string occurrences of %n are replaced by the n'th element of the args list.\n     * You can give an object as argument.\n     * In this case you should specify namedArgument in your string with %{namedArgument}.\n     * The named argument will be replace by the value of the property of the object named \"namedArgument\"\n     * Example:\n     * <pre class='javascript'>qx.lang.String.format(\"Hello %1, my name is %2\", [\"Egon\", \"Franz\"]) == \"Hello Egon, my name is Franz\"</pre>\n     * <pre class='javascript'>qx.lang.String.format(\"Hello %{yourName}, my name is %{myName}\", {yourName: \"Egon\", myName: \"Franz\"}) == \"Hello Egon, my name is Franz\"</pre>\n     *\n     * @param pattern {String} format string\n     * @param args {Array} array of arguments to insert into the format string\n     * @return {String} the formatted string\n     */\n    format : function(pattern, args)\n    {\n      var str = pattern;\n      var regexp = /%(\\d+)|%{(\\S*)}/g;\n      if (!Array.isArray(args)) {\n        args = [args];\n      }\n\n      var argsIsObject = (args.length === 1 && typeof args[0] === \"object\");\n\n      str = str.replace(regexp, function(matchedSubString, numberArgument, namedArgument) {\n        if (namedArgument) {\n          if (argsIsObject) {\n            return args[0][namedArgument];\n          }\n\n          return namedArgument;\n        }\n\n        if (numberArgument && numberArgument > 0 && args.length >= numberArgument) {\n          var index = numberArgument - 1;\n          return args[index];\n        }\n\n        return matchedSubString;\n      });\n      return str;\n    },\n\n\n    /**\n     * Escapes all chars that have a special meaning in regular expressions\n     *\n     * @param str {String} the string where to escape the chars.\n     * @return {String} the string with the escaped chars.\n     */\n    escapeRegexpChars : function(str) {\n      return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n    },\n\n\n    /**\n     * Converts a string to an array of characters.\n     * <pre>\"hello\" => [ \"h\", \"e\", \"l\", \"l\", \"o\" ];</pre>\n     *\n     * @param str {String} the string which should be split\n     * @return {Array} the result array of characters\n     */\n    toArray : function(str) {\n      return str.split(/\\B|\\b/g);\n    },\n\n\n    /**\n     * Remove HTML/XML tags from a string\n     * Example:\n     * <pre class='javascript'>qx.lang.String.stripTags(\"&lt;h1>Hello&lt;/h1>\") == \"Hello\"</pre>\n     *\n     * @param str {String} string containing tags\n     * @return {String} the string with stripped tags\n     */\n    stripTags : function(str) {\n      return str.replace(/<\\/?[^>]+>/gi, \"\");\n    },\n\n\n    /**\n     * Strips <script> tags including its content from the given string.\n     *\n     * @param str {String} string containing tags\n     * @param exec {Boolean?false} Whether the filtered code should be executed\n     * @return {String} The filtered string\n     */\n    stripScripts: function(str, exec)\n    {\n      var scripts = \"\";\n      var text = str.replace(/<script[^>]*>([\\s\\S]*?)<\\/script>/gi, function()\n      {\n        scripts += arguments[1] + '\\n';\n        return \"\";\n      });\n\n      if (exec === true) {\n        qx.lang.Function.globalEval(scripts);\n      }\n\n      return text;\n    },\n\n\n    /**\n     * Quotes the given string.\n     * @param str {String} String to quote.\n     * @return {String} The quoted string.\n     */\n    quote : function(str) {\n      return '\"' + str.replace(/\\\\/g, \"\\\\\\\\\").replace(/\\\"/g, \"\\\\\\\"\") + '\"';\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Single-value binding is a core component of the data binding package.\n */\nqx.Class.define(\"qx.data.SingleValueBinding\",\n{\n\n  statics :\n  {\n    /** internal reference for all bindings indexed by source object */\n    __bindings: {},\n\n    /** internal reference for all bindings indexed by target object */\n    __bindingsByTarget : {},\n\n\n    /**\n     * The function is responsible for binding a source objects property to\n     * a target objects property. Both properties have to have the usual qooxdoo\n     * getter and setter. The source property also needs to fire change-events\n     * on every change of its value.\n     * Please keep in mind, that this binding is unidirectional. If you need\n     * a binding in both directions, you have to use two of this bindings.\n     *\n     * It's also possible to bind some kind of a hierarchy as a source. This\n     * means that you can separate the source properties with a dot and bind\n     * by that the object referenced to this property chain.\n     * Example with an object 'a' which has object 'b' stored in its 'child'\n     * property. Object b has a string property named abc:\n     * <pre><code>\n     * qx.data.SingleValueBinding.bind(a, \"child.abc\", textfield, \"value\");\n     * </code></pre>\n     * In that case, if the property abc of b changes, the textfield will\n     * automatically contain the new value. Also if the child of a changes, the\n     * new value (abc of the new child) will be in the textfield.\n     *\n     * There is also a possibility of binding an array. Therefore the array\n     * {@link qx.data.IListData} is needed because this array has change events\n     * which the native does not. Imagine a qooxdoo object a which has a\n     * children property containing an array holding more of its own kind.\n     * Every object has a name property as a string.\n     * <pre>\n     * var svb = qx.data.SingleValueBinding;\n     * // bind the first child's name of 'a' to a textfield\n     * svb.bind(a, \"children[0].name\", textfield, \"value\");\n     * // bind the last child's name of 'a' to a textfield\n     * svb.bind(a, \"children[last].name\", textfield2, \"value\");\n     * // also deeper bindings are possible\n     * svb.bind(a, \"children[0].children[0].name\", textfield3, \"value\");\n     * </pre>\n     *\n     * As you can see in this example, the abc property of a's b will be bound\n     * to the textfield. If now the value of b changed or even the a will get a\n     * new b, the binding still shows the right value.\n     *\n     * @param sourceObject {qx.core.Object} The source of the binding.\n     * @param sourcePropertyChain {String} The property chain which represents\n     *   the source property.\n     * @param targetObject {qx.core.Object} The object which the source should\n     *   be bind to.\n     * @param targetPropertyChain {String} The property chain to the target\n     *   object.\n     * @param options {Map?null} A map containing the options.\n     *   <li>converter: A converter function which takes four parameters\n     *       and should return the converted value.\n     *       <ol>\n     *         <li>The data to convert</li>\n     *         <li>The corresponding model object, which is only set in case of the use of an controller.</li>\n     *         <li>The source object for the binding</li>\n     *         <li>The target object.</li>\n     *       </ol>\n     *       If no conversion has been done, the given value should be returned.\n     *       e.g. a number to boolean converter\n     *       <code>function(data, model, source, target) {return data > 100;}</code>\n     *   </li>\n     *   <li>onUpdate: A callback function can be given here. This method will be\n     *       called if the binding was updated successful. There will be\n     *       three parameter you do get in that method call.\n     *       <ol>\n     *         <li>The source object</li>\n     *         <li>The target object</li>\n     *         <li>The data</li>\n     *       </ol>\n     *       Here is a sample: <code>onUpdate : function(source, target, data) {...}</code>\n     *   </li>\n     *   <li>onSetFail: A callback function can be given here. This method will\n     *       be called if the set of the value fails.\n     *   </li>\n     *   <li>ignoreConverter: A string which will be matched using the current\n     *       property chain. If it matches, the converter will not be called.\n     *   </li>\n     *\n     * @return {var} Returns the internal id for that binding. This can be used\n     *   for referencing the binding or e.g. for removing. This is not an atomic\n     *   id so you can't you use it as a hash-map index.\n     *\n     * @throws {qx.core.AssertionError} If the event is no data event or\n     *   there is no property definition for object and property (source and\n     *   target).\n     */\n    bind : function(\n      sourceObject, sourcePropertyChain, targetObject, targetPropertyChain, options\n    )\n    {\n      // check for the arguments\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert.assertObject(sourceObject, \"sourceObject\");\n        qx.core.Assert.assertString(sourcePropertyChain, \"sourcePropertyChain\");\n        qx.core.Assert.assertObject(targetObject, \"targetObject\");\n        qx.core.Assert.assertString(targetPropertyChain, \"targetPropertyChain\");\n      }\n\n      // set up the target binding\n      var targetListenerMap = this.__setUpTargetBinding(\n        sourceObject, sourcePropertyChain, targetObject, targetPropertyChain, options\n      );\n\n      // get the property names\n      var propertyNames = sourcePropertyChain.split(\".\");\n\n      // stuff that's needed to store for the listener function\n      var arrayIndexValues =\n        this.__checkForArrayInPropertyChain(propertyNames);\n      var sources = [];\n      var listeners = [];\n      var listenerIds = [];\n      var eventNames = [];\n      var source = sourceObject;\n      var initialPromise = null;\n\n      // add a try catch to make it possible to remove the listeners of the\n      // chain in case the loop breaks after some listeners already added.\n      try {\n        // go through all property names\n        for (var i = 0; i < propertyNames.length; i++) {\n          var propertyName = propertyNames[i];\n\n          // check for the array\n          if (arrayIndexValues[i] !== \"\") {\n            // push the array change event\n            eventNames.push(\"change\");\n          } else {\n            var eventName = this.__getEventNameForProperty(source, propertyName);\n            if (!eventName) {\n              if (i == 0) { // the root property can not change --> error\n                throw new qx.core.AssertionError(\n                  \"Binding property \" + propertyName + \" of object \" + source +\n                  \" not possible: No event available. Full property chain: \" + sourcePropertyChain\n                );\n              }\n\n              if (source instanceof qx.core.Object && qx.Class.hasProperty(source.constructor, propertyName)) {\n                qx.log.Logger.warn(\n                  \"Binding property \" + propertyName + \" of object \" + source +\n                  \" not possible: No event available. Full property chain: \" + sourcePropertyChain\n                );\n              }\n\n              // call the converter if no event could be found on binding creation\n              initialPromise = this.__setInitialValue(undefined, targetObject, targetPropertyChain, options, sourceObject);\n              break;\n            }\n            eventNames.push(eventName);\n          }\n\n          // save the current source\n          sources[i] = source;\n\n          // check for the last property\n          if (i == propertyNames.length -1) {\n            // if it is an array, set the initial value and bind the event\n            if (arrayIndexValues[i] !== \"\") {\n              // get the current value\n              var itemIndex = arrayIndexValues[i] === \"last\" ?\n                source.length - 1 : arrayIndexValues[i];\n              var currentValue = source.getItem(itemIndex);\n\n              // set the initial value\n              initialPromise = this.__setInitialValue(currentValue, targetObject, targetPropertyChain, options, sourceObject);\n\n              // bind the event\n              listenerIds[i] = this.__bindEventToProperty(\n                source, eventNames[i], targetObject, targetPropertyChain, options, arrayIndexValues[i]\n              );\n            } else {\n              // try to set the initial value\n              if (propertyNames[i] != null && source[\"get\" + qx.lang.String.firstUp(propertyNames[i])] != null) {\n                var currentValue = source[\"get\" + qx.lang.String.firstUp(propertyNames[i])]();\n                initialPromise = this.__setInitialValue(currentValue, targetObject, targetPropertyChain, options, sourceObject);\n              }\n              // bind the property\n              listenerIds[i] = this.__bindEventToProperty(\n                source, eventNames[i], targetObject, targetPropertyChain, options\n              );\n            }\n\n          // if its not the last property\n          } else {\n\n            // create the context for the listener\n            var context = {\n              index: i,\n              propertyNames: propertyNames,\n              sources: sources,\n              listenerIds: listenerIds,\n              arrayIndexValues: arrayIndexValues,\n              targetObject: targetObject,\n              targetPropertyChain: targetPropertyChain,\n              options: options,\n              listeners: listeners\n            };\n\n            // create a listener\n            var listener = qx.lang.Function.bind(this.__chainListener, this, context);\n\n            // store the listener for further processing\n            listeners.push(listener);\n\n            // add the chaining listener\n            listenerIds[i] = source.addListener(eventNames[i], listener);\n          }\n\n          // get and store the next source\n          if (source[\"get\" + qx.lang.String.firstUp(propertyNames[i])] == null) {\n            source = undefined;\n          } else if (arrayIndexValues[i] !== \"\") {\n            var itemIndex = arrayIndexValues[i] === \"last\" ?\n              source.length - 1 : arrayIndexValues[i];\n            source = source[\"get\" + qx.lang.String.firstUp(propertyNames[i])](itemIndex);\n          } else {\n            source = source[\"get\" + qx.lang.String.firstUp(propertyNames[i])]();\n            // the value should be undefined if we can not find the last part of the property chain\n            if (source === null && (propertyNames.length - 1) != i) {\n              source = undefined;\n            }\n          }\n          if (!source) {\n            // call the converter if no source could be found on binding creation\n            this.__setInitialValue(source, targetObject, targetPropertyChain, options, sourceObject);\n            break;\n          }\n        }\n\n      } catch (ex) {\n        // remove the already added listener\n        // go through all added listeners (source)\n\n        for (var i = 0; i < sources.length; i++) {\n          // check if a source is available\n          if (sources[i] && listenerIds[i]) {\n            sources[i].removeListenerById(listenerIds[i]);\n          }\n        }\n        var targets = targetListenerMap.targets;\n        var targetIds = targetListenerMap.listenerIds;\n        // go through all added listeners (target)\n        for (var i = 0; i < targets.length; i++) {\n          // check if a target is available\n          if (targets[i] && targetIds[i]) {\n            targets[i].removeListenerById(targetIds[i]);\n          }\n        }\n\n        throw ex;\n      }\n\n      // create the id map\n      var id = {\n        type: \"deepBinding\",\n        listenerIds: listenerIds,\n        sources: sources,\n        targetListenerIds: targetListenerMap.listenerIds,\n        targets: targetListenerMap.targets,\n        initialPromise: initialPromise\n      };\n      // store the bindings\n      this.__storeBinding(\n        id, sourceObject, sourcePropertyChain, targetObject, targetPropertyChain\n      );\n\n      return id;\n    },\n\n\n    /**\n     * Event listener for the chaining of the properties.\n     *\n     * @param context {Map} The current context for the listener.\n     */\n    __chainListener : function(context)\n    {\n      // invoke the onUpdate method\n      if (context.options && context.options.onUpdate) {\n        context.options.onUpdate(\n          context.sources[context.index], context.targetObject\n        );\n      }\n\n      // delete all listener after the current one\n      for (var j = context.index + 1; j < context.propertyNames.length; j++) {\n        // remove the old sources\n        var source = context.sources[j];\n        context.sources[j] = null;\n        if (!source) {\n          continue;\n        }\n\n        // remove the listeners\n        source.removeListenerById(context.listenerIds[j]);\n      }\n\n      // get the current source\n      var source = context.sources[context.index];\n      // add new once after the current one\n      for (var j = context.index + 1; j < context.propertyNames.length; j++) {\n        // get and store the new source\n        if (context.arrayIndexValues[j - 1] !== \"\") {\n          source = source[\"get\" + qx.lang.String.firstUp(context.propertyNames[j - 1])](context.arrayIndexValues[j - 1]);\n        } else {\n          source = source[\"get\" + qx.lang.String.firstUp(context.propertyNames[j - 1])]();\n        }\n        context.sources[j] = source;\n        // reset the target object if no new source could be found\n        if (!source) {\n          // use the converter if the property chain breaks [BUG# 6880]\n          if (context.options && context.options.converter) {\n\n            var ignoreConverter = false;\n            // take care of the ignore pattern used for the controller\n            if (context.options.ignoreConverter) {\n              // the current property chain as string\n              var currentSourceChain = context.propertyNames.slice(0,j).join(\".\");\n              // match for the current pattern given in the options\n              var match = currentSourceChain.match(\n                new RegExp(\"^\" + context.options.ignoreConverter)\n              );\n              ignoreConverter = match ? match.length > 0 : false;\n            }\n\n            if (!ignoreConverter) {\n              this.__setTargetValue(\n                context.targetObject,\n                context.targetPropertyChain,\n                context.options.converter()\n              );\n            } else {\n              this.__resetTargetValue(context.targetObject, context.targetPropertyChain);\n            }\n          } else {\n            this.__resetTargetValue(context.targetObject, context.targetPropertyChain);\n          }\n\n          break;\n        }\n\n        // if its the last property\n        if (j == context.propertyNames.length - 1) {\n          // if its an array\n          if (qx.Class.implementsInterface(source, qx.data.IListData) && context.arrayIndexValues[j] !== \"\") {\n            // set the initial value\n            var itemIndex = context.arrayIndexValues[j] === \"last\" ?\n              source.length - 1 : context.arrayIndexValues[j];\n            var currentValue = source.getItem(itemIndex);\n            this.__setInitialValue(\n              currentValue, context.targetObject, context.targetPropertyChain, context.options, context.sources[context.index]\n            );\n\n            // bind the item event to the new target\n            context.listenerIds[j] = this.__bindEventToProperty(\n              source, \"change\", context.targetObject, context.targetPropertyChain, context.options, context.arrayIndexValues[j]\n            );\n\n          } else {\n            if (context.propertyNames[j] != null && source[\"get\" + qx.lang.String.firstUp(context.propertyNames[j])] != null) {\n              var currentValue = source[\"get\" + qx.lang.String.firstUp(context.propertyNames[j])]();\n              this.__setInitialValue(currentValue, context.targetObject, context.targetPropertyChain, context.options, context.sources[context.index]);\n            }\n            var eventName = this.__getEventNameForProperty(source, context.propertyNames[j]);\n            if (!eventName) {\n              context.sources[j] = null;\n              this.__resetTargetValue(context.targetObject, context.targetPropertyChain);\n              return;\n            }\n            // bind the last property to the new target\n            context.listenerIds[j] = this.__bindEventToProperty(\n              source, eventName, context.targetObject, context.targetPropertyChain, context.options\n            );\n          }\n        } else {\n          // check if a listener already created\n          if (context.listeners[j] == null) {\n            var listener = qx.lang.Function.bind(this.__chainListener, this, context);\n            // store the listener for further processing\n            context.listeners.push(listener);\n          }\n          // add a new listener\n          if (qx.Class.implementsInterface(source, qx.data.IListData)) {\n            var eventName = \"change\";\n          } else {\n            var eventName = this.__getEventNameForProperty(source, context.propertyNames[j]);\n          }\n\n          if (!eventName) {\n            context.sources[j] = null;\n            this.__resetTargetValue(context.targetObject, context.targetPropertyChain);\n            return;\n          }\n          context.listenerIds[j] = source.addListener(eventName, context.listeners[j]);\n        }\n      }\n    },\n\n\n    /**\n     * Internal helper for setting up the listening to the changes on the\n     * target side of the binding. Only works if the target property is a\n     * property chain\n     *\n     * @param sourceObject {qx.core.Object} The source of the binding.\n     * @param sourcePropertyChain {String} The property chain which represents\n     *   the source property.\n     * @param targetObject {qx.core.Object} The object which the source should\n     *   be bind to.\n     * @param targetPropertyChain {String} The property name of the target\n     *   object.\n     * @param options {Map} The options map perhaps containing the user defined\n     *   converter.\n     * @return {var} A map containing the listener ids and the targets.\n     */\n    __setUpTargetBinding : function(\n      sourceObject, sourcePropertyChain, targetObject, targetPropertyChain, options\n    ) {\n      // get the property names\n      var propertyNames = targetPropertyChain.split(\".\");\n\n      var arrayIndexValues =\n        this.__checkForArrayInPropertyChain(propertyNames);\n      var targets = [];\n      var listeners = [];\n      var listenerIds = [];\n      var eventNames = [];\n      var target = targetObject;\n\n      // go through all property names\n      for (var i = 0; i < propertyNames.length - 1; i++) {\n        // check for the array\n        if (arrayIndexValues[i] !== \"\") {\n          // push the array change event\n          eventNames.push(\"change\");\n        } else {\n          var eventName = this.__getEventNameForProperty(target, propertyNames[i]);\n          if (!eventName) {\n            // if the event names could not be terminated,\n            // just ignore the target chain listening\n            break;\n          }\n          eventNames.push(eventName);\n        }\n\n        // save the current source\n        targets[i] = target;\n\n        // create a listener\n        var listener = function() {\n          // delete all listener after the current one\n          for (var j = i + 1; j < propertyNames.length - 1; j++) {\n            // remove the old sources\n            var target = targets[j];\n            targets[j] = null;\n            if (!target) {\n              continue;\n            }\n\n            // remove the listeners\n            target.removeListenerById(listenerIds[j]);\n          }\n\n          // get the current target\n          var target = targets[i];\n          // add new once after the current one\n          for (var j = i + 1; j < propertyNames.length - 1; j++) {\n\n            var firstUpPropName = qx.lang.String.firstUp(propertyNames[j - 1]);\n            // get and store the new target\n            if (arrayIndexValues[j - 1] !== \"\") {\n              var currentIndex = arrayIndexValues[j - 1] === \"last\" ?\n                target.getLength() - 1 : arrayIndexValues[j - 1];\n              target = target[\"get\" + firstUpPropName](currentIndex);\n            } else {\n              target = target[\"get\" + firstUpPropName]();\n            }\n            targets[j] = target;\n            if (!target) {\n              break;\n            }\n\n            // check if a listener already created\n            if (listeners[j] == null) {\n              // store the listener for further processing\n              listeners.push(listener);\n            }\n\n            // add a new listener\n            if (qx.Class.implementsInterface(target, qx.data.IListData)) {\n              var eventName = \"change\";\n            } else {\n              var eventName =\n                qx.data.SingleValueBinding.__getEventNameForProperty(\n                  target, propertyNames[j]\n                );\n              if (!eventName) {\n                // if the event name could not be terminated,\n                // ignore the rest\n                break;\n              }\n            }\n\n            listenerIds[j] = target.addListener(eventName, listeners[j]);\n           }\n\n          qx.data.SingleValueBinding.updateTarget(\n            sourceObject, sourcePropertyChain, targetObject, targetPropertyChain, options\n          );\n        };\n\n        // store the listener for further processing\n        listeners.push(listener);\n\n        // add the chaining listener\n        listenerIds[i] = target.addListener(eventNames[i], listener);\n\n        var firstUpPropName = qx.lang.String.firstUp(propertyNames[i]);\n        // get and store the next target\n        if (target[\"get\" + firstUpPropName] == null) {\n          target = null;\n        } else if (arrayIndexValues[i] !== \"\") {\n          target = target[\"get\" + firstUpPropName](arrayIndexValues[i]);\n        } else {\n          target = target[\"get\" + firstUpPropName]();\n        }\n        if (!target) {\n          break;\n        }\n      }\n\n      return {listenerIds: listenerIds, targets: targets};\n    },\n\n\n    /**\n     * Helper for updating the target. Gets the current set data from the source\n     * and set that on the target.\n     *\n     * @param sourceObject {qx.core.Object} The source of the binding.\n     * @param sourcePropertyChain {String} The property chain which represents\n     *   the source property.\n     * @param targetObject {qx.core.Object} The object which the source should\n     *   be bind to.\n     * @param targetPropertyChain {String} The property name of the target\n     *   object.\n     * @param options {Map} The options map perhaps containing the user defined\n     *   converter.\n     *\n     * @internal\n     */\n    updateTarget : function(\n      sourceObject, sourcePropertyChain, targetObject, targetPropertyChain, options\n    )\n    {\n      var value = this.resolvePropertyChain(sourceObject, sourcePropertyChain);\n\n      // convert the data before setting\n      value = qx.data.SingleValueBinding.__convertValue(\n        value, targetObject, targetPropertyChain, options, sourceObject\n      );\n\n      this.__setTargetValue(targetObject, targetPropertyChain, value);\n    },\n\n\n    /**\n     * Internal helper for getting the current set value at the property chain.\n     *\n     * @param o {qx.core.Object} The source of the binding.\n     * @param propertyChain {String} The property chain which represents\n     *   the source property.\n     * @return {var?undefined} Returns the set value if defined.\n     */\n    resolvePropertyChain : function(o, propertyChain) {\n      var properties = this.__getPropertyChainArray(propertyChain);\n      return this.__getTargetFromChain(o, properties, properties.length);\n    },\n\n\n    /**\n     * Tries to return a fitting event name to the given source object and\n     * property name. First, it assumes that the property name is a real property\n     * and therefore it checks the property definition for the event. The second\n     * possibility is to check if there is an event with the given name. The\n     * third and last possibility checked is if there is an event which is named\n     * change + propertyName. If this three possibilities fail, an error will be\n     * thrown.\n     *\n     * @param source {qx.core.Object} The source where the property is stored.\n     * @param propertyName {String} The name of the property.\n     * @return {String|null} The name of the corresponding event or null.\n     */\n    __getEventNameForProperty : function(source, propertyName)\n    {\n      // get the current event name from the property definition\n      var eventName = this.__getEventForProperty(source, propertyName);\n      // if no event name could be found\n      if (eventName == null) {\n        // check if the propertyName is the event name\n        if (qx.Class.supportsEvent(source.constructor, propertyName)) {\n          eventName = propertyName;\n        // check if the change + propertyName is the event name\n        } else if (qx.Class.supportsEvent(\n          source.constructor, \"change\" + qx.lang.String.firstUp(propertyName))\n        ) {\n          eventName = \"change\" + qx.lang.String.firstUp(propertyName);\n        } else {\n          return null;\n        }\n      }\n      return eventName;\n    },\n\n\n    /**\n     * Resets the value of the given target after resolving the target property\n     * chain.\n     *\n     * @param targetObject {qx.core.Object} The object where the property chain\n     *   starts.\n     * @param targetPropertyChain {String} The names of the properties,\n     *   separated with a dot.\n     */\n    __resetTargetValue : function(targetObject, targetPropertyChain)\n    {\n      // get the last target object of the chain\n      var properties = this.__getPropertyChainArray(targetPropertyChain);\n      var target = this.__getTargetFromChain(targetObject, properties);\n      if (target != null) {\n        // get the name of the last property\n        var lastProperty = properties[properties.length - 1];\n        // check for an array and set the value to null\n        var index = this.__getArrayIndex(lastProperty);\n        if (index) {\n          this.__setTargetValue(targetObject, targetPropertyChain, null);\n          return;\n        }\n\n        // try to reset the property\n        if (target[\"reset\" + qx.lang.String.firstUp(lastProperty)] != undefined) {\n          target[\"reset\" + qx.lang.String.firstUp(lastProperty)]();\n        } else {\n          // fallback if no resetter is given (see bug #2456)\n          if( typeof target[\"set\" + qx.lang.String.firstUp(lastProperty)] != \"function\") {\n            throw new qx.core.AssertionError(\"No setter for '\" + lastProperty + \"' on target \" + target + \".\");\n          }\n          target[\"set\" + qx.lang.String.firstUp(lastProperty)](null);\n        }\n      }\n    },\n\n\n    /**\n     * Sets the given value to the given target after resolving the\n     * target property chain.\n     *\n     * @param targetObject {qx.core.Object} The object where the property chain\n     *   starts.\n     * @param targetPropertyChain {String} The names of the properties,\n     *   separated with a dot.\n     * @param value {var} The value to set.\n     */\n    __setTargetValue : function(targetObject, targetPropertyChain, value)\n    {\n      // get the last target object of the chain\n      var properties = this.__getPropertyChainArray(targetPropertyChain);\n      var target = this.__getTargetFromChain(targetObject, properties);\n      if (target) {\n        // get the name of the last property\n        var lastProperty = properties[properties.length - 1];\n\n        // check for array notation\n        var index = this.__getArrayIndex(lastProperty);\n        if (index) {\n          if (index === \"last\") {\n            // check for the 'last' notation\n            index = target.length - 1;\n          }\n          target.setItem(index, value);\n        } else {\n          if( typeof target[\"set\" + qx.lang.String.firstUp(lastProperty)] != \"function\" ){\n            throw new qx.core.AssertionError(\"No setter for '\" + lastProperty + \"' on target \" + target + \".\");\n          }\n          return target[\"set\" + qx.lang.String.firstUp(lastProperty)](value);\n        }\n      }\n    },\n\n\n    /**\n     * Returns the index from a property using bracket notation, e.g.\n     * \"[42]\" returns \"42\", \"[last]\" returns \"last\"\n     *\n     * @param propertyName {String} A property name\n     * @return {String|null} Array index or null if the property name does\n     * not use bracket notation\n     */\n    __getArrayIndex: function(propertyName) {\n      var arrayExp = /^\\[(\\d+|last)\\]$/;\n        var arrayMatch = propertyName.match(arrayExp);\n        if (arrayMatch) {\n          return  arrayMatch[1];\n        }\n        return null;\n    },\n\n\n    /**\n     * Converts a property chain string into a list of properties and/or\n     * array indexes\n     * @param targetPropertyChain {String} property chain\n     * @return {String[]} Array of property names\n     */\n    __getPropertyChainArray: function(targetPropertyChain) {\n      // split properties (dot notation) and array indexes (bracket notation)\n      return targetPropertyChain.replace(/\\[/g, \".[\").split(\".\")\n        .filter(function(prop) {\n          return prop !== \"\";\n        });\n    },\n\n\n    /**\n     * Helper-Function resolving the object on which the last property of the\n     * chain should be set.\n     *\n     * @param targetObject {qx.core.Object} The object where the property chain\n     *   starts.\n     * @param targetProperties {String[]} Array containing the names of the properties\n     * @param index {Number?} The array index of the last property to be considered.\n     * Default: The last item's index\n     * @return {qx.core.Object | null} The object on which the last property\n     *   should be set.\n     */\n    __getTargetFromChain : function(targetObject, targetProperties, index)\n    {\n      index = index || targetProperties.length - 1;\n      var target = targetObject;\n\n      for (var i = 0; target !== null && i < index; i++) {\n        try {\n          var property = targetProperties[i];\n\n          // array notation\n          var arrIndex = this.__getArrayIndex(property);\n          if (arrIndex) {\n            if (arrIndex === \"last\") {\n              // check for the 'last' notation\n              arrIndex = target.length - 1;\n            }\n            target = target.getItem(arrIndex);\n          }\n          else {\n            target = target[\"get\" + qx.lang.String.firstUp(property)]();\n          }\n        } catch (ex) {\n          return null;\n        }\n      }\n      return target;\n    },\n\n\n    /**\n     * Set the given value to the target property. This method is used for\n     * initially set the value.\n     *\n     * @param value {var} The value to set.\n     * @param targetObject {qx.core.Object} The object which contains the target\n     *   property.\n     * @param targetPropertyChain {String} The name of the target property in the\n     *   target object.\n     * @param options {Map} The options map perhaps containing the user defined\n     *   converter.\n     * @param sourceObject {qx.core.Object} The source object of the binding (\n     *   used for the onUpdate callback).\n     */\n    __setInitialValue : function(value, targetObject, targetPropertyChain, options, sourceObject)\n    {\n      // first convert the initial value\n      value = this.__convertValue(\n        value, targetObject, targetPropertyChain, options, sourceObject\n      );\n      // check if the converted value is undefined\n      if (value === undefined) {\n        this.__resetTargetValue(targetObject, targetPropertyChain);\n      }\n      // only set the initial value if one is given (may be null)\n      if (value !== undefined) {\n        try {\n          var result = this.__setTargetValue(targetObject, targetPropertyChain, value);\n\n          // tell the user that the setter was invoked probably\n          if (options && options.onUpdate) {\n            options.onUpdate(sourceObject, targetObject, value);\n          }\n          return result;\n        } catch (e) {\n          if (! (e instanceof qx.core.ValidationError)) {\n            throw e;\n          }\n\n          if (options && options.onSetFail) {\n            options.onSetFail(e);\n          } else {\n            qx.log.Logger.warn(\n              \"Failed so set value \" + value + \" on \" + targetObject\n               + \". Error message: \" + e\n            );\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Checks for an array element in the given property names and adapts the\n     * arrays to fit the algorithm.\n     *\n     * @param propertyNames {Array} The array containing the property names.\n     *   Attention, this method can change this parameter!!!\n     * @return {Array} An array containing the values of the array properties\n     *   corresponding to the property names.\n     */\n    __checkForArrayInPropertyChain: function(propertyNames) {\n      // array for the values of the array properties\n      var arrayIndexValues = [];\n\n      // go through all properties and check for array notations\n      for (var i = 0; i < propertyNames.length; i++) {\n        var name = propertyNames[i];\n        // if its an array property in the chain\n        if (name.endsWith(\"]\")) {\n          // get the inner value of the array notation\n          var arrayIndex = name.substring(name.indexOf(\"[\") + 1, name.indexOf(\"]\"));\n\n          // check the arrayIndex\n          if (name.indexOf(\"]\") != name.length - 1) {\n            throw new Error(\"Please use only one array at a time: \"\n              + name + \" does not work.\");\n          }\n          if (arrayIndex !== \"last\") {\n            if (arrayIndex == \"\" || isNaN(parseInt(arrayIndex, 10))) {\n              throw new Error(\"No number or 'last' value has been given\"\n                + \" in an array binding: \" + name + \" does not work.\");\n            }\n          }\n\n          // if a property is in front of the array notation\n          if (name.indexOf(\"[\") != 0) {\n            // store the property name without the array notation\n            propertyNames[i] = name.substring(0, name.indexOf(\"[\"));\n            // store the values in the array for the current iteration\n            arrayIndexValues[i] = \"\";\n            // store the properties for the next iteration (the item of the array)\n            arrayIndexValues[i + 1] = arrayIndex;\n            propertyNames.splice(i + 1, 0, \"item\");\n            // skip the next iteration. its the array item and its already set\n            i++;\n          // it the array notation is the beginning\n          } else {\n            // store the array index and override the entry in the property names\n            arrayIndexValues[i] = arrayIndex;\n            propertyNames.splice(i, 1, \"item\");\n          }\n\n        } else {\n          arrayIndexValues[i] = \"\";\n        }\n      }\n\n      return arrayIndexValues;\n    },\n\n\n    /**\n     * Internal helper method which is actually doing all bindings. That means\n     * that an event listener will be added to the source object which listens\n     * to the given event and invokes an set on the target property on the\n     * targetObject.\n     * This method does not store the binding in the internal reference store\n     * so it should NOT be used from outside this class. For an outside usage,\n     * use {@link #bind}.\n     *\n     * @param sourceObject {qx.core.Object} The source of the binding.\n     * @param sourceEvent {String} The event of the source object which could\n     *   be the change event in common but has to be an\n     *   {@link qx.event.type.Data} event.\n     * @param targetObject {qx.core.Object} The object which the source should\n     *   be bind to.\n     * @param targetProperty {String} The property name of the target object.\n     * @param options {Map} A map containing the options. See\n     *   {@link #bind} for more information.\n     * @param arrayIndex {String} The index of the given array if its an array\n     *   to bind.\n     *\n     * @return {var} Returns the internal id for that binding. This can be used\n     *   for referencing the binding or e.g. for removing. This is not an atomic\n     *   id so you can't you use it as a hash-map index. It's the id which will\n     *   be returned by the {@link qx.core.Object#addListener} method.\n     * @throws {qx.core.AssertionError} If the event is no data event or\n     *   there is no property definition for the target object and target\n     *   property.\n     */\n    __bindEventToProperty : function(sourceObject, sourceEvent, targetObject,\n      targetProperty, options, arrayIndex)\n    {\n      // checks\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        // check for the data event\n        var eventType = qx.Class.getEventType(\n          sourceObject.constructor, sourceEvent\n        );\n        qx.core.Assert.assertEquals(\n          \"qx.event.type.Data\", eventType, sourceEvent\n          + \" is not an data (qx.event.type.Data) event on \"\n          + sourceObject + \".\"\n        );\n      }\n\n      var bindListener = function(arrayIndex, e) {\n        // if an array value is given\n        if (arrayIndex !== \"\") {\n          //check if its the \"last\" value\n          if (arrayIndex === \"last\") {\n            arrayIndex = sourceObject.length - 1;\n          }\n\n          // get the data of the array\n          var data = sourceObject.getItem(arrayIndex);\n\n          // reset the target if the data is not set\n          if (data === undefined) {\n            qx.data.SingleValueBinding.__resetTargetValue(targetObject, targetProperty);\n          }\n\n          // only do something if the current array has been changed\n          var start = e.getData().start;\n          var end = e.getData().end;\n          if (arrayIndex < start || arrayIndex > end) {\n            return;\n          }\n        } else {\n          // get the data out of the event\n          var data = e.getData();\n        }\n\n        // debug message\n        if (qx.core.Environment.get(\"qx.debug.databinding\")) {\n          qx.log.Logger.debug(\"Binding executed from \" + sourceObject + \" by \" +\n            sourceEvent + \" to \" + targetObject + \" (\" + targetProperty + \")\");\n          qx.log.Logger.debug(\"Data before conversion: \" + data);\n        }\n\n        // convert the data\n        data = qx.data.SingleValueBinding.__convertValue(\n          data, targetObject, targetProperty, options, sourceObject\n        );\n\n        // debug message\n        if (qx.core.Environment.get(\"qx.debug.databinding\")) {\n          qx.log.Logger.debug(\"Data after conversion: \" + data);\n        }\n\n        // try to set the value\n        var result;\n        try {\n          if (data !== undefined) {\n            result = qx.data.SingleValueBinding.__setTargetValue(targetObject, targetProperty, data);\n          } else {\n          \tresult = qx.data.SingleValueBinding.__resetTargetValue(targetObject, targetProperty);\n          }\n\n          // tell the user that the setter was invoked probably\n          if (options && options.onUpdate) {\n            options.onUpdate(sourceObject, targetObject, data);\n          }\n\n        } catch (ex) {\n          if (! (ex instanceof qx.core.ValidationError)) {\n            throw ex;\n          }\n\n          if (options && options.onSetFail) {\n            options.onSetFail(ex);\n          } else {\n            qx.log.Logger.warn(\n              \"Failed so set value \" + data + \" on \" + targetObject\n               + \". Error message: \" + ex\n            );\n          }\n        }\n        return result;\n      };\n\n      // check if an array index is given\n      if (!arrayIndex) {\n        // if not, signal it a s an empty string\n        arrayIndex = \"\";\n      }\n      // bind the listener function (make the array index in the listener available)\n      bindListener = qx.lang.Function.bind(bindListener, sourceObject, arrayIndex);\n\n      // add the listener\n      var id = sourceObject.addListener(sourceEvent, bindListener);\n\n      return id;\n    },\n\n\n    /**\n     * This method stores the given value as a binding in the internal structure\n     * of all bindings.\n     *\n     * @param id {var} The listener id of the id for a deeper binding.\n     * @param sourceObject {qx.core.Object} The source Object of the binding.\n     * @param sourceEvent {String} The name of the source event.\n     * @param targetObject {qx.core.Object} The target object.\n     * @param targetProperty {String} The name of the property on the target\n     *   object.\n     */\n    __storeBinding : function(\n      id, sourceObject, sourceEvent, targetObject, targetProperty\n    )\n    {\n      var hash;\n\n      // add the listener id to the internal registry\n      hash = sourceObject.toHashCode();\n      if (this.__bindings[hash] === undefined) {\n        this.__bindings[hash] = [];\n      }\n\n      var binding = [id, sourceObject, sourceEvent, targetObject, targetProperty];\n      this.__bindings[hash].push(binding);\n\n\n      // add same binding data indexed by target object\n      hash = targetObject.toHashCode();\n      if (this.__bindingsByTarget[hash] === undefined) {\n        this.__bindingsByTarget[hash] = [];\n      }\n      this.__bindingsByTarget[hash].push(binding);\n    },\n\n\n    /**\n     * This method takes the given value, checks if the user has given a\n     * converter and converts the value to its target type. If no converter is\n     * given by the user, the {@link #__defaultConversion} will try to convert\n     * the value.\n     *\n     * @param value {var} The value which possibly should be converted.\n     * @param targetObject {qx.core.Object} The target object.\n     * @param targetPropertyChain {String} The property name of the target object.\n     * @param options {Map} The options map which can includes the converter.\n     *   For a detailed information on the map, take a look at\n     *   {@link #bind}.\n     * @param sourceObject {qx.core.Object} The source object for the binding.\n     *\n     * @return {var} The converted value. If no conversion has been done, the\n     *   value property will be returned.\n     * @throws {qx.core.AssertionError} If there is no property definition\n     *   of the given target object and target property.\n     */\n    __convertValue : function(\n      value, targetObject, targetPropertyChain, options, sourceObject\n    ) {\n      // do the conversion given by the user\n      if (options && options.converter) {\n        var model;\n        if (targetObject.getModel) {\n          model = targetObject.getModel();\n        }\n        return options.converter(value, model, sourceObject, targetObject);\n      // try default conversion\n      } else {\n        var properties = this.__getPropertyChainArray(targetPropertyChain);\n        var target = this.__getTargetFromChain(targetObject, properties);\n        var lastProperty = targetPropertyChain.substring(\n          targetPropertyChain.lastIndexOf(\".\") + 1, targetPropertyChain.length\n        );\n        // if no target is currently available, return the original value\n        if (target == null) {\n          return value;\n        }\n\n        var propertieDefinition = qx.Class.getPropertyDefinition(\n          target.constructor, lastProperty\n        );\n        var check = propertieDefinition == null ? \"\" : propertieDefinition.check;\n        return this.__defaultConversion(value, check);\n      }\n    },\n\n\n    /**\n     * Helper method which tries to figure out if the given property on the\n     * given object does have a change event and if returns the name of it.\n     *\n     * @param sourceObject {qx.core.Object} The object to check.\n     * @param sourceProperty {String} The name of the property.\n     *\n     * @return {String} The name of the change event.\n     * @throws {qx.core.AssertionError} If there is no property definition of\n     *   the given object property pair.\n     */\n    __getEventForProperty : function(sourceObject, sourceProperty) {\n      // get the event name\n      var propertieDefinition =  qx.Class.getPropertyDefinition(\n        sourceObject.constructor, sourceProperty\n      );\n\n      if (propertieDefinition == null) {\n        return null;\n      }\n      return propertieDefinition.event;\n    },\n\n\n    /**\n     * Tries to convert the data to the type given in the targetCheck argument.\n     *\n     * @param data {var} The data to convert.\n     * @param targetCheck {String} The value of the check property. That usually\n     *   contains the target type.\n     * @return {Integer|String|Float} The converted data\n     */\n    __defaultConversion : function(data, targetCheck) {\n      var dataType = qx.lang.Type.getClass(data);\n\n      // to integer\n      if ((dataType == \"Number\" || dataType == \"String\") &&\n          (targetCheck == \"Integer\" || targetCheck == \"PositiveInteger\")) {\n        data = parseInt(data, 10);\n      }\n\n      // to string\n      if ((dataType == \"Boolean\" || dataType == \"Number\" || dataType == \"Date\")\n        && targetCheck == \"String\") {\n        data = data + \"\";\n      }\n\n      // to float\n      if ((dataType == \"Number\" || dataType == \"String\") &&\n        (targetCheck == \"Number\" || targetCheck == \"PositiveNumber\")) {\n        data = parseFloat(data);\n      }\n\n      return data;\n    },\n\n\n    /**\n     * Removes the binding with the given id from the given sourceObject. The\n     * id has to be the id returned by any of the bind functions.\n     *\n     * @param sourceObject {qx.core.Object} The source object of the binding.\n     * @param id {var} The id of the binding.\n     * @throws {Error} If the binding could not be found.\n     */\n    removeBindingFromObject : function(sourceObject, id) {\n      // check for a deep binding\n      if (id.type == \"deepBinding\") {\n        // go through all added listeners (source)\n        for (var i = 0; i < id.sources.length; i++) {\n          // check if a source is available\n          if (id.sources[i]) {\n            if(id.listenerIds[i]) {\n              id.sources[i].removeListenerById(id.listenerIds[i]);\n            }\n            // If the listener id is not available, it is most likely\n            // caused by some hidden error situation.\n            // At least an error message should be displayed\n            else {\n              sourceObject.error(\"Could not remove deep bindings. Binding id for \" + id.sources[i].classname + \" could not be found!\");\n            }\n          }\n        }\n        // go through all added listeners (target)\n        for (var i = 0; i < id.targets.length; i++) {\n          // check if a target is available\n          if (id.targets[i]) {\n            if(id.targetListenerIds[i]) {\n              id.targets[i].removeListenerById(id.targetListenerIds[i]);\n            }\n            // If the target listener id is not available, it is most likely\n            // caused by some hidden error situation.\n            // At least an error message should be displayed\n            else {\n              sourceObject.error(\"Could not remove target listener. Listener id for target \" + id.targets[i].classname + \" could not be found!\");\n            }\n          }\n        }\n      } else {\n        // remove the listener\n        sourceObject.removeListenerById(id);\n      }\n\n      // remove the id from the internal reference system\n      var bindings = this.getAllBindingsForObject(sourceObject);\n      // check if the binding exists\n      if (bindings != undefined) {\n        for (var i = 0; i < bindings.length; i++) {\n          if (bindings[i][0] == id) {\n            // remove binding data from internal reference indexed by target object\n            var target = bindings[i][3];\n            if (this.__bindingsByTarget[target.toHashCode()]) {\n              qx.lang.Array.remove(this.__bindingsByTarget[target.toHashCode()], bindings[i]);\n            }\n\n            // remove binding data from internal reference indexed by source object\n            var source = bindings[i][1];\n            if (this.__bindings[source.toHashCode()]) {\n              qx.lang.Array.remove(this.__bindings[source.toHashCode()], bindings[i]);\n            }\n            return;\n          }\n        }\n      }\n      throw new Error(\"Binding could not be found!\");\n    },\n\n\n    /**\n     * Removes all bindings for the given object.\n     *\n     * @param object {qx.core.Object} The object of which the bindings should be\n     *   removed.\n     * @throws {qx.core.AssertionError} If the object is not in the internal\n     *   registry of the bindings.\n     * @throws {Error} If one of the bindings listed internally can not be\n     *   removed.\n     */\n    removeAllBindingsForObject : function(object) {\n      // check for the null value\n\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert.assertNotNull(object,\n          \"Can not remove the bindings for null object!\");\n      }\n\n      // get the bindings\n      var bindings = this.getAllBindingsForObject(object);\n      if (bindings != undefined)\n      {\n        // remove every binding with the removeBindingFromObject function\n        for (var i = bindings.length - 1; i >= 0; i--) {\n          this.removeBindingFromObject(object, bindings[i][0]);\n        }\n      }\n    },\n\n\n    /**\n     * Removes all bindings between given objects.\n     *\n     * @param object {qx.core.Object} The object of which the bindings should be\n     *   removed.\n     * @param relatedObject {qx.core.Object} The object of which related\n     *   bindings should be removed.\n     * @throws {qx.core.AssertionError} If the object is not in the internal\n     *   registry of the bindings.\n     * @throws {Error} If one of the bindings listed internally can not be\n     *   removed.\n     */\n    removeRelatedBindings : function(object, relatedObject) {\n      // check for the null value\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert.assertNotNull(object,\n          \"Can not remove the bindings for null object!\");\n        qx.core.Assert.assertNotNull(relatedObject,\n          \"Can not remove the bindings for null object!\");\n      }\n\n      // get the bindings\n      var bindings = this.getAllBindingsForObject(object);\n      if (bindings != undefined)\n      {\n        // remove every binding with the removeBindingFromObject function\n        for (var i = bindings.length - 1; i >= 0; i--) {\n          var source = bindings[i][1];\n          var target = bindings[i][3];\n          if (source === relatedObject || target === relatedObject) {\n            this.removeBindingFromObject(object, bindings[i][0]);\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Returns an array which lists all bindings.\n     *\n     * @param object {qx.core.Object} The object of which the bindings should\n     *   be returned.\n     *\n     * @return {Array} An array of binding informations. Every binding\n     *   information is an array itself containing id, sourceObject,\n     *   sourceEvent, targetObject and targetProperty in that order.\n     */\n    getAllBindingsForObject : function(object) {\n      var hash = object.toHashCode();\n      // create an empty array if no binding exists\n      if (this.__bindings[hash] === undefined) {\n        this.__bindings[hash] = [];\n      }\n\n      // get all bindings of object as source\n      var sourceBindings = this.__bindings[hash];\n\n      // get all bindings of object as target\n      var targetBindings = this.__bindingsByTarget[hash] ? this.__bindingsByTarget[hash] : [];\n\n      return qx.lang.Array.unique(sourceBindings.concat(targetBindings));\n    },\n\n\n    /**\n     * Removes all binding in the whole application. After that not a single\n     * binding is left.\n     * @deprecated {6.0} dispose and destructors are deprecated because of automatic memory management; this\n     * will only work for objects explicitly registered with ObjectRegistry.register\n     */\n    removeAllBindings : function() {\n      // go through all registered objects\n      for (var hash in this.__bindings) {\n        var object = qx.core.ObjectRegistry.fromHashCode(hash);\n        // check for the object, perhaps its already deleted\n        if (object == null) {\n          delete this.__bindings[hash];\n          continue;\n        }\n        this.removeAllBindingsForObject(object);\n      }\n      // reset the bindings map\n      this.__bindings = {};\n    },\n\n\n    /**\n     * Returns a map containing for every bound object an array of data binding\n     * information. The key of the map is the hash code of the bound objects.\n     * Every binding is represented by an array containing id, sourceObject,\n     * sourceEvent, targetObject and targetProperty.\n     *\n     * @return {Map} Map containing all bindings.\n     */\n    getAllBindings : function() {\n      return this.__bindings;\n    },\n\n\n    /**\n     * Debug function which shows some valuable information about the given\n     * binding in console. For that it uses {@link qx.log.Logger}.\n     *\n     * @param object {qx.core.Object} the source of the binding.\n     * @param id {var} The id of the binding.\n     */\n    showBindingInLog : function(object, id) {\n      var binding;\n      // go through all bindings of the given object\n      for (var i = 0; i < this.__bindings[object.toHashCode()].length; i++) {\n        // the first array item is the id\n        if (this.__bindings[object.toHashCode()][i][0] == id) {\n          binding = this.__bindings[object.toHashCode()][i];\n          break;\n        }\n      }\n\n      if (binding === undefined) {\n        var message = \"Binding does not exist!\"\n      } else {\n        var message = \"Binding from '\" + binding[1] + \"' (\" + binding[2] +\n          \") to the object '\" + binding[3] + \"' (\"+ binding[4] + \").\";\n      }\n\n      qx.log.Logger.debug(message);\n    },\n\n\n    /**\n     * Debug function which shows all bindings in the log console. To get only\n     * one binding in the console use {@link #showBindingInLog}\n     * @deprecated {6.0} qx.core.ObjectRegistry no longer stores most objects\n     */\n    showAllBindingsInLog : function() {\n      // go through all objects in the registry\n      for (var hash in this.__bindings) {\n        var object = qx.core.ObjectRegistry.fromHashCode(hash);\n        if (object) {\n\t        for (var i = 0; i < this.__bindings[hash].length; i++) {\n\t          this.showBindingInLog(object, this.__bindings[hash][i][0]);\n\t        }\n        }\n      }\n    }\n\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Event handler Interface.\n *\n * All custom event handler like mouse or keyboard event handler must implement\n * this interface.\n */\nqx.Interface.define(\"qx.event.IEventHandler\",\n{\n  statics :\n  {\n    /** @type {Integer} The event target must be a dom node */\n    TARGET_DOMNODE: 1,\n\n    /** @type {Integer} The event target must be a window object */\n    TARGET_WINDOW : 2,\n\n    /** @type {Integer} The event target must be a qooxdoo object */\n    TARGET_OBJECT: 4,\n\n    /** @type {Integer} The event target must be a document node */\n    TARGET_DOCUMENT: 8\n  },\n\n\n  members :\n  {\n    /**\n     * Whether the event handler can handle events of the given type. If the\n     * event handler class has a static variable called <code>IGNORE_CAN_HANDLE</code>\n     * with the value <code>true</code> this function is not called. Whether the\n     * handler can handle the event is them only determined by the static variables\n     * <code>SUPPORTED_TYPES</code> and <code>TARGET_CHECK</code>.\n     *\n     * @param target {var} The target to, which the event handler should\n     *     be attached\n     * @param type {String} event type\n     * @return {Boolean} Whether the event handler can handle events of the\n     *     given type.\n     */\n    canHandleEvent : function(target, type) {},\n\n\n    /**\n     * This method is called each time an event listener, for one of the\n     * supported events, is added using {@link qx.event.Manager#addListener}.\n     *\n     * @param target {var} The target to, which the event handler should\n     *     be attached\n     * @param type {String} event type\n     * @param capture {Boolean} Whether to attach the event to the\n     *         capturing phase or the bubbling phase of the event.\n     */\n    registerEvent : function(target, type, capture) {},\n\n\n    /**\n     * This method is called each time an event listener, for one of the\n     * supported events, is removed by using {@link qx.event.Manager#removeListener}\n     * and no other event listener is listening on this type.\n     *\n     * @param target {var} The target from, which the event handler should\n     *     be removed\n     * @param type {String} event type\n     * @param capture {Boolean} Whether to attach the event to the\n     *         capturing phase or the bubbling phase of the event.\n     */\n    unregisterEvent : function(target, type, capture) {}\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * This class provides qooxdoo object event support.\n */\nqx.Class.define(\"qx.event.handler.Object\",\n{\n  extend : qx.core.Object,\n  implement : qx.event.IEventHandler,\n\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_LAST,\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES : null,\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_OBJECT,\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : false\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type) {\n      return qx.Class.supportsEvent(target.constructor, type);\n    },\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    }\n  },\n\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * This class comes with all relevant information regarding\n * the client's engine.\n *\n * This class is used by {@link qx.core.Environment} and should not be used\n * directly. Please check its class comment for details how to use it.\n *\n * @internal\n */\nqx.Bootstrap.define(\"qx.bom.client.Engine\",\n{\n  // General: http://en.wikipedia.org/wiki/Browser_timeline\n  // Webkit: https://developer.apple.com/internet/safari/uamatrix.html\n  // Firefox: http://en.wikipedia.org/wiki/History_of_Mozilla_Firefox\n  statics :\n  {\n    /**\n     * Returns the version of the engine.\n     *\n     * @return {String} The version number of the current engine.\n     * @internal\n     */\n    getVersion : function() {\n      var agent = window.navigator.userAgent;\n\n      var version = \"\";\n      if (qx.bom.client.Engine.__isMshtml()) {\n        var isTrident = /Trident\\/([^\\);]+)(\\)|;)/.test(agent);\n        if (/MSIE\\s+([^\\);]+)(\\)|;)/.test(agent)) {\n          version = RegExp.$1;\n\n          // If the IE8 or IE9 is running in the compatibility mode, the MSIE value\n          // is set to an older version, but we need the correct version. The only\n          // way is to compare the trident version.\n          if (version < 8 && isTrident) {\n            if (RegExp.$1 == \"4.0\") {\n              version = \"8.0\";\n            } else if (RegExp.$1 == \"5.0\") {\n              version = \"9.0\";\n            }\n          }\n        } else if (isTrident) {\n          // IE 11 dropped the \"MSIE\" string\n          var match = /\\brv\\:(\\d+?\\.\\d+?)\\b/.exec(agent);\n          if (match) {\n            version = match[1];\n          }\n        }\n      } else if (qx.bom.client.Engine.__isOpera()) {\n        // Opera has a special versioning scheme, where the second part is combined\n        // e.g. 8.54 which should be handled like 8.5.4 to be compatible to the\n        // common versioning system used by other browsers\n        if (/Opera[\\s\\/]([0-9]+)\\.([0-9])([0-9]*)/.test(agent))\n        {\n          // opera >= 10 has as a first version 9.80 and adds the proper version\n          // in a separate \"Version/\" postfix\n          // http://my.opera.com/chooseopera/blog/2009/05/29/changes-in-operas-user-agent-string-format\n          if (agent.indexOf(\"Version/\") != -1) {\n            var match = agent.match(/Version\\/(\\d+)\\.(\\d+)/);\n            // ignore the first match, its the whole version string\n            version =\n              match[1] + \".\" +\n              match[2].charAt(0) + \".\" +\n              match[2].substring(1, match[2].length);\n          } else {\n            version = RegExp.$1 + \".\" + RegExp.$2;\n            if (RegExp.$3 != \"\") {\n              version += \".\" + RegExp.$3;\n            }\n          }\n        }\n      } else if (qx.bom.client.Engine.__isWebkit()) {\n        if (/AppleWebKit\\/([^ ]+)/.test(agent))\n        {\n          version = RegExp.$1;\n\n          // We need to filter these invalid characters\n          var invalidCharacter = RegExp(\"[^\\\\.0-9]\").exec(version);\n\n          if (invalidCharacter) {\n            version = version.slice(0, invalidCharacter.index);\n          }\n        }\n      } else if (qx.bom.client.Engine.__isGecko()) {\n        // Parse \"rv\" section in user agent string\n        if (/rv\\:([^\\);]+)(\\)|;)/.test(agent)) {\n          version = RegExp.$1;\n        }\n      } else {\n        var failFunction = window.qxFail;\n        if (failFunction && typeof failFunction === \"function\") {\n          version = failFunction().FULLVERSION;\n        } else {\n          version = \"1.9.0.0\";\n          qx.Bootstrap.warn(\"Unsupported client: \" + agent\n            + \"! Assumed gecko version 1.9.0.0 (Firefox 3.0).\");\n        }\n      }\n\n      return version;\n    },\n\n\n    /**\n     * Returns the name of the engine.\n     *\n     * @return {String} The name of the current engine.\n     * @internal\n     */\n    getName : function() {\n      var name;\n      if (qx.bom.client.Engine.__isMshtml()) {\n        name = \"mshtml\";\n      } else if (qx.bom.client.Engine.__isOpera()) {\n        name = \"opera\";\n      } else if (qx.bom.client.Engine.__isWebkit()) {\n        name = \"webkit\";\n      } else if (qx.bom.client.Engine.__isGecko()) {\n        name = \"gecko\";\n      } else {\n        // check for the fallback\n        var failFunction = window.qxFail;\n        if (failFunction && typeof failFunction === \"function\") {\n          name = failFunction().NAME;\n        } else {\n          name = \"gecko\";\n          qx.Bootstrap.warn(\"Unsupported client: \" + window.navigator.userAgent\n            + \"! Assumed gecko version 1.9.0.0 (Firefox 3.0).\");\n        }\n      }\n      return name;\n    },\n\n\n    /**\n     * Internal helper for checking for opera (presto powered).\n     *\n     * Note that with opera >= 15 their engine switched to blink, so\n     * things like \"window.opera\" don't work anymore or changed (e.g. user agent).\n     *\n     * @return {Boolean} true, if its opera (presto powered).\n     */\n    __isOpera : function() {\n      return window.opera &&\n        Object.prototype.toString.call(window.opera) == \"[object Opera]\";\n    },\n\n\n    /**\n     * Internal helper for checking for webkit.\n     * @return {Boolean} true, if its webkit.\n     */\n    __isWebkit : function() {\n      return window.navigator.userAgent.indexOf(\"AppleWebKit/\") != -1;\n    },\n\n\n    /**\n     * Internal helper for checking for gecko.\n     *\n     * Note:\n     *  \"window.controllers\" is gone/hidden with Firefox 30+\n     *  \"window.navigator.mozApps\" is supported since Firefox 11+ and is gone/hidden with Firefox 47 beta\n     *  \"window.navigator.buildID\" is supported since Firefox 2+\n     *  \"window.navigator.product\" is actually useless cause the HTML5 spec\n     *    states it should be the constant \"Gecko\".\n     *\n     *  - https://developer.mozilla.org/en-US/docs/Web/API/Window.controllers\n     *  - https://developer.mozilla.org/en-US/docs/Web/API/Navigator.mozApps\n     *  - https://developer.mozilla.org/en-US/docs/Web/API/Navigator/buildID\n     *  - http://www.w3.org/html/wg/drafts/html/master/webappapis.html#navigatorid\n     *\n     * @return {Boolean} true, if its gecko.\n     */\n    __isGecko : function() {\n      return (window.navigator.mozApps || window.navigator.buildID) &&\n        window.navigator.product === \"Gecko\" &&\n        window.navigator.userAgent.indexOf(\"Trident\") == -1;\n    },\n\n\n    /**\n     * Internal helper to check for MSHTML.\n     * @return {Boolean} true, if its MSHTML.\n     */\n    __isMshtml : function () {\n      if (window.navigator.cpuClass &&\n        (/MSIE\\s+([^\\);]+)(\\)|;)/.test(window.navigator.userAgent) ||\n          /Trident\\/\\d+?\\.\\d+?/.test(window.navigator.userAgent))) {\n        return true;\n      }\n      if (qx.bom.client.Engine.__isWindowsPhone()) {\n        return true;\n      }\n      return false;\n    },\n\n\n\n    /**\n     * Internal helper to check for Windows phone.\n     * @return {Boolean} true, if its Windows phone.\n     */\n    __isWindowsPhone: function () {\n      return window.navigator.userAgent.indexOf(\"Windows Phone\") > -1;\n    }\n  },\n\n  defer : function(statics) {\n    qx.core.Environment.add(\"engine.version\", statics.getVersion);\n    qx.core.Environment.add(\"engine.name\", statics.getName);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christian Hagendorn (chris_schmidt)\n     * Martin Wittemann (martinwittemann)\n\n   ======================================================================\n\n   This class contains code from:\n\n   * Unify Project\n\n     Homepage:\n       http://unify-project.org\n\n     Copyright:\n       2009-2010 Deutsche Telekom AG, Germany, http://telekom.com\n\n     License:\n       MIT: http://www.opensource.org/licenses/mit-license.php\n\n     Authors:\n       * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Basic browser detection for qooxdoo.\n *\n * This class is used by {@link qx.core.Environment} and should not be used\n * directly. Please check its class comment for details how to use it.\n *\n * @require(qx.bom.client.OperatingSystem#getVersion)\n * @internal\n */\nqx.Bootstrap.define(\"qx.bom.client.Browser\",\n{\n  statics :\n  {\n    /**\n     * Checks for the name of the browser and returns it.\n     * @return {String} The name of the current browser.\n     * @internal\n     */\n    getName : function() {\n      var agent = navigator.userAgent;\n      var reg = new RegExp(\"(\" + qx.bom.client.Browser.__agents + \")(/|)?([0-9]+\\.[0-9])?\");\n      var match = agent.match(reg);\n      if (!match) {\n        return \"\";\n      }\n\n      var name = match[1].toLowerCase();\n\n      var engine = qx.bom.client.Engine.getName();\n      if (engine === \"webkit\")\n      {\n        if (agent.match(/Edge\\/\\d+\\.\\d+/)) {\n          name = \"edge\";\n        }\n        else if (name === \"android\")\n        {\n          // Fix Chrome name (for instance wrongly defined in user agent on Android 1.6)\n          name = \"mobile chrome\";\n        }\n        else if (agent.indexOf(\"Mobile Safari\") !== -1 || agent.indexOf(\"Mobile/\") !== -1)\n        {\n          // Fix Safari name\n          name = \"mobile safari\";\n        }\n        else if (agent.indexOf(\" OPR/\") != -1) {\n          name = \"opera\";\n        }\n      }\n      else if (engine ===  \"mshtml\")\n      {\n        // IE 11's ua string no longer contains \"MSIE\" or even \"IE\"\n        if (name === \"msie\" || name === \"trident\")\n        {\n          name = \"ie\";\n\n          // Fix IE mobile before Microsoft added IEMobile string\n          if (qx.bom.client.OperatingSystem.getVersion() === \"ce\") {\n            name = \"iemobile\";\n          }\n\n          var reg = new RegExp(\"IEMobile\");\n          if (agent.match(reg)) {\n            name = \"iemobile\";\n          }\n        }\n      }\n      else if (engine === \"opera\")\n      {\n        if (name === \"opera mobi\") {\n          name = \"operamobile\";\n        } else if (name === \"opera mini\") {\n          name = \"operamini\";\n        }\n      }\n\n      return name;\n    },\n\n\n    /**\n     * Determines the version of the current browser.\n     * @return {String} The name of the current browser.\n     * @internal\n     */\n    getVersion : function() {\n      var agent = navigator.userAgent;\n      var reg = new RegExp(\"(\" + qx.bom.client.Browser.__agents + \")(/| )([0-9]+\\.[0-9])\");\n      var match = agent.match(reg);\n      if (!match) {\n        return \"\";\n      }\n\n      var name = match[1].toLowerCase();\n      var version = match[3];\n\n      // Support new style version string used by Opera and Safari\n      if (agent.match(/Version(\\/| )([0-9]+\\.[0-9])/)) {\n        version = RegExp.$2;\n      }\n\n      if (qx.bom.client.Engine.getName() == \"mshtml\")\n      {\n        // Use the Engine version, because IE8 and higher change the user agent\n        // string to an older version in compatibility mode\n        version = qx.bom.client.Engine.getVersion();\n\n        if (name === \"msie\" && qx.bom.client.OperatingSystem.getVersion() == \"ce\") {\n          // Fix IE mobile before Microsoft added IEMobile string\n          version = \"5.0\";\n        }\n      }\n\n      if (qx.bom.client.Engine.getName() == \"webkit\" ||\n          qx.bom.client.Browser.getName() == \"opera\")\n      {\n        if (agent.match(/OPR(\\/| )([0-9]+\\.[0-9])/)) {\n          version = RegExp.$2;\n        }\n        if (agent.match(/Edge\\/([\\d+\\.*]+)/)) {\n          version = RegExp.$1;\n        }\n      }\n\n      return version;\n    },\n\n\n    /**\n     * Returns in which document mode the current document is (only for IE).\n     *\n     * @internal\n     * @return {Number} The mode in which the browser is.\n     */\n    getDocumentMode : function() {\n      if (document.documentMode) {\n        return document.documentMode;\n      }\n      return 0;\n    },\n\n\n    /**\n     * Check if in quirks mode.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code>, if the environment is in quirks mode\n     */\n    getQuirksMode : function() {\n      if(qx.bom.client.Engine.getName() == \"mshtml\" &&\n        parseFloat(qx.bom.client.Engine.getVersion()) >= 8)\n      {\n        return qx.bom.client.Engine.DOCUMENT_MODE === 5;\n      } else {\n        return document.compatMode !== \"CSS1Compat\";\n      }\n    },\n\n\n    /**\n     * Internal helper map for picking the right browser names to check.\n     */\n    __agents : {\n      // Safari should be the last one to check, because some other Webkit-based browsers\n      // use this identifier together with their own one.\n      // \"Version\" is used in Safari 4 to define the Safari version. After \"Safari\" they place the\n      // Webkit version instead. Silly.\n      // Palm Pre uses both Safari (contains Webkit version) and \"Version\" contains the \"Pre\" version. But\n      // as \"Version\" is not Safari here, we better detect this as the Pre-Browser version. So place\n      // \"Pre\" in front of both \"Version\" and \"Safari\".\n      \"webkit\" : \"AdobeAIR|Titanium|Fluid|Chrome|Android|Epiphany|Konqueror|iCab|iPad|iPhone|OmniWeb|Maxthon|Pre|PhantomJS|Mobile Safari|Safari\",\n\n      // Better security by keeping Firefox the last one to match\n      \"gecko\" : \"prism|Fennec|Camino|Kmeleon|Galeon|Netscape|SeaMonkey|Namoroka|Firefox\",\n\n      // No idea what other browsers based on IE's engine\n      \"mshtml\" : \"IEMobile|Maxthon|MSIE|Trident\",\n\n      // Keep \"Opera\" the last one to correctly prefer/match the mobile clients\n      \"opera\" : \"Opera Mini|Opera Mobi|Opera\"\n    }[qx.bom.client.Engine.getName()]\n  },\n\n  defer : function(statics) {\n    qx.core.Environment.add(\"browser.name\", statics.getName);\n    qx.core.Environment.add(\"browser.version\", statics.getVersion);\n    qx.core.Environment.add(\"browser.documentmode\", statics.getDocumentMode);\n    qx.core.Environment.add(\"browser.quirksmode\", statics.getQuirksMode);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2013 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * CSS Transition support checks.\n *\n * Spec: http://www.w3.org/TR/css3-transitions/\n *\n * @internal\n */\nqx.Bootstrap.define(\"qx.bom.client.CssTransition\",\n{\n  statics : {\n    /**\n     * Returns the (possibly vendor-prefixed) name of the CSS transition property\n     * @return {String|null} transition property name or <code>null</code> if\n     * not supported\n     * @internal\n     */\n    getTransitionName : function()\n    {\n      return qx.bom.Style.getPropertyName(\"transition\");\n    },\n\n\n    /**\n     * Main check method which returns an object if CSS transitions are\n     * supported. The object contains the following keys:\n     * <ul>\n     *  <li><code>name</code> The name of the CSS transition property</li>\n     *  <li><code>end-event</code> The name of the end event</li>\n     * </ul>\n     *\n     * @internal\n     * @return {Object|null} The described object or <code>null</code> if\n     * transitions are not supported.\n     */\n    getSupport : function() {\n      var name = qx.bom.client.CssTransition.getTransitionName();\n      if (!name) {\n        return null;\n      }\n\n      var eventName = qx.bom.Event.getEventName(window, \"transitionEnd\");\n      eventName = eventName == \"transitionEnd\" ? eventName.toLowerCase() : eventName;\n\n      // Detecting the end event's name is not possible in some browsers,\n      // so we deduce it from the property name instead.\n      if (!eventName) {\n        eventName = name + (name.indexOf(\"Trans\") > 0 ? \"E\" : \"e\") + \"nd\";\n      }\n\n      return {\n        name : name,\n        \"end-event\" : eventName\n      };\n    }\n  },\n\n\n  defer : function(statics) {\n    qx.core.Environment.add(\"css.transition\", statics.getSupport);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n/**\n * Responsible class for everything concerning styles without the need of\n * an element.\n *\n * If you want to query or modify styles of HTML elements,\n * take a look at {@link qx.bom.element.Style}.\n *\n * @require(qx.lang.String)\n */\nqx.Bootstrap.define(\"qx.bom.Style\",\n{\n  statics : {\n    /** Vendor-specific style property prefixes */\n    VENDOR_PREFIXES : [\"Webkit\", \"Moz\", \"O\", \"ms\", \"Khtml\"],\n\n    /**\n     * Internal lookup table to map property names to CSS names\n     * @internal\n     */\n    __cssName : {},\n\n    /**\n     * A reference to the native CSS.supports function (supportsCSS in Opera)\n     * @internal\n     */\n    __supports : null,\n\n    /**\n     * Takes the name of a style property and returns the name the browser uses\n     * for its implementation, which might include a vendor prefix.\n     *\n     * @param propertyName {String} Style property name to check\n     * @return {String|null} The supported property name or <code>null</code> if\n     * not supported\n     */\n    getPropertyName : function(propertyName)\n    {\n      var style = document.documentElement.style;\n\n      if (style[propertyName] !== undefined) {\n        return propertyName;\n      }\n\n      for (var i=0, l=this.VENDOR_PREFIXES.length; i<l; i++) {\n        var prefixedProp = this.VENDOR_PREFIXES[i] +\n          qx.lang.String.firstUp(propertyName);\n        if (style[prefixedProp] !== undefined) {\n          return prefixedProp;\n        }\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Takes the name of a JavaScript style property and returns the\n     * corresponding CSS name.\n     *\n     * The name of the style property is taken as is, i.e. it gets not\n     * extended by vendor prefixes. The conversion into the CSS name is\n     * done by string manipulation, not involving the DOM.\n     *\n     * Example:\n     * <pre class='javascript'>qx.bom.Style.getCssName(\"MozTransform\"); //returns \"-moz-transform\"</pre>\n     *\n     * @param propertyName {String} JavaScript style property\n     * @return {String} CSS property\n     */\n    getCssName: function(propertyName)\n    {\n      var cssName = this.__cssName[propertyName];\n\n      if (!cssName)\n      {\n        // all vendor prefixes (except for \"ms\") start with an uppercase letter\n        cssName = propertyName.replace(/[A-Z]/g, function(match){\n          return  ('-' + match.charAt(0).toLowerCase());\n        });\n\n        // lowercase \"ms\" vendor prefix needs special handling\n        if((/^ms/.test(cssName))) {\n          cssName = \"-\" + cssName;\n        }\n        this.__cssName[propertyName] = cssName;\n      }\n\n      return cssName;\n    },\n\n\n    /**\n     * Detects CSS support by using the native CSS.supports function or by\n     * applying a style to a DOM element of the given type and verifying\n     * the result. Also checks for vendor-prefixed variants of the\n     * value, e.g. \"linear-gradient\" -> \"-webkit-linear-gradient\". Returns the\n     * (possibly vendor-prefixed) value if successful or <code>null</code> if\n     * the property and/or value are not supported.\n     *\n     * @param element {Element} element to be used for the detection\n     * @param propertyName {String} the style property to be tested\n     * @param value {String} style property value to be tested\n     * @param prefixed {Boolean?} try to determine the appropriate vendor prefix\n     * for the value. Default: <code>true</code>\n     * @return {String|null} prefixed style value or <code>null</code> if not supported\n     * @internal\n     */\n    getAppliedStyle : function(element, propertyName, value, prefixed)\n    {\n      var cssProperty = qx.bom.Style.getCssName(propertyName);\n      var win = qx.dom.Node.getWindow(element);\n\n      var vendorPrefixes = (prefixed !== false) ?\n        [null].concat(this.VENDOR_PREFIXES) : [null];\n\n      for (var i=0, l=vendorPrefixes.length; i<l; i++) {\n        var supported = false;\n        var prefixedVal = vendorPrefixes[i] ?\n          \"-\" + vendorPrefixes[i].toLowerCase() + \"-\" + value : value;\n\n        if (qx.bom.Style.__supports) {\n          supported = qx.bom.Style.__supports.call(win, cssProperty, prefixedVal);\n        } else {\n          element.style.cssText += cssProperty + \":\" + prefixedVal + \";\";\n          supported = (typeof element.style[propertyName] == \"string\" &&\n          element.style[propertyName] !== \"\");\n        }\n\n        if (supported) {\n          return prefixedVal;\n        }\n      }\n      return null;\n    }\n  },\n\n  defer : function(statics) {\n    if (window.CSS && window.CSS.supports) {\n      qx.bom.Style.__supports = window.CSS.supports.bind(window.CSS);\n    } else if (window.supportsCSS) {\n      qx.bom.Style.__supports = window.supportsCSS.bind(window);\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * The GlobalError class stores a reference to a global error handler function.\n *\n *  This function is called for each uncatched JavaScript exception. To enable\n *  global error handling the setting <code>qx.globalErrorHandling</code> must\n *  be enabled and an error handler must be registered.\n *  Further each JavaScript \"entry point\" must be wrapped with a call to\n *  {@link qx.event.GlobalError#observeMethod}.\n *\n * @ignore(qx.core, qx.core.Environment)\n */\nqx.Bootstrap.define(\"qx.event.GlobalError\",\n{\n  statics :\n  {\n    __callback : null,\n\n    __originalOnError : null,\n\n    __context : null,\n\n    /**\n     * Little helper to check if the global error handling is enabled.\n     * @return {Boolean} <code>true</code>, if it is enabled.\n     */\n    __isGlobaErrorHandlingEnabled : function() {\n      if (qx.core && qx.core.Environment) {\n        return qx.core.Environment.get(\"qx.globalErrorHandling\");\n      } else {\n        return !!qx.Bootstrap.getEnvironmentSetting(\"qx.globalErrorHandling\");\n      }\n    },\n\n\n    /**\n     * Set the global fallback error handler\n     *\n     * @param callback {Function?null} The error handler. The first argument is the\n     *    exception, which caused the error\n     * @param context {Object?window} The \"this\" context of the callback function\n     */\n    setErrorHandler : function(callback, context)\n    {\n      this.__callback = callback || null;\n      this.__context = context || window;\n\n      if (this.__isGlobaErrorHandlingEnabled())\n      {\n        // wrap the original onerror\n        if (callback && window.onerror) {\n          var wrappedHandler = qx.Bootstrap.bind(this.__onErrorWindow, this);\n          if (this.__originalOnError == null) {\n            this.__originalOnError = window.onerror;\n          }\n          var self = this;\n          window.onerror = function(msg, uri, lineNumber) {\n            self.__originalOnError(msg, uri, lineNumber);\n            wrappedHandler(msg, uri, lineNumber);\n          };\n        }\n\n        if (callback && !window.onerror) {\n          window.onerror = qx.Bootstrap.bind(this.__onErrorWindow, this);\n        }\n\n        // reset\n        if (this.__callback == null) {\n          if (this.__originalOnError != null) {\n            window.onerror = this.__originalOnError;\n            this.__originalOnError = null;\n          } else {\n            window.onerror = null;\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Catches all errors of the <code>window.onerror</code> handler\n     * and passes an {@link qx.core.WindowError} object to the error\n     * handling.\n     *\n     * @param msg {String} browser error message\n     * @param uri {String} uri to erroneous script\n     * @param lineNumber {Integer} line number of error\n     * @param columnNumber {Integer} column number of error\n     * @param exception {Error} orginal error\n     */\n    __onErrorWindow : function(msg, uri, lineNumber, columnNumber, exception)\n    {\n      if (this.__callback)\n      {\n        this.handleError(new qx.core.WindowError(msg, uri, lineNumber, columnNumber, exception));\n      }\n    },\n\n\n    /**\n     * Wraps a method with error handling code. Only methods, which are called\n     * directly by the browser (e.g. event handler) should be wrapped.\n     *\n     * @param method {Function} method to wrap\n     * @return {Function} The function wrapped with error handling code\n     */\n    observeMethod : function(method)\n    {\n      if (this.__isGlobaErrorHandlingEnabled())\n      {\n        var self = this;\n        return function()\n        {\n          if (!self.__callback) {\n            return method.apply(this, arguments);\n          }\n\n          try {\n            return method.apply(this, arguments);\n          } catch(ex) {\n            self.handleError(new qx.core.GlobalError(ex, arguments));\n         }\n        };\n      }\n      else\n      {\n        return method;\n      }\n    },\n\n\n    /**\n     * Delegates every given exception to the registered error handler\n     *\n     * @param ex {qx.core.WindowError|Error} Exception to delegate\n     */\n    handleError : function(ex)\n    {\n      if (this.__callback) {\n        this.__callback.call(this.__context, ex);\n      }\n    }\n  },\n\n\n  defer : function(statics)\n  {\n    // only use the environment class if already loaded\n    if (qx.core && qx.core.Environment) {\n      qx.core.Environment.add(\"qx.globalErrorHandling\", true);\n    } else {\n      qx.Bootstrap.setEnvironmentSetting(\"qx.globalErrorHandling\", true);\n    }\n\n    statics.setErrorHandler(null, null);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * This class manages the timer used for deferred calls. All\n * {@link qx.util.DeferredCall} instances use the single timer from this class.\n * \n * NOTE: Instances of this class must be disposed of after use\n *\n */\nqx.Class.define(\"qx.util.DeferredCallManager\",\n{\n  extend : qx.core.Object,\n  type : \"singleton\",\n  implement : [ qx.core.IDisposable ],\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.__calls = {};\n    this.__timeoutWrapper = qx.lang.Function.bind(this.__timeout, this);\n    this.__hasCalls = false;\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __timeoutId : null,\n    __currentQueue : null,\n    __calls : null,\n    __hasCalls : null,\n    __timeoutWrapper : null,\n\n\n    /**\n     * Schedule a deferred call\n     *\n     * @param deferredCall {qx.util.DeferredCall} The call to schedule\n     */\n    schedule : function(deferredCall)\n    {\n      if (this.__timeoutId == null)\n      {\n        this.__timeoutId = window.setTimeout(this.__timeoutWrapper, 0);\n      }\n\n      var callKey = deferredCall.toHashCode();\n\n      // the flush is currently running and the call is already\n      // scheduled\n      if (this.__currentQueue && this.__currentQueue[callKey]) {\n        return;\n      }\n\n      this.__calls[callKey] = deferredCall;\n      this.__hasCalls = true;\n    },\n\n    /**\n     * Refresh the timeout if the current one is not active anymore.\n     * This is a very special case which can happen in unit tests using\n     * fakeTimers, which overrides the window.setTimeout function (amongst others)\n     * after restoring the sinon sandbox the timeout must be refreshed otherwise\n     * DeferredCalls would never fire.\n     */\n    refreshTimeout : function() {\n      if (this.__timeoutId !== null) {\n        this.__timeoutId = window.setTimeout(this.__timeoutWrapper, 0);\n      }\n    },\n\n    /**\n     * Cancel a scheduled deferred call\n     *\n     * @param deferredCall {qx.util.DeferredCall} The call to schedule\n     */\n    cancel : function(deferredCall)\n    {\n      var callKey = deferredCall.toHashCode();\n\n      // the flush is currently running and the call is already\n      // scheduled -> remove it from the current queue\n      if(this.__currentQueue && this.__currentQueue[callKey])\n      {\n        this.__currentQueue[callKey] = null;\n        return;\n      }\n\n      delete this.__calls[callKey];\n\n      // stop timer if no other calls are waiting\n      if(qx.lang.Object.isEmpty(this.__calls) && this.__timeoutId != null)\n      {\n        window.clearTimeout(this.__timeoutId);\n        this.__timeoutId = null;\n      }\n    },\n\n\n    /**\n     * Helper function for the timer.\n     *\n     * @signature function()\n     */\n    __timeout : qx.event.GlobalError.observeMethod(function()\n    {\n      this.__timeoutId = null;\n\n      // the queue may change while doing the flush so we work on a copy of\n      // the queue and loop while the queue has any entries.\n      while(this.__hasCalls)\n      {\n        this.__currentQueue = qx.lang.Object.clone(this.__calls);\n        this.__calls = {};\n        this.__hasCalls = false;\n\n        for (var key in this.__currentQueue)\n        {\n          var call = this.__currentQueue[key];\n          if (call)\n          {\n            this.__currentQueue[key] = null;\n            call.call();\n          }\n        }\n      }\n\n      this.__currentQueue = null;\n    })\n\n  },\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    if (this.__timeoutId != null) {\n      window.clearTimeout(this.__timeoutId);\n    }\n    this.__timeoutWrapper = this.__calls = null;\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * This class represents a wrapper for functions, which should be called after\n * the current thread of JavaScript has finished and the control is returned to\n * the browser. The wrapped function will at most be called once after the control\n * has been given back to the browser, independent of the number of {@link #call}\n * calls.\n * \n * This class does not need to be disposed, although doing so will cancel any\n * pending call\n *\n * @require(qx.util.DeferredCallManager)\n */\nqx.Class.define(\"qx.util.DeferredCall\",\n{\n  extend : qx.core.Object,\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param callback {Function} The callback\n   * @param context {Object?window} the context in which the function will be called.\n   */\n  construct : function(callback, context)\n  {\n    this.base(arguments);\n\n    this.__callback = callback;\n    this.__context = context || null;\n    this.__manager = qx.util.DeferredCallManager.getInstance();\n  },\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n\n    __callback : null,\n    __context : null,\n    __manager : null,\n\n    /**\n     * Prevent the callback from being called.\n     */\n    cancel : function() {\n      this.__manager.cancel(this);\n    },\n\n\n    /**\n     * Issue a deferred call of the callback.\n     */\n    schedule : function() {\n      this.__manager.schedule(this);\n    },\n\n\n    /**\n     * Calls the callback directly.\n     */\n    call : function() {\n\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        // warn if the context is disposed\n        var context = this.__context;\n        if (context && context.isDisposed && context.isDisposed()) {\n          this.warn(\n            \"The context object '\" + context + \"' of the defered call '\" +\n            this + \"'is already disposed.\"\n          );\n        }\n      }\n\n      this.__context ? this.__callback.apply(this.__context) : this.__callback();\n    }\n  },\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    this.cancel();\n    this.__context = this.__callback = this.__manager = null;\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     Simon Bull\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Simon Bull (sbull)\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * This class manages pooled Object instances.\n *\n * It exists mainly to minimize the amount of browser memory usage by reusing\n * window instances after they have been closed.  However, it could equally be\n * used to pool instances of any type of Object (expect singletons).\n *\n * It is the client's responsibility to ensure that pooled objects are not\n * referenced or used from anywhere else in the application.\n */\nqx.Class.define(\"qx.util.ObjectPool\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.core.IDisposable ],\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param size {Integer} Size of each class pool\n   */\n  construct : function(size)\n  {\n    this.base(arguments);\n\n    this.__pool = {};\n\n    if (size != null) {\n      this.setSize(size);\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      PROPERTIES\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Number of objects of each class, which are pooled.\n     *\n     * A size of \"null\" represents an unlimited pool.\n     */\n    size :\n    {\n      check : \"Integer\",\n      init : Infinity\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /** @type {Map} Stores arrays of instances for all managed classes */\n    __pool : null,\n\n\n    /*\n    ---------------------------------------------------------------------------\n      IMPL\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * This method finds and returns an instance of a requested type in the pool,\n     * if there is one.  Note that the pool determines which instance (if any) to\n     * return to the client.  The client cannot get a specific instance from the\n     * pool.\n     *\n     * @param clazz {Class} A reference to a class from which an instance should be created.\n     * @return {Object} An instance of the requested type. If non existed in the pool a new\n     *   one is transparently created and returned.\n     */\n    getObject : function(clazz)\n    {\n      if (this.$$disposed) {\n        return new clazz;\n      }\n\n      if (!clazz) {\n        throw new Error(\"Class needs to be defined!\");\n      }\n\n      var obj = null;\n      var pool = this.__pool[clazz.classname];\n\n      if (pool) {\n        obj = pool.pop();\n      }\n\n      if (obj) {\n        obj.$$pooled = false;\n      } else {\n        obj = new clazz;\n      }\n\n      return obj;\n    },\n\n\n    /**\n     * This method places an Object in a pool of Objects of its type. Note that\n     * once an instance has been pooled, there is no means to get that exact\n     * instance back. The instance may be discarded for garbage collection if\n     * the pool of its type is already full.\n     *\n     * It is assumed that no other references exist to this Object, and that it will\n     * not be used at all while it is pooled.\n     *\n     * @param obj {Object} An Object instance to pool.\n     */\n    poolObject : function(obj)\n    {\n      // Dispose check\n      if (!this.__pool) {\n        return;\n      }\n\n      var classname = obj.classname;\n      var pool = this.__pool[classname];\n\n      if (obj.$$pooled) {\n        throw new Error(\"Object is already pooled: \" + obj);\n      }\n\n      if (!pool) {\n        this.__pool[classname] = pool = [];\n      }\n\n      // Check to see whether the pool for this type is already full\n      if (pool.length > this.getSize())\n      {\n        // Use enhanced destroy() method instead of simple dispose\n        // when available to work together with queues etc.\n        if (obj.destroy) {\n          obj.destroy();\n        } else {\n          obj.dispose();\n        }\n\n        return;\n      }\n\n      obj.$$pooled = true;\n      pool.push(obj);\n    }\n  },\n\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    var pool = this.__pool;\n    var classname, list, i, l;\n\n    for (classname in pool)\n    {\n      list = pool[classname];\n      for (i=0, l=list.length; i<l; i++) {\n        list[i].dispose();\n      }\n    }\n\n    delete this.__pool;\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Central instance pool for event objects. All event objects dispatched by the\n * event loader are pooled using this class.\n */\nqx.Class.define(\"qx.event.Pool\",\n{\n  extend : qx.util.ObjectPool,\n  type : \"singleton\",\n\n\n  // Even though this class contains almost no code it is required because the\n  // legacy code needs a place to patch the event pooling behavior.\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function() {\n    this.base(arguments, 30);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2018 Zenesis Ltd, john.spackman@zenesis.com\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * John Spackman (johnspackman)\n\n************************************************************************ */\n\n/**\n * Utility methods which implement a fast, psuedo-promises mechanism used by event handlers\n * and dispatchers.\n *\n * Event handlers are allowed to return instances of `qx.Promise`, in which case the event\n * queue is suspended until the promise is resolved.  The simplest way to handle this would be\n * to convert the result of every event handler into a `qx.Promise` via `qx.Promise.resolve`,\n * but given that by far the majority of event handlers do not return promises, this could add\n * a significant overhead; the static methods in this class allow the event handlers to be\n * triggered and only when a `qx.Promise` is returned from a handler does the event dispatch\n * mechanism switch to using promise to suspend the event queue.\n *\n * To use this, the calling code simply creates an empty object (i.e. `var tracker = {};`)\n * which is then passed to `qx.event.Utils.then`, for example:\n *\n * <code>\n * var tracker = {};\n * Utils.then(tracker, function() { ... });\n * Utils.then(tracker, function() { ... });\n * Utils.then(tracker, function() { ... });\n * Utils.catch(tracker, function() { ... });\n * </code>\n *\n * Following with the morphing nature of this class, the return type will be either the value\n * returned from the event handlers, or a promise which evaluates to that value.\n *\n * When events are aborted (eg via `event.stopPropagation()`) that causes the promise (if there\n * is one) to be rejected.\n *\n * Note that this class is not a replacement for promises and has its limitations because it\n * has been built for the express purposes of the event dispatchers.\n *\n * @internal\n * @ignore(qx.Promise)\n * @ignore(Promise)\n */\nqx.Class.define(\"qx.event.Utils\", {\n  extend: qx.core.Object,\n\n  statics: {\n    ABORT: \"[[ qx.event.Utils.ABORT ]]\",\n\n    /**\n     * Evaluates a value, and adds it to the tracker\n     *\n     * @param tracker {Object} the tracker object\n     * @param fn {Function|Object?} if a function, it's evaluated as a `then`, otherwise\n     *  it's encapulated in a function for `then`\n     * @return {qx.Promise|Object?}\n     */\n    track: qx.core.Environment.select(\"qx.promise\", {\n      \"true\": function(tracker, fn) {\n        if (typeof fn !== \"function\" && !qx.lang.Type.isPromise(fn)) {\n          fn = (function(value) { return function() { return value; } })(fn);\n        }\n        return this.then(tracker, fn);\n      },\n      \"false\": function(tracker, fn) {\n        if (typeof fn === \"function\") {\n          return fn();\n        }\n        return fn;\n      }\n    }),\n\n    /**\n     * Helper method to store a promise in a tracker\n     *\n     * @param tracker {Object} the tracker object\n     * @param newPromise {qx.Promise} the new promise\n     * @return {qx.Promise} the new promise\n     */\n    __push: function(tracker, newPromise) {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        if (tracker.promises === undefined) {\n          tracker.promises = [];\n        }\n        var ex = null;\n        try {\n          throw new Error(\"\");\n        } catch(e) {\n          ex = e;\n        }\n        tracker.promises.push({ promise: newPromise, ex: ex });\n      }\n      tracker.promise = newPromise;\n      return tracker.promise;\n    },\n\n    /**\n     * Equivalent of `promise.then()`\n     *\n     * @param tracker {Object} the tracker object\n     * @param fn {Function} the function to call when previous promises are complete\n     * @return {qx.Promise?} the new promise, or the return value from `fn` if no promises are in use\n     */\n    then: qx.core.Environment.select(\"qx.promise\", {\n      \"true\": function(tracker, fn) {\n        if (tracker.rejected) {\n          return null;\n        }\n        if (tracker.promise) {\n          if (qx.lang.Type.isPromise(fn)) {\n            this.__push(tracker, tracker.promise.then(fn));\n          } else {\n            var self = this;\n            this.__push(tracker, tracker.promise.then(function (result) {\n                if (tracker.rejected) {\n                  return null;\n                }\n                result = fn(result);\n                if (result === qx.event.Utils.ABORT) {\n                  return self.reject(tracker);\n                }\n                return result;\n              })\n            );\n          }\n          this.__addCatcher(tracker);\n          return tracker.promise;\n        }\n        if (qx.lang.Type.isPromise(fn)) {\n          return this.__thenPromise(tracker, fn);\n        }\n        var result = fn(tracker.result);\n        if (qx.lang.Type.isPromise(result)) {\n          return this.__thenPromise(tracker, result);\n        }\n        tracker.result = result;\n        if (result === qx.event.Utils.ABORT) {\n          return this.reject(tracker);\n        }\n\n        return result;\n      },\n\n      \"false\": function(tracker, fn) {\n        if (tracker.rejected) {\n          return null;\n        }\n        var result = tracker.result = fn(tracker.result);\n        if (result === qx.event.Utils.ABORT) {\n          return this.reject(tracker);\n        }\n        return result;\n      }\n    }),\n\n    /**\n     * Helper method to append a promise after the current one\n     *\n     * @param tracker {Object} the tracker object\n     * @param newPromise {qx.Promise} the new promise\n     * @return {qx.Promise} the new promise\n     */\n    __thenPromise: function(tracker, newPromise) {\n      if (tracker.promise) {\n        this.__push(tracker, tracker.promise.then(function() {\n            return newPromise;\n          }));\n      } else {\n        this.__push(tracker, newPromise);\n      }\n      this.__addCatcher(tracker);\n      return tracker.promise;\n    },\n\n    /**\n     * Rejects the tracker, aborting the promise if there is one.  The caller should stop\n     * immediately because if promises are not in use and exception is not thrown.\n     *\n     * @param tracker {Object} the tracker object\n     * @return {qx.Promise?} the last promise or the value returned by the catcher\n     */\n    reject: function(tracker) {\n      if (tracker.rejected) {\n        return qx.event.Utils.ABORT;\n      }\n      tracker.rejected = true;\n\n      if (tracker.promise) {\n        throw new Error(\"Rejecting Event\");\n      }\n      var result = this.__catcher(tracker);\n      return result === undefined ? this.ABORT : result;\n    },\n\n    /**\n     * Helper method that adds a catcher to the tracker\n     *\n     * @param tracker {Object} the tracker object\n     */\n    __addCatcher: function(tracker) {\n      if (tracker.promise && tracker.catch) {\n        if (!tracker.promise[\"qx.event.Utils.hasCatcher\"]) {\n          this.__push(tracker, tracker.promise.catch(this.__catcher.bind(this, tracker)));\n          tracker.promise[\"qx.event.Utils.hasCatcher\"] = true;\n        }\n      }\n    },\n\n    /**\n     * This method is added with `.catch` to every promise created; because this is added\n     * all the way up the promise chain to ensure that it catches everything, this method\n     * supresses multiple invocations (i.e. ignores everything except the first)\n     *\n     * @param tracker {Object} the tracker object\n     */\n    __catcher: function(tracker, err) {\n      var fn = tracker.catch;\n      if (fn) {\n        tracker.catch = null;\n        tracker.rejected = true;\n        return fn(err);\n      }\n      return qx.event.Utils.ABORT;\n    },\n\n    /**\n     * Equivalent to `.catch()`; note that unlike promises, this method must be called *before*\n     * `.then()` so that it is able to handle rejections when promises are not in use; this is\n     * because `Promise.catch` only catches rejections from previous promises, but because promises\n     * are *always* asynchronous the `.catch` goes at the end.  For synchronous, this is nt possible\n     * so `Utils.catch` must go before `Utils.then`\n     *\n     * @param tracker {Object} the tracker object\n     * @param fn {Function} the function to call\n     */\n    \"catch\": function(tracker, fn) {\n      if (tracker.rejected) {\n        fn();\n        return;\n      }\n\n      if (tracker.catchers === undefined) {\n        tracker.catchers = [fn];\n      } else {\n        tracker.catchers.push(fn);\n      }\n\n      if (tracker.catch) {\n        tracker.catch = (function(catch1, catch2) {\n            return function() {\n              catch1();\n              catch2();\n            };\n          })(tracker.catch, fn)\n      } else {\n        tracker.catch = fn;\n      }\n      this.__addCatcher(tracker);\n    },\n\n    /**\n     * Calls a listener, converting propagationStopped into a rejection\n     *\n     * @param tracker {Object} the tracker object\n     * @param listener {Function} the event handler\n     * @param context {Object?} the `this` for the event handler\n     * @param event {Event} the event being fired\n     * @returns {qx.Promise|?} the result of the handler\n     */\n    callListener: function(tracker, listener, context, event) {\n      if (tracker.rejected) {\n        return qx.event.Utils.ABORT;\n      }\n      var tmp = listener.handler.call(context, event);\n      if (event.getPropagationStopped()) {\n        return qx.event.Utils.ABORT;\n      }\n      return tmp;\n    },\n\n    /**\n     * Provides a handy way to iterate over an array which at any point could\n     * become asynchronous\n     *\n     * @param arr {Array} an array to interate over\n     * @param fn {Function?} the function to call, with parameters (item, index)\n     * @param ignoreAbort {Boolean?} whether to ignore the \"ABORT\" return value\n     * @return {qx.Promise|Object?}\n     */\n    series: qx.core.Environment.select(\"qx.promise\", {\n      \"true\": function(arr, fn, ignoreAbort) {\n        var tracker = {};\n        for (var index = 0; index < arr.length; index++) {\n          var result = fn(arr[index], index);\n          if (result instanceof qx.Promise) {\n            for (++index; index < arr.length; index++) {\n              (function(item, index) {\n                result = result.then(function() {\n                  var tmp = fn(item, index);\n                  if (!ignoreAbort && tmp === qx.event.Utils.ABORT) {\n                    throw new Error(\"Rejecting in series()\");\n                  }\n                  return tmp;\n                });\n              })(arr[index], index);\n            }\n            return result;\n          }\n\n          if (!ignoreAbort && result === qx.event.Utils.ABORT) {\n            return this.reject(tracker);\n          }\n        }\n\n        return null;\n      },\n\n      \"false\": function(arr, fn, ignoreAbort) {\n        var tracker = {};\n        for (var index = 0; index < arr.length; index++) {\n          var result = fn(arr[index], index);\n          if (!ignoreAbort && result === qx.event.Utils.ABORT) {\n            return this.reject(tracker);\n          }\n        }\n      }\n    })\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Methods to cleanup fields from maps/objects.\n *\n * @ignore(qx.log.Logger)\n * @ignore(qx.log)\n * @ignore(qx.ui.container.Composite)\n * @ignore(qx.ui.container.Scroll)\n * @ignore(qx.ui.container.SlideBar)\n * @ignore(qx.ui.container.Stack)\n * @ignore(qx.ui.mobile)\n * @ignore(qx.ui.mobile.container.Composite)\n * @ignore(qx.ui.mobile.core.Widget)\n */\nqx.Class.define(\"qx.util.DisposeUtil\",\n{\n  statics :\n  {\n    /**\n     * Disconnects and disposes given objects from instance.\n     * Only works with qx.core.Object based objects e.g. Widgets.\n     *\n     * @param obj {Object} Object which contains the fields\n     * @param arr {Array} List of fields (which store objects) to dispose\n     * @param disposeSingletons {Boolean?} true, if singletons should be disposed\n     */\n    disposeObjects : function(obj, arr, disposeSingletons)\n    {\n      var name;\n      for (var i=0, l=arr.length; i<l; i++)\n      {\n        name = arr[i];\n        if (obj[name] == null || !obj.hasOwnProperty(name)) {\n          continue;\n        }\n\n        if (!qx.core.ObjectRegistry.inShutDown)\n        {\n          if (obj[name].dispose) {\n            // singletons\n            if (!disposeSingletons && obj[name].constructor.$$instance) {\n              throw new Error(\"The object stored in key \" + name + \" is a singleton! Please use disposeSingleton instead.\");\n            } else {\n              obj[name].dispose();\n            }\n          } else {\n            throw new Error(\"Has no disposable object under key: \" + name + \"!\");\n          }\n        }\n\n        obj[name] = null;\n      }\n    },\n\n\n    /**\n     * Disposes all members of the given array and deletes\n     * the field which refers to the array afterwards.\n     *\n     * @param obj {Object} Object which contains the field\n     * @param field {String} Name of the field which refers to the array\n     */\n    disposeArray : function(obj, field)\n    {\n      var data = obj[field];\n      if (!data) {\n        return;\n      }\n\n      // Fast path for application shutdown\n      if (qx.core.ObjectRegistry.inShutDown)\n      {\n        obj[field] = null;\n        return;\n      }\n\n      // Dispose all content\n      try\n      {\n        var entry;\n        for (var i=data.length-1; i>=0; i--)\n        {\n          entry = data[i];\n          if (entry) {\n            entry.dispose();\n          }\n        }\n      }\n      catch(ex) {\n        throw new Error(\"The array field: \" + field + \" of object: \" + obj + \" has non disposable entries: \" + ex);\n      }\n\n      // Reduce array size to zero\n      data.length = 0;\n\n      // Finally remove field\n      obj[field] = null;\n    },\n\n\n    /**\n     * Disposes all members of the given map and deletes\n     * the field which refers to the map afterwards.\n     *\n     * @param obj {Object} Object which contains the field\n     * @param field {String} Name of the field which refers to the array\n     */\n    disposeMap : function(obj, field)\n    {\n      var data = obj[field];\n      if (!data) {\n        return;\n      }\n\n      // Fast path for application shutdown\n      if (qx.core.ObjectRegistry.inShutDown)\n      {\n        obj[field] = null;\n        return;\n      }\n\n      // Dispose all content\n      try\n      {\n        var entry;\n        for (var key in data)\n        {\n          entry = data[key];\n          if (data.hasOwnProperty(key) && entry) {\n            entry.dispose();\n          }\n        }\n      }\n      catch(ex) {\n        throw new Error(\"The map field: \" + field + \" of object: \" + obj + \" has non disposable entries: \" + ex);\n      }\n\n      // Finally remove field\n      obj[field] = null;\n    },\n\n    /**\n     * Disposes a given object when another object is disposed\n     *\n     * @param disposeMe {Object} Object to dispose when other object is disposed\n     * @param trigger {Object} Other object\n     *\n     */\n    disposeTriggeredBy : function(disposeMe, trigger)\n    {\n      var triggerDispose = trigger.dispose;\n      trigger.dispose = function(){\n        triggerDispose.call(trigger);\n        disposeMe.dispose();\n      };\n    },\n\n\n    /**\n     * Destroys a container and all of its children recursively.\n     * @param container {qx.ui.container.Composite | qx.ui.container.Scroll |\n     *   qx.ui.container.SlideBar | qx.ui.container.Stack} Container to be destroyed\n     */\n    destroyContainer : function(container)\n    {\n      if(qx.core.Environment.get(\"qx.debug\"))\n      {\n        if(qx.ui.mobile && container instanceof qx.ui.mobile.core.Widget) {\n          qx.core.Assert.assertTrue(this.__isChildrenContainer(container),\n          \"Container must be an instance of qx.ui.mobile.container.Composite.\");\n        } else {\n          qx.core.Assert.assertQxWidget(container, \"First argument must be a container widget!\");\n          qx.core.Assert.assertTrue(this.__isChildrenContainer(container),\n          \"Container must be an instance of qx.ui.container.Composite or \" +\n          \"qx.ui.container.Scroll or qx.ui.container.Resizer or \" +\n          \"qx.ui.container.SlideBar or qx.ui.container.Stack!\");\n        }\n      }\n\n      var arr=[];\n      this._collectContainerChildren(container, arr);\n\n      var len = arr.length;\n      for(var i=len-1; i>=0; i--)\n      {\n        arr[i].destroy();\n      }\n      container.destroy();\n    },\n\n\n    /**\n     * Helper function to collect all children widgets of an container recursively.\n     * @param container {qx.ui.container.Composite | qx.ui.container.Scroll | qx.ui.container.SlideBar | qx.ui.container.Stack} Container to be destroyed\n     * @param arr {Array} Array which holds all children widgets\n     */\n    _collectContainerChildren : function(container, arr)\n    {\n      var children = container.getChildren();\n\n      for(var i=0; i<children.length; i++)\n      {\n        var item = children[i];\n        arr.push(item);\n\n        if (this.__isChildrenContainer(item)) {\n          this._collectContainerChildren(item, arr);\n        }\n      }\n    },\n\n\n    /**\n     * Checks if the given object is a qx container widget\n     *\n     * @param obj {Object} The object to check\n     * @return {Boolean} <code>true</code> if the object is a container for\n     * child widgets\n     */\n    __isChildrenContainer : function(obj)\n    {\n      var classes = [];\n      if(qx.ui.mobile && obj instanceof qx.ui.mobile.core.Widget) {\n        classes = [qx.ui.mobile.container.Composite];\n      } else {\n        classes = [qx.ui.container.Composite, qx.ui.container.Scroll,\n        qx.ui.container.SlideBar, qx.ui.container.Stack];\n      }\n\n      for (var i=0,l=classes.length; i<l; i++) {\n        if (typeof classes[i] !== \"undefined\" &&\n          qx.Class.isSubClassOf(obj.constructor, classes[i]))\n        {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Mixin used for the bubbling events. If you want to use this in your own model\n * classes, be sure that every property will call the\n * {@link #_applyEventPropagation} function on every change.\n */\nqx.Mixin.define(\"qx.data.marshal.MEventBubbling\",\n{\n\n  events :\n  {\n    /**\n     * The change event which will be fired on every change in the model no\n     * matter what property changes. This event bubbles so the root model will\n     * fire a change event on every change of its children properties too.\n     *\n     * Note that properties are required to call\n     * {@link #_applyEventPropagation} on apply for changes to be tracked as\n     * desired. It is already taken care of that properties created with the\n     * {@link qx.data.marshal.Json} marshaler call this method.\n     *\n     * The data will contain a map with the following four keys\n     *   <li>value: The new value of the property</li>\n     *   <li>old: The old value of the property.</li>\n     *   <li>name: The name of the property changed including its parent\n     *     properties separated by dots.</li>\n     *   <li>item: The item which has the changed property.</li>\n     * Due to that, the <code>getOldData</code> method will always return null\n     * because the old data is contained in the map.\n     */\n    \"changeBubble\": \"qx.event.type.Data\"\n  },\n\n\n  members :\n  {\n    /**\n     * Apply function for every property created with the\n     * {@link qx.data.marshal.Json} marshaler. It fires and\n     * {@link #changeBubble} event on every change. It also adds the chaining\n     * listener if possible which is necessary for the bubbling of the events.\n     *\n     * @param value {var} The new value of the property.\n     * @param old {var} The old value of the property.\n     * @param name {String} The name of the changed property.\n     */\n    _applyEventPropagation : function(value, old, name)\n    {\n      this.fireDataEvent(\"changeBubble\", {\n        value: value, name: name, old: old, item: this\n      });\n\n      this._registerEventChaining(value, old, name);\n    },\n\n\n    /**\n     * Registers for the given parameters the changeBubble listener, if\n     * possible. It also removes the old listener, if an old item with\n     * a changeBubble event is given.\n     *\n     * @param value {var} The new value of the property.\n     * @param old {var} The old value of the property.\n     * @param name {String} The name of the changed property.\n     */\n    _registerEventChaining : function(value, old, name)\n    {\n      // if an old value is given, remove the old listener if possible\n      if (old != null && old.getUserData && old.getUserData(\"idBubble-\" + this.toHashCode()) != null) {\n        var listeners = old.getUserData(\"idBubble-\" + this.toHashCode());\n        for (var i = 0; i < listeners.length; i++) {\n          old.removeListenerById(listeners[i]);\n        }\n        old.setUserData(\"idBubble-\" + this.toHashCode(), null);\n      }\n\n      // if the child supports chaining\n      if ((value instanceof qx.core.Object)\n        && qx.Class.hasMixin(value.constructor, qx.data.marshal.MEventBubbling)\n      ) {\n        // create the listener\n        var listener = qx.lang.Function.bind(\n          this.__changePropertyListener, this, name\n        );\n        // add the listener\n        var id = value.addListener(\"changeBubble\", listener, this);\n        var listeners = value.getUserData(\"idBubble-\" + this.toHashCode());\n        if (listeners == null)\n        {\n          listeners = [];\n          value.setUserData(\"idBubble-\" + this.toHashCode(), listeners);\n        }\n        listeners.push(id);\n      }\n    },\n\n\n    /**\n     * Listener responsible for formating the name and firing the change event\n     * for the changed property.\n     *\n     * @param name {String} The name of the former properties.\n     * @param e {qx.event.type.Data} The date event fired by the property\n     *   change.\n     */\n    __changePropertyListener : function(name, e)\n    {\n      var data = e.getData();\n      var value = data.value;\n      var old = data.old;\n\n      // if the target is an array\n      if (qx.Class.hasInterface(e.getTarget().constructor, qx.data.IListData)) {\n\n        if (data.name.indexOf) {\n          var dotIndex = data.name.indexOf(\".\") != -1 ? data.name.indexOf(\".\") : data.name.length;\n          var bracketIndex = data.name.indexOf(\"[\") != -1 ? data.name.indexOf(\"[\") : data.name.length;\n\n          // brackets in the first spot is ok [BUG #5985]\n          if (bracketIndex == 0) {\n            var newName = name + data.name;\n          } else if (dotIndex < bracketIndex) {\n            var index = data.name.substring(0, dotIndex);\n            var rest = data.name.substring(dotIndex + 1, data.name.length);\n            if (rest[0] != \"[\") {\n              rest = \".\" + rest;\n            }\n            var newName =  name + \"[\" + index + \"]\" + rest;\n          } else if (bracketIndex < dotIndex) {\n            var index = data.name.substring(0, bracketIndex);\n            var rest = data.name.substring(bracketIndex, data.name.length);\n            var newName =  name + \"[\" + index + \"]\" + rest;\n          } else {\n            var newName =  name + \"[\" + data.name + \"]\";\n          }\n        } else {\n          var newName =  name + \"[\" + data.name + \"]\";\n        }\n\n      // if the target is not an array\n      } else {\n        // special case for array as first element of the chain [BUG #5985]\n        if (parseInt(name) == name && name !== \"\") {\n          name = \"[\" + name + \"]\";\n        }\n        var newName =  name + \".\" + data.name;\n      }\n\n      this.fireDataEvent(\n        \"changeBubble\",\n        {\n          value: value,\n          name: newName,\n          old: old,\n          item: data.item || e.getTarget()\n        }\n      );\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * The data array is a special array used in the data binding context of\n * qooxdoo. It does not extend the native array of JavaScript but its a wrapper\n * for it. All the native methods are included in the implementation and it\n * also fires events if the content or the length of the array changes in\n * any way. Also the <code>.length</code> property is available on the array.\n * \n * This class does not need to be disposed, unless you set the autoDisposeItems\n * property to true and want the items to be disposed.\n */\nqx.Class.define(\"qx.data.Array\",\n{\n  extend : qx.core.Object,\n  include : qx.data.marshal.MEventBubbling,\n  implement : [qx.data.IListData],\n\n  /**\n   * Creates a new instance of an array.\n   *\n   * @param param {var} The parameter can be some types.<br/>\n   *   Without a parameter a new blank array will be created.<br/>\n   *   If there is more than one parameter is given, the parameter will be\n   *   added directly to the new array.<br/>\n   *   If the parameter is a number, a new Array with the given length will be\n   *   created.<br/>\n   *   If the parameter is a JavaScript array, a new array containing the given\n   *   elements will be created.\n   */\n  construct : function(param)\n  {\n    this.base(arguments);\n    // if no argument is given\n    if (param == undefined) {\n      this.__array = [];\n\n    // check for elements (create the array)\n    } else if (arguments.length > 1) {\n      // create an empty array and go through every argument and push it\n      this.__array = [];\n      for (var i = 0; i < arguments.length; i++) {\n        this.__array.push(arguments[i]);\n      }\n\n    // check for a number (length)\n    } else if (typeof param == \"number\") {\n      this.__array = new Array(param);\n    // check for an array itself\n    } else if (param instanceof Array) {\n      this.__array = qx.lang.Array.clone(param);\n\n    // error case\n    } else {\n      this.__array = [];\n      this.dispose();\n      throw new Error(\"Type of the parameter not supported!\");\n    }\n\n    // propagate changes\n    for (var i=0; i<this.__array.length; i++) {\n      this._applyEventPropagation(this.__array[i], null, i);\n    }\n\n    // update the length at startup\n    this.__updateLength();\n\n    // work against the console printout of the array\n    if (qx.core.Environment.get(\"qx.debug\")) {\n      this[0] = \"Please use 'toArray()' to see the content.\";\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /**\n     * Flag to set the dispose behavior of the array. If the property is set to\n     * <code>true</code>, the array will dispose its content on dispose, too.\n     */\n    autoDisposeItems : {\n      check : \"Boolean\",\n      init : false\n    }\n  },\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events :\n  {\n    /**\n     * The change event which will be fired if there is a change in the array.\n     * The data contains a map with five key value pairs:\n     * <li>start: The start index of the change.</li>\n     * <li>end: The end index of the change.</li>\n     * <li>type: The type of the change as a String. This can be 'add',\n     * 'remove', 'order' or 'add/remove'</li>\n     * <li>added: The items which has been added (as a JavaScript array)</li>\n     * <li>removed: The items which has been removed (as a JavaScript array)</li>\n     */\n    \"change\" : \"qx.event.type.Data\",\n\n\n    /**\n     * The changeLength event will be fired every time the length of the\n     * array changes.\n     */\n    \"changeLength\": \"qx.event.type.Data\"\n  },\n\n\n  members :\n  {\n    // private members\n    __array : null,\n\n\n    /**\n     * Concatenates the current and the given array into a new one.\n     *\n     * @param array {qx.data.Array|Array} The javaScript array which should be concatenated\n     *   to the current array.\n     *\n     * @return {qx.data.Array} A new array containing the values of both former\n     *   arrays.\n     */\n    concat: function(array) {\n      array = qx.lang.Array.toNativeArray(array);\n      if (array) {\n        var newArray = this.__array.concat(array);\n      } else {\n        var newArray = this.__array.concat();\n      }\n      return new qx.data.Array(newArray);\n    },\n\n\n    /**\n     * Returns the array as a string using the given connector string to\n     * connect the values.\n     *\n     * @param connector {String} the string which should be used to past in\n     *  between of the array values.\n     *\n     * @return {String} The array as a string.\n     */\n    join: function(connector) {\n      return this.__array.join(connector);\n    },\n\n\n    /**\n     * Removes and returns the last element of the array.\n     * An change event will be fired.\n     *\n     * @return {var} The last element of the array.\n     */\n    pop: function() {\n      var item = this.__array.pop();\n      this.__updateLength();\n      // remove the possible added event listener\n      this._registerEventChaining(null, item, this.length - 1);\n      // fire change bubble event\n      this.fireDataEvent(\"changeBubble\", {\n        value: [],\n        name: this.length + \"\",\n        old: [item],\n        item: this\n      });\n\n      this.fireDataEvent(\"change\",\n        {\n          start: this.length - 1,\n          end: this.length - 1,\n          type: \"remove\",\n          removed : [item],\n          added : []\n        }, null\n      );\n      return item;\n    },\n\n\n    /**\n     * Adds an element at the end of the array.\n     *\n     * @param varargs {var} Multiple elements. Every element will be added to\n     *   the end of the array. An change event will be fired.\n     *\n     * @return {Number} The new length of the array.\n     */\n    push: function(varargs) {\n      for (var i = 0; i < arguments.length; i++) {\n        this.__array.push(arguments[i]);\n        this.__updateLength();\n        // apply to every pushed item an event listener for the bubbling\n        this._registerEventChaining(arguments[i], null, this.length - 1);\n\n        // fire change bubbles event\n        this.fireDataEvent(\"changeBubble\", {\n          value: [arguments[i]],\n          name: (this.length - 1) + \"\",\n          old: [],\n          item: this\n        });\n\n        // fire change event\n        this.fireDataEvent(\"change\",\n          {\n            start: this.length - 1,\n            end: this.length - 1,\n            type: \"add\",\n            added: [arguments[i]],\n            removed : []\n          }, null\n        );\n      }\n      return this.length;\n    },\n\n\n    /**\n     * Reverses the order of the array. An change event will be fired.\n     */\n    reverse: function() {\n      // ignore on empty arrays\n      if (this.length == 0) {\n        return;\n      }\n\n      var oldArray = this.__array.concat();\n      this.__array.reverse();\n\n      this.__updateEventPropagation(0, this.length);\n\n      this.fireDataEvent(\"change\",\n        {start: 0, end: this.length - 1, type: \"order\", added: [], removed: []}, null\n      );\n\n      // fire change bubbles event\n      this.fireDataEvent(\"changeBubble\", {\n        value: this.__array,\n        name: \"0-\" + (this.__array.length - 1),\n        old: oldArray,\n        item: this\n      });\n    },\n\n\n    /**\n     * Removes the first element of the array and returns it. An change event\n     * will be fired.\n     *\n     * @return {var} the former first element.\n     */\n    shift: function() {\n      // ignore on empty arrays\n      if (this.length == 0) {\n        return;\n      }\n\n      var item = this.__array.shift();\n      this.__updateLength();\n      // remove the possible added event listener\n      this._registerEventChaining(null, item, this.length -1);\n      // as every item has changed its position, we need to update the event bubbling\n      this.__updateEventPropagation(0, this.length);\n\n      // fire change bubbles event\n      this.fireDataEvent(\"changeBubble\", {\n        value: [],\n        name: \"0\",\n        old: [item],\n        item: this\n      });\n\n      // fire change event\n      this.fireDataEvent(\"change\",\n        {\n          start: 0,\n          end: this.length -1,\n          type: \"remove\",\n          removed : [item],\n          added : []\n        }, null\n      );\n      return item;\n    },\n\n\n    /**\n     * Returns a new array based on the range specified by the parameters.\n     *\n     * @param from {Number} The start index.\n     * @param to {Number?null} The zero-based end index. <code>slice</code> extracts\n     *   up to but not including <code>to</code>. If omitted, slice extracts to the\n     *   end of the array.\n     *\n     * @return {qx.data.Array} A new array containing the given range of values.\n     */\n    slice: function(from, to) {\n      return new qx.data.Array(this.__array.slice(from, to));\n    },\n\n\n    /**\n     * Method to remove and add new elements to the array. A change event\n     * will be fired for every removal or addition unless the array is\n     * identical before and after splicing.\n     *\n     * @param startIndex {Integer} The index where the splice should start\n     * @param amount {Integer} Defines number of elements which will be removed\n     *   at the given position.\n     * @param varargs {var} All following parameters will be added at the given\n     *   position to the array.\n     * @return {qx.data.Array} An data array containing the removed elements.\n     *   Keep in to dispose this one, even if you don't use it!\n     */\n    splice: function(startIndex, amount, varargs) {\n      // store the old length\n      var oldLength = this.__array.length;\n\n      // invoke the slice on the array\n      var returnArray = this.__array.splice.apply(this.__array, arguments);\n\n      // fire a change event for the length\n      if (this.__array.length != oldLength) {\n        this.__updateLength();\n      } else if (amount == arguments.length - 2) {\n        // if we added as much items as we removed\n        var addedItems = qx.lang.Array.fromArguments(arguments, 2);\n        // check if the array content equals the content before the operation\n        for (var i = 0; i < addedItems.length; i++) {\n          if (addedItems[i] !== returnArray[i]) {\n            break;\n          }\n          // if all added and removed items are equal\n          if (i == addedItems.length -1) {\n            // prevent all events and return a new array\n            return new qx.data.Array();\n          }\n        }\n      }\n      // fire an event for the change\n      var removed = amount > 0;\n      var added = arguments.length > 2;\n      if (removed || added) {\n        var addedItems = qx.lang.Array.fromArguments(arguments, 2);\n\n        if (returnArray.length == 0) {\n          var type = \"add\";\n          var end = startIndex + addedItems.length;\n        } else if (addedItems.length == 0) {\n          var type = \"remove\";\n          var end = this.length - 1;\n        } else {\n          var type = \"add/remove\";\n          var end = startIndex + Math.max(addedItems.length, returnArray.length) - 1;\n        }\n\n        this.fireDataEvent(\"change\",\n          {\n            start: startIndex,\n            end: end,\n            type: type,\n            added : addedItems,\n            removed : returnArray\n          }, null\n        );\n      }\n\n      // remove the listeners first [BUG #7132]\n      for (var i = 0; i < returnArray.length; i++) {\n        this._registerEventChaining(null, returnArray[i], i);\n      }\n\n      // add listeners\n      for (var i = 2; i < arguments.length; i++) {\n        this._registerEventChaining(arguments[i], null, startIndex + (i - 2));\n      }\n      // apply event chaining for every item moved\n      this.__updateEventPropagation(startIndex + (arguments.length - 2) - amount, this.length);\n\n      // fire the changeBubble event\n      if (removed || added) {\n        var value = [];\n        for (var i = 2; i < arguments.length; i++) {\n          value[i-2] = arguments[i];\n        }\n        var endIndex = (startIndex + Math.max(arguments.length - 3 , amount - 1));\n        var name = startIndex == endIndex ? endIndex : startIndex + \"-\" + endIndex;\n\n        var eventData = {\n          value: value,\n          name: name + \"\",\n          old: returnArray,\n          item: this\n        };\n        this.fireDataEvent(\"changeBubble\", eventData);\n      }\n      return (new qx.data.Array(returnArray));\n    },\n    \n    \n    /**\n     * Efficiently replaces the array with the contents of src; this will suppress the\n     * change event if the array contents are the same, and will make sure that only\n     * one change event is fired\n     * \n     * @param src {qx.data.Array|Array} the new value to set the array to\n     */\n    replace: function(src) {\n      src = qx.lang.Array.toNativeArray(src);\n      if (this.equals(src)) {\n        return;\n      }\n      var args = [ 0, this.getLength() ];\n      src.forEach(function(item) {\n        args.push(item);\n      });\n      this.splice.apply(this, args);\n    },\n\n\n    /**\n     * Sorts the array. If a function is given, this will be used to\n     * compare the items. <code>changeBubble</code> event will only be fired,\n     * if sorting result differs from original array.\n     *\n     * @param func {Function} A compare function comparing two parameters and\n     *   should return a number.\n     */\n    sort: function(func) {\n      // ignore if the array is empty\n      if (this.length == 0) {\n        return;\n      }\n      var oldArray = this.__array.concat();\n\n      this.__array.sort.apply(this.__array, arguments);\n\n      // prevent changeBubble event if nothing has been changed\n      if (qx.lang.Array.equals(this.__array, oldArray) === true){\n        return;\n      }\n\n      this.__updateEventPropagation(0, this.length);\n\n      this.fireDataEvent(\"change\",\n        {start: 0, end: this.length - 1, type: \"order\", added: [], removed: []}, null\n      );\n\n      // fire change bubbles event\n      this.fireDataEvent(\"changeBubble\", {\n        value: this.__array,\n        name: \"0-\" + (this.length - 1),\n        old: oldArray,\n        item: this\n      });\n    },\n\n\n    /**\n     * Adds the given items to the beginning of the array. For every element,\n     * a change event will be fired.\n     *\n     * @param varargs {var} As many elements as you want to add to the beginning.\n     * @return {Integer} The new length of the array\n     */\n    unshift: function(varargs) {\n      for (var i = arguments.length - 1; i >= 0; i--) {\n        this.__array.unshift(arguments[i]);\n        this.__updateLength();\n        // apply to every item an event listener for the bubbling\n        this.__updateEventPropagation(0, this.length);\n\n        // fire change bubbles event\n        this.fireDataEvent(\"changeBubble\", {\n          value: [this.__array[0]],\n          name: \"0\",\n          old: [this.__array[1]],\n          item: this\n        });\n\n        // fire change event\n        this.fireDataEvent(\"change\",\n          {\n            start: 0,\n            end: this.length - 1,\n            type: \"add\",\n            added : [arguments[i]],\n            removed : []\n          }, null\n        );\n      }\n      return this.length;\n    },\n\n\n    /**\n     * Returns the list data as native array. Beware of the fact that the\n     * internal representation will be returned and any manipulation of that\n     * can cause a misbehavior of the array. This method should only be used for\n     * debugging purposes.\n     *\n     * @return {Array} The native array.\n     */\n    toArray: function() {\n      return this.__array;\n    },\n\n\n    /**\n     * Replacement function for the getting of the array value.\n     * array[0] should be array.getItem(0).\n     *\n     * @param index {Number} The index requested of the array element.\n     *\n     * @return {var} The element at the given index.\n     */\n    getItem: function(index) {\n      return this.__array[index];\n    },\n\n\n    /**\n     * Replacement function for the setting of an array value.\n     * array[0] = \"a\" should be array.setItem(0, \"a\").\n     * A change event will be fired if the value changes. Setting the same\n     * value again will not lead to a change event.\n     *\n     * @param index {Number} The index of the array element.\n     * @param item {var} The new item to set.\n     */\n    setItem: function(index, item) {\n      var oldItem = this.__array[index];\n      // ignore settings of already set items [BUG #4106]\n      if (oldItem === item) {\n        return;\n      }\n      this.__array[index] = item;\n      // set an event listener for the bubbling\n      this._registerEventChaining(item, oldItem, index);\n      // only update the length if its changed\n      if (this.length != this.__array.length) {\n        this.__updateLength();\n      }\n\n      // fire change bubbles event\n      this.fireDataEvent(\"changeBubble\", {\n        value: [item],\n        name: index + \"\",\n        old: [oldItem],\n        item: this\n      });\n\n      // fire change event\n      this.fireDataEvent(\"change\",\n        {\n          start: index,\n          end: index,\n          type: \"add/remove\",\n          added: [item],\n          removed: [oldItem]\n        }, null\n      );\n    },\n\n\n    /**\n     * This method returns the current length stored under .length on each\n     * array.\n     *\n     * @return {Number} The current length of the array.\n     */\n    getLength: function() {\n      return this.length;\n    },\n\n\n    /**\n     * Returns the index of the item in the array. If the item is not in the\n     * array, -1 will be returned.\n     *\n     * @param item {var} The item of which the index should be returned.\n     * @return {Number} The Index of the given item.\n     */\n    indexOf: function(item) {\n      return this.__array.indexOf(item);\n    },\n\n    /**\n     * Returns the last index of the item in the array. If the item is not in the\n     * array, -1 will be returned.\n     *\n     * @param item {var} The item of which the index should be returned.\n     * @return {Number} The Index of the given item.\n     */\n    lastIndexOf: function(item) {\n      return this.__array.lastIndexOf(item);\n    },\n\n\n    /**\n     * Returns the toString of the original Array\n     * @return {String} The array as a string.\n     */\n    toString: function() {\n      if (this.__array != null) {\n        return this.__array.toString();\n      }\n      return \"\";\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n       IMPLEMENTATION OF THE QX.LANG.ARRAY METHODS\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Check if the given item is in the current array.\n     *\n     * @deprecated {6.0} Please use the include method instead\n     *\n     * @param item {var} The item which is possibly in the array.\n     * @return {Boolean} true, if the array contains the given item.\n     */\n    contains: function(item) {\n      return this.includes(item);\n    },\n\n    /**\n     * Check if the given item is in the current array.\n     *\n     * @param item {var} The item which is possibly in the array.\n     * @return {Boolean} true, if the array contains the given item.\n     */\n    includes: function(item) {\n      return this.__array.indexOf(item) !== -1;\n    },\n\n\n    /**\n     * Return a copy of the given arr\n     *\n     * @return {qx.data.Array} copy of this\n     */\n    copy : function() {\n      return this.concat();\n    },\n\n\n    /**\n     * Insert an element at a given position.\n     *\n     * @param index {Integer} Position where to insert the item.\n     * @param item {var} The element to insert.\n     */\n    insertAt : function(index, item)\n    {\n      this.splice(index, 0, item).dispose();\n    },\n\n\n    /**\n     * Insert an item into the array before a given item.\n     *\n     * @param before {var} Insert item before this object.\n     * @param item {var} The item to be inserted.\n     */\n    insertBefore : function(before, item)\n    {\n      var index = this.indexOf(before);\n\n      if (index == -1) {\n        this.push(item);\n      } else {\n        this.splice(index, 0, item).dispose();\n      }\n    },\n\n\n    /**\n     * Insert an element into the array after a given item.\n     *\n     * @param after {var} Insert item after this object.\n     * @param item {var} Object to be inserted.\n     */\n    insertAfter : function(after, item)\n    {\n      var index = this.indexOf(after);\n\n      if (index == -1 || index == (this.length - 1)) {\n        this.push(item);\n      } else {\n        this.splice(index + 1, 0, item).dispose();\n      }\n    },\n\n\n    /**\n     * Remove an element from the array at the given index.\n     *\n     * @param index {Integer} Index of the item to be removed.\n     * @return {var} The removed item.\n     */\n    removeAt : function(index) {\n      var returnArray = this.splice(index, 1);\n      var item = returnArray.getItem(0);\n      returnArray.dispose();\n      return item;\n    },\n\n\n    /**\n     * Remove all elements from the array.\n     *\n     * @return {Array} A native array containing the removed elements.\n     */\n    removeAll : function() {\n      // remove all possible added event listeners\n      for (var i = 0; i < this.__array.length; i++) {\n        this._registerEventChaining(null, this.__array[i], i);\n      }\n\n      // ignore if array is empty\n      if (this.getLength() == 0) {\n        return [];\n      }\n\n      // store the old data\n      var oldLength = this.getLength();\n      var items = this.__array.concat();\n\n      // change the length\n      this.__array.length = 0;\n      this.__updateLength();\n\n      // fire change bubbles event\n      this.fireDataEvent(\"changeBubble\", {\n        value: [],\n        name: \"0-\" + (oldLength - 1),\n        old: items,\n        item: this\n      });\n\n      // fire the change event\n      this.fireDataEvent(\"change\",\n        {\n          start: 0,\n          end: oldLength - 1,\n          type: \"remove\",\n          removed : items,\n          added : []\n        }, null\n      );\n      return items;\n    },\n\n\n    /**\n     * Append the items of the given array.\n     *\n     * @param array {Array|qx.data.IListData} The items of this array will\n     * be appended.\n     * @throws {Error} if the argument is not an array.\n     */\n    append : function(array)\n    {\n      // qooxdoo array support\n      array = qx.lang.Array.toNativeArray(array);\n\n      // this check is important because opera throws an uncatchable error if\n      // apply is called without an array as argument.\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert.assertArray(array, \"The parameter must be an array.\");\n      }\n\n      var oldLength = this.__array.length;\n      Array.prototype.push.apply(this.__array, array);\n\n      // add a listener to the new items\n      for (var i = 0; i < array.length; i++) {\n        this._registerEventChaining(array[i], null, oldLength + i);\n      }\n\n      var oldLength = this.length;\n      this.__updateLength();\n\n      // fire change bubbles\n      var name =\n        oldLength == (this.length-1) ?\n        oldLength :\n        oldLength + \"-\" + (this.length-1);\n      this.fireDataEvent(\"changeBubble\", {\n        value: array,\n        name: name + \"\",\n        old: [],\n        item: this\n      });\n\n      // fire the change event\n      this.fireDataEvent(\"change\",\n        {\n          start: oldLength,\n          end: this.length - 1,\n          type: \"add\",\n          added : array,\n          removed : []\n        }, null\n      );\n    },\n\n\n    /**\n     * Removes all elements which are listed in the array.\n     *\n     * @param array {Array} the elements of this array will be excluded from this one\n     */\n    exclude : function(array)\n    {\n      array = qx.lang.Array.toNativeArray(array);\n      array.forEach(function(item) {\n        this.remove(item);\n      }, this);\n    },\n\n\n    /**\n     * Remove the given item.\n     *\n     * @param item {var} Item to be removed from the array.\n     * @return {var} The removed item.\n     */\n    remove : function(item)\n    {\n      var index = this.indexOf(item);\n\n      if (index != -1)\n      {\n        this.splice(index, 1).dispose();\n        return item;\n      }\n    },\n\n\n    /**\n     * Check whether the given array has the same content as this.\n     * Checks only the equality of the arrays' content.\n     *\n     * @param array {qx.data.Array} The array to check.\n     * @return {Boolean} Whether the two arrays are equal.\n     */\n    equals : function(array)\n    {\n      if (this.length !== array.length) {\n        return false;\n      }\n\n      array = qx.lang.Array.toNativeArray(array);\n      for (var i = 0; i < this.length; i++)\n      {\n        if (this.getItem(i) !== array[i]) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n\n\n    /**\n     * Returns the sum of all values in the array. Supports\n     * numeric values only.\n     *\n     * @return {Number} The sum of all values.\n     */\n    sum : function()\n    {\n      var result = 0;\n      for (var i = 0; i < this.length; i++) {\n        result += this.getItem(i);\n      }\n\n      return result;\n    },\n\n\n    /**\n     * Returns the highest value in the given array.\n     * Supports numeric values only.\n     *\n     * @return {Number | null} The highest of all values or undefined if the\n     *   array is empty.\n     */\n    max : function()\n    {\n      var result = this.getItem(0);\n\n      for (var i = 1; i < this.length; i++)\n      {\n        if (this.getItem(i) > result) {\n          result = this.getItem(i);\n        }\n      }\n\n      return result === undefined ? null : result;\n    },\n\n\n    /**\n     * Returns the lowest value in the array. Supports\n     * numeric values only.\n     *\n     * @return {Number | null} The lowest of all values or undefined\n     *   if the array is empty.\n     */\n    min : function()\n    {\n      var result = this.getItem(0);\n\n      for (var i = 1; i < this.length; i++)\n      {\n        if (this.getItem(i) < result) {\n          result = this.getItem(i);\n        }\n      }\n\n      return result === undefined ? null : result;\n    },\n\n\n    /**\n     * Invokes the given function for every item in the array.\n     *\n     * @param callback {Function} The function which will be call for every\n     *   item in the array. It will be invoked with three parameters:\n     *   the item, the index and the array itself.\n     * @param context {var?} The context in which the callback will be invoked.\n     */\n    forEach : function(callback, context)\n    {\n      for (var i = 0; i < this.__array.length; i++) {\n        callback.call(context, this.__array[i], i, this);\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      Additional JS1.6 methods\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Creates a new array with all elements that pass the test implemented by\n     * the provided function. It returns a new data array instance so make sure\n     * to think about disposing it.\n     * @param callback {Function} The test function, which will be executed for every\n     *   item in the array. The function will have three arguments.\n     *   <li><code>item</code>: the current item in the array</li>\n     *   <li><code>index</code>: the index of the current item</li>\n     *   <li><code>array</code>: The native array instance, NOT the data array instance.</li>\n     * @param self {var?undefined} The context of the callback.\n     * @return {qx.data.Array} A new array instance containing only the items\n     *  which passed the test.\n     */\n    filter : function(callback, self) {\n      return new qx.data.Array(this.__array.filter(callback, self));\n    },\n\n\n    /**\n     * Creates a new array with the results of calling a provided function on every\n     * element in this array. It returns a new data array instance so make sure\n     * to think about disposing it.\n     * @param callback {Function} The mapping function, which will be executed for every\n     *   item in the array. The function will have three arguments.\n     *   <li><code>item</code>: the current item in the array</li>\n     *   <li><code>index</code>: the index of the current item</li>\n     *   <li><code>array</code>: The native array instance, NOT the data array instance.</li>\n     * @param self {var?undefined} The context of the callback.\n     * @return {qx.data.Array} A new array instance containing the new created items.\n     */\n    map : function(callback, self) {\n      return new qx.data.Array(this.__array.map(callback, self));\n    },\n\n\n    /**\n     * Tests whether any element in the array passes the test implemented by the\n     * provided function.\n     * @param callback {Function} The test function, which will be executed for every\n     *   item in the array. The function will have three arguments.\n     *   <li><code>item</code>: the current item in the array</li>\n     *   <li><code>index</code>: the index of the current item</li>\n     *   <li><code>array</code>: The native array instance, NOT the data array instance.</li>\n     * @param self {var?undefined} The context of the callback.\n     * @return {Boolean} <code>true</code>, if any element passed the test function.\n     */\n    some : function(callback, self) {\n      return this.__array.some(callback, self);\n    },\n\n\n    /**\n     * Tests whether every element in the array passes the test implemented by the\n     * provided function.\n     * @param callback {Function} The test function, which will be executed for every\n     *   item in the array. The function will have three arguments.\n     *   <li><code>item</code>: the current item in the array</li>\n     *   <li><code>index</code>: the index of the current item</li>\n     *   <li><code>array</code>: The native array instance, NOT the data array instance.</li>\n     * @param self {var?undefined} The context of the callback.\n     * @return {Boolean} <code>true</code>, if every element passed the test function.\n     */\n    every : function(callback, self) {\n      return this.__array.every(callback, self);\n    },\n\n\n    /**\n     * Apply a function against an accumulator and each value of the array\n     * (from left-to-right) as to reduce it to a single value.\n     * @param callback {Function} The accumulator function, which will be\n     *   executed for every item in the array. The function will have four arguments.\n     *   <li><code>previousItem</code>: the previous item</li>\n     *   <li><code>currentItem</code>: the current item in the array</li>\n     *   <li><code>index</code>: the index of the current item</li>\n     *   <li><code>array</code>: The native array instance, NOT the data array instance.</li>\n     * @param initValue {var?undefined} Object to use as the first argument to the first\n     *   call of the callback.\n     * @return {var} The returned value of the last accumulator call.\n     */\n    reduce : function(callback, initValue) {\n      return this.__array.reduce(callback, initValue);\n    },\n\n\n    /**\n     * Apply a function against an accumulator and each value of the array\n     * (from right-to-left) as to reduce it to a single value.\n     * @param callback {Function} The accumulator function, which will be\n     *   executed for every item in the array. The function will have four arguments.\n     *   <li><code>previousItem</code>: the previous item</li>\n     *   <li><code>currentItem</code>: the current item in the array</li>\n     *   <li><code>index</code>: the index of the current item</li>\n     *   <li><code>array</code>: The native array instance, NOT the data array instance.</li>\n     * @param initValue {var?undefined} Object to use as the first argument to the first\n     *   call of the callback.\n     * @return {var} The returned value of the last accumulator call.\n     */\n    reduceRight : function(callback, initValue) {\n      return this.__array.reduceRight(callback, initValue);\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      INTERNAL HELPERS\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Internal function which updates the length property of the array.\n     * Every time the length will be updated, a {@link #changeLength} data\n     * event will be fired.\n     */\n    __updateLength: function() {\n      var oldLength = this.length;\n      this.length = this.__array.length;\n      this.fireDataEvent(\"changeLength\", this.length, oldLength);\n    },\n\n\n    /**\n     * Helper to update the event propagation for a range of items.\n     * @param from {Number} Start index.\n     * @param to {Number} End index.\n     */\n    __updateEventPropagation : function(from, to) {\n      for (var i=from; i < to; i++) {\n        this._registerEventChaining(this.__array[i], this.__array[i], i);\n      };\n    }\n  },\n\n\n\n  /*\n   *****************************************************************************\n      DESTRUCTOR\n   *****************************************************************************\n  */\n\n  destruct : function() {\n    for (var i = 0; i < this.__array.length; i++) {\n      var item = this.__array[i];\n      this._applyEventPropagation(null, item, i);\n\n      // dispose the items on auto dispose\n      if (this.isAutoDisposeItems() && item && item instanceof qx.core.Object) {\n        item.dispose();\n      }\n    }\n\n    this.__array = null;\n  }\n});\n"," /* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * This class is the common super class for all error classes in qooxdoo.\n *\n * It has a comment and a fail message as members. The toString method returns\n * the comment and the fail message separated by a colon.\n */\nqx.Bootstrap.define(\"qx.type.BaseError\",\n{\n  extend : Error,\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param comment {String} Comment passed to the assertion call\n   * @param failMessage {String} Fail message provided by the assertion\n   */\n  construct : function(comment, failMessage)\n  {\n    var inst = Error.call(this, failMessage);\n    // map stack trace properties since they're not added by Error's constructor\n    if (inst.stack) {\n      this.stack = inst.stack;\n    }\n    if (inst.stacktrace) {\n      this.stacktrace = inst.stacktrace;\n    }\n\n    this.__comment = comment || \"\";\n    // opera 10 crashes if the message is an empty string!!!?!?!\n    this.message = failMessage || qx.type.BaseError.DEFAULTMESSAGE;\n  },\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n  statics :\n  {\n    DEFAULTMESSAGE : \"error\"\n  },\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __sTrace : null,\n    __comment : null,\n\n    /** @type {String} Fail message provided by the assertion */\n    message : null,\n\n\n    /**\n     * Comment passed to the assertion call\n     *\n     * @return {String} The comment passed to the assertion call\n     */\n    getComment : function() {\n      return this.__comment;\n    },\n\n\n    /**\n     * Get the error message\n     *\n     * @return {String} The error message\n     */\n    toString : function() {\n      return this.__comment + (this.message ? \": \" + this.message : \"\");\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Assertion errors are thrown if an assertion in {@link qx.core.Assert}\n * fails.\n */\nqx.Bootstrap.define(\"qx.core.AssertionError\",\n{\n  extend : qx.type.BaseError,\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param comment {String} Comment passed to the assertion call\n   * @param failMessage {String} Fail message provided by the assertion\n   */\n  construct : function(comment, failMessage)\n  {\n    qx.type.BaseError.call(this, comment, failMessage);\n    this.__trace = qx.dev.StackTrace.getStackTrace();\n  },\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __trace : null,\n\n\n    /**\n     * Stack trace of the error\n     *\n     * @return {String[]} The stack trace of the location the exception was thrown\n     */\n    getStackTrace : function() {\n      return this.__trace;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2013 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Richard Sternagel (rsternagel)\n\n   ======================================================================\n\n   This class contains code from:\n\n   * JSON 3 (v3.2.5)\n\n     Code:\n       https://github.com/bestiejs/json3\n\n     Copyright:\n       (c) 2012-2013, Kit Cambridge\n\n     License:\n       MIT: https://raw.github.com/bestiejs/json3/gh-pages/LICENSE\n\n   ----------------------------------------------------------------------\n\n    Copyright (c) 2012-2013 Kit Cambridge.\n    http://kitcambridge.be/\n\n    Permission is hereby granted, free of charge, to any person obtaining a copy of\n    this software and associated documentation files (the \"Software\"), to deal in\n    the Software without restriction, including without limitation the rights to\n    use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n    of the Software, and to permit persons to whom the Software is furnished to do\n    so, subject to the following conditions:\n\n    The above copyright notice and this permission notice shall be included in all\n    copies or substantial portions of the Software.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n    SOFTWARE.\n\n************************************************************************ */\n\n/**\n * Exposes (potentially polyfilled or patched) window.JSON to qooxdoo\n * (enabled by <a href=\"https://github.com/bestiejs/json3\">JSON 3</a>).\n */\nqx.Bootstrap.define(\"qx.lang.Json\",\n{\n  statics :\n  {\n    /**\n     * This method produces a JSON text from a JavaScript value.\n     *\n     * When an object value is found, if the object contains a toJSON\n     * method, its toJSON method will be called and the result will be\n     * stringified. A toJSON method does not serialize: it returns the\n     * value represented by the name/value pair that should be serialized,\n     * or undefined if nothing should be serialized. The toJSON method\n     * will be passed the key associated with the value, and this will be\n     * bound to the object holding the key.\n     *\n     * For example, this would serialize Dates as ISO strings.\n     *\n     * <pre class=\"javascript\">\n     *     Date.prototype.toJSON = function (key) {\n     *         function f(n) {\n     *             // Format integers to have at least two digits.\n     *             return n < 10 ? '0' + n : n;\n     *         }\n     *\n     *         return this.getUTCFullYear()   + '-' +\n     *              f(this.getUTCMonth() + 1) + '-' +\n     *              f(this.getUTCDate())      + 'T' +\n     *              f(this.getUTCHours())     + ':' +\n     *              f(this.getUTCMinutes())   + ':' +\n     *              f(this.getUTCSeconds())   + 'Z';\n     *     };\n     * </pre>\n     *\n     * You can provide an optional replacer method. It will be passed the\n     * key and value of each member, with this bound to the containing\n     * object. The value that is returned from your method will be\n     * serialized. If your method returns undefined, then the member will\n     * be excluded from the serialization.\n     *\n     * If the replacer parameter is an array of strings, then it will be\n     * used to select the members to be serialized. It filters the results\n     * such that only members with keys listed in the replacer array are\n     * stringified.\n     *\n     * Values that do not have JSON representations, such as undefined or\n     * functions, will not be serialized. Such values in objects will be\n     * dropped; in arrays they will be replaced with null. You can use\n     * a replacer function to replace those with JSON values.\n     * JSON.stringify(undefined) returns undefined.\n     *\n     * The optional space parameter produces a stringification of the\n     * value that is filled with line breaks and indentation to make it\n     * easier to read.\n     *\n     * If the space parameter is a non-empty string, then that string will\n     * be used for indentation. If the space parameter is a number, then\n     * the indentation will be that many spaces.\n     *\n     * Example:\n     *\n     * <pre class=\"javascript\">\n     * text = JSON.stringify(['e', {pluribus: 'unum'}]);\n     * // text is '[\"e\",{\"pluribus\":\"unum\"}]'\n     *\n     *\n     * text = JSON.stringify(['e', {pluribus: 'unum'}], null, '\\t');\n     * // text is '[\\n\\t\"e\",\\n\\t{\\n\\t\\t\"pluribus\": \"unum\"\\n\\t}\\n]'\n     *\n     * text = JSON.stringify([new Date()], function (key, value) {\n     *     return this[key] instanceof Date ?\n     *         'Date(' + this[key] + ')' : value;\n     * });\n     * // text is '[\"Date(---current time---)\"]'\n     * </pre>\n     *\n     * @signature function(value, replacer, space)\n     *\n     * @param value {var} any JavaScript value, usually an object or array.\n     *\n     * @param replacer {Function?} an optional parameter that determines how\n     *    object values are stringified for objects. It can be a function or an\n     *    array of strings.\n     *\n     * @param space {String?} an optional parameter that specifies the\n     *    indentation of nested structures. If it is omitted, the text will\n     *    be packed without extra whitespace. If it is a number, it will specify\n     *    the number of spaces to indent at each level. If it is a string\n     *    (such as '\\t' or '&nbsp;'), it contains the characters used to indent\n     *    at each level.\n     *\n     * @return {String} The JSON string of the value\n     */\n    stringify : null, // will be set after the polyfill\n\n\n    /**\n     * This method parses a JSON text to produce an object or array.\n     * It can throw a SyntaxError exception.\n     *\n     * The optional reviver parameter is a function that can filter and\n     * transform the results. It receives each of the keys and values,\n     * and its return value is used instead of the original value.\n     * If it returns what it received, then the structure is not modified.\n     * If it returns undefined then the member is deleted.\n     *\n     * Example:\n     *\n     * <pre class=\"javascript\">\n     * // Parse the text. Values that look like ISO date strings will\n     * // be converted to Date objects.\n     *\n     * myData = JSON.parse(text, function (key, value)\n     * {\n     *   if (typeof value === 'string')\n     *   {\n     *     var a = /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/.exec(value);\n     *     if (a) {\n     *       return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4], +a[5], +a[6]));\n     *     }\n     *   }\n     *   return value;\n     * });\n     *\n     * myData = JSON.parse('[\"Date(09/09/2001)\"]', function (key, value) {\n     *     var d;\n     *     if (typeof value === 'string' &&\n     *             value.slice(0, 5) === 'Date(' &&\n     *             value.slice(-1) === ')') {\n     *         d = new Date(value.slice(5, -1));\n     *         if (d) {\n     *             return d;\n     *         }\n     *     }\n     *     return value;\n     * });\n     * </pre>\n     *\n     * @signature function(text, reviver)\n     *\n     * @param text {String} JSON string to parse\n     *\n     * @param reviver {Function?} Optional reviver function to filter and\n     *    transform the results\n     *\n     * @return {Object} The parsed JSON object\n     */\n    parse : null // will be set after the polyfill\n  }\n});\n\n/**\n * @ignore(define.*, exports)\n * @lint ignoreUnused(JSON3)\n * @lint ignoreNoLoopBlock()\n */\n(function () {\n  // define JSON3 object\n  var JSON3;\n\n  // prevent using CommonJS exports object,\n  // by shadowing global exports object\n  var exports;\n\n  // prevent using AMD compatible loader,\n  // by shadowing global define function\n  var define;\n\n\n/*! JSON v3.2.5 | http://bestiejs.github.io/json3 | Copyright 2012-2013, Kit Cambridge | http://kit.mit-license.org */\n(function (window) {\n  // This polyfill does not work under Rhino because it cannot convert POJO to object (it tries\n  //  to serialize the class)\n  if (qx.core.Environment.get(\"runtime.name\") === \"rhino\" || qx.core.Environment.get(\"runtime.name\") === undefined)\n    return;\n\n  // Convenience aliases.\n  var getClass = {}.toString, isProperty, forEach, undef;\n\n  // Detect the `define` function exposed by asynchronous module loaders. The\n  // strict `define` check is necessary for compatibility with `r.js`.\n  var isLoader = typeof define === \"function\" && define.amd, JSON3 = typeof exports === \"object\" && exports;\n\n  if (JSON3 || isLoader) {\n    if (typeof JSON === \"object\" && JSON) {\n      // Delegate to the native `stringify` and `parse` implementations in\n      // asynchronous module loaders and CommonJS environments.\n      if (JSON3) {\n        JSON3.stringify = JSON.stringify;\n        JSON3.parse = JSON.parse;\n      } else {\n        JSON3 = JSON;\n      }\n    } else if (isLoader) {\n      JSON3 = window.JSON = {};\n    }\n  } else {\n    // Export for web browsers and JavaScript engines.\n    JSON3 = window.JSON || (window.JSON = {});\n  }\n\n  // Test the `Date#getUTC*` methods. Based on work by @Yaffle.\n  var isExtended = new Date(-3509827334573292);\n  try {\n    // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical\n    // results for certain dates in Opera >= 10.53.\n    isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\n      // Safari < 2.0.2 stores the internal millisecond time value correctly,\n      // but clips the values returned by the date methods to the range of\n      // signed 32-bit integers ([-2 ** 31, 2 ** 31 - 1]).\n      isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\n  } catch (exception) {}\n\n  // Internal: Determines whether the native `JSON.stringify` and `parse`\n  // implementations are spec-compliant. Based on work by Ken Snyder.\n  function has(name) {\n    if (name === \"bug-string-char-index\") {\n      // IE <= 7 doesn't support accessing string characters using square\n      // bracket notation. IE 8 only supports this for primitives.\n      return \"a\"[0] != \"a\";\n    }\n    var value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}', isAll = name === \"json\";\n    if (isAll || name === \"json-stringify\" || name === \"json-parse\") {\n      // Test `JSON.stringify`.\n      if (name == \"json-stringify\" || isAll) {\n        var stringify = JSON3.stringify, stringifySupported = typeof stringify === \"function\" && isExtended;\n        if (stringifySupported) {\n          // A test function object with a custom `toJSON` method.\n          (value = function () {\n            return 1;\n          }).toJSON = value;\n          try {\n            stringifySupported =\n              // Firefox 3.1b1 and b2 serialize string, number, and boolean\n              // primitives as object literals.\n              stringify(0) === \"0\" &&\n              // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object\n              // literals.\n              stringify(new Number()) === \"0\" &&\n              stringify(new String()) === '\"\"' &&\n              // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or\n              // does not define a canonical JSON representation (this applies to\n              // objects with `toJSON` properties as well, *unless* they are nested\n              // within an object or array).\n              stringify(getClass) === undef &&\n              // IE 8 serializes `undefined` as `\"undefined\"`. Safari <= 5.1.7 and\n              // FF 3.1b3 pass this test.\n              stringify(undef) === undef &&\n              // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,\n              // respectively, if the value is omitted entirely.\n              stringify() === undef &&\n              // FF 3.1b1, 2 throw an error if the given value is not a number,\n              // string, array, object, Boolean, or `null` literal. This applies to\n              // objects with custom `toJSON` methods as well, unless they are nested\n              // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`\n              // methods entirely.\n              stringify(value) === \"1\" &&\n              stringify([value]) === \"[1]\" &&\n              // Prototype <= 1.6.1 serializes `[undefined]` as `\"[]\"` instead of\n              // `\"[null]\"`.\n              stringify([undef]) === \"[null]\" &&\n              // YUI 3.0.0b1 fails to serialize `null` literals.\n              stringify(null) === \"null\" &&\n              // FF 3.1b1, 2 halts serialization if an array contains a function:\n              // `[1, true, getClass, 1]` serializes as \"[1,true,],\". These versions\n              // of Firefox also allow trailing commas in JSON objects and arrays.\n              // FF 3.1b3 elides non-JSON values from objects and arrays, unless they\n              // define custom `toJSON` methods.\n              stringify([undef, getClass, null]) === \"[null,null,null]\" &&\n              // Simple serialization test. FF 3.1b1 uses Unicode escape sequences\n              // where character escape codes are expected (e.g., `\\b` => `\\u0008`).\n              stringify({ \"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"] }) == serialized &&\n              // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.\n              stringify(null, value) === \"1\" &&\n              stringify([1, 2], null, 1) === \"[\\n 1,\\n 2\\n]\" &&\n              // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly\n              // serialize extended years.\n              stringify(new Date(-8.64e15)) === '\"-271821-04-20T00:00:00.000Z\"' &&\n              // The milliseconds are optional in ES 5, but required in 5.1.\n              stringify(new Date(8.64e15)) === '\"+275760-09-13T00:00:00.000Z\"' &&\n              // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative\n              // four-digit years instead of six-digit years. Credits: @Yaffle.\n              stringify(new Date(-621987552e5)) === '\"-000001-01-01T00:00:00.000Z\"' &&\n              // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond\n              // values less than 1000. Credits: @Yaffle.\n              stringify(new Date(-1)) === '\"1969-12-31T23:59:59.999Z\"';\n          } catch (exception) {\n            stringifySupported = false;\n          }\n        }\n        if (!isAll) {\n          return stringifySupported;\n        }\n      }\n      // Test `JSON.parse`.\n      if (name === \"json-parse\" || isAll) {\n        var parse = JSON3.parse;\n        if (typeof parse === \"function\") {\n          try {\n            // FF 3.1b1, b2 will throw an exception if a bare literal is provided.\n            // Conforming implementations should also coerce the initial argument to\n            // a string prior to parsing.\n            if (parse(\"0\") === 0 && !parse(false)) {\n              // Simple parsing test.\n              value = parse(serialized);\n              var parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\n              if (parseSupported) {\n                try {\n                  // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.\n                  parseSupported = !parse('\"\\t\"');\n                } catch (exception) {}\n                if (parseSupported) {\n                  try {\n                    // FF 4.0 and 4.0.1 allow leading `+` signs, and leading and\n                    // trailing decimal points. FF 4.0, 4.0.1, and IE 9-10 also\n                    // allow certain octal literals.\n                    parseSupported = parse(\"01\") !== 1;\n                  } catch (exception) {}\n                }\n              }\n            }\n          } catch (exception) {\n            parseSupported = false;\n          }\n        }\n        if (!isAll) {\n          return parseSupported;\n        }\n      }\n      return stringifySupported && parseSupported;\n    }\n  }\n\n  if (!has(\"json\")) {\n    // Common `[[Class]]` name aliases.\n    var functionClass = \"[object Function]\";\n    var dateClass = \"[object Date]\";\n    var numberClass = \"[object Number]\";\n    var stringClass = \"[object String]\";\n    var arrayClass = \"[object Array]\";\n    var booleanClass = \"[object Boolean]\";\n\n    // Detect incomplete support for accessing string characters by index.\n    var charIndexBuggy = has(\"bug-string-char-index\");\n\n    // Define additional utility methods if the `Date` methods are buggy.\n    if (!isExtended) {\n      var floor = Math.floor;\n      // A mapping between the months of the year and the number of days between\n      // January 1st and the first of the respective month.\n      var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n      // Internal: Calculates the number of days between the Unix epoch and the\n      // first day of the given month.\n      var getDay = function (year, month) {\n        return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\n      };\n    }\n\n    // Internal: Determines if a property is a direct property of the given\n    // object. Delegates to the native `Object#hasOwnProperty` method.\n    if (!(isProperty = {}.hasOwnProperty)) {\n      isProperty = function (property) {\n        var members = {}, constructor;\n        if ((members.__proto__ = null, members.__proto__ = {\n          // The *proto* property cannot be set multiple times in recent\n          // versions of Firefox and SeaMonkey.\n          \"toString\": 1\n        }, members).toString != getClass) {\n          // Safari <= 2.0.3 doesn't implement `Object#hasOwnProperty`, but\n          // supports the mutable *proto* property.\n          isProperty = function (property) {\n            // Capture and break the object's prototype chain (see section 8.6.2\n            // of the ES 5.1 spec). The parenthesized expression prevents an\n            // unsafe transformation by the Closure Compiler.\n            var original = this.__proto__, result = property in (this.__proto__ = null, this);\n            // Restore the original prototype chain.\n            this.__proto__ = original;\n            return result;\n          };\n        } else {\n          // Capture a reference to the top-level `Object` constructor.\n          constructor = members.constructor;\n          // Use the `constructor` property to simulate `Object#hasOwnProperty` in\n          // other environments.\n          isProperty = function (property) {\n            var parent = (this.constructor || constructor).prototype;\n            return property in this && !(property in parent && this[property] === parent[property]);\n          };\n        }\n        members = null;\n        return isProperty.call(this, property);\n      };\n    }\n\n    // Internal: A set of primitive types used by `isHostType`.\n    var PrimitiveTypes = {\n      'boolean': 1,\n      'number': 1,\n      'string': 1,\n      'undefined': 1\n    };\n\n    // Internal: Determines if the given object `property` value is a\n    // non-primitive.\n    var isHostType = function (object, property) {\n      var type = typeof object[property];\n      return type == 'object' ? !!object[property] : !PrimitiveTypes[type];\n    };\n\n    // Internal: Normalizes the `for...in` iteration algorithm across\n    // environments. Each enumerated key is yielded to a `callback` function.\n    forEach = function (object, callback) {\n      var size = 0, Properties, members, property, forEach;\n\n      // Tests for bugs in the current environment's `for...in` algorithm. The\n      // `valueOf` property inherits the non-enumerable flag from\n      // `Object.prototype` in older versions of IE, Netscape, and Mozilla.\n      (Properties = function () {\n        this.valueOf = 0;\n      }).prototype.valueOf = 0;\n\n      // Iterate over a new instance of the `Properties` class.\n      members = new Properties();\n      for (property in members) {\n        // Ignore all properties inherited from `Object.prototype`.\n        if (isProperty.call(members, property)) {\n          size++;\n        }\n      }\n      Properties = members = null;\n\n      // Normalize the iteration algorithm.\n      if (!size) {\n        // A list of non-enumerable properties inherited from `Object.prototype`.\n        members = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\n        // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable\n        // properties.\n        forEach = function (object, callback) {\n          var isFunction = getClass.call(object) == functionClass, property, length;\n          var hasProperty = !isFunction && typeof object.constructor != 'function' && isHostType(object, 'hasOwnProperty') ? object.hasOwnProperty : isProperty;\n          for (property in object) {\n            // Gecko <= 1.0 enumerates the `prototype` property of functions under\n            // certain conditions; IE does not.\n            if (!(isFunction && property === \"prototype\") && hasProperty.call(object, property)) {\n              callback(property);\n            }\n          }\n          // Manually invoke the callback for each non-enumerable property.\n          for (length = members.length; property = members[--length]; hasProperty.call(object, property) && callback(property));\n        };\n      } else if (size == 2) {\n        // Safari <= 2.0.4 enumerates shadowed properties twice.\n        forEach = function (object, callback) {\n          // Create a set of iterated properties.\n          var members = {}, isFunction = getClass.call(object) == functionClass, property;\n          for (property in object) {\n            // Store each property name to prevent double enumeration. The\n            // `prototype` property of functions is not enumerated due to cross-\n            // environment inconsistencies.\n            if (!(isFunction && property === \"prototype\") && !isProperty.call(members, property) && (members[property] = 1) && isProperty.call(object, property)) {\n              callback(property);\n            }\n          }\n        };\n      } else {\n        // No bugs detected; use the standard `for...in` algorithm.\n        forEach = function (object, callback) {\n          var isFunction = getClass.call(object) == functionClass, property, isConstructor;\n          for (property in object) {\n            if (!(isFunction && property === \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\n              callback(property);\n            }\n          }\n          // Manually invoke the callback for the `constructor` property due to\n          // cross-environment inconsistencies.\n          if (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\n            callback(property);\n          }\n        };\n      }\n      return forEach(object, callback);\n    };\n\n    // Public: Serializes a JavaScript `value` as a JSON string. The optional\n    // `filter` argument may specify either a function that alters how object and\n    // array members are serialized, or an array of strings and numbers that\n    // indicates which properties should be serialized. The optional `width`\n    // argument may be either a string or number that specifies the indentation\n    // level of the output.\n    if (!has(\"json-stringify\")) {\n      // Internal: A map of control characters and their escaped equivalents.\n      var Escapes = {\n        92: \"\\\\\\\\\",\n        34: '\\\\\"',\n        8: \"\\\\b\",\n        12: \"\\\\f\",\n        10: \"\\\\n\",\n        13: \"\\\\r\",\n        9: \"\\\\t\"\n      };\n\n      // Internal: Converts `value` into a zero-padded string such that its\n      // length is at least equal to `width`. The `width` must be <= 6.\n      var leadingZeroes = \"000000\";\n      var toPaddedString = function (width, value) {\n        // The `|| 0` expression is necessary to work around a bug in\n        // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== \"0\"`.\n        return (leadingZeroes + (value || 0)).slice(-width);\n      };\n\n      // Internal: Double-quotes a string `value`, replacing all ASCII control\n      // characters (characters with code unit values between 0 and 31) with\n      // their escaped equivalents. This is an implementation of the\n      // `Quote(value)` operation defined in ES 5.1 section 15.12.3.\n      var unicodePrefix = \"\\\\u00\";\n      var quote = function (value) {\n        var result = '\"', index = 0, length = value.length, isLarge = length > 10 && charIndexBuggy, symbols;\n        if (isLarge) {\n          symbols = value.split(\"\");\n        }\n        for (; index < length; index++) {\n          var charCode = value.charCodeAt(index);\n          // If the character is a control character, append its Unicode or\n          // shorthand escape sequence; otherwise, append the character as-is.\n          switch (charCode) {\n            case 8: case 9: case 10: case 12: case 13: case 34: case 92:\n              result += Escapes[charCode];\n              break;\n            default:\n              if (charCode < 32) {\n                result += unicodePrefix + toPaddedString(2, charCode.toString(16));\n                break;\n              }\n              result += isLarge ? symbols[index] : charIndexBuggy ? value.charAt(index) : value[index];\n          }\n        }\n        return result + '\"';\n      };\n\n      // Internal: Recursively serializes an object. Implements the\n      // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.\n      var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\n        var value = object[property], className, year, month, date, time, hours, minutes, seconds, milliseconds, results, element, index, length, prefix, hasMembers, result;\n        try {\n          // Necessary for host object support.\n          value = object[property];\n        } catch (exception) {}\n        if (typeof value === \"object\" && value) {\n          className = getClass.call(value);\n          if (className == dateClass && !isProperty.call(value, \"toJSON\")) {\n            if (value > -1 / 0 && value < 1 / 0) {\n              // Dates are serialized according to the `Date#toJSON` method\n              // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15\n              // for the ISO 8601 date time string format.\n              if (getDay) {\n                // Manually compute the year, month, date, hours, minutes,\n                // seconds, and milliseconds if the `getUTC*` methods are\n                // buggy. Adapted from @Yaffle's `date-shim` project.\n                date = floor(value / 864e5);\n                for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\n                for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\n                date = 1 + date - getDay(year, month);\n                // The `time` value specifies the time within the day (see ES\n                // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used\n                // to compute `A modulo B`, as the `%` operator does not\n                // correspond to the `modulo` operation for negative numbers.\n                time = (value % 864e5 + 864e5) % 864e5;\n                // The hours, minutes, seconds, and milliseconds are obtained by\n                // decomposing the time within the day. See section 15.9.1.10.\n                hours = floor(time / 36e5) % 24;\n                minutes = floor(time / 6e4) % 60;\n                seconds = floor(time / 1e3) % 60;\n                milliseconds = time % 1e3;\n              } else {\n                year = value.getUTCFullYear();\n                month = value.getUTCMonth();\n                date = value.getUTCDate();\n                hours = value.getUTCHours();\n                minutes = value.getUTCMinutes();\n                seconds = value.getUTCSeconds();\n                milliseconds = value.getUTCMilliseconds();\n              }\n              // Serialize extended years correctly.\n              value = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\n                \"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\n                // Months, dates, hours, minutes, and seconds should have two\n                // digits; milliseconds should have three.\n                \"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\n                // Milliseconds are optional in ES 5.0, but required in 5.1.\n                \".\" + toPaddedString(3, milliseconds) + \"Z\";\n            } else {\n              value = null;\n            }\n          } else if (typeof value.toJSON === \"function\" && ((className != numberClass && className != stringClass && className != arrayClass) || isProperty.call(value, \"toJSON\"))) {\n            // Prototype <= 1.6.1 adds non-standard `toJSON` methods to the\n            // `Number`, `String`, `Date`, and `Array` prototypes. JSON 3\n            // ignores all `toJSON` methods on these objects unless they are\n            // defined directly on an instance.\n            value = value.toJSON(property);\n          }\n        }\n        if (callback) {\n          // If a replacement function was provided, call it to obtain the value\n          // for serialization.\n          value = callback.call(object, property, value);\n        }\n        if (value === null) {\n          return \"null\";\n        }\n        className = getClass.call(value);\n        if (className == booleanClass) {\n          // Booleans are represented literally.\n          return \"\" + value;\n        } else if (className == numberClass) {\n          // JSON numbers must be finite. `Infinity` and `NaN` are serialized as\n          // `\"null\"`.\n          return value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\n        } else if (className == stringClass) {\n          // Strings are double-quoted and escaped.\n          return quote(\"\" + value);\n        }\n        // Recursively serialize objects and arrays.\n        if (typeof value === \"object\") {\n          // Check for cyclic structures. This is a linear search; performance\n          // is inversely proportional to the number of unique nested objects.\n          for (length = stack.length; length--;) {\n            if (stack[length] === value) {\n              // Cyclic structures cannot be serialized by `JSON.stringify`.\n              throw TypeError();\n            }\n          }\n          // Add the object to the stack of traversed objects.\n          stack.push(value);\n          results = [];\n          // Save the current indentation level and indent one additional level.\n          prefix = indentation;\n          indentation += whitespace;\n          if (className == arrayClass) {\n            // Recursively serialize array elements.\n            for (index = 0, length = value.length; index < length; hasMembers || (hasMembers = true), index++) {\n              element = serialize(index, value, callback, properties, whitespace, indentation, stack);\n              results.push(element === undef ? \"null\" : element);\n            }\n            result = hasMembers ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\n          } else {\n            // Recursively serialize object members. Members are selected from\n            // either a user-specified list of property names, or the object\n            // itself.\n            forEach(properties || value, function (property) {\n              var element = serialize(property, value, callback, properties, whitespace, indentation, stack);\n              if (element !== undef) {\n                // According to ES 5.1 section 15.12.3: \"If `gap` {whitespace}\n                // is not the empty string, let `member` {quote(property) + \":\"}\n                // be the concatenation of `member` and the `space` character.\"\n                // The \"`space` character\" refers to the literal space\n                // character, not the `space` {width} argument provided to\n                // `JSON.stringify`.\n                results.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\n              }\n              hasMembers || (hasMembers = true);\n            });\n            result = hasMembers ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\n          }\n          // Remove the object from the traversed object stack.\n          stack.pop();\n          return result;\n        }\n      };\n\n      // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n      JSON3.stringify = function (source, filter, width) {\n        var whitespace, callback, properties;\n        if (typeof filter === \"function\" || typeof filter === \"object\" && filter) {\n          if (getClass.call(filter) == functionClass) {\n            callback = filter;\n          } else if (getClass.call(filter) == arrayClass) {\n            // Convert the property names array into a makeshift set.\n            properties = {};\n            for (var index = 0, length = filter.length, value; index < length; value = filter[index++], ((getClass.call(value) == stringClass || getClass.call(value) == numberClass) && (properties[value] = 1)));\n          }\n        }\n        if (width) {\n          if (getClass.call(width) == numberClass) {\n            // Convert the `width` to an integer and create a string containing\n            // `width` number of space characters.\n            if ((width -= width % 1) > 0) {\n              for (whitespace = \"\", width > 10 && (width = 10); whitespace.length < width; whitespace += \" \");\n            }\n          } else if (getClass.call(width) == stringClass) {\n            whitespace = width.length <= 10 ? width : width.slice(0, 10);\n          }\n        }\n        // Opera <= 7.54u2 discards the values associated with empty string keys\n        // (`\"\"`) only if they are used directly within an object member list\n        // (e.g., `!(\"\" in { \"\": 1})`).\n        return serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\n      };\n    }\n\n    // Public: Parses a JSON source string.\n    if (!has(\"json-parse\")) {\n      var fromCharCode = String.fromCharCode;\n\n      // Internal: A map of escaped control characters and their unescaped\n      // equivalents.\n      var Unescapes = {\n        92: \"\\\\\",\n        34: '\"',\n        47: \"/\",\n        98: \"\\b\",\n        116: \"\\t\",\n        110: \"\\n\",\n        102: \"\\f\",\n        114: \"\\r\"\n      };\n\n      // Internal: Stores the parser state.\n      var Index, Source;\n\n      // Internal: Resets the parser state and throws a `SyntaxError`.\n      var abort = function() {\n        Index = Source = null;\n        throw SyntaxError();\n      };\n\n      // Internal: Returns the next token, or `\"$\"` if the parser has reached\n      // the end of the source string. A token may be a string, number, `null`\n      // literal, or Boolean literal.\n      var lex = function () {\n        var source = Source, length = source.length, value, begin, position, isSigned, charCode;\n        while (Index < length) {\n          charCode = source.charCodeAt(Index);\n          switch (charCode) {\n            case 9: case 10: case 13: case 32:\n              // Skip whitespace tokens, including tabs, carriage returns, line\n              // feeds, and space characters.\n              Index++;\n              break;\n            case 123: case 125: case 91: case 93: case 58: case 44:\n              // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at\n              // the current position.\n              value = charIndexBuggy ? source.charAt(Index) : source[Index];\n              Index++;\n              return value;\n            case 34:\n              // `\"` delimits a JSON string; advance to the next character and\n              // begin parsing the string. String tokens are prefixed with the\n              // sentinel `@` character to distinguish them from punctuators and\n              // end-of-string tokens.\n              for (value = \"@\", Index++; Index < length;) {\n                charCode = source.charCodeAt(Index);\n                if (charCode < 32) {\n                  // Unescaped ASCII control characters (those with a code unit\n                  // less than the space character) are not permitted.\n                  abort();\n                } else if (charCode == 92) {\n                  // A reverse solidus (`\\`) marks the beginning of an escaped\n                  // control character (including `\"`, `\\`, and `/`) or Unicode\n                  // escape sequence.\n                  charCode = source.charCodeAt(++Index);\n                  switch (charCode) {\n                    case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:\n                      // Revive escaped control characters.\n                      value += Unescapes[charCode];\n                      Index++;\n                      break;\n                    case 117:\n                      // `\\u` marks the beginning of a Unicode escape sequence.\n                      // Advance to the first character and validate the\n                      // four-digit code point.\n                      begin = ++Index;\n                      for (position = Index + 4; Index < position; Index++) {\n                        charCode = source.charCodeAt(Index);\n                        // A valid sequence comprises four hexdigits (case-\n                        // insensitive) that form a single hexadecimal value.\n                        if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\n                          // Invalid Unicode escape sequence.\n                          abort();\n                        }\n                      }\n                      // Revive the escaped character.\n                      value += fromCharCode(\"0x\" + source.slice(begin, Index));\n                      break;\n                    default:\n                      // Invalid escape sequence.\n                      abort();\n                  }\n                } else {\n                  if (charCode == 34) {\n                    // An unescaped double-quote character marks the end of the\n                    // string.\n                    break;\n                  }\n                  charCode = source.charCodeAt(Index);\n                  begin = Index;\n                  // Optimize for the common case where a string is valid.\n                  while (charCode >= 32 && charCode != 92 && charCode != 34) {\n                    charCode = source.charCodeAt(++Index);\n                  }\n                  // Append the string as-is.\n                  value += source.slice(begin, Index);\n                }\n              }\n              if (source.charCodeAt(Index) == 34) {\n                // Advance to the next character and return the revived string.\n                Index++;\n                return value;\n              }\n              // Unterminated string.\n              abort();\n            default:\n              // Parse numbers and literals.\n              begin = Index;\n              // Advance past the negative sign, if one is specified.\n              if (charCode == 45) {\n                isSigned = true;\n                charCode = source.charCodeAt(++Index);\n              }\n              // Parse an integer or floating-point value.\n              if (charCode >= 48 && charCode <= 57) {\n                // Leading zeroes are interpreted as octal literals.\n                if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\n                  // Illegal octal literal.\n                  abort();\n                }\n                isSigned = false;\n                // Parse the integer component.\n                for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\n                // Floats cannot contain a leading decimal point; however, this\n                // case is already accounted for by the parser.\n                if (source.charCodeAt(Index) == 46) {\n                  position = ++Index;\n                  // Parse the decimal component.\n                  for (; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                  if (position == Index) {\n                    // Illegal trailing decimal.\n                    abort();\n                  }\n                  Index = position;\n                }\n                // Parse exponents. The `e` denoting the exponent is\n                // case-insensitive.\n                charCode = source.charCodeAt(Index);\n                if (charCode == 101 || charCode == 69) {\n                  charCode = source.charCodeAt(++Index);\n                  // Skip past the sign following the exponent, if one is\n                  // specified.\n                  if (charCode == 43 || charCode == 45) {\n                    Index++;\n                  }\n                  // Parse the exponential component.\n                  for (position = Index; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                  if (position == Index) {\n                    // Illegal empty exponent.\n                    abort();\n                  }\n                  Index = position;\n                }\n                // Coerce the parsed value to a JavaScript number.\n                return +source.slice(begin, Index);\n              }\n              // A negative sign may only precede numbers.\n              if (isSigned) {\n                abort();\n              }\n              // `true`, `false`, and `null` literals.\n              if (source.slice(Index, Index + 4) === \"true\") {\n                Index += 4;\n                return true;\n              } else if (source.slice(Index, Index + 5) === \"false\") {\n                Index += 5;\n                return false;\n              } else if (source.slice(Index, Index + 4) === \"null\") {\n                Index += 4;\n                return null;\n              }\n              // Unrecognized token.\n              abort();\n          }\n        }\n        // Return the sentinel `$` character if the parser has reached the end\n        // of the source string.\n        return \"$\";\n      };\n\n      // Internal: Parses a JSON `value` token.\n      var get = function (value) {\n        var results, hasMembers;\n        if (value === \"$\") {\n          // Unexpected end of input.\n          abort();\n        }\n        if (typeof value === \"string\") {\n          if ((charIndexBuggy ? value.charAt(0) : value[0]) === \"@\") {\n            // Remove the sentinel `@` character.\n            return value.slice(1);\n          }\n          // Parse object and array literals.\n          if (value === \"[\") {\n            // Parses a JSON array, returning a new JavaScript array.\n            results = [];\n            for (;; hasMembers || (hasMembers = true)) {\n              value = lex();\n              // A closing square bracket marks the end of the array literal.\n              if (value === \"]\") {\n                break;\n              }\n              // If the array literal contains elements, the current token\n              // should be a comma separating the previous element from the\n              // next.\n              if (hasMembers) {\n                if (value === \",\") {\n                  value = lex();\n                  if (value === \"]\") {\n                    // Unexpected trailing `,` in array literal.\n                    abort();\n                  }\n                } else {\n                  // A `,` must separate each array element.\n                  abort();\n                }\n              }\n              // Elisions and leading commas are not permitted.\n              if (value === \",\") {\n                abort();\n              }\n              results.push(get(value));\n            }\n            return results;\n          } else if (value === \"{\") {\n            // Parses a JSON object, returning a new JavaScript object.\n            results = {};\n            for (;; hasMembers || (hasMembers = true)) {\n              value = lex();\n              // A closing curly brace marks the end of the object literal.\n              if (value == \"}\") {\n                break;\n              }\n              // If the object literal contains members, the current token\n              // should be a comma separator.\n              if (hasMembers) {\n                if (value === \",\") {\n                  value = lex();\n                  if (value === \"}\") {\n                    // Unexpected trailing `,` in object literal.\n                    abort();\n                  }\n                } else {\n                  // A `,` must separate each object member.\n                  abort();\n                }\n              }\n              // Leading commas are not permitted, object property names must be\n              // double-quoted strings, and a `:` must separate each property\n              // name and value.\n              if (value === \",\" || typeof value !== \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) !== \"@\" || lex() !== \":\") {\n                abort();\n              }\n              results[value.slice(1)] = get(lex());\n            }\n            return results;\n          }\n          // Unexpected token encountered.\n          abort();\n        }\n        return value;\n      };\n\n      // Internal: Updates a traversed object member.\n      var update = function(source, property, callback) {\n        var element = walk(source, property, callback);\n        if (element === undef) {\n          delete source[property];\n        } else {\n          source[property] = element;\n        }\n      };\n\n      // Internal: Recursively traverses a parsed JSON object, invoking the\n      // `callback` function for each value. This is an implementation of the\n      // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.\n      var walk = function (source, property, callback) {\n        var value = source[property], length;\n        if (typeof value === \"object\" && value) {\n          // `forEach` can't be used to traverse an array in Opera <= 8.54\n          // because its `Object#hasOwnProperty` implementation returns `false`\n          // for array indices (e.g., `![1, 2, 3].hasOwnProperty(\"0\")`).\n          if (getClass.call(value) == arrayClass) {\n            for (length = value.length; length--;) {\n              update(value, length, callback);\n            }\n          } else {\n            forEach(value, function (property) {\n              update(value, property, callback);\n            });\n          }\n        }\n        return callback.call(source, property, value);\n      };\n\n      // Public: `JSON.parse`. See ES 5.1 section 15.12.2.\n      JSON3.parse = function (source, callback) {\n        var result, value;\n        Index = 0;\n        Source = \"\" + source;\n        result = get(lex());\n        // If a JSON string contains multiple tokens, it is invalid.\n        if (lex() != \"$\") {\n          abort();\n        }\n        // Reset the parser state.\n        Index = Source = null;\n        return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\n      };\n    }\n  }\n\n  // Export for asynchronous module loaders.\n  if (isLoader) {\n    define(function () {\n      return JSON3;\n    });\n  }\n}(this||window));\n// End of original code.\n}());\n\n// Finally expose (polyfilled) window.JSON as qx.lang.Json.JSON\nqx.lang.Json.stringify = window.JSON.stringify;\nqx.lang.Json.parse = window.JSON.parse;\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * Helper functions for numbers.\n *\n * The native JavaScript Number is not modified by this class.\n *\n */\nqx.Class.define(\"qx.lang.Number\",\n{\n  statics :\n  {\n    /**\n     * Check whether the number is in a given range\n     *\n     * @param nr {Number} the number to check\n     * @param vmin {Integer} lower bound of the range\n     * @param vmax {Integer} upper bound of the range\n     * @return {Boolean} whether the number is >= vmin and <= vmax\n     */\n    isInRange : function(nr, vmin, vmax) {\n      return nr >= vmin && nr <= vmax;\n    },\n\n\n    /**\n     * Check whether the number is between a given range\n     *\n     * @param nr {Number} the number to check\n     * @param vmin {Integer} lower bound of the range\n     * @param vmax {Integer} upper bound of the range\n     * @return {Boolean} whether the number is > vmin and < vmax\n     */\n    isBetweenRange : function(nr, vmin, vmax) {\n      return nr > vmin && nr < vmax;\n    },\n\n\n    /**\n     * Limit the number to a given range\n     *\n     * * If the number is greater than the upper bound, the upper bound is returned\n     * * If the number is smaller than the lower bound, the lower bound is returned\n     * * If the number is in the range, the number is returned\n     *\n     * @param nr {Number} the number to limit\n     * @param vmin {Integer} lower bound of the range\n     * @param vmax {Integer} upper bound of the range\n     * @return {Integer} the limited number\n     */\n    limit : function(nr, vmin, vmax)\n    {\n      if (vmax != null && nr > vmax) {\n        return vmax;\n      } else if (vmin != null && nr < vmin) {\n        return vmin;\n      } else {\n        return nr;\n      }\n    },\n\n\n    /**\n     * Checks the equality of two numbers regarding the imprecision of floats.\n     *\n     * @param x {Number}\n     * @param y {Number}\n     * @return {Boolean}\n     */\n    equals : function(x, y)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert.assertNumber(x);\n        qx.core.Assert.assertNumber(y);\n      }\n\n      // 1e-14 is the relative difference.\n      return x === y ||\n             Math.abs(x - y) < Number.EPSILON ||\n             Math.abs(x - y) <= Math.max(Math.abs(x), Math.abs(y)) * 1e-14;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2019 Zenesis Ltd http://www.zenesis.com\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * John Spackman (https://github.com/johnspackman/)\n\n************************************************************************ */\n\n/**\n * Helper class for generating UUIDs\n */\nqx.Class.define(\"qx.util.Uuid\", {\n  extend: qx.core.Object,\n  \n  statics: {\n    /**\n     * Creates an RFC4122 compliant UUID/v4 - that means that collisions are possible but highly\n     * unlikely (it has been said that \"you would need to do-loop uuid() at max speed for 73,067 \n     * years for a 50% chance of one collision\").\n     * \n     * The implementation of this is from https://github.com/jchook/uuid-random \n     * \n     * @returns {String} eg 534f57dc-301c-417a-ae4c-11a921716307\n     */\n    createUuidV4: null\n  }\n});\n\n/**\n * @ignore(crypto)\n * @ignore(module)\n * @ignore(module.exports)\n * @ignore(Uint8Array)\n * @ignore(require)\n */\n\n(function(){\n\n  var\n    buf,\n    bufIdx = 0,\n    hexBytes = [],\n    i\n  ;\n\n  // Pre-calculate toString(16) for speed\n  for (i = 0; i < 256; i++) {\n    hexBytes[i] = (i + 0x100).toString(16).substr(1);\n  }\n\n  // Buffer random numbers for speed\n  // Reduce memory usage by decreasing this number (min 16)\n  // or improve speed by increasing this number (try 16384)\n  uuid.BUFFER_SIZE = 4096;\n\n  // Binary uuids\n  uuid.bin = uuidBin;\n\n  // Clear buffer\n  uuid.clearBuffer = function() {\n    buf = null;\n    bufIdx = 0;\n  };\n\n  // Test for uuid\n  uuid.test = function(uuid) {\n    if (typeof uuid === 'string') {\n      return /^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/.test(uuid);\n    }\n    return false;\n  };\n\n  // Node & Browser support\n  var crypt0;\n  if (typeof crypto !== 'undefined') {\n    crypt0 = crypto;\n  } else if( (typeof window !== 'undefined') && (typeof window.msCrypto !== 'undefined')) {\n    crypt0 = window.msCrypto; // IE11\n  }\n\n  if ((typeof module !== 'undefined') && (typeof require === 'function')) {\n    crypt0 = crypt0 || require('crypto');\n  }\n  qx.util.Uuid.createUuidV4 = uuid;\n\n  // Use best available PRNG\n  // Also expose this so you can override it.\n  uuid.randomBytes = (function(){\n    if (crypt0) {\n      if (crypt0.randomBytes) {\n        return crypt0.randomBytes;\n      }\n      if (crypt0.getRandomValues) {\n        return function(n) {\n          var bytes = new Uint8Array(n);\n          crypt0.getRandomValues(bytes);\n          return bytes;\n        };\n      }\n    }\n    return function(n) {\n      var i, r = [];\n      for (i = 0; i < n; i++) {\n        r.push(Math.floor(Math.random() * 256));\n      }\n      return r;\n    };\n  })();\n\n  // Buffer some random bytes for speed\n  function randomBytesBuffered(n) {\n    if (!buf || ((bufIdx + n) > uuid.BUFFER_SIZE)) {\n      bufIdx = 0;\n      buf = uuid.randomBytes(uuid.BUFFER_SIZE);\n    }\n    return buf.slice(bufIdx, bufIdx += n);\n  }\n\n  // uuid.bin\n  function uuidBin() {\n    var b = randomBytesBuffered(16);\n    b[6] = (b[6] & 0x0f) | 0x40;\n    b[8] = (b[8] & 0x3f) | 0x80;\n    return b;\n  }\n\n  // String UUIDv4 (Random)\n  function uuid() {\n    var b = uuidBin();\n    return hexBytes[b[0]] + hexBytes[b[1]] +\n      hexBytes[b[2]] + hexBytes[b[3]] + '-' +\n      hexBytes[b[4]] + hexBytes[b[5]] + '-' +\n      hexBytes[b[6]] + hexBytes[b[7]] + '-' +\n      hexBytes[b[8]] + hexBytes[b[9]] + '-' +\n      hexBytes[b[10]] + hexBytes[b[11]] +\n      hexBytes[b[12]] + hexBytes[b[13]] +\n      hexBytes[b[14]] + hexBytes[b[15]]\n    ;\n  }\n\n})();\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * A validation Error which should be thrown if a validation fails.\n */\nqx.Class.define(\"qx.core.ValidationError\",\n{\n    extend : qx.type.BaseError\n});","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n     * Sebastian Fastner (fastner)\n\n************************************************************************ */\n/**\n * This class is responsible for checking the operating systems name.\n *\n * This class is used by {@link qx.core.Environment} and should not be used\n * directly. Please check its class comment for details how to use it.\n *\n * @internal\n */\nqx.Bootstrap.define(\"qx.bom.client.OperatingSystem\",\n{\n  statics :\n  {\n    /**\n     * Checks for the name of the operating system.\n     * @return {String} The name of the operating system.\n     * @internal\n     */\n    getName : function() {\n      if (!navigator) {\n        return \"\";\n      }\n      var input = navigator.platform || \"\";\n      var agent = navigator.userAgent || \"\";\n\n      if (\n        input.indexOf(\"Windows\") != -1 ||\n        input.indexOf(\"Win32\") != -1 ||\n        input.indexOf(\"Win64\") != -1 ||\n        agent.indexOf(\"Windows Phone\") != -1\n      ) {\n        return \"win\";\n\n      } else if (\n        input.indexOf(\"Macintosh\") != -1 ||\n        input.indexOf(\"MacPPC\") != -1 ||\n        input.indexOf(\"MacIntel\") != -1 ||\n        input.indexOf(\"Mac OS X\") != -1\n      ) {\n        return \"osx\";\n\n      } else if (agent.indexOf(\"RIM Tablet OS\") != -1) {\n        return \"rim_tabletos\";\n\n      } else if (agent.indexOf(\"webOS\") != -1) {\n        return \"webos\";\n\n      } else if (\n        input.indexOf(\"iPod\") != -1 ||\n        input.indexOf(\"iPhone\") != -1 ||\n        input.indexOf(\"iPad\") != -1\n      ) {\n        return \"ios\";\n\n      } else if (\n        agent.indexOf(\"Android\") != -1\n      ) {\n        return \"android\";\n\n      } else if (\n        input.indexOf(\"Linux\") != -1\n      ) {\n        return \"linux\";\n\n      } else if (\n        input.indexOf(\"X11\") != -1 ||\n        input.indexOf(\"BSD\") != -1 ||\n        input.indexOf(\"Darwin\") != -1\n      ) {\n        return \"unix\";\n\n      } else if (\n        input.indexOf(\"SymbianOS\") != -1\n      ) {\n        return \"symbian\";\n      }\n\n      else if (\n        input.indexOf(\"BlackBerry\") != -1\n      ) {\n        return \"blackberry\";\n      }\n\n      // don't know\n      return \"\";\n    },\n\n\n\n    /** Maps user agent names to system IDs */\n    __ids : {\n      // Windows\n      \"Windows NT 10.0\" : \"10\",\n      \"Windows NT 6.3\" : \"8.1\",\n      \"Windows NT 6.2\" : \"8\",\n      \"Windows NT 6.1\" : \"7\",\n      \"Windows NT 6.0\" : \"vista\",\n      \"Windows NT 5.2\" : \"2003\",\n      \"Windows NT 5.1\" : \"xp\",\n      \"Windows NT 5.0\" : \"2000\",\n      \"Windows 2000\" : \"2000\",\n      \"Windows NT 4.0\" : \"nt4\",\n\n      \"Win 9x 4.90\" : \"me\",\n      \"Windows CE\" : \"ce\",\n      \"Windows 98\" : \"98\",\n      \"Win98\" : \"98\",\n      \"Windows 95\" : \"95\",\n      \"Win95\" : \"95\",\n\n      // OS X\n      \"Mac OS X 10_13\" : \"10.13\",\n      \"Mac OS X 10.13\" : \"10.13\",\n      \"Mac OS X 10_12\" : \"10.12\",\n      \"Mac OS X 10.12\" : \"10.12\",\n      \"Mac OS X 10_11\" : \"10.11\",\n      \"Mac OS X 10.11\" : \"10.11\",\n      \"Mac OS X 10_10\" : \"10.10\",\n      \"Mac OS X 10.10\" : \"10.10\",\n      \"Mac OS X 10_9\" : \"10.9\",\n      \"Mac OS X 10.9\" : \"10.9\",\n      \"Mac OS X 10_8\" : \"10.8\",\n      \"Mac OS X 10.8\" : \"10.8\",\n      \"Mac OS X 10_7\" : \"10.7\",\n      \"Mac OS X 10.7\" : \"10.7\",\n      \"Mac OS X 10_6\" : \"10.6\",\n      \"Mac OS X 10.6\" : \"10.6\",\n      \"Mac OS X 10_5\" : \"10.5\",\n      \"Mac OS X 10.5\" : \"10.5\",\n      \"Mac OS X 10_4\" : \"10.4\",\n      \"Mac OS X 10.4\" : \"10.4\",\n      \"Mac OS X 10_3\" : \"10.3\",\n      \"Mac OS X 10.3\" : \"10.3\",\n      \"Mac OS X 10_2\" : \"10.2\",\n      \"Mac OS X 10.2\" : \"10.2\",\n      \"Mac OS X 10_1\" : \"10.1\",\n      \"Mac OS X 10.1\" : \"10.1\",\n      \"Mac OS X 10_0\" : \"10.0\",\n      \"Mac OS X 10.0\" : \"10.0\"\n    },\n\n\n    /**\n     * Checks for the version of the operating system using the internal map.\n     *\n     * @internal\n     * @return {String} The version as strin or an empty string if the version\n     *   could not be detected.\n     */\n    getVersion : function() {\n      var version = qx.bom.client.OperatingSystem.__getVersionForDesktopOs(navigator.userAgent);\n\n      if(version == null) {\n        version = qx.bom.client.OperatingSystem.__getVersionForMobileOs(navigator.userAgent);\n      }\n\n      if(version != null) {\n        return version;\n      } else {\n        return \"\";\n      }\n    },\n\n\n    /**\n     * Detect OS version for desktop devices\n     * @param userAgent {String} userAgent parameter, needed for detection.\n     * @return {String} version number as string or null.\n     */\n    __getVersionForDesktopOs : function(userAgent) {\n      var str = [];\n      for (var key in qx.bom.client.OperatingSystem.__ids) {\n        str.push(key);\n      }\n\n      var reg = new RegExp(\"(\" + str.join(\"|\").replace(/\\./g, \"\\.\") + \")\", \"g\");\n      var match = reg.exec(userAgent);\n\n      if (match && match[1]) {\n        return qx.bom.client.OperatingSystem.__ids[match[1]];\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Detect OS version for mobile devices\n     * @param userAgent {String} userAgent parameter, needed for detection.\n     * @return {String} version number as string or null.\n     */\n    __getVersionForMobileOs : function(userAgent) {\n      var windows = userAgent.indexOf(\"Windows Phone\") != -1;\n      var android = userAgent.indexOf(\"Android\") != -1;\n      var iOs = userAgent.match(/(iPad|iPhone|iPod)/i) ? true : false ;\n\n      if (windows) {\n        var windowsVersionRegExp = new RegExp(/Windows Phone (\\d+(?:\\.\\d+)+)/i);\n        var windowsMatch = windowsVersionRegExp.exec(userAgent);\n\n        if (windowsMatch && windowsMatch[1]) {\n          return windowsMatch[1];\n        }\n      } else if (android) {\n        var androidVersionRegExp = new RegExp(/ Android (\\d+(?:\\.\\d+)+)/i);\n        var androidMatch = androidVersionRegExp.exec(userAgent);\n\n        if (androidMatch && androidMatch[1]) {\n          return androidMatch[1];\n        }\n      } else if (iOs) {\n        var iOsVersionRegExp = new RegExp(/(CPU|iPhone|iPod) OS (\\d+)_(\\d+)(?:_(\\d+))*\\s+/);\n        var iOsMatch = iOsVersionRegExp.exec(userAgent);\n\n        if (iOsMatch && iOsMatch[2] && iOsMatch[3]) {\n          if(iOsMatch[4]) {\n            return iOsMatch[2]+\".\"+ iOsMatch[3]+\".\"+ iOsMatch[4];\n          } else {\n            return iOsMatch[2]+\".\"+ iOsMatch[3];\n          }\n        }\n      }\n\n      return null;\n    }\n  },\n\n  defer : function(statics) {\n    qx.core.Environment.add(\"os.name\", statics.getName);\n    qx.core.Environment.add(\"os.version\", statics.getVersion);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * This exception is thrown by the {@link qx.event.GlobalError} handler if a\n * <code>window.onerror</code> event occurs in the browser.\n */\nqx.Bootstrap.define(\"qx.core.WindowError\",\n{\n  extend : Error,\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param failMessage {String} The error message\n   * @param uri {String} URI where error was raised\n   * @param lineNumber {Integer} The line number where the error was raised\n   * @param columnNumber {Integer} The column number where the error was raised\n   * @param sourceException {Error} orginal error\n   */\n  construct : function(failMessage, uri, lineNumber, columnNumber, sourceException)\n  {\n    var inst = sourceException || Error.call(this, failMessage);\n    // map stack trace properties since they're not added by Error's constructor\n    if (inst.stack) {\n      this.stack = inst.stack;\n    }\n    if (inst.stacktrace) {\n      this.stacktrace = inst.stacktrace;\n    }\n\n    this.__failMessage = failMessage;\n    this.__uri = uri || \"\";\n    this.__lineNumber = lineNumber === undefined ? -1 : lineNumber;\n    this.__columnNumber = columnNumber === undefined ? -1 : columnNumber;\n    this.__sourceException = sourceException;\n  },\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __failMessage : null,\n    __uri : null,\n    __lineNumber : null,\n    __columnNumber : null,\n    __sourceException: null,\n\n\n    /**\n     * Returns the error message.\n     *\n     * @return {String} error message\n     */\n    toString : function() {\n      return this.__failMessage;\n    },\n\n\n    /**\n     * Get the URI where error was raised\n     *\n     * @return {String} URI where error was raised\n     */\n    getUri : function() {\n      return this.__uri;\n    },\n\n\n    /**\n     * Get the line number where the error was raised\n     *\n     * @return {Integer} The line number where the error was raised\n     */\n    getLineNumber : function() {\n      return this.__lineNumber;\n    },\n\n    /**\n     * Get the column number where the error was raised\n     *\n     * @return {Integer} The line number where the error was raised\n     */\n    getColumnNumber : function() {\n      return this.__columnNumber;\n    },\n\n    /**\n     * Get the source exception\n     *\n     * @return {Error} The source error\n     */\n    getSourceException : function() {\n      return this.__sourceException;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Michael Haitz (mhaitz)\n\n************************************************************************ */\n\n/**\n * This exception is thrown by the {@link qx.event.GlobalError} handler if a\n * observed method throws an exception.\n */\nqx.Bootstrap.define(\"qx.core.GlobalError\",\n{\n  extend : Error,\n\n\n  /**\n   * @param exc {Error} source exception\n   * @param args {Array} arguments\n   */\n  construct : function(exc, args)\n  {\n    // Do not use the Environment class to keep the minimal\n    // package size small [BUG #5068]\n    if (qx.Bootstrap.DEBUG) {\n      qx.core.Assert.assertNotUndefined(exc);\n    }\n\n    this.__failMessage = \"GlobalError: \" + (exc && exc.message ? exc.message : exc);\n\n    var inst = Error.call(this, this.__failMessage);\n    // map stack trace properties since they're not added by Error's constructor\n    if (inst.stack) {\n      this.stack = inst.stack;\n    }\n    if (inst.stacktrace) {\n      this.stacktrace = inst.stacktrace;\n    }\n\n    this.__arguments = args;\n    this.__exc = exc;\n  },\n\n\n  members :\n  {\n    __exc : null,\n    __arguments : null,\n    __failMessage : null,\n\n\n    /**\n     * Returns the error message.\n     *\n     * @return {String} error message\n     */\n    toString : function() {\n      return this.__failMessage;\n    },\n\n\n    /**\n     * Returns the arguments which are\n     *\n     * @return {Object} arguments\n     */\n    getArguments : function() {\n      return this.__arguments;\n    },\n\n\n    /**\n     * Get the source exception\n     *\n     * @return {Error} source exception\n     */\n    getSourceException : function() {\n      return this.__exc;\n    }\n\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * Underscore.js\n     http://underscorejs.org\n\n     Copyright:\n       2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n\n     License:\n       MIT: http://www.opensource.org/licenses/mit-license.php\n\n************************************************************************ */\n\n/**\n * Helper functions to handle Object as a Hash map.\n *\n * @require(qx.lang.normalize.Object)\n * @ignore(qx.core.Assert)\n */\nqx.Bootstrap.define(\"qx.lang.Object\",\n{\n  statics :\n  {\n    /**\n     * Clears the map from all values\n     *\n     * @param map {Object} the map to clear\n     */\n    empty : function(map)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert && qx.core.Assert.assertMap(map, \"Invalid argument 'map'\");\n      }\n\n      for (var key in map)\n      {\n        if (map.hasOwnProperty(key)) {\n          delete map[key];\n        }\n      }\n    },\n\n\n    /**\n     * Check if the hash has any keys\n     *\n     * @signature function(map)\n     * @param map {Object} the map to check\n     * @return {Boolean} whether the map has any keys\n     * @lint ignoreUnused(key)\n     */\n    isEmpty : function(map)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert && qx.core.Assert.assertMap(map, \"Invalid argument 'map'\");\n      }\n\n      for (var key in map) {\n        return false;\n      }\n\n      return true;\n    },\n\n\n    /**\n     * Get the number of objects in the map\n     *\n     * @signature function(map)\n     * @param map {Object} the map\n     * @return {Integer} number of objects in the map\n     */\n    getLength : qx.Bootstrap.objectGetLength,\n\n\n    /**\n     * Get the values of a map as array\n     *\n     * @deprecated {6.0} Please use Object instance values method instead\n     *\n     * @param map {Object} the map\n     * @return {Array} array of the values of the map\n     */\n    getValues : function(map)\n    {\n      return Object.values(map); \n    },\n\n\n    /**\n     * Inserts all keys of the source object into the\n     * target objects. Attention: The target map gets modified.\n     *\n     * @signature function(target, source, overwrite)\n     * @param target {Object} target object\n     * @param source {Object} object to be merged\n     * @param overwrite {Boolean ? true} If enabled existing keys will be overwritten\n     * @return {Object} Target with merged values from the source object\n     */\n    mergeWith : qx.Bootstrap.objectMergeWith,\n\n\n    /**\n     * Return a copy of an Object\n     *\n     * @param source {Object} Object to copy\n     * @param deep {Boolean} If the clone should be a deep clone.\n     * @return {Object} A copy of the object\n     */\n    clone : function(source, deep)\n    {\n      if (qx.lang.Type.isObject(source)) {\n        var clone = {};\n        for (var key in source) {\n          if (deep) {\n            clone[key] = qx.lang.Object.clone(source[key], deep);\n          } else {\n            clone[key] = source[key];\n          }\n        }\n        return clone;\n\n      } else if (qx.lang.Type.isArray(source)) {\n        var clone = [];\n        for (var i=0; i < source.length; i++) {\n          if (deep) {\n            clone[i] = qx.lang.Object.clone(source[i], deep);\n          } else {\n            clone[i] = source[i];\n          }\n        };\n        return clone;\n\n      }\n      return source;\n    },\n\n\n  /**\n   * Perform a deep comparison to check if two objects are equal\n   *\n   * @param object1 {Object} the object that is compared to\n   * @param object2 {Object} the object that is compared with\n   * @return {Boolean} The result of the comparison\n   */\n    equals : function(object1, object2){\n      return qx.lang.Object.__equals(object1, object2, [], []);\n    },\n\n    /**\n    * Internal recursive comparison function for equals\n    *\n    * @param object1 {Object} the object that is compared to\n    * @param object2 {Object} the object that is compared with\n    * @param aStack {Object} Stack of object1 sub-objects to be traversed\n    * @param bStack {Object} Stack of object2 sub-objects to be traversed\n    * @return {Boolean} The result of the comparison\n    *\n    */\n    __equals : function(object1, object2, aStack, bStack){\n      // Identical objects are equal. `0 === -0`, but they aren't identical.\n      // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n      if (object1 === object2){\n        return object1 !== 0 || 1 / object1 == 1 / object2;\n      }\n      // A strict comparison is necessary because `null == undefined`.\n      if (object1 == null || object2 == null){\n        return object1 === object2;\n      }\n      // Compare `[[Class]]` names.\n      var className = Object.prototype.toString.call(object1);\n      if (className != Object.prototype.toString.call(object2)){ return false; }\n      switch (className) {\n        // Strings, numbers, dates, and booleans are compared by value.\n        case '[object String]':\n          // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n          // equivalent to `new String(\"5\")`.\n          return object1 == String(object2);\n        case '[object Number]':\n          // `NaN`s are equivalent, but non-reflexive. An `egal` comparison is performed for\n          // other numeric values.\n          return object1 != +object1 ? object2 != +object2 : (object1 == 0 ? 1 / object1 == 1 / object2 : object1 == +object2);\n        case '[object Date]':\n        case '[object Boolean]':\n          // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n          // millisecond representations. Note that invalid dates with millisecond representations\n          // of `NaN` are not equivalent.\n          return +object1 == +object2;\n          // RegExps are compared by their source patterns and flags.\n        case '[object RegExp]':\n          return object1.source == object2.source &&\n            object1.global == object2.global &&\n            object1.multiline == object2.multiline &&\n            object1.ignoreCase == object2.ignoreCase;\n      }\n      if (typeof object1 != 'object' || typeof object2 != 'object'){ return false; }\n      // Assume equality for cyclic structures. The algorithm for detecting cyclic\n      // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n      var length = aStack.length;\n      while (length--) {\n        // Linear search. Performance is inversely proportional to the number of\n        // unique nested structures.\n        if (aStack[length] == object1){ return bStack[length] == object2; }\n      }\n      // Objects with different constructors are not equivalent, but `Object`s\n      // from different frames are.\n      var aCtor = object1.constructor,\n        bCtor = object2.constructor;\n      if (aCtor !== bCtor && !(qx.Bootstrap.isFunction(aCtor) && (aCtor instanceof aCtor) &&\n        qx.Bootstrap.isFunction(bCtor) && (bCtor instanceof bCtor)) && ('constructor' in object1 && 'constructor' in object2)) {\n        return false;\n      }\n      // Add the first object to the stack of traversed objects.\n      aStack.push(object1);\n      bStack.push(object2);\n      var size = 0,\n        result = true;\n      // Recursively compare objects and arrays.\n      if (className == '[object Array]') {\n        // Compare array lengths to determine if a deep comparison is necessary.\n        size = object1.length;\n        result = size == object2.length;\n        if (result) {\n          // Deep compare the contents, ignoring non-numeric properties.\n          while (size--) {\n            if (!(result = qx.lang.Object.__equals(object1[size], object2[size], aStack, bStack))){ break; }\n          }\n        }\n      } else {\n        // Deep compare objects.\n        for (var key in object1) {\n          if (Object.prototype.hasOwnProperty.call(object1, key)) {\n            // Count the expected number of properties.\n            size++;\n            // Deep compare each member.\n            if (!(result = Object.prototype.hasOwnProperty.call(object2, key) && qx.lang.Object.__equals(object1[key], object2[key], aStack, bStack))){ break; }\n          }\n        }\n        // Ensure that both objects contain the same number of properties.\n        if (result) {\n          for (key in object2) {\n            if (Object.prototype.hasOwnProperty.call(object2, key) && !(size--)){ break; }\n          }\n          result = !size;\n        }\n      }\n      // Remove the first object from the stack of traversed objects.\n      aStack.pop();\n      bStack.pop();\n\n      return result;\n    },\n\n\n    /**\n     * Inverts a map by exchanging the keys with the values.\n     *\n     * If the map has the same values for different keys, information will get lost.\n     * The values will be converted to strings using the toString methods.\n     *\n     * @param map {Object} Map to invert\n     * @return {Object} inverted Map\n     */\n    invert : function(map)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert && qx.core.Assert.assertMap(map, \"Invalid argument 'map'\");\n      }\n\n      var result = {};\n\n      for (var key in map) {\n        result[map[key].toString()] = key;\n      }\n\n      return result;\n    },\n\n\n    /**\n     * Get the key of the given value from a map.\n     * If the map has more than one key matching the value, the first match is returned.\n     * If the map does not contain the value, <code>null</code> is returned.\n     *\n     * @param map {Object} Map to search for the key\n     * @param value {var} Value to look for\n     * @return {String|null} Name of the key (null if not found).\n     */\n    getKeyFromValue: function(map, value)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert && qx.core.Assert.assertMap(map, \"Invalid argument 'map'\");\n      }\n\n      for (var key in map)\n      {\n        if (map.hasOwnProperty(key) && map[key] === value) {\n          return key;\n        }\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Whether the map contains the given value.\n     *\n     * @param map {Object} Map to search for the value\n     * @param value {var} Value to look for\n     * @return {Boolean} Whether the value was found in the map.\n     */\n    contains : function(map, value)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert && qx.core.Assert.assertMap(map, \"Invalid argument 'map'\");\n      }\n\n      return this.getKeyFromValue(map, value) !== null;\n    },\n\n\n    /**\n    * Convert an array into a map.\n    *\n    * All elements of the array become keys of the returned map by\n    * calling <code>toString</code> on the array elements. The values of the\n    * map are set to <code>true</code>\n    *\n    * @param array {Array} array to convert\n    * @return {Map} the array converted to a map.\n    */\n    fromArray: function(array)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert && qx.core.Assert.assertArray(array, \"Invalid argument 'array'\");\n      }\n\n      var obj = {};\n\n      for (var i=0, l=array.length; i<l; i++)\n      {\n        if (qx.core.Environment.get(\"qx.debug\"))\n        {\n          switch(typeof array[i])\n          {\n            case \"object\":\n            case \"function\":\n            case \"undefined\":\n              throw new Error(\"Could not convert complex objects like \" + array[i] + \" at array index \"+ i +\" to map syntax\");\n          }\n        }\n\n        obj[array[i].toString()] = true;\n      }\n\n      return obj;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Basic runtime detection for qooxdoo.\n *\n * This class is used by {@link qx.core.Environment} and should not be used\n * directly. Please check its class comment for details how to use it.\n *\n * @internal\n *\n * @ignore(environment)\n * @ignore(process)\n * @ignore(Titanium.*)\n */\nqx.Bootstrap.define(\"qx.bom.client.Runtime\",\n{\n  statics :\n  {\n    /**\n     * Checks for the name of the runtime and returns it. In general, it checks\n     * for rhino and node.js and if that could not be detected, it falls back\n     * to the browser name defined by {@link qx.bom.client.Browser#getName}.\n     * @return {String} The name of the current runtime.\n     * @internal\n     * @ignore(environment, process, Titanium.*, Packages)\n     */\n    getName : function() {\n      var name = \"\";\n\n       // check for the Rhino runtime\n      if (typeof Packages === \"object\" && Object.prototype.toString.call(Packages) === \"[object JavaPackage]\") {\n        name = \"rhino\";\n      // check for the Node.js runtime\n      } else if (typeof process !== \"undefined\") {\n        name = \"node.js\";\n      } else if (typeof Titanium !== \"undefined\" &&\n        typeof Titanium.userAgent !== \"undefined\")\n      {\n        name = \"titanium\";\n      } else {\n        // otherwise, we think its a browser\n        name = qx.bom.client.Browser.getName();\n      }\n\n      return name;\n    }\n  },\n\n  defer : function(statics) {\n    qx.core.Environment.add(\"runtime.name\", statics.getName);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Common base class for all native events (DOM events, IO events, ...).\n */\nqx.Class.define(\"qx.event.type.Native\",\n{\n  extend : qx.event.type.Event,\n\n  members :\n  {\n    /**\n     * Initialize the fields of the event. The event must be initialized before\n     * it can be dispatched.\n     *\n     * @param nativeEvent {Event} The DOM event to use\n     * @param target {Object?} The event target\n     * @param relatedTarget {Object?null} The related event target\n     * @param canBubble {Boolean?false} Whether or not the event is a bubbling event.\n     *     If the event is bubbling, the bubbling can be stopped using\n     *     {@link qx.event.type.Event#stopPropagation}\n     * @param cancelable {Boolean?false} Whether or not an event can have its default\n     *     action prevented. The default action can either be the browser's\n     *     default action of a native event (e.g. open the context menu on a\n     *     right click) or the default action of a qooxdoo class (e.g. close\n     *     the window widget). The default action can be prevented by calling\n     *     {@link #preventDefault}\n     * @return {qx.event.type.Event} The initialized event instance\n     */\n    init : function(nativeEvent, target, relatedTarget, canBubble, cancelable)\n    {\n      this.base(arguments, canBubble, cancelable);\n\n      this._target = target || qx.bom.Event.getTarget(nativeEvent);\n      this._relatedTarget = relatedTarget || qx.bom.Event.getRelatedTarget(nativeEvent);\n\n      if (nativeEvent.timeStamp) {\n        this._timeStamp = nativeEvent.timeStamp;\n      }\n\n      this._native = nativeEvent;\n      this._returnValue = null;\n\n      return this;\n    },\n\n\n    // overridden\n    clone : function(embryo)\n    {\n      var clone = this.base(arguments, embryo);\n\n      var nativeClone = {};\n      clone._native = this._cloneNativeEvent(this._native, nativeClone);\n\n      clone._returnValue = this._returnValue;\n\n      return clone;\n    },\n\n\n    /**\n     * Clone the native browser event\n     *\n     * @param nativeEvent {Event} The native browser event\n     * @param clone {Object} The initialized clone.\n     * @return {Object} The cloned event\n     */\n    _cloneNativeEvent : function(nativeEvent, clone)\n    {\n      clone.preventDefault = (function() {});\n      return clone;\n    },\n\n\n    /**\n     * Prevent browser default behavior, e.g. opening the context menu, ...\n     */\n    preventDefault : function()\n    {\n      this.base(arguments);\n      qx.bom.Event.preventDefault(this._native);\n    },\n\n\n    /**\n     * Get the native browser event object of this event.\n     *\n     * @return {Event} The native browser event\n     */\n    getNativeEvent : function() {\n      return this._native;\n    },\n\n\n    /**\n     * Sets the event's return value. If the return value is set in a\n     * beforeunload event, the user will be asked by the browser, whether\n     * he really wants to leave the page. The return string will be displayed in\n     * the message box.\n     *\n     * @param returnValue {String?null} Return value\n     */\n    setReturnValue : function(returnValue) {\n      this._returnValue = returnValue;\n    },\n\n\n    /**\n     * Retrieves the event's return value.\n     *\n     * @return {String?null} The return value\n     */\n    getReturnValue : function() {\n      return this._returnValue;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n/**\n * This handler provides event for the window object.\n *\n * NOTE: Instances of this class must be disposed of after use\n *\n * @require(qx.event.type.Native)\n * @require(qx.event.Pool)\n */\nqx.Class.define(\"qx.event.handler.Window\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.event.IEventHandler, qx.core.IDisposable ],\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager)\n  {\n    this.base(arguments);\n\n    // Define shorthands\n    this._manager = manager;\n    this._window = manager.getWindow();\n\n    // Initialize observers\n    this._initWindowObserver();\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES :\n    {\n      error : 1,\n      load : 1,\n      beforeunload : 1,\n      unload : 1,\n      resize : 1,\n      scroll : 1,\n      beforeshutdown : 1\n    },\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_WINDOW,\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type) {},\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      OBSERVER INIT/STOP\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Initializes the native window event listeners.\n     *\n     */\n    _initWindowObserver : function()\n    {\n      this._onNativeWrapper = qx.lang.Function.listener(this._onNative, this);\n      var types = qx.event.handler.Window.SUPPORTED_TYPES;\n\n      for (var key in types) {\n        qx.bom.Event.addNativeListener(this._window, key, this._onNativeWrapper);\n      }\n    },\n\n\n    /**\n     * Disconnect the native window event listeners.\n     *\n     */\n    _stopWindowObserver : function()\n    {\n      var types = qx.event.handler.Window.SUPPORTED_TYPES;\n\n      for (var key in types) {\n        qx.bom.Event.removeNativeListener(this._window, key, this._onNativeWrapper);\n      }\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      NATIVE EVENT SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * When qx.globalErrorHandling is enabled the callback will observed\n     */\n    _onNative: function () {\n      var callback = qx.core.Environment.select(\"qx.globalErrorHandling\", {\n        \"true\": qx.event.GlobalError.observeMethod(this.__onNativeHandler),\n        \"false\": this.__onNativeHandler\n      });\n      callback.apply(this, arguments);\n    },\n\n\n    /**\n     * Native listener for all supported events.\n     *\n     * @param e {Event} Native event\n     * @return {String|undefined}\n     */\n    __onNativeHandler: function (e) {\n      if (this.isDisposed()) {\n        return;\n      }\n\n      var win = this._window;\n      var doc;\n      try {\n        doc = win.document;\n      } catch(ex) {\n        // IE7 sometimes dispatches \"unload\" events on protected windows\n        // Ignore these events\n        return;\n      }\n\n      var html = doc.documentElement;\n\n      // At least Safari 3.1 and Opera 9.2.x have a bubbling scroll event\n      // which needs to be ignored here.\n      //\n      // In recent WebKit nightlies scroll events do no longer bubble\n      //\n      // Internet Explorer does not have a target in resize events.\n      var target = qx.bom.Event.getTarget(e);\n      if (target == null || target === win || target === doc || target === html) {\n        var event = qx.event.Registration.createEvent(e.type, qx.event.type.Native, [e, win]);\n        qx.event.Registration.dispatchEvent(win, event);\n\n        var result = event.getReturnValue();\n        if (result != null) {\n          e.returnValue = result;\n          return result;\n        }\n      }\n    }\n  },\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    this._stopWindowObserver();\n    this._manager = this._window = null;\n  },\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * This handler accepts the useraction event fired by the keyboard, mouse and\n * pointer handlers after an user triggered action has occurred.\n */\nqx.Class.define(\"qx.event.handler.UserAction\",\n{\n  extend : qx.core.Object,\n  implement : qx.event.IEventHandler,\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager)\n  {\n    this.base(arguments);\n\n    // Define shorthands\n    this.__manager = manager;\n    this.__window = manager.getWindow();\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES : {\n      useraction : 1\n    },\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_WINDOW,\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __manager : null,\n    __window: null,\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type) {},\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function() {\n    this.__manager = this.__window = null;\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n  }\n});\n","\n/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * This class provides unified key event handler for Internet Explorer,\n * Firefox, Opera and Safari.\n *\n * NOTE: Instances of this class must be disposed of after use\n *\n * @require(qx.event.handler.UserAction)\n */\nqx.Class.define(\"qx.event.handler.Keyboard\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.event.IEventHandler, qx.core.IDisposable ],\n\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager)\n  {\n    this.base(arguments);\n\n    // Define shorthands\n    this.__manager = manager;\n    this.__window = manager.getWindow();\n\n    // Gecko ignores key events when not explicitly clicked in the document.\n    if ((qx.core.Environment.get(\"engine.name\") == \"gecko\")) {\n      this.__root = this.__window;\n    } else {\n      this.__root = this.__window.document.documentElement;\n    }\n\n    // Internal sequence cache\n    this.__lastUpDownType = {};\n\n    // Initialize observer\n    this._initKeyObserver();\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES :\n    {\n      keyup : 1,\n      keydown : 1,\n      keypress : 1,\n      keyinput : 1\n    },\n\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE,\n\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true\n  },\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n\n    __onKeyUpDownWrapper  : null,\n    __manager : null,\n    __window : null,\n    __root : null,\n    __lastUpDownType : null,\n    __lastKeyCode : null,\n    __inputListeners : null,\n    __onKeyPressWrapper : null,\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type) {},\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      HELPER\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Fire a key input event with the given parameters\n     *\n     * @param domEvent {Event} DOM event\n     * @param charCode {Integer} character code\n     * @return {qx.Promise?} a promise if the event handlers created one\n     */\n    _fireInputEvent : function(domEvent, charCode)\n    {\n      var target = this.__getEventTarget();\n      var tracker = {};\n      var self = this;\n\n      // Only fire when target is defined and visible\n      if (target && target.offsetWidth != 0)\n      {\n        var event = qx.event.Registration.createEvent(\"keyinput\", qx.event.type.KeyInput, [domEvent, target, charCode]);\n        qx.event.Utils.then(tracker, function() { self.__manager.dispatchEvent(target, event); });\n      }\n\n      // Fire user action event\n      // Needs to check if still alive first\n      if (this.__window) {\n        var self = this;\n        qx.event.Utils.then(tracker, function() {\n          return qx.event.Registration.fireEvent(self.__window, \"useraction\", qx.event.type.Data, [\"keyinput\"]);\n        });\n      }\n      \n      return tracker.promise;\n    },\n\n\n    /**\n     * Fire a key up/down/press event with the given parameters\n     *\n     * @param domEvent {Event} DOM event\n     * @param type {String} type og the event\n     * @param keyIdentifier {String} key identifier\n     * @return {qx.Promise?} a promise, if any of the event handlers returned a promise\n     */\n    _fireSequenceEvent : function(domEvent, type, keyIdentifier)\n    {\n      var target = this.__getEventTarget();\n      var keyCode = domEvent.keyCode;\n      var tracker = {};\n      var self = this;\n\n      // Fire key event\n      var event = qx.event.Registration.createEvent(type, qx.event.type.KeySequence, [domEvent, target, keyIdentifier]);\n      qx.event.Utils.then(tracker, function() {\n        return self.__manager.dispatchEvent(target, event);\n      });\n\n      // IE and Safari suppress a \"keypress\" event if the \"keydown\" event's\n      // default action was prevented. In this case we emulate the \"keypress\"\n      //\n      // FireFox suppresses \"keypress\" when \"keydown\" default action is prevented.\n      // from version 29: https://bugzilla.mozilla.org/show_bug.cgi?id=935876.\n      if (event.getDefaultPrevented() && type == \"keydown\") {\n        if (qx.core.Environment.get(\"engine.name\") == \"mshtml\" ||\n            qx.core.Environment.get(\"engine.name\") == \"webkit\" ||\n            (qx.core.Environment.get(\"engine.name\") == \"gecko\" && qx.core.Environment.get(\"browser.version\") >= 29)) {\n\n          // some key press events are already emulated. Ignore these events.\n          if (!qx.event.util.Keyboard.isNonPrintableKeyCode(keyCode) && !this._emulateKeyPress[keyCode]) {\n            qx.event.Utils.then(tracker, function() {\n              return self._fireSequenceEvent(domEvent, \"keypress\", keyIdentifier);\n            });\n          }\n        }\n      }\n      \n      // Fire user action event\n      // Needs to check if still alive first\n      if (this.__window) {\n        qx.event.Utils.then(tracker, function() {\n          return qx.event.Registration.fireEvent(self.__window, \"useraction\", qx.event.type.Data, [type]);\n        });\n      }\n      \n      return tracker.promise;\n    },\n\n\n    /**\n     * Get the target element for key events\n     *\n     * @return {Element} the event target element\n     */\n    __getEventTarget : function()\n    {\n      var focusHandler = this.__manager.getHandler(qx.event.handler.Focus);\n      var target = focusHandler.getActive();\n\n      // Fallback to focused element when active is null or invisible\n      if (!target || target.offsetWidth == 0) {\n        target = focusHandler.getFocus();\n      }\n\n      // Fallback to body when focused is null or invisible\n      if (!target || target.offsetWidth == 0) {\n        target = this.__manager.getWindow().document.body;\n      }\n\n      return target;\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      OBSERVER INIT/STOP\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Initializes the native key event listeners.\n     *\n     * @signature function()\n     */\n    _initKeyObserver : function()\n    {\n      this.__onKeyUpDownWrapper = qx.lang.Function.listener(this.__onKeyUpDown, this);\n      this.__onKeyPressWrapper = qx.lang.Function.listener(this.__onKeyPress, this);\n\n      var Event = qx.bom.Event;\n\n      Event.addNativeListener(this.__root, \"keyup\", this.__onKeyUpDownWrapper);\n      Event.addNativeListener(this.__root, \"keydown\", this.__onKeyUpDownWrapper);\n      Event.addNativeListener(this.__root, \"keypress\", this.__onKeyPressWrapper);\n    },\n\n\n    /**\n     * Stops the native key event listeners.\n     *\n     * @signature function()\n     */\n    _stopKeyObserver : function()\n    {\n      var Event = qx.bom.Event;\n\n      Event.removeNativeListener(this.__root, \"keyup\", this.__onKeyUpDownWrapper);\n      Event.removeNativeListener(this.__root, \"keydown\", this.__onKeyUpDownWrapper);\n      Event.removeNativeListener(this.__root, \"keypress\", this.__onKeyPressWrapper);\n\n      for (var key in (this.__inputListeners || {}))\n      {\n        var listener = this.__inputListeners[key];\n        Event.removeNativeListener(listener.target, \"keypress\", listener.callback);\n      }\n      delete(this.__inputListeners);\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      NATIVE EVENT OBSERVERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Low level handler for \"keyup\" and \"keydown\" events\n     *\n     * @internal\n     * @signature function(domEvent)\n     * @param domEvent {Event} DOM event object\n     */\n    __onKeyUpDown : qx.event.GlobalError.observeMethod(qx.core.Environment.select(\"engine.name\",\n    {\n      \"gecko|webkit|mshtml\" : function(domEvent)\n      {\n        var keyCode = 0;\n        var charCode = 0;\n        var type = domEvent.type;\n\n        keyCode = domEvent.keyCode;\n        \n        var tracker = {};\n        var self = this;\n\n        qx.event.Utils.track(tracker, this._idealKeyHandler(keyCode, charCode, type, domEvent));\n\n        // On non print-able character be sure to add a keypress event\n        if (type == \"keydown\")\n        {\n          /*\n           * We need an artificial keypress event for every keydown event.\n           * Newer browsers do not fire keypress for a regular charachter key (e.g when typing 'a')\n           * if it was typed with the CTRL, ALT or META Key pressed during typing, like\n           * doing it when typing the combination CTRL+A\n           */\n          var isModifierDown = domEvent.ctrlKey || domEvent.altKey || domEvent.metaKey;\n\n          // non-printable, backspace, tab or the modfier keys are down\n          if (qx.event.util.Keyboard.isNonPrintableKeyCode(keyCode) || this._emulateKeyPress[keyCode] || isModifierDown) {\n            qx.event.Utils.then(tracker, function() {\n              return self._idealKeyHandler(keyCode, charCode, \"keypress\", domEvent);\n            });\n          }\n        }\n\n        // Store last type\n        this.__lastUpDownType[keyCode] = type;\n        \n        return tracker.promise;\n      },\n\n      \"opera\" : function(domEvent)\n      {\n        this.__lastKeyCode = domEvent.keyCode;\n        return this._idealKeyHandler(domEvent.keyCode, 0, domEvent.type, domEvent);\n      }\n    })),\n\n\n    /**\n     * some keys like \"up\", \"down\", \"pageup\", \"pagedown\" do not bubble a\n     * \"keypress\" event in Firefox. To work around this bug we attach keypress\n     * listeners directly to the input events.\n     *\n     * https://bugzilla.mozilla.org/show_bug.cgi?id=467513\n     *\n     * @signature function(target, type, keyCode)\n     * @param target {Element} The event target\n     * @param type {String} The event type\n     * @param keyCode {Integer} the key code\n     */\n    __firefoxInputFix : qx.core.Environment.select(\"engine.name\",\n    {\n      \"gecko\" : function(target, type, keyCode)\n      {\n        if (\n          type === \"keydown\" &&\n          (keyCode == 33 || keyCode == 34 || keyCode == 38 || keyCode == 40) &&\n          target.type == \"text\" &&\n          target.tagName.toLowerCase() === \"input\" &&\n          target.getAttribute(\"autoComplete\") !== \"off\"\n        )\n        {\n          if (!this.__inputListeners) {\n            this.__inputListeners = {};\n          }\n          var hash = qx.core.ObjectRegistry.toHashCode(target);\n          if (this.__inputListeners[hash]) {\n            return;\n          }\n          var self = this;\n          this.__inputListeners[hash] = {\n            target: target,\n            callback : function(domEvent)\n            {\n              qx.bom.Event.stopPropagation(domEvent);\n              self.__onKeyPress(domEvent);\n            }\n          };\n          var listener = qx.event.GlobalError.observeMethod(this.__inputListeners[hash].callback);\n          qx.bom.Event.addNativeListener(target, \"keypress\", listener);\n        }\n      },\n\n      \"default\" : null\n    }),\n\n\n    /**\n     * Low level key press handler\n     *\n     * @signature function(domEvent)\n     * @param domEvent {Event} DOM event object\n     */\n    __onKeyPress : qx.event.GlobalError.observeMethod(qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(domEvent)\n      {\n        domEvent = window.event || domEvent;\n\n        if (this._charCode2KeyCode[domEvent.keyCode]) {\n          return this._idealKeyHandler(this._charCode2KeyCode[domEvent.keyCode], 0, domEvent.type, domEvent);\n        } else {\n          return this._idealKeyHandler(0, domEvent.keyCode, domEvent.type, domEvent);\n        }\n      },\n\n      \"gecko\" : function(domEvent)\n      {\n        if(qx.core.Environment.get(\"engine.version\") < 66) {\n          var charCode = domEvent.charCode;\n          var type = domEvent.type;\n\n           return this._idealKeyHandler(domEvent.keyCode, charCode, type, domEvent);\n        } else {\n          if (this._charCode2KeyCode[domEvent.keyCode]) {\n            return this._idealKeyHandler(this._charCode2KeyCode[domEvent.keyCode], 0, domEvent.type, domEvent);\n          } else {\n            return this._idealKeyHandler(0, domEvent.keyCode, domEvent.type, domEvent);\n          }\n        }\n      },\n\n      \"webkit\" : function(domEvent)\n      {\n        if (this._charCode2KeyCode[domEvent.keyCode]) {\n          return this._idealKeyHandler(this._charCode2KeyCode[domEvent.keyCode], 0, domEvent.type, domEvent);\n        } else {\n          return this._idealKeyHandler(0, domEvent.keyCode, domEvent.type, domEvent);\n        }\n      },\n\n      \"opera\" : function(domEvent)\n      {\n        var keyCode = domEvent.keyCode;\n        var type = domEvent.type;\n\n        // Some keys are identified differently for key up/down and keypress\n        // (e.g. \"v\" gets identified as \"F7\").\n        // So we store the last key up/down keycode and compare it to the\n        // current keycode.\n        // See http://bugzilla.qooxdoo.org/show_bug.cgi?id=603\n        if(keyCode != this.__lastKeyCode)\n        {\n          return this._idealKeyHandler(0, this.__lastKeyCode, type, domEvent);\n        }\n        else\n        {\n          if (qx.event.util.Keyboard.keyCodeToIdentifierMap[domEvent.keyCode]) {\n            return this._idealKeyHandler(domEvent.keyCode, 0, domEvent.type, domEvent);\n          } else {\n            return this._idealKeyHandler(0, domEvent.keyCode, domEvent.type, domEvent);\n          }\n        }\n\n      }\n    })),\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      IDEAL KEY HANDLER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Key handler for an idealized browser.\n     * Runs after the browser specific key handlers have normalized the key events.\n     *\n     * @param keyCode {String} keyboard code\n     * @param charCode {String} character code\n     * @param eventType {String} type of the event (keydown, keypress, keyup)\n     * @param domEvent {Element} DomEvent\n     * @return {qx.Promise?} a promise, if an event handler created one\n     */\n    _idealKeyHandler : function(keyCode, charCode, eventType, domEvent)\n    {\n      var keyIdentifier;\n\n      // Use: keyCode\n      if (keyCode || (!keyCode && !charCode))\n      {\n        keyIdentifier = qx.event.util.Keyboard.keyCodeToIdentifier(keyCode);\n\n        return this._fireSequenceEvent(domEvent, eventType, keyIdentifier);\n      }\n\n      // Use: charCode\n      else\n      {\n        keyIdentifier = qx.event.util.Keyboard.charCodeToIdentifier(charCode);\n\n        var tracker = {};\n        var self = this;\n        qx.event.Utils.track(tracker, this._fireSequenceEvent(domEvent, \"keypress\", keyIdentifier));\n        return qx.event.Utils.then(tracker, function() {\n          return self._fireInputEvent(domEvent, charCode);\n        });\n      }\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      KEY MAPS\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * @type {Map} maps the charcodes of special keys for key press emulation\n     *\n     * @lint ignoreReferenceField(_emulateKeyPress)\n     */\n    _emulateKeyPress : qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : {\n        8: true,\n        9: true\n      },\n\n      \"webkit\" : {\n        8: true,\n        9: true,\n        27: true\n      },\n\n      \"gecko\" : (qx.core.Environment.get(\"browser.version\") >= 65) ?\n      {\n        8: true,\n        9: true,\n        27: true\n      }\n      :\n      {\n      },\n\n      \"default\" : {}\n    }),\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      HELPER METHODS\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * converts a key identifier back to a keycode\n     *\n     * @param keyIdentifier {String} The key identifier to convert\n     * @return {Integer} keyboard code\n     */\n    _identifierToKeyCode : function(keyIdentifier) {\n      return qx.event.util.Keyboard.identifierToKeyCodeMap[keyIdentifier] || keyIdentifier.charCodeAt(0);\n    }\n  },\n\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    this._stopKeyObserver();\n    this.__lastKeyCode = this.__manager = this.__window = this.__root = this.__lastUpDownType = null;\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics, members)\n  {\n    // register at the event handler\n    qx.event.Registration.addHandler(statics);\n\n    if ((qx.core.Environment.get(\"engine.name\") !== \"opera\"))\n    {\n      members._charCode2KeyCode =\n      {\n        13 : 13,\n        27 : 27\n      };\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Event dispatcher for all bubbling events.\n */\nqx.Class.define(\"qx.event.dispatch.AbstractBubbling\",\n{\n  extend : qx.core.Object,\n  implement : qx.event.IEventDispatcher,\n  type : \"abstract\",\n\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager) {\n    this._manager = manager;\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      EVENT DISPATCHER HELPER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the parent of the given target\n     *\n     * @abstract\n     * @param target {var} The target which parent should be found\n     * @return {var} The parent of the given target\n     */\n    _getParent : function(target) {\n      throw new Error(\"Missing implementation\");\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT DISPATCHER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canDispatchEvent : function(target, event, type) {\n      return event.getBubbles();\n    },\n\n\n    // interface implementation\n    dispatchEvent : function(target, event, type)\n    {\n      var parent = target;\n      var manager = this._manager;\n      var captureListeners, bubbleListeners;\n      var context;\n\n      // Cache list for AT_TARGET\n      var targetList = [];\n\n      captureListeners = manager.getListeners(target, type, true);\n      bubbleListeners = manager.getListeners(target, type, false);\n\n      if (captureListeners) {\n        targetList.push(captureListeners);\n      }\n\n      if (bubbleListeners) {\n        targetList.push(bubbleListeners);\n      }\n\n      // Cache list for CAPTURING_PHASE and BUBBLING_PHASE\n      var parent = this._getParent(target);\n\n      var bubbleList = [];\n      var bubbleTargets = [];\n\n      var captureList = [];\n      var captureTargets = [];\n\n      // Walk up the tree and look for event listeners\n      while (parent != null)\n      {\n        // Attention:\n        // We do not follow the DOM2 events specifications here\n        // http://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-flow-capture\n        // Opera is the only browser which conforms to the spec.\n        // Safari and Mozilla do it the same way like qooxdoo does\n        // and add the capture events of the target to the execution list.\n        captureListeners = manager.getListeners(parent, type, true);\n        if (captureListeners)\n        {\n          captureList.push(captureListeners);\n          captureTargets.push(parent);\n        }\n\n        bubbleListeners = manager.getListeners(parent, type, false);\n\n        if (bubbleListeners)\n        {\n          bubbleList.push(bubbleListeners);\n          bubbleTargets.push(parent);\n        }\n\n        parent = this._getParent(parent);\n      }\n\n      var self = this;\n      var tracker = {};\n\n      var __TRACE_LOGGING = false;//(event._type == \"pointerup\" && event._target.className === \"qx-toolbar-button-checked\");\n      var __TRACE = function(){};\n      if (__TRACE_LOGGING) {\n        var serial = (this.SERIAL||0)+1;\n        this.SERIAL=serial + 1;\n        __TRACE = function() {\n          var args = [].slice.apply(arguments);\n          args.unshift(\"serial #\" + serial + \": \");\n          console.log.apply(this, args);\n        }\n      }\n\n      qx.event.Utils.catch(tracker, function() {\n        // This function must exist to suppress \"unhandled rejection\" messages from promises\n        __TRACE(\"Aborted serial=\" + serial + \", type=\" + event.getType());\n      });\n\n      // capturing phase\n      qx.event.Utils.then(tracker, function() {\n        // loop through the hierarchy in reverted order (from root)\n        event.setEventPhase(qx.event.type.Event.CAPTURING_PHASE);\n\n        __TRACE(\"captureList=\" + captureList.length);\n        return qx.event.Utils.series(captureList, function(localList, i) {\n\n          __TRACE(\"captureList[\" + i + \"]: localList.length=\" + localList.length);\n\n          var currentTarget = captureTargets[i];\n          event.setCurrentTarget(currentTarget);\n\n          var result = qx.event.Utils.series(localList, function(listener, listenerIndex) {\n            context = listener.context || currentTarget;\n\n            if (qx.core.Environment.get(\"qx.debug\")) {\n              // warn if the context is disposed\n              if (context && context.isDisposed && context.isDisposed()) {\n                self.warn(\n                  \"The context object '\" + context + \"' for the event '\" +\n                  type + \"' of '\" + currentTarget + \"'is already disposed.\"\n                );\n              }\n            }\n\n            if (!self._manager.isBlacklisted(listener.unique)) {\n              __TRACE(\"captureList[\" + i + \"] => localList[\" + listenerIndex + \"] callListener\");\n              return listener.handler.call(context, event);\n            } else {\n              __TRACE(\"captureList[\" + i + \"] => localList[\" + listenerIndex + \"] is blacklisted\");\n            }\n          }, true);\n          if (result === qx.event.Utils.ABORT) {\n            return qx.event.Utils.reject(tracker);\n          }\n          if (event.getPropagationStopped()) {\n            return qx.event.Utils.reject(tracker);\n          }\n          return result;\n        });\n      });\n\n\n      // at target\n      qx.event.Utils.then(tracker, function() {\n        event.setEventPhase(qx.event.type.Event.AT_TARGET);\n        event.setCurrentTarget(target);\n\n        __TRACE(\"targetList=\" + targetList.length);\n        return qx.event.Utils.series(targetList, function(localList, i) {\n          __TRACE(\"targetList[\" + i + \"] localList.length=\" + localList.length);\n\n          var result = qx.event.Utils.series(localList, function(listener, listenerIndex) {\n            __TRACE(\"targetList[\" + i + \"] -> localList[\" + listenerIndex + \"] callListener\");\n            context = listener.context || target;\n\n            if (qx.core.Environment.get(\"qx.debug\")) {\n              // warn if the context is disposed\n              if (context && context.isDisposed && context.isDisposed()) {\n                self.warn(\n                  \"The context object '\" + context + \"' for the event '\" +\n                  type + \"' of '\" + target + \"'is already disposed.\"\n                );\n              }\n            }\n\n            __TRACE(\"Calling target serial=\" + serial + \", type=\" + event.getType());\n            return listener.handler.call(context, event);\n          }, true);\n          if (result === qx.event.Utils.ABORT) {\n            return qx.event.Utils.reject(tracker);\n          }\n          if (event.getPropagationStopped()) {\n            return qx.event.Utils.reject(tracker);\n          }\n          return result;\n        });\n      });\n\n\n      // bubbling phase\n      // loop through the hierarchy in normal order (to root)\n      qx.event.Utils.then(tracker, function() {\n        event.setEventPhase(qx.event.type.Event.BUBBLING_PHASE);\n\n        __TRACE(\"bubbleList=\" + bubbleList.length);\n        return qx.event.Utils.series(bubbleList, function(localList, i) {\n          __TRACE(\"bubbleList[\" + i + \"] localList.length=\" + localList.length);\n          var currentTarget = bubbleTargets[i];\n          event.setCurrentTarget(currentTarget);\n\n          var result = qx.event.Utils.series(localList, function(listener, listenerIndex) {\n            __TRACE(\"bubbleList[\" + i + \"] -> localList[\" + listenerIndex + \"] callListener\");\n            context = listener.context || currentTarget;\n\n            if (qx.core.Environment.get(\"qx.debug\")) {\n              // warn if the context is disposed\n              if (context && context.isDisposed && context.isDisposed()) {\n                self.warn(\n                  \"The context object '\" + context + \"' for the event '\" +\n                  type + \"' of '\" + currentTarget + \"'is already disposed.\"\n                );\n              }\n            }\n\n            return listener.handler.call(context, event);\n          }, true);\n\n          if (result === qx.event.Utils.ABORT) {\n            return qx.event.Utils.reject(tracker);\n          }\n          if (event.getPropagationStopped()) {\n            return qx.event.Utils.reject(tracker);\n          }\n          return result;\n        });\n      });\n\n      if (__TRACE_LOGGING) {\n        if (tracker.promise) {\n          __TRACE(\"events promised\");\n          qx.event.Utils.then(tracker, function() {\n            __TRACE(\"events promised done\");\n          });\n        } else {\n          __TRACE(\"events done\");\n        }\n      }\n      return tracker.promise;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Event dispatcher for all bubbling events on DOM elements.\n */\nqx.Class.define(\"qx.event.dispatch.DomBubbling\",\n{\n  extend : qx.event.dispatch.AbstractBubbling,\n\n\n  statics :\n  {\n    /** @type {Integer} Priority of this dispatcher */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL\n  },\n\n\n  members :\n  {\n    // overridden\n    _getParent : function(target) {\n      return target.parentNode;\n    },\n\n\n    // interface implementation\n    canDispatchEvent : function(target, event, type) {\n      return target.nodeType !== undefined && event.getBubbles();\n    }\n  },\n\n\n  defer : function(statics) {\n    qx.event.Registration.addDispatcher(statics);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Common base class for all DOM events.\n */\nqx.Class.define(\"qx.event.type.Dom\",\n{\n  extend : qx.event.type.Native,\n\n\n\n  statics :\n  {\n    /** @type {Integer} The modifier mask for the shift key. */\n    SHIFT_MASK : 1,\n\n    /** @type {Integer} The modifier mask for the control key. */\n    CTRL_MASK  : 2,\n\n    /** @type {Integer} The modifier mask for the alt key. */\n    ALT_MASK   : 4,\n\n    /** @type {Integer} The modifier mask for the meta key (e.g. apple key on Macs). */\n    META_MASK  : 8,\n\n    /** @type {Integer} The modifier mask for the CapsLock modifier. */\n    CAPSLOCK_MASK : 16,\n\n    /** @type {Integer} The modifier mask for the NumLock modifier. */\n    NUMLOCK_MASK : 32,\n\n    /** @type {Integer} The modifier mask for the ScrollLock modifier. */\n    SCROLLLOCK_MASK : 64\n  },\n\n\n  members :\n  {\n    // overridden\n    _cloneNativeEvent : function(nativeEvent, clone)\n    {\n      var clone = this.base(arguments, nativeEvent, clone);\n\n      clone.shiftKey = nativeEvent.shiftKey;\n      clone.ctrlKey = nativeEvent.ctrlKey;\n      clone.altKey = nativeEvent.altKey;\n      clone.metaKey = nativeEvent.metaKey;\n\n      if (typeof nativeEvent.getModifierState === \"function\") {\n        clone.numLock = nativeEvent.getModifierState(\"NumLock\");\n        clone.capsLock = nativeEvent.getModifierState(\"CapsLock\");\n        clone.scrollLock = nativeEvent.getModifierState(\"ScrollLock\");\n      }\n      else {\n        clone.numLock = false;\n        clone.capsLock = false;\n        clone.scrollLock = false;\n      }\n\n      return clone;\n    },\n\n\n    /**\n     * Return in a bit map, which modifier keys are pressed. The constants\n     * {@link #SHIFT_MASK}, {@link #CTRL_MASK}, {@link #ALT_MASK},\n     * {@link #META_MASK} and {@link #CAPSLOCK_MASK} define the bit positions\n     * of the corresponding keys.\n     *\n     * @return {Integer} A bit map with the pressed modifier keys.\n     */\n    getModifiers : function()\n    {\n      var mask = 0;\n      var evt = this._native;\n      if (evt.shiftKey) {\n        mask |= qx.event.type.Dom.SHIFT_MASK;\n      }\n      if (evt.ctrlKey) {\n        mask |= qx.event.type.Dom.CTRL_MASK;\n      }\n      if (evt.altKey) {\n        mask |= qx.event.type.Dom.ALT_MASK;\n      }\n      if (evt.metaKey) {\n        mask |= qx.event.type.Dom.META_MASK;\n      }\n      return mask;\n    },\n\n    /**\n     * Return in a bit map, which lock keys are pressed. The constants\n     * {@link #CAPSLOCK_MASK}, {@link #NUMLOCK_MASK}, and {@link #SCROLLLOCK_MASK} \n     * define the bit positions of the corresponding keys.\n     *\n     * @return {Integer} A bit map with the locked keys.\n     */\n    getKeyLockState: function () {\n      var mask = 0;\n      var evt = this._native;\n\n      if (evt.capsLock) {\n        mask |= qx.event.type.Dom.CAPSLOCK_MASK;\n      }\n      if (evt.numLock) {\n        mask |= qx.event.type.Dom.NUMLOCK_MASK;\n      }\n      if (evt.scrollLock) {\n        mask |= qx.event.type.Dom.SCROLLLOCK_MASK;\n      }\n      return mask;\n    },\n\n\n    /**\n     * Returns whether the ctrl key is pressed.\n     *\n     * @return {Boolean} whether the ctrl key is pressed.\n     */\n    isCtrlPressed : function() {\n      return this._native.ctrlKey;\n    },\n\n\n    /**\n     * Returns whether the shift key is pressed.\n     *\n     * @return {Boolean} whether the shift key is pressed.\n     */\n    isShiftPressed : function() {\n      return this._native.shiftKey;\n    },\n\n\n    /**\n     * Returns whether the alt key is pressed.\n     *\n     * @return {Boolean} whether the alt key is pressed.\n     */\n    isAltPressed : function() {\n      return this._native.altKey;\n    },\n\n\n    /**\n     * Returns whether the meta key is pressed.\n     *\n     * @return {Boolean} whether the meta key is pressed.\n     */\n    isMetaPressed : function() {\n      return this._native.metaKey;\n    },\n\n    /**\n      * Returns whether the caps-lock modifier is active\n      *\n      * @return {Boolean} whether the CapsLock key is pressed.\n      */\n    isCapsLocked: function () {\n      return this._native.capsLock;\n    },\n\n    /**\n      * Returns whether the num-lock modifier is active\n      *\n      * @return {Boolean} whether the NumLock key is pressed.\n      */\n    isNumLocked: function () {\n      return this._native.numLock;\n    },\n\n    /**\n      * Returns whether the scroll-lock modifier is active\n      *\n      * @return {Boolean} whether the ScrollLock key is pressed.\n      */\n    isScrollLocked: function () {\n      return this._native.scrollLock;\n    },\n\n    /**\n     * Returns whether the ctrl key or (on the Mac) the command key is pressed.\n     *\n     * @return {Boolean} <code>true</code> if the command key is pressed on the Mac\n     *           or the ctrl key is pressed on another system.\n     */\n    isCtrlOrCommandPressed : function()\n    {\n      // Opera seems to use ctrlKey for the cmd key so don't fix that for opera\n      // on mac [BUG #5884]\n      if (\n        qx.core.Environment.get(\"os.name\") == \"osx\" &&\n        qx.core.Environment.get(\"engine.name\") != \"opera\"\n      ) {\n        return this._native.metaKey;\n      } else {\n        return this._native.ctrlKey;\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n/**\n * Mouse event object.\n *\n * the interface of this class is based on the DOM Level 2 mouse event\n * interface: http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-eventgroupings-mouseevents\n */\nqx.Class.define(\"qx.event.type.Mouse\",\n{\n  extend : qx.event.type.Dom,\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    // overridden\n    _cloneNativeEvent : function(nativeEvent, clone)\n    {\n      var clone = this.base(arguments, nativeEvent, clone);\n      // Fix for #9619 pointermove/mousemove events return wrong result in isLeftPressed()\n      // button only valid in button events. Undefined otherwise.\n      // see https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n      switch(nativeEvent.type) {\n        case \"mousemove\":\n        case \"mouseenter\":\n        case \"mouseleave\":\n        case \"mouseover\":\n        case \"mouseout\":\n          clone.button = -1;\n          break;\n        default:\n          clone.button = nativeEvent.button;\n          break;\n      }\n      clone.buttons = nativeEvent.buttons;\n      clone.clientX = Math.round(nativeEvent.clientX);\n      clone.clientY = Math.round(nativeEvent.clientY);\n      clone.pageX = nativeEvent.pageX ? Math.round(nativeEvent.pageX) : undefined;\n      clone.pageY = nativeEvent.pageY ? Math.round(nativeEvent.pageY) : undefined;\n      clone.screenX = Math.round(nativeEvent.screenX);\n      clone.screenY = Math.round(nativeEvent.screenY);\n      clone.wheelDelta = nativeEvent.wheelDelta;\n      clone.wheelDeltaX = nativeEvent.wheelDeltaX;\n      clone.wheelDeltaY = nativeEvent.wheelDeltaY;\n      clone.delta = nativeEvent.delta;\n      clone.deltaX = nativeEvent.deltaX;\n      clone.deltaY = nativeEvent.deltaY;\n      clone.deltaZ = nativeEvent.deltaZ;\n      clone.detail = nativeEvent.detail;\n      clone.axis = nativeEvent.axis;\n      clone.wheelX = nativeEvent.wheelX;\n      clone.wheelY = nativeEvent.wheelY;\n      clone.HORIZONTAL_AXIS = nativeEvent.HORIZONTAL_AXIS;\n      clone.srcElement = nativeEvent.srcElement;\n      clone.target = nativeEvent.target;\n\n      return clone;\n    },\n\n\n    /**\n     * @type {Map} Contains the button ID to identifier data.\n     *\n     * @lint ignoreReferenceField(__buttonsDom2EventModel)\n     */\n    __buttonsDom2EventModel :\n    {\n      0 : \"left\",\n      2 : \"right\",\n      1 : \"middle\"\n    },\n\n\n    /**\n     * @type {Map} Contains the button ID to identifier data.\n     *\n     * @lint ignoreReferenceField(__buttonsDom3EventModel)\n     */\n    __buttonsDom3EventModel :\n    {\n      0 : \"none\",\n      1 : \"left\",\n      2 : \"right\",\n      4 : \"middle\"\n    },\n\n\n    /**\n     * @type {Map} Contains the button ID to identifier data.\n     *\n     * @lint ignoreReferenceField(__buttonsMshtmlEventModel)\n     */\n    __buttonsMshtmlEventModel :\n    {\n      1 : \"left\",\n      2 : \"right\",\n      4 : \"middle\"\n    },\n\n\n    // overridden\n    stop : function() {\n      this.stopPropagation();\n    },\n\n\n    /**\n     * During mouse events caused by the depression or release of a mouse button,\n     * this method can be used to check which mouse button changed state.\n     *\n     * Only internet explorer can compute the button during mouse move events. For\n     * all other browsers the button only contains sensible data during\n     * \"click\" events like \"click\", \"dblclick\", \"mousedown\", \"mouseup\" or \"contextmenu\".\n     *\n     * But still, browsers act different on click:\n     * <pre>\n     * <- = left mouse button\n     * -> = right mouse button\n     * ^  = middle mouse button\n     *\n     * Browser | click, dblclick | contextmenu\n     * ---------------------------------------\n     * Firefox | <- ^ ->         | ->\n     * Chrome  | <- ^            | ->\n     * Safari  | <- ^            | ->\n     * IE      | <- (^ is <-)    | ->\n     * Opera   | <-              | -> (twice)\n     * </pre>\n     *\n     * @return {String} One of \"left\", \"right\", \"middle\" or \"none\"\n     */\n    getButton : function()\n    {\n      switch(this._type)\n      {\n        case \"contextmenu\":\n          return \"right\";\n\n        case \"click\":\n          // IE does not support buttons on click --> assume left button\n          if (qx.core.Environment.get(\"browser.name\") === \"ie\" &&\n          qx.core.Environment.get(\"browser.documentmode\") < 9)\n          {\n            return \"left\";\n          }\n\n        default:\n          if (!(qx.core.Environment.get(\"engine.name\") == \"mshtml\" && qx.core.Environment.get(\"browser.documentmode\") <= 8)) {\n            // if the button value is -1, we should use the DOM level 3 .buttons attribute\n            // the value -1 is only set for pointer events: http://msdn.microsoft.com/en-us/library/ie/ff974877(v=vs.85).aspx\n            if (this._native.button === -1) {\n              return this.__buttonsDom3EventModel[this._native.buttons] || \"none\";\n            }\n            return this.__buttonsDom2EventModel[this._native.button] || \"none\";\n          } else {\n            return this.__buttonsMshtmlEventModel[this._native.button] || \"none\";\n          }\n      }\n    },\n\n\n    /**\n     * Whether the left button is pressed\n     *\n     * @return {Boolean} true when the left button is pressed\n     */\n    isLeftPressed : function() {\n      return this.getButton() === \"left\";\n    },\n\n\n    /**\n     * Whether the middle button is pressed\n     *\n     * @return {Boolean} true when the middle button is pressed\n     */\n    isMiddlePressed : function() {\n      return this.getButton() === \"middle\";\n    },\n\n\n    /**\n     * Whether the right button is pressed\n     *\n     * @return {Boolean} true when the right button is pressed\n     */\n    isRightPressed : function() {\n      return this.getButton() === \"right\";\n    },\n\n\n    /**\n     * Get a secondary event target related to an UI event. This attribute is\n     * used with the mouseover event to indicate the event target which the\n     * pointing device exited and with the mouseout event to indicate the\n     * event target which the pointing device entered.\n     *\n     * @return {Element} The secondary event target.\n     * @signature function()\n     */\n    getRelatedTarget : function() {\n      return this._relatedTarget;\n    },\n\n\n    /**\n     * Get the he horizontal coordinate at which the event occurred relative\n     * to the viewport.\n     *\n     * @return {Integer} The horizontal mouse position\n     */\n    getViewportLeft : function() {\n      return Math.round(this._native.clientX);\n    },\n\n\n    /**\n     * Get the vertical coordinate at which the event occurred relative\n     * to the viewport.\n     *\n     * @return {Integer} The vertical mouse position\n     * @signature function()\n     */\n    getViewportTop : function() {\n      return Math.round(this._native.clientY);\n    },\n\n\n    /**\n     * Get the horizontal position at which the event occurred relative to the\n     * left of the document. This property takes into account any scrolling of\n     * the page.\n     *\n     * @return {Integer} The horizontal mouse position in the document.\n     */\n    getDocumentLeft : function()\n    {\n      if (this._native.pageX !== undefined) {\n        return Math.round(this._native.pageX);\n      } else if (this._native.srcElement) {\n        var win = qx.dom.Node.getWindow(this._native.srcElement);\n        return Math.round(this._native.clientX) + qx.bom.Viewport.getScrollLeft(win);\n      } else {\n        return Math.round(this._native.clientX) + qx.bom.Viewport.getScrollLeft(window);\n      }\n    },\n\n\n    /**\n     * Get the vertical position at which the event occurred relative to the\n     * top of the document. This property takes into account any scrolling of\n     * the page.\n     *\n     * @return {Integer} The vertical mouse position in the document.\n     */\n    getDocumentTop : function()\n    {\n      if (this._native.pageY !== undefined) {\n        return Math.round(this._native.pageY);\n      } else if (this._native.srcElement) {\n        var win = qx.dom.Node.getWindow(this._native.srcElement);\n        return Math.round(this._native.clientY) + qx.bom.Viewport.getScrollTop(win);\n      } else {\n        return Math.round(this._native.clientY) + qx.bom.Viewport.getScrollTop(window);\n      }\n    },\n\n\n    /**\n     * Get the horizontal coordinate at which the event occurred relative to\n     * the origin of the screen coordinate system.\n     *\n     * Note: This value is usually not very useful unless you want to\n     * position a native popup window at this coordinate.\n     *\n     * @return {Integer} The horizontal mouse position on the screen.\n     */\n    getScreenLeft : function() {\n      return Math.round(this._native.screenX);\n    },\n\n\n    /**\n     * Get the vertical coordinate at which the event occurred relative to\n     * the origin of the screen coordinate system.\n     *\n     * Note: This value is usually not very useful unless you want to\n     * position a native popup window at this coordinate.\n     *\n     * @return {Integer} The vertical mouse position on the screen.\n     */\n    getScreenTop : function() {\n      return Math.round(this._native.screenY);\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n\n/**\n * Pointer event object.\n *\n * the interface of this class is based on the pointer event interface:\n * http://www.w3.org/TR/pointerevents/\n */\nqx.Class.define(\"qx.event.type.Pointer\",\n{\n  extend : qx.event.type.Mouse,\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    // overridden\n    _cloneNativeEvent : function(nativeEvent, clone)\n    {\n      clone = this.base(arguments, nativeEvent, clone);\n\n      clone.pointerId = nativeEvent.pointerId;\n      clone.width = nativeEvent.width;\n      clone.height = nativeEvent.height;\n      clone.pressure = nativeEvent.pressure;\n      clone.tiltX = nativeEvent.tiltX;\n      clone.tiltY = nativeEvent.tiltY;\n      clone.pointerType = nativeEvent.pointerType;\n      clone.isPrimary = nativeEvent.isPrimary;\n      clone._original = nativeEvent._original;\n      clone.MSPOINTER_TYPE_MOUSE = nativeEvent.MSPOINTER_TYPE_MOUSE;\n      clone.MSPOINTER_TYPE_PEN = nativeEvent.MSPOINTER_TYPE_PEN;\n      clone.MSPOINTER_TYPE_TOUCH = nativeEvent.MSPOINTER_TYPE_TOUCH;\n\n      return clone;\n    },\n\n\n    // overridden\n    getDocumentLeft : function() {\n      var x = this.base(arguments);\n      // iOS 6 does not copy pageX over to the fake pointer event\n      if (x == 0 && this.getPointerType() == \"touch\" && this._native._original !== undefined) {\n        x = Math.round(this._native._original.changedTouches[0].pageX) || 0;\n      }\n      return x;\n    },\n\n\n    // overridden\n    getDocumentTop : function() {\n      var y = this.base(arguments);\n      // iOS 6 does not copy pageY over to the fake pointer event\n      if (y == 0 && this.getPointerType() == \"touch\" && this._native._original !== undefined) {\n        y = Math.round(this._native._original.changedTouches[0].pageY) || 0;\n      }\n      return y;\n    },\n\n\n    /**\n     * Returns a unique identified for the pointer. This id is\n     * unique for all active pointers.\n     *\n     * @return {Number} The unique id.\n     */\n    getPointerId : function() {\n      return this._native.pointerId || 0;\n    },\n\n\n\n    /**\n     * Returns the contact geometry in it's width.\n     *\n     * @return {Number} The number of pixels (width) of the contact geometry.\n     */\n    getWidth : function() {\n      return this._native.width || 0;\n    },\n\n\n    /**\n     * Returns the contact geometry in it's height.\n     *\n     * @return {Number} The number of pixels (height) of the contact geometry.\n     */\n    getHeight : function() {\n      return this._native.height || 0;\n    },\n\n\n    /**\n     * Returns the pressure of the pointer in a rage from 0 to 1.\n     *\n     * @return {Number} <code>1</code> for full pressure. The default is 0.\n     */\n    getPressure : function() {\n      return this._native.pressure || 0;\n    },\n\n\n    /**\n     * Returns the plane angle in degrees between the Y-Z plane and the\n     * plane containing e.g. the stylus and the Y axis.\n     *\n     * @return {Number} A value between -90 and 90. The default is 0.\n     */\n    getTiltX : function() {\n      return this._native.tiltX || 0;\n    },\n\n\n    /**\n     * Returns the plane angle in degrees between the X-Z plane and the\n     * plane containing e.g. the stylus and the X axis.\n     *\n     * @return {Number} A value between -90 and 90. The default is 0.\n     */\n    getTiltY : function() {\n      return this._native.tiltY || 0;\n    },\n\n\n    // overridden\n    getOriginalTarget : function() {\n      if (this._native && this._native._original) { // fake pointer events\n        var orig = this._native._original;\n        // In IE8, the original event can be a DispCEventObj which throws an\n        // exception when trying to access its properties.\n        try {\n          // touch events have a wrong target compared to mouse events\n          if (orig.type.indexOf(\"touch\") == 0) {\n            if (orig.changedTouches[0]) {\n              return document.elementFromPoint(orig.changedTouches[0].clientX, orig.changedTouches[0].clientY);\n            }\n          }\n        } catch(ex) {\n          return qx.bom.Event.getTarget(this._native);\n        }\n        return qx.bom.Event.getTarget(orig);\n      } else if (this._native) { // native pointer events\n        return qx.bom.Event.getTarget(this._native);\n      }\n      return this.base(arguments);\n    },\n\n\n    /**\n     * Returns the device type which the event triggered. This can be one\n     * of the following strings: <code>mouse</code>, <code>wheel</code>,\n     * <code>pen</code> or <code>touch</code>.\n     *\n     * @return {String} The type of the pointer.\n     */\n    getPointerType : function() {\n      if (typeof this._native.pointerType == \"string\") {\n        return this._native.pointerType;\n      }\n\n      if (typeof this._native.pointerType == \"number\") {\n        if (this._native.pointerType == this._native.MSPOINTER_TYPE_MOUSE) {\n          return \"mouse\";\n        }\n        if (this._native.pointerType == this._native.MSPOINTER_TYPE_PEN) {\n          return \"pen\";\n        }\n        if (this._native.pointerType == this._native.MSPOINTER_TYPE_TOUCH) {\n          return \"touch\";\n        }\n      }\n\n      return \"\";\n    },\n\n\n    /**\n     * Returns whether the pointer is the primary pointer.\n     *\n     * @return {Boolean} <code>true</code>, if it's the primary pointer.\n     */\n    isPrimary : function() {\n      return !!this._native.isPrimary;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Cross-browser custom UI event\n */\nqx.Bootstrap.define(\"qx.event.type.dom.Custom\", {\n\n  extend : Object,\n\n  statics : {\n    PROPERTIES : {\n      bubbles : false,\n      cancelable : true\n    }\n  },\n\n  /**\n   * @param type {String} event type\n   * @param domEvent {Event} Native event that will be used as a template for the new event\n   * @param customProps {Map} Map of event properties (will override the domEvent's values)\n   * @return {Event} event object\n   */\n  construct : function(type, domEvent, customProps) {\n    this._type = type;\n    this._event = this._createEvent();\n    this._initEvent(domEvent, customProps);\n    this._event._original = domEvent;\n\n    this._event.preventDefault = function() {\n      if (this._original.preventDefault) {\n        this._original.preventDefault();\n      } else {\n        // In IE8, the original event can be a DispCEventObj which throws an\n        // exception when trying to access its properties.\n        try {\n          this._original.returnValue = false;\n        } catch(ex) {}\n      }\n    };\n\n    if (this._event.stopPropagation) {\n      this._event._nativeStopPropagation = this._event.stopPropagation;\n    }\n\n    this._event.stopPropagation = function() {\n      this._stopped = true;\n      if (this._nativeStopPropagation) {\n        this._original.stopPropagation();\n        this._nativeStopPropagation();\n      } else {\n        this._original.cancelBubble = true;\n      }\n    };\n\n    return this._event;\n  },\n\n  members : {\n    _type : null,\n    _event : null,\n\n\n    /**\n     * Creates a custom event object\n     * @return {Event} event object\n     */\n    _createEvent : function() {\n      var evt;\n      if (qx.core.Environment.get(\"event.customevent\")) {\n        evt = new window.CustomEvent(this._type);\n      } else if (typeof document.createEvent == \"function\") {\n        evt = document.createEvent(\"UIEvents\");\n      } else if (typeof document.createEventObject == \"object\") {\n        // IE8 doesn't support custom event types\n        evt = {};\n        evt.type = this._type;\n      }\n\n      return evt;\n    },\n\n    /**\n     * Initializes a custom event\n     *\n     * @param domEvent {Event} Native event that will be used as a template for the new event\n     * @param customProps {Map?} Map of event properties (will override the domEvent's values)\n     */\n    _initEvent : function(domEvent, customProps) {\n      customProps = customProps || {};\n      var properties = qx.lang.Object.clone(qx.event.type.dom.Custom.PROPERTIES);\n      for (var prop in customProps) {\n        properties[prop] = customProps[prop];\n      }\n\n      if (this._event.initEvent) {\n        this._event.initEvent(this._type, properties.bubbles, properties.cancelable);\n      }\n\n      for (var prop in properties) {\n        try {\n          this._event[prop] = properties[prop];\n        }catch(ex) {\n          //Nothing - strict mode prevents writing to read only properties\n        }\n      }\n\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Synthetic pointer event\n */\nqx.Bootstrap.define(\"qx.event.type.dom.Pointer\", {\n  extend: qx.event.type.dom.Custom,\n\n  statics : {\n\n    MOUSE_PROPERTIES : [\n      \"bubbles\",\n      \"cancelable\",\n      \"view\",\n      \"detail\",\n      \"screenX\",\n      \"screenY\",\n      \"clientX\",\n      \"clientY\",\n      \"pageX\",\n      \"pageY\",\n      \"ctrlKey\",\n      \"altKey\",\n      \"shiftKey\",\n      \"metaKey\",\n      \"button\",\n      \"which\",\n      \"relatedTarget\",\n      // IE8 properties:\n      \"fromElement\",\n      \"toElement\"\n    ],\n\n    POINTER_PROPERTIES : {\n      pointerId: 1,\n      width: 0,\n      height: 0,\n      pressure: 0.5,\n      tiltX: 0,\n      tiltY: 0,\n      pointerType: \"\",\n      isPrimary: false\n    },\n\n    READONLY_PROPERTIES : [],\n\n    BIND_METHODS : [\"getPointerType\", \"getViewportLeft\", \"getViewportTop\",\n      \"getDocumentLeft\", \"getDocumentTop\", \"getScreenLeft\", \"getScreenTop\"],\n\n    /**\n     * Returns the device type which the event triggered. This can be one\n     * of the following strings: <code>mouse</code>, <code>pen</code>\n     * or <code>touch</code>.\n     *\n     * @return {String} The type of the pointer.\n     */\n    getPointerType : function() {\n      if (typeof this.pointerType == \"string\") {\n        return this.pointerType;\n      }\n\n      if (typeof this.pointerType == \"number\") {\n        if (this.pointerType == this.MSPOINTER_TYPE_MOUSE) {\n          return \"mouse\";\n        }\n        if (this.pointerType == this.MSPOINTER_TYPE_PEN) {\n          return \"pen\";\n        }\n        if (this.pointerType == this.MSPOINTER_TYPE_TOUCH) {\n          return \"touch\";\n        }\n      }\n\n      return \"\";\n    },\n\n\n    /**\n     * Get the horizontal coordinate at which the event occurred relative\n     * to the viewport.\n     *\n     * @return {Number} The horizontal mouse position\n     */\n    getViewportLeft : function() {\n      return this.clientX;\n    },\n\n\n    /**\n     * Get the vertical coordinate at which the event occurred relative\n     * to the viewport.\n     *\n     * @return {Number} The vertical mouse position\n     * @signature function()\n     */\n    getViewportTop : function() {\n      return this.clientY;\n    },\n\n\n    /**\n     * Get the horizontal position at which the event occurred relative to the\n     * left of the document. This property takes into account any scrolling of\n     * the page.\n     *\n     * @return {Number} The horizontal mouse position in the document.\n     */\n    getDocumentLeft : function()\n    {\n      if (this.pageX !== undefined) {\n        return this.pageX;\n      } else {\n        var win = qx.dom.Node.getWindow(this.srcElement);\n        return this.clientX + qx.bom.Viewport.getScrollLeft(win);\n      }\n    },\n\n\n    /**\n     * Get the vertical position at which the event occurred relative to the\n     * top of the document. This property takes into account any scrolling of\n     * the page.\n     *\n     * @return {Number} The vertical mouse position in the document.\n     */\n    getDocumentTop : function()\n    {\n      if (this.pageY !== undefined) {\n        return this.pageY;\n      } else {\n        var win = qx.dom.Node.getWindow(this.srcElement);\n        return this.clientY + qx.bom.Viewport.getScrollTop(win);\n      }\n    },\n\n\n    /**\n     * Get the horizontal coordinate at which the event occurred relative to\n     * the origin of the screen coordinate system.\n     *\n     * Note: This value is usually not very useful unless you want to\n     * position a native popup window at this coordinate.\n     *\n     * @return {Number} The horizontal mouse position on the screen.\n     */\n    getScreenLeft : function() {\n      return this.screenX;\n    },\n\n\n    /**\n     * Get the vertical coordinate at which the event occurred relative to\n     * the origin of the screen coordinate system.\n     *\n     * Note: This value is usually not very useful unless you want to\n     * position a native popup window at this coordinate.\n     *\n     * @return {Number} The vertical mouse position on the screen.\n     */\n    getScreenTop : function() {\n      return this.screenY;\n    },\n\n\n    /**\n     * Manipulates the event object, adding methods if they're not\n     * already present\n     *\n     * @param event {Event} Native event object\n     */\n    normalize : function(event) {\n      var bindMethods = qx.event.type.dom.Pointer.BIND_METHODS;\n      for (var i=0, l=bindMethods.length; i<l; i++) {\n        if (typeof event[bindMethods[i]] != \"function\") {\n          event[bindMethods[i]] = qx.event.type.dom.Pointer[bindMethods[i]].bind(event);\n        }\n      }\n    }\n\n  },\n\n  construct : function(type, domEvent, customProps) {\n    return this.base(arguments, type, domEvent, customProps);\n  },\n\n  members : {\n\n    _createEvent : function() {\n      var evt;\n      if (qx.core.Environment.get(\"event.mouseevent\")) {\n        evt = new window.MouseEvent(this._type);\n      } else if (typeof document.createEvent == \"function\") {\n        /* In IE9, the pageX property of synthetic MouseEvents is always 0\n        and cannot be overridden, so we create a plain UIEvent and add\n        the mouse event properties ourselves. */\n        evt = document.createEvent(qx.core.Environment.get(\"event.mousecreateevent\"));\n      } else if (typeof document.createEventObject == \"object\") {\n        // IE8 doesn't support custom event types\n        evt = {};\n        evt.type = this._type;\n      }\n      return evt;\n    },\n\n\n    _initEvent : function(domEvent, customProps) {\n      customProps = customProps || {};\n      var evt = this._event;\n      var properties = {};\n\n      qx.event.type.dom.Pointer.normalize(domEvent);\n\n      Object.keys(qx.event.type.dom.Pointer.POINTER_PROPERTIES).concat(qx.event.type.dom.Pointer.MOUSE_PROPERTIES)\n      .forEach(function(propName) {\n        if (typeof customProps[propName] !== \"undefined\") {\n          properties[propName] = customProps[propName];\n        } else if (typeof domEvent[propName] !== \"undefined\") {\n          properties[propName] = domEvent[propName];\n        } else if (typeof qx.event.type.dom.Pointer.POINTER_PROPERTIES[propName] !== \"undefined\") {\n          properties[propName] = qx.event.type.dom.Pointer.POINTER_PROPERTIES[propName];\n        }\n      });\n\n      var buttons;\n      switch (domEvent.which) {\n        case 1:\n          buttons = 1;\n          break;\n        case 2:\n          buttons = 4;\n          break;\n        case 3:\n          buttons = 2;\n          break;\n        default:\n          buttons = 0;\n      }\n\n      if (buttons !== undefined) {\n        properties.buttons = buttons;\n        properties.pressure = buttons ? 0.5 : 0;\n      }\n\n      if (evt.initMouseEvent) {\n        evt.initMouseEvent(this._type, properties.bubbles, properties.cancelable, properties.view, properties.detail,\n          properties.screenX, properties.screenY, properties.clientX, properties.clientY, properties.ctrlKey,\n          properties.altKey, properties.shiftKey, properties.metaKey, properties.button, properties.relatedTarget);\n      }\n      else if (evt.initUIEvent) {\n        evt.initUIEvent(this._type,\n          properties.bubbles, properties.cancelable, properties.view, properties.detail);\n      }\n\n      for (var prop in properties) {\n        if (evt[prop] !== properties[prop] && qx.event.type.dom.Pointer.READONLY_PROPERTIES.indexOf(prop) === -1) {\n          try {\n            evt[prop] = properties[prop];\n          }catch(ex) {\n            // Nothing - cannot override properties in strict mode\n          }\n        }\n      }\n\n      // normalize Windows 8 pointer types\n      switch(evt.pointerType) {\n        case domEvent.MSPOINTER_TYPE_MOUSE:\n          evt.pointerType = \"mouse\";\n          break;\n        case domEvent.MSPOINTER_TYPE_PEN:\n          evt.pointerType = \"pen\";\n          break;\n        case domEvent.MSPOINTER_TYPE_TOUCH:\n          evt.pointerType = \"touch\";\n          break;\n      }\n\n      if (evt.pointerType == \"mouse\") {\n        evt.isPrimary = true;\n      }\n    }\n  },\n\n\n  defer: function(statics) {\n    if (qx.core.Environment.get(\"engine.name\") == \"gecko\") {\n      statics.READONLY_PROPERTIES.push(\"buttons\");\n    }\n    else if (qx.core.Environment.get(\"os.name\") == \"ios\" && parseFloat(qx.core.Environment.get(\"os.version\")) >= 8) {\n      statics.READONLY_PROPERTIES = statics.READONLY_PROPERTIES.concat(statics.MOUSE_PROPERTIES);\n    }\n  }\n});\n","﻿/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Internal class which contains the checks used by {@link qx.core.Environment}.\n * All checks in here are marked as internal which means you should never use\n * them directly.\n *\n * This class should contain all checks about events.\n *\n * @internal\n */\nqx.Bootstrap.define(\"qx.bom.client.Event\",\n{\n  statics :\n  {\n    /**\n     * Checks if touch events are supported.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if touch events are supported.\n     */\n    getTouch : function() {\n      return (\"ontouchstart\" in window);\n    },\n\n\n    /**\n     * Checks if MSPointer events are available.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if pointer events are supported.\n     */\n    getMsPointer : function()\n    {\n      // Fixes issue #9182: new unified pointer input model since Chrome 55\n      // see https://github.com/qooxdoo/qooxdoo/issues/9182\n      if (\"PointerEvent\" in window) {\n        return true;\n      }\n\n      if (\"pointerEnabled\" in window.navigator) {\n        return window.navigator.pointerEnabled;\n      } else if (\"msPointerEnabled\" in window.navigator) {\n        return window.navigator.msPointerEnabled;\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Checks if the proprietary <code>help</code> event is available.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if the \"help\" event is supported.\n     */\n    getHelp : function()\n    {\n      return (\"onhelp\" in document);\n    },\n\n\n    /**\n     * Checks if the <code>hashchange</code> event is available\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if the \"hashchange\" event is supported.\n     */\n    getHashChange : function()\n    {\n      // avoid false positive in IE7\n      var engine = qx.bom.client.Engine.getName();\n      var hashchange = \"onhashchange\" in window;\n      return (engine !== \"mshtml\" && hashchange) ||\n      (engine === \"mshtml\" && \"documentMode\" in document &&\n       document.documentMode >= 8 && hashchange);\n    },\n\n\n    /**\n     * Checks if the DOM2 dispatchEvent method is available\n     * @return {Boolean} <code>true</code> if dispatchEvent is supported.\n     */\n    getDispatchEvent : function() {\n      return typeof document.dispatchEvent == \"function\";\n    },\n\n\n    /**\n     * Checks if the CustomEvent constructor is available and supports\n     * custom event types.\n     *\n     * @return {Boolean} <code>true</code> if Custom Events are available\n     */\n    getCustomEvent : function() {\n      if (!window.CustomEvent) {\n        return false;\n      }\n      try {\n        new window.CustomEvent(\"foo\");\n        return true;\n      } catch(ex) {\n        return false;\n      }\n    },\n\n    /**\n     * Checks if the MouseEvent constructor is available and supports\n     * custom event types.\n     *\n     * @return {Boolean} <code>true</code> if Mouse Events are available\n     */\n    getMouseEvent : function() {\n      if (!window.MouseEvent) {\n        return false;\n      }\n      try {\n        new window.MouseEvent(\"foo\");\n        return true;\n      } catch(ex) {\n        return false;\n      }\n    },\n\n    /**\n     * Returns the event type used in pointer layer to create mouse events.\n     *\n     * @return {String} Either <code>MouseEvents</code> or <code>UIEvents</code>\n     */\n    getMouseCreateEvent : function() {\n      /* For instance, in IE9, the pageX property of synthetic MouseEvents is\n      always 0 and cannot be overridden, so plain UIEvents have to be used with\n      mouse event properties added accordingly. */\n      try {\n        var e = document.createEvent(\"MouseEvents\");\n        var orig = e.pageX;\n\n        e.initMouseEvent(\"click\", false, false, window, 0, 0, 0, orig+1, 0,\n            false, false, false, false, 0, null);\n\n        if(e.pageX !== orig) {\n          return \"MouseEvents\";\n        }\n        return \"UIEvents\";\n      } catch(ex) {\n        return \"UIEvents\";\n      }\n    },\n\n    /**\n     * Checks if the MouseWheel event is available and on which target.\n     *\n     * @param win {Window ? null} An optional window instance to check.\n     * @return {Map} A map containing two values: type and target.\n     */\n    getMouseWheel : function(win) {\n      if (!win) {\n        win = window;\n      }\n\n      // Fix for bug #3234\n      var targets = [win, win.document, win.document.body];\n      var target = win;\n      var type = \"DOMMouseScroll\"; // for FF < 17\n\n      for (var i = 0; i < targets.length; i++) {\n        // check for the spec event (DOM-L3)\n        if (qx.bom.Event.supportsEvent(targets[i], \"wheel\")) {\n          type = \"wheel\";\n          target = targets[i];\n          break;\n        }\n        // check for the non spec event\n        if (qx.bom.Event.supportsEvent(targets[i], \"mousewheel\")) {\n          type = \"mousewheel\";\n          target = targets[i];\n          break;\n        }\n      };\n\n      return {type: type, target: target};\n    },\n    \n    /**\n     * Detects if the engine/browser supports auxclick events\n     * \n     * See https://github.com/qooxdoo/qooxdoo/issues/9268 \n     *\n     * @return {Boolean} <code>true</code> if auxclick events are supported.\n     */\n    getAuxclickEvent : function() {\n      var hasAuxclick = false;\n      try {\n        hasAuxclick = (\"onauxclick\" in document.documentElement);\n      }\n      catch(ex) {};\n      \n      return (hasAuxclick ? true : false);\n    },\n\n    /**\n     * Checks whether the browser supports passive event handlers.\n     */\n    getPassive: function () {\n      var passiveSupported = false;\r\n      try {\r\n        var options = Object.defineProperties(\r\n          {}, {\r\n            passive: {\r\n              get: function () {\r\n                // this function will be called when the browser\r\n                // attempts to access the passive property.\r\n                passiveSupported = true;\r\n              }\r\n            }\r\n          }\r\n        );\r\n        window.addEventListener(\"test\", options, options);\r\n        window.removeEventListener(\"test\", options, options);\r\n      }\r\n      catch (err) {\r\n          passiveSupported = false;\r\n      }\r\n      return passiveSupported;\n    }\n\n  },\n\n  defer : function(statics) {\n    qx.core.Environment.add(\"event.touch\", statics.getTouch);\n    qx.core.Environment.add(\"event.mouseevent\", statics.getMouseEvent);\n    qx.core.Environment.add(\"event.mousecreateevent\", statics.getMouseCreateEvent);\n    qx.core.Environment.add(\"event.dispatchevent\", statics.getDispatchEvent);\n    qx.core.Environment.add(\"event.customevent\", statics.getCustomEvent);\n    qx.core.Environment.add(\"event.mspointer\", statics.getMsPointer);\n    qx.core.Environment.add(\"event.help\", statics.getHelp);\n    qx.core.Environment.add(\"event.hashchange\", statics.getHashChange);\n    qx.core.Environment.add(\"event.mousewheel\", statics.getMouseWheel);\n    qx.core.Environment.add(\"event.auxclick\", statics.getAuxclickEvent);\n    qx.core.Environment.add(\"event.passive\", statics.getPassive);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * The class is responsible for device detection. This is specially useful\n * if you are on a mobile device.\n *\n * This class is used by {@link qx.core.Environment} and should not be used\n * directly. Please check its class comment for details how to use it.\n *\n * @internal\n */\nqx.Bootstrap.define(\"qx.bom.client.Device\",\n{\n  statics :\n  {\n    /** Maps user agent names to device IDs */\n    __ids : {\n      \"Windows Phone\": \"iemobile\",\n      \"iPod\" : \"ipod\",\n      \"iPad\" : \"ipad\",\n      \"iPhone\" : \"iphone\",\n      \"PSP\" : \"psp\",\n      \"PLAYSTATION 3\" : \"ps3\",\n      \"Nintendo Wii\" : \"wii\",\n      \"Nintendo DS\" : \"ds\",\n      \"XBOX\" : \"xbox\",\n      \"Xbox\" : \"xbox\"\n    },\n\n\n    /**\n     * Returns the name of the current device if detectable. It falls back to\n     * <code>pc</code> if the detection for other devices fails.\n     *\n     * @internal\n     * @return {String} The string of the device found.\n     */\n    getName : function() {\n      var str = [];\n      for (var key in qx.bom.client.Device.__ids) {\n        str.push(key);\n      }\n      var reg = new RegExp(\"(\" + str.join(\"|\").replace(/\\./g, \"\\.\") + \")\", \"g\");\n      var match = reg.exec(navigator.userAgent);\n\n      if (match && match[1]) {\n        return qx.bom.client.Device.__ids[match[1]];\n      }\n\n      return \"pc\";\n    },\n\n\n    /**\n     * Determines on what type of device the application is running.\n     * Valid values are: \"mobile\", \"tablet\" or \"desktop\".\n     * @return {String} The device type name of determined device.\n     */\n    getType : function() {\n      return qx.bom.client.Device.detectDeviceType(navigator.userAgent);\n    },\n\n\n    /**\n     * Detects the device type, based on given userAgentString.\n     *\n     * @param userAgentString {String} userAgent parameter, needed for decision.\n     * @return {String} The device type name of determined device: \"mobile\",\"desktop\",\"tablet\"\n     */\n    detectDeviceType : function(userAgentString) {\n      if(qx.bom.client.Device.detectTabletDevice(userAgentString)){\n        return \"tablet\";\n      } else if (qx.bom.client.Device.detectMobileDevice(userAgentString)){\n        return \"mobile\";\n      }\n\n      return \"desktop\";\n    },\n\n\n    /**\n     * Detects if a device is a mobile phone. (Tablets excluded.)\n     * @param userAgentString {String} userAgent parameter, needed for decision.\n     * @return {Boolean} Flag which indicates whether it is a mobile device.\n     */\n    detectMobileDevice : function(userAgentString){\n      return /android.+mobile|ip(hone|od)|bada\\/|blackberry|BB10|maemo|opera m(ob|in)i|fennec|NetFront|phone|psp|symbian|IEMobile|windows (ce|phone)|xda/i.test(userAgentString);\n    },\n\n\n    /**\n     * Detects if a device is a tablet device.\n     * @param userAgentString {String} userAgent parameter, needed for decision.\n     * @return {Boolean} Flag which indicates whether it is a tablet device.\n     */\n    detectTabletDevice : function(userAgentString){\n      var isIE10Tablet = (/MSIE 10/i.test(userAgentString)) && (/ARM/i.test(userAgentString)) && !(/windows phone/i.test(userAgentString));\n      var isCommonTablet = (!(/android.+mobile|Tablet PC/i.test(userAgentString)) && (/Android|ipad|tablet|playbook|silk|kindle|psp/i.test(userAgentString)));\n\n      return  isIE10Tablet || isCommonTablet;\n    },\n\n\n    /**\n     * Detects the device's pixel ratio. Returns 1 if detection is not possible.\n     *\n     * @return {Number} The device's pixel ratio\n     */\n    getDevicePixelRatio : function() {\n      if (typeof window.devicePixelRatio !== \"undefined\") {\n        return window.devicePixelRatio;\n      }\n\n      return 1;\n    },\n\n\n    /**\n     * Detects if either touch events or pointer events are supported.\n     * Additionally it checks if touch is enabled for pointer events.\n     *\n     * @return {Boolean} <code>true</code>, if the device supports touch\n     */\n    getTouch : function() {\n      return ((\"ontouchstart\" in window) ||\n        window.navigator.maxTouchPoints > 0 ||\n        window.navigator.msMaxTouchPoints > 0);\n    }\n  },\n\n\n  defer : function(statics) {\n      qx.core.Environment.add(\"device.name\", statics.getName);\n      qx.core.Environment.add(\"device.touch\", statics.getTouch);\n      qx.core.Environment.add(\"device.type\", statics.getType);\n      qx.core.Environment.add(\"device.pixelRatio\", statics.getDevicePixelRatio);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Low-level pointer event handler.\n *\n * @require(qx.bom.client.Event)\n * @require(qx.bom.client.Device)\n */\nqx.Bootstrap.define(\"qx.event.handler.PointerCore\", {\n\n  extend : Object,\n  implement: [ qx.core.IDisposable ],\n\n  statics : {\n    MOUSE_TO_POINTER_MAPPING: {\n      mousedown: \"pointerdown\",\n      mouseup: \"pointerup\",\n      mousemove: \"pointermove\",\n      mouseout: \"pointerout\",\n      mouseover: \"pointerover\"\n    },\n\n    TOUCH_TO_POINTER_MAPPING: {\n      touchstart: \"pointerdown\",\n      touchend: \"pointerup\",\n      touchmove: \"pointermove\",\n      touchcancel: \"pointercancel\"\n    },\n\n    MSPOINTER_TO_POINTER_MAPPING: {\n      MSPointerDown : \"pointerdown\",\n      MSPointerMove : \"pointermove\",\n      MSPointerUp : \"pointerup\",\n      MSPointerCancel : \"pointercancel\",\n      MSPointerLeave : \"pointerleave\",\n      MSPointerEnter: \"pointerenter\",\n      MSPointerOver : \"pointerover\",\n      MSPointerOut : \"pointerout\"\n    },\n\n    POINTER_TO_GESTURE_MAPPING : {\n      pointerdown : \"gesturebegin\",\n      pointerup : \"gesturefinish\",\n      pointercancel : \"gesturecancel\",\n      pointermove : \"gesturemove\"\n    },\n\n    LEFT_BUTTON : (qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n      qx.core.Environment.get(\"browser.documentmode\") <= 8) ? 1 : 0,\n\n    SIM_MOUSE_DISTANCE : 25,\n\n    SIM_MOUSE_DELAY : 2500,\n\n    /**\n     * Coordinates of the last touch. This needs to be static because the target could\n     * change between touch and simulated mouse events. Touch events will be detected\n     * by one instance which moves the target. The simulated mouse events will be fired with\n     * a delay which causes another target and with that, another instance of this handler.\n     * last touch was.\n     */\n    __lastTouch : null\n  },\n\n  /**\n   * Create a new instance\n   *\n   * @param target {Element} element on which to listen for native touch events\n   * @param emitter {qx.event.Emitter?} Event emitter (used if dispatchEvent\n   * is not supported, e.g. in IE8)\n   */\n  construct : function(target, emitter) {\n    this.__defaultTarget = target;\n    this.__emitter = emitter;\n    this.__eventNames = [];\n    this.__buttonStates = [];\n    this.__activeTouches = [];\n    this._processedFlag = \"$$qx\" +\n      this.classname.substr(this.classname.lastIndexOf(\".\") + 1) +\n      \"Processed\";\n\n    var engineName = qx.core.Environment.get(\"engine.name\");\n    var docMode = parseInt(qx.core.Environment.get(\"browser.documentmode\"), 10);\n    if (engineName == \"mshtml\" && docMode == 10) {\n      // listen to native prefixed events and custom unprefixed (see bug #8921)\n      this.__eventNames = [\n        \"MSPointerDown\", \"MSPointerMove\", \"MSPointerUp\", \"MSPointerCancel\", \"MSPointerOver\", \"MSPointerOut\",\n        \"pointerdown\", \"pointermove\", \"pointerup\", \"pointercancel\", \"pointerover\", \"pointerout\"\n      ];\n      this._initPointerObserver();\n    } else {\n      if (qx.core.Environment.get(\"event.mspointer\")) {\n        this.__nativePointerEvents = true;\n      }\n      this.__eventNames = [\n        \"pointerdown\", \"pointermove\", \"pointerup\", \"pointercancel\", \"pointerover\", \"pointerout\"\n      ];\n      this._initPointerObserver();\n    }\n    if (!qx.core.Environment.get(\"event.mspointer\")) {\n      if (qx.core.Environment.get(\"device.touch\")) {\n        this.__eventNames = [\"touchstart\", \"touchend\", \"touchmove\", \"touchcancel\"];\n        this._initObserver(this._onTouchEvent);\n      }\n\n      this.__eventNames = [\n        \"mousedown\", \"mouseup\", \"mousemove\", \"mouseover\", \"mouseout\", \"contextmenu\"\n      ];\n      this._initObserver(this._onMouseEvent);\n    }\n  },\n\n\n  members : {\n    __defaultTarget : null,\n    __emitter : null,\n    __eventNames : null,\n    __nativePointerEvents : false,\n    __wrappedListener : null,\n    __lastButtonState : 0,\n    __buttonStates : null,\n    __primaryIdentifier : null,\n    __activeTouches : null,\n    _processedFlag : null,\n\n    /**\n     * Adds listeners to native pointer events if supported\n     */\n    _initPointerObserver : function() {\n      this._initObserver(this._onPointerEvent);\n    },\n\n\n    /**\n     * Register native event listeners\n     * @param callback {Function} listener callback\n     * @param useEmitter {Boolean} attach listener to Emitter instead of\n     * native event\n     */\n    _initObserver : function(callback, useEmitter) {\n      this.__wrappedListener = qx.lang.Function.listener(callback, this);\n      this.__eventNames.forEach(function(type) {\n        if (useEmitter && qx.dom.Node.isDocument(this.__defaultTarget)) {\n          if (!this.__defaultTarget.$$emitter) {\n            this.__defaultTarget.$$emitter = new qx.event.Emitter();\n          }\n          this.__defaultTarget.$$emitter.on(type, this.__wrappedListener);\n        } else {\n          qx.bom.Event.addNativeListener(this.__defaultTarget, type, this.__wrappedListener);\n        }\n      }.bind(this));\n    },\n\n    /**\n     * Handler for native pointer events\n     * @param domEvent {Event}  Native DOM event\n     */\n    _onPointerEvent : function(domEvent) {\n      if (!qx.core.Environment.get(\"event.mspointer\") ||\n          // workaround for bug #8533\n          (qx.core.Environment.get(\"browser.documentmode\") === 10 && domEvent.type.toLowerCase().indexOf(\"ms\") == -1)\n        )\n      {\n        return;\n      }\n      if (!this.__nativePointerEvents) {\n        domEvent.stopPropagation();\n      }\n      var type = qx.event.handler.PointerCore.MSPOINTER_TO_POINTER_MAPPING[domEvent.type] || domEvent.type;\n      var target = qx.bom.Event.getTarget(domEvent);\n      var evt = new qx.event.type.dom.Pointer(type, domEvent);\n      this._fireEvent(evt, type, target);\n    },\n\n\n    /**\n     * Handler for touch events\n     * @param domEvent {Event} Native DOM event\n     */\n    _onTouchEvent: function(domEvent) {\n      if (domEvent[this._processedFlag]) {\n        return;\n      }\n      domEvent[this._processedFlag] = true;\n      var type = qx.event.handler.PointerCore.TOUCH_TO_POINTER_MAPPING[domEvent.type];\n      var changedTouches = domEvent.changedTouches;\n\n      this._determineActiveTouches(domEvent.type, changedTouches);\n\n      // Detecting vacuum touches. (Touches which are not active anymore, but did not fire a touchcancel event)\n      if (domEvent.touches.length < this.__activeTouches.length) {\n        // Firing pointer cancel for previously active touches.\n        for (var i = this.__activeTouches.length - 1; i >= 0; i--) {\n          var cancelEvent = new qx.event.type.dom.Pointer(\"pointercancel\", domEvent, {\n            identifier: this.__activeTouches[i].identifier,\n            target: domEvent.target,\n            pointerType: \"touch\",\n            pointerId: this.__activeTouches[i].identifier + 2\n          });\n\n          this._fireEvent(cancelEvent, \"pointercancel\", domEvent.target);\n        }\n\n        // Reset primary identifier\n        this.__primaryIdentifier = null;\n\n        // cleanup of active touches array.\n        this.__activeTouches = [];\n\n        // Do nothing after pointer cancel.\n        return;\n      }\n\n      if (domEvent.type == \"touchstart\" && this.__primaryIdentifier === null) {\n        this.__primaryIdentifier = changedTouches[0].identifier;\n      }\n\n      for (var i = 0, l = changedTouches.length; i < l; i++) {\n        var touch = changedTouches[i];\n\n        var touchTarget = domEvent.view.document.elementFromPoint(touch.clientX,touch.clientY) || domEvent.target;\n\n        var touchProps = {\n          clientX: touch.clientX,\n          clientY: touch.clientY,\n          pageX: touch.pageX,\n          pageY: touch.pageY,\n          identifier: touch.identifier,\n          screenX: touch.screenX,\n          screenY: touch.screenY,\n          target: touchTarget,\n          pointerType: \"touch\",\n          pointerId: touch.identifier + 2\n        };\n\n        if (domEvent.type == \"touchstart\") {\n          // Fire pointerenter before pointerdown\n          var overEvt = new qx.event.type.dom.Pointer(\"pointerover\", domEvent, touchProps);\n          this._fireEvent(overEvt, \"pointerover\", touchProps.target);\n        }\n\n        if (touch.identifier == this.__primaryIdentifier) {\n          touchProps.isPrimary = true;\n          // always simulate left click on touch interactions for primary pointer\n          touchProps.button = 0;\n          touchProps.buttons = 1;\n          qx.event.handler.PointerCore.__lastTouch = {\n            \"x\": touch.clientX,\n            \"y\": touch.clientY,\n            \"time\": new Date().getTime()\n          };\n        }\n\n        var evt = new qx.event.type.dom.Pointer(type, domEvent, touchProps);\n\n        this._fireEvent(evt, type, touchProps.target);\n\n        if (domEvent.type == \"touchend\" || domEvent.type == \"touchcancel\") {\n          // Fire pointerout after pointerup\n          var outEvt = new qx.event.type.dom.Pointer(\"pointerout\", domEvent, touchProps);\n          // fire on the original target to make sure over / out event are on the same target\n          this._fireEvent(outEvt, \"pointerout\", domEvent.target);\n\n          if (this.__primaryIdentifier == touch.identifier) {\n            this.__primaryIdentifier = null;\n          }\n        }\n      }\n    },\n\n\n    /**\n    * Handler for touch events\n    * @param domEvent {Event} Native DOM event\n    */\n    _onMouseEvent : function(domEvent) {\n      if (domEvent[this._processedFlag]) {\n        return;\n      }\n      domEvent[this._processedFlag] = true;\n\n      if (this._isSimulatedMouseEvent(domEvent.clientX, domEvent.clientY)) {\n        /*\n          Simulated MouseEvents are fired by browsers directly after TouchEvents\n          for improving compatibility. They should not trigger PointerEvents.\n        */\n        return;\n      }\n\n      if (domEvent.type == \"mousedown\") {\n        this.__buttonStates[domEvent.which] = 1;\n      } else if (domEvent.type == \"mouseup\") {\n        if (qx.core.Environment.get(\"os.name\") == \"osx\" && qx.core.Environment.get(\"engine.name\") == \"gecko\") {\n          if (this.__buttonStates[domEvent.which] != 1 && domEvent.ctrlKey) {\n            this.__buttonStates[1] = 0;\n          }\n        }\n\n        this.__buttonStates[domEvent.which] = 0;\n      }\n\n      var type = qx.event.handler.PointerCore.MOUSE_TO_POINTER_MAPPING[domEvent.type];\n      var target = qx.bom.Event.getTarget(domEvent);\n\n      var buttonsPressed = qx.lang.Array.sum(this.__buttonStates);\n\n      var mouseProps = {pointerType : \"mouse\", pointerId: 1};\n\n      // if the button state changes but not from or to zero\n      if (this.__lastButtonState != buttonsPressed && buttonsPressed !== 0 && this.__lastButtonState !== 0) {\n        var moveEvt = new qx.event.type.dom.Pointer(\"pointermove\", domEvent, mouseProps);\n        this._fireEvent(moveEvt, \"pointermove\", target);\n      }\n      this.__lastButtonState = buttonsPressed;\n\n      // pointerdown should only trigger form the first pressed button.\n      if (domEvent.type == \"mousedown\" && buttonsPressed > 1) {\n        return;\n      }\n\n      // pointerup should only trigger if user releases all buttons.\n      if (domEvent.type == \"mouseup\" && buttonsPressed > 0) {\n        return;\n      }\n\n      if (domEvent.type == \"contextmenu\") {\n        this.__buttonStates[domEvent.which] = 0;\n        return;\n      }\n\n      var evt = new qx.event.type.dom.Pointer(type, domEvent, mouseProps);\n      this._fireEvent(evt, type, target);\n    },\n\n\n    /**\n     * Determines the current active touches.\n     * @param type {String} the DOM event type.\n     * @param changedTouches {Array} the current changed touches.\n     */\n    _determineActiveTouches: function(type, changedTouches) {\n      if (type == \"touchstart\") {\n        for (var i = 0; i < changedTouches.length; i++) {\n          this.__activeTouches.push(changedTouches[i]);\n        }\n      } else if (type == \"touchend\" || type == \"touchcancel\") {\n        var updatedActiveTouches = [];\n\n        for (var i = 0; i < this.__activeTouches.length; i++) {\n          var add = true;\n          for (var j = 0; j < changedTouches.length; j++) {\n            if (this.__activeTouches[i].identifier == changedTouches[j].identifier) {\n              add = false;\n              break;\n            }\n          }\n\n          if (add) {\n            updatedActiveTouches.push(this.__activeTouches[i]);\n          }\n        }\n        this.__activeTouches = updatedActiveTouches;\n      }\n    },\n\n\n    /**\n     * Detects whether the given MouseEvent position is identical to the previously fired TouchEvent position.\n     * If <code>true</code> the corresponding event can be identified as simulated.\n     * @param x {Integer} current mouse x\n     * @param y {Integer} current mouse y\n     * @return {Boolean} <code>true</code> if passed mouse position is a synthetic MouseEvent.\n     */\n    _isSimulatedMouseEvent: function(x, y) {\n      var touch = qx.event.handler.PointerCore.__lastTouch;\n      if (touch) {\n        var timeSinceTouch = new Date().getTime() - touch.time;\n        var dist = qx.event.handler.PointerCore.SIM_MOUSE_DISTANCE;\n        var distX = Math.abs(x - qx.event.handler.PointerCore.__lastTouch.x);\n        var distY = Math.abs(y - qx.event.handler.PointerCore.__lastTouch.y);\n        if (timeSinceTouch < qx.event.handler.PointerCore.SIM_MOUSE_DELAY) {\n          if (distX < dist || distY < dist) {\n            return true;\n          }\n        }\n      }\n      return false;\n    },\n\n\n    /**\n     * Removes native pointer event listeners.\n     */\n    _stopObserver : function() {\n      for (var i = 0; i < this.__eventNames.length; i++) {\n        qx.bom.Event.removeNativeListener(this.__defaultTarget, this.__eventNames[i], this.__wrappedListener);\n      }\n    },\n\n    /**\n     * Fire a touch event with the given parameters\n     *\n     * @param domEvent {Event} DOM event\n     * @param type {String ? null} type of the event\n     * @param target {Element ? null} event target\n     * @return {qx.Promise?} a promise, if one was returned by event handlers\n     */\n    _fireEvent : function(domEvent, type, target)\n    {\n      target = target || domEvent.target;\n      type = type || domEvent.type;\n\n      var gestureEvent;\n      if ((domEvent.pointerType !== \"mouse\" ||\n           domEvent.button <= qx.event.handler.PointerCore.LEFT_BUTTON) &&\n        (type == \"pointerdown\" || type == \"pointerup\" || type == \"pointermove\"))\n      {\n        gestureEvent = new qx.event.type.dom.Pointer(\n          qx.event.handler.PointerCore.POINTER_TO_GESTURE_MAPPING[type],\n          domEvent);\n        qx.event.type.dom.Pointer.normalize(gestureEvent);\n        try {\n          gestureEvent.srcElement = target;\n        }catch(ex) {\n          // Nothing - strict mode prevents writing to read only properties\n        }\n      }\n\n      if (qx.core.Environment.get(\"event.dispatchevent\")) {\n        var tracker = {};\n        if (!this.__nativePointerEvents) {\n          qx.event.Utils.then(tracker, function() {\n            return target.dispatchEvent(domEvent);\n          });\n        }\n        if (gestureEvent) {\n          qx.event.Utils.then(tracker, function() {\n            return target.dispatchEvent(gestureEvent);\n          });\n        }\n        return tracker.promise;\n      } else {\n        // ensure compatibility with native events for IE8\n        try {\n          domEvent.srcElement = target;\n        }catch(ex) {\n          // Nothing - strict mode prevents writing to read only properties\n        }\n\n        while (target) {\n          if (target.$$emitter) {\n            domEvent.currentTarget = target;\n            if (!domEvent._stopped) {\n              target.$$emitter.emit(type, domEvent);\n            }\n            if (gestureEvent && !gestureEvent._stopped) {\n              gestureEvent.currentTarget = target;\n              target.$$emitter.emit(gestureEvent.type, gestureEvent);\n            }\n          }\n          target = target.parentNode;\n        }\n      }\n    },\n\n    /**\n     * Dispose this object\n     */\n    dispose : function() {\n      this._stopObserver();\n      this.__defaultTarget = this.__emitter = null;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Unified pointer event handler.\n * @require(qx.event.dispatch.DomBubbling)\n * @require(qx.event.type.Pointer) // load-time dependency for early native events\n * @require(qx.event.type.dom.Pointer)\n */\nqx.Class.define(\"qx.event.handler.Pointer\",\n{\n  extend : qx.event.handler.PointerCore,\n  implement : [ qx.event.IEventHandler, qx.core.IDisposable ],\n\n  statics : {\n\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES : {\n      pointermove : 1,\n      pointerover : 1,\n      pointerout : 1,\n      pointerdown : 1,\n      pointerup : 1,\n      pointercancel : 1,\n\n      gesturebegin : 1,\n      gesturemove : 1,\n      gesturefinish : 1,\n      gesturecancel : 1\n    },\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE + qx.event.IEventHandler.TARGET_DOCUMENT,\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true\n  },\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager)\n  {\n    // Define shorthands\n    this.__manager = manager;\n    this.__window = manager.getWindow();\n    this.__root = this.__window.document;\n\n    qx.event.handler.PointerCore.apply(this, [this.__root]);\n  },\n\n  members : {\n    __manager : null,\n    __window : null,\n    __root : null,\n\n\n    // interface implementation\n    canHandleEvent : function(target, type) {},\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // overridden\n    _initPointerObserver : function() {\n      var useEmitter = false;\n      if (qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n        qx.core.Environment.get(\"browser.documentmode\") < 9) {\n        // Workaround for bug #8293: Use an emitter to listen to the\n        // pointer events fired by a pointer handler attached by qxWeb.\n        useEmitter = true;\n      }\n      this._initObserver(this._onPointerEvent, useEmitter);\n    },\n\n\n    /**\n     * Fire a pointer event with the given parameters\n     *\n     * @param domEvent {Event} DOM event\n     * @param type {String ? null} type of the event\n     * @param target {Element ? null} event target\n     */\n    _fireEvent : function(domEvent, type, target)\n    {\n      if (!target) {\n        target = qx.bom.Event.getTarget(domEvent);\n      }\n\n      // respect anonymous elements\n      while (target && target.getAttribute && target.getAttribute(\"qxanonymous\")) {\n        target = target.parentNode;\n      }\n\n      if (!type) {\n        type = domEvent.type;\n      }\n\n      type = qx.event.handler.PointerCore.MSPOINTER_TO_POINTER_MAPPING[type] || type;\n\n      if (target && target.nodeType)\n      {\n        qx.event.type.dom.Pointer.normalize(domEvent);\n        // ensure compatibility with native events for IE8\n        try {\n          domEvent.srcElement = target;\n        }catch(ex) {\n          // Nothing - cannot change properties in strict mode\n        }\n\n        var tracker = {};\n        var self = this;\n        qx.event.Utils.track(tracker, function() {\n          return qx.event.Registration.fireEvent(\n              target,\n              type,\n              qx.event.type.Pointer,\n              [domEvent, target, null, true, true]\n            );\n        });\n\n        qx.event.Utils.then(tracker, function() {\n          if ((domEvent.getPointerType() !== \"mouse\" ||\n              domEvent.button <= qx.event.handler.PointerCore.LEFT_BUTTON) &&\n              (type == \"pointerdown\" || type == \"pointerup\" || type == \"pointermove\" || type == \"pointercancel\"))\n          {\n             return qx.event.Registration.fireEvent(\n               self.__root,\n               qx.event.handler.PointerCore.POINTER_TO_GESTURE_MAPPING[type],\n               qx.event.type.Pointer,\n               [domEvent, target, null, false, false]\n             );\n           }\n        });\n        qx.event.Utils.then(tracker, function() {\n          // Fire user action event\n          return qx.event.Registration.fireEvent(self.__window, \"useraction\", qx.event.type.Data, [type]);\n        });\n        return tracker.promise;\n      }\n    },\n\n    // overridden\n    _onPointerEvent : function(domEvent) {\n      if (domEvent._original && domEvent._original[this._processedFlag]) {\n        return;\n      }\n\n      var type = qx.event.handler.PointerCore.MSPOINTER_TO_POINTER_MAPPING[domEvent.type] || domEvent.type;\n      return this._fireEvent(domEvent, type, qx.bom.Event.getTarget(domEvent));\n    },\n\n\n    /**\n     * Dispose this object\n     */\n    dispose : function()\n    {\n      this.__callBase(\"dispose\");\n      this.__manager = this.__window = this.__root = null;\n    },\n\n\n    /**\n     * Call overridden method.\n     *\n     * @param method {String} Name of the overridden method.\n     * @param args {Array} Arguments.\n     */\n    __callBase: function(method, args) {\n      qx.event.handler.PointerCore.prototype[method].apply(this, args || []);\n    }\n  },\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n    qx.event.Registration.getManager(document).getHandler(statics);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Listens for (native or synthetic) pointer events and fires events\n * for gestures like \"tap\" or \"swipe\"\n */\nqx.Bootstrap.define(\"qx.event.handler.GestureCore\", {\n  extend : Object,\n  implement: [ qx.core.IDisposable ],\n\n  statics : {\n\n    TYPES : [\"tap\", \"swipe\", \"longtap\", \"dbltap\", \"track\", \"trackstart\", \"trackend\", \"rotate\", \"pinch\", \"roll\"],\n\n    GESTURE_EVENTS : [\"gesturebegin\", \"gesturefinish\", \"gesturemove\", \"gesturecancel\"],\n\n    /** @type {Map} Maximum distance between a pointer-down and pointer-up event, values are configurable */\n    TAP_MAX_DISTANCE : {\"touch\": 40, \"mouse\": 5, \"pen\": 20}, // values are educated guesses\n\n    /** @type {Map} Maximum distance between two subsequent taps, values are configurable */\n    DOUBLETAP_MAX_DISTANCE : {\"touch\": 10, \"mouse\": 4, \"pen\": 10}, // values are educated guesses\n\n    /** @type {Map} The direction of a swipe relative to the axis */\n    SWIPE_DIRECTION :\n    {\n      x : [\"left\", \"right\"],\n      y : [\"up\", \"down\"]\n    },\n\n    /**\n     * @type {Integer} The time delta in milliseconds to fire a long tap event.\n     */\n    LONGTAP_TIME : qx.core.Environment.get(\"device.touch\")? 500: 99999,\n\n    /**\n     * @type {Integer} Maximum time between two tap events that will still trigger a\n     * dbltap event.\n     */\n    DOUBLETAP_TIME : 500,\n\n    /**\n     * @type {Integer} Factor which is used for adapting the delta of the mouse wheel\n     * event to the roll events,\n     */\n    ROLL_FACTOR: 18,\n\n    /**\n     * @type {Integer} Factor which is used for adapting the delta of the touchpad gesture\n     * event to the roll events,\n     */\n    TOUCHPAD_ROLL_FACTOR: 1,\n\n    /**\n     * @type {Integer} Minimum number of wheel events to receive during the\n     * TOUCHPAD_WHEEL_EVENTS_PERIOD to detect a touchpad.\n     */\n    TOUCHPAD_WHEEL_EVENTS_THRESHOLD: 10,\n\n    /**\n     * @type {Integer} Period (in ms) during which the wheel events are counted in order\n     * to detect a touchpad.\n     */\n    TOUCHPAD_WHEEL_EVENTS_PERIOD: 100,\n\n    /**\n     * @type {Integer} Timeout (in ms) after which the touchpad detection is reset if no wheel\n     * events are received in the meantime.\n     */\n    TOUCHPAD_WHEEL_EVENTS_TIMEOUT: 5000\n  },\n\n  /**\n   * @param target {Element} DOM Element that should fire gesture events\n   * @param emitter {qx.event.Emitter?} Event emitter (used if dispatchEvent\n   * is not supported, e.g. in IE8)\n   */\n  construct : function(target, emitter) {\n    this.__defaultTarget = target;\n    this.__emitter = emitter;\n    this.__gesture = {};\n    this.__lastTap = {};\n    this.__stopMomentum = {};\n    this.__momentum = {};\n    this.__rollEvents = [];\n    this._initObserver();\n  },\n\n  members : {\n    __defaultTarget : null,\n    __emitter : null,\n    __gesture : null,\n    __eventName : null,\n    __primaryTarget : null,\n    __isMultiPointerGesture : null,\n    __initialAngle : null,\n    __lastTap : null,\n    __rollImpulseId : null,\n    __stopMomentum : null,\n    __initialDistance : null,\n    __momentum : null,\n    __rollEvents : null,\n    __rollEventsCountStart : 0,\n    __rollEventsCount : 0,\n    __touchPadDetectionPerformed : false,\n    __lastRollEventTime: 0,\n\n    /**\n     * Register pointer event listeners\n     */\n    _initObserver : function() {\n      qx.event.handler.GestureCore.GESTURE_EVENTS.forEach(function(gestureType) {\n        qxWeb(this.__defaultTarget).on(gestureType, this.checkAndFireGesture, this);\n      }.bind(this));\n\n      if (qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n        qx.core.Environment.get(\"browser.documentmode\") < 9)\n      {\n        qxWeb(this.__defaultTarget).on(\"dblclick\", this._onDblClick, this);\n      }\n\n      // list to wheel events\n      var data = qx.core.Environment.get(\"event.mousewheel\");\n      qxWeb(data.target).on(data.type, this._fireRoll, this);\n    },\n\n\n    /**\n     * Remove native pointer event listeners.\n     */\n    _stopObserver : function() {\n      qx.event.handler.GestureCore.GESTURE_EVENTS.forEach(function(pointerType) {\n        qxWeb(this.__defaultTarget).off(pointerType, this.checkAndFireGesture, this);\n      }.bind(this));\n\n      if (qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n        qx.core.Environment.get(\"browser.documentmode\") < 9)\n      {\n        qxWeb(this.__defaultTarget).off(\"dblclick\", this._onDblClick, this);\n      }\n\n      var data = qx.core.Environment.get(\"event.mousewheel\");\n      qxWeb(data.target).off(data.type, this._fireRoll, this);\n    },\n\n\n    /**\n     * Checks if a gesture was made and fires the gesture event.\n     *\n     * @param domEvent {qx.event.type.Pointer} DOM event\n     * @param type {String ? null} type of the event\n     * @param target {Element ? null} event target\n     */\n    checkAndFireGesture : function(domEvent, type, target) {\n      if (!type) {\n        type = domEvent.type;\n      }\n\n      if (!target) {\n        target = qx.bom.Event.getTarget(domEvent);\n      }\n\n      if (type == \"gesturebegin\") {\n        this.gestureBegin(domEvent, target);\n      } else if (type == \"gesturemove\") {\n        this.gestureMove(domEvent, target);\n      } else if (type == \"gesturefinish\") {\n        this.gestureFinish(domEvent, target);\n      } else if (type == \"gesturecancel\") {\n        this.gestureCancel(domEvent.pointerId);\n      }\n    },\n\n    /**\n     * Helper method for gesture start.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     */\n    gestureBegin : function(domEvent, target) {\n      if (this.__gesture[domEvent.pointerId]) {\n        this.__stopLongTapTimer(this.__gesture[domEvent.pointerId]);\n        delete this.__gesture[domEvent.pointerId];\n      }\n\n      /*\n        If the dom event's target or one of its ancestors have\n        a gesture handler, we don't need to fire the gesture again\n        since it bubbles.\n       */\n      if (this._hasIntermediaryHandler(target)) {\n        return;\n      }\n\n      this.__gesture[domEvent.pointerId] = {\n        \"startTime\" : new Date().getTime(),\n        \"lastEventTime\" : new Date().getTime(),\n        \"startX\" : domEvent.clientX,\n        \"startY\" : domEvent.clientY,\n        \"clientX\" : domEvent.clientX,\n        \"clientY\" : domEvent.clientY,\n        \"velocityX\" : 0,\n        \"velocityY\" : 0,\n        \"target\" : target,\n        \"isTap\" : true,\n        \"isPrimary\" : domEvent.isPrimary,\n        \"longTapTimer\" : window.setTimeout(\n          this.__fireLongTap.bind(this, domEvent, target),\n          qx.event.handler.GestureCore.LONGTAP_TIME\n        )\n      };\n\n      if(domEvent.isPrimary) {\n        this.__isMultiPointerGesture = false;\n        this.__primaryTarget = target;\n        this.__fireTrack(\"trackstart\", domEvent, target);\n      } else {\n        this.__isMultiPointerGesture = true;\n        if(Object.keys(this.__gesture).length === 2) {\n          this.__initialAngle = this._calcAngle();\n          this.__initialDistance = this._calcDistance();\n        }\n      }\n    },\n\n\n    /**\n     * Helper method for gesture move.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     */\n    gestureMove : function(domEvent, target) {\n      var gesture = this.__gesture[domEvent.pointerId];\n\n      if (gesture) {\n        var oldClientX = gesture.clientX;\n        var oldClientY = gesture.clientY;\n\n        gesture.clientX = domEvent.clientX;\n        gesture.clientY = domEvent.clientY;\n        gesture.lastEventTime = new Date().getTime();\n\n        if(oldClientX) {\n          gesture.velocityX = gesture.clientX - oldClientX;\n        }\n        if(oldClientY) {\n          gesture.velocityY = gesture.clientY - oldClientY;\n        }\n\n        if (Object.keys(this.__gesture).length === 2) {\n          this.__fireRotate(domEvent, gesture.target);\n          this.__firePinch(domEvent, gesture.target);\n        }\n\n        if(!this.__isMultiPointerGesture) {\n          this.__fireTrack(\"track\", domEvent, gesture.target);\n          this._fireRoll(domEvent, \"touch\", gesture.target);\n        }\n\n        // abort long tap timer if the distance is too big\n        if (gesture.isTap) {\n          gesture.isTap = this._isBelowTapMaxDistance(domEvent);\n          if (!gesture.isTap) {\n            this.__stopLongTapTimer(gesture);\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Checks if a DOM element located between the target of a gesture\n     * event and the element this handler is attached to has a gesture\n     * handler of its own.\n     *\n     * @param target {Element} The gesture event's target\n     * @return {Boolean}\n     */\n    _hasIntermediaryHandler: function(target) {\n      while (target && target !== this.__defaultTarget) {\n        if (target.$$gestureHandler) {\n          return true;\n        }\n        target = target.parentNode;\n      }\n      return false;\n    },\n\n\n    /**\n     * Helper method for gesture end.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     */\n    gestureFinish : function(domEvent, target) {\n      // If no start position is available for this pointerup event, cancel gesture recognition.\n      if (!this.__gesture[domEvent.pointerId]) {\n        return;\n      }\n\n      var gesture = this.__gesture[domEvent.pointerId];\n      // delete the long tap\n      this.__stopLongTapTimer(gesture);\n\n      /*\n        If the dom event's target or one of its ancestors have\n        a gesture handler, we don't need to fire the gesture again\n        since it bubbles.\n       */\n      if (this._hasIntermediaryHandler(target)) {\n        return;\n      }\n\n      // always start the roll impulse on the original target\n      this.__handleRollImpulse(\n        gesture.velocityX,\n        gesture.velocityY,\n        domEvent,\n        gesture.target\n      );\n\n      this.__fireTrack(\"trackend\", domEvent, gesture.target);\n\n      if (gesture.isTap) {\n        if (target !== gesture.target) {\n\n          delete this.__gesture[domEvent.pointerId];\n          return;\n        }\n\n        this._fireEvent(domEvent, \"tap\", domEvent.target || target);\n\n        var isDblTap = false;\n        if (Object.keys(this.__lastTap).length > 0) {\n          // delete old tap entries\n          var limit = Date.now() - qx.event.handler.GestureCore.DOUBLETAP_TIME;\n          for (var time in this.__lastTap) {\n\n            if (time < limit) {\n              delete this.__lastTap[time];\n            } else {\n              var lastTap = this.__lastTap[time];\n              var isBelowDoubleTapDistance = this.__isBelowDoubleTapDistance(\n                lastTap.x,\n                lastTap.y,\n                domEvent.clientX,\n                domEvent.clientY,\n                domEvent.getPointerType()\n              );\n              var isSameTarget = lastTap.target === (domEvent.target || target);\n              var isSameButton = lastTap.button === domEvent.button;\n\n              if (isBelowDoubleTapDistance && isSameButton && isSameTarget) {\n                isDblTap = true;\n                delete this.__lastTap[time];\n                this._fireEvent(domEvent, \"dbltap\", domEvent.target || target);\n              }\n            }\n          }\n        }\n\n        if (!isDblTap) {\n          this.__lastTap[Date.now()] = {\n            x: domEvent.clientX,\n            y: domEvent.clientY,\n            target: domEvent.target || target,\n            button: domEvent.button\n          };\n        }\n\n      } else if (!this._isBelowTapMaxDistance(domEvent)) {\n        var swipe = this.__getSwipeGesture(domEvent, target);\n        if (swipe) {\n          domEvent.swipe = swipe;\n          this._fireEvent(domEvent, \"swipe\", gesture.target || target);\n        }\n      }\n\n      delete this.__gesture[domEvent.pointerId];\n    },\n\n\n    /**\n     * Stops the momentum scrolling currently running.\n     *\n     * @param id {Integer} The timeoutId of a 'roll' event\n     */\n    stopMomentum : function(id) {\n      this.__stopMomentum[id] = true;\n    },\n\n\n    /**\n     * Cancels the gesture if running.\n     * @param id {Number} The pointer Id.\n     */\n    gestureCancel : function(id) {\n      if (this.__gesture[id]) {\n        this.__stopLongTapTimer(this.__gesture[id]);\n        delete this.__gesture[id];\n      }\n      if (this.__momentum[id]) {\n        this.stopMomentum(this.__momentum[id]);\n        delete this.__momentum[id];\n      }\n    },\n\n\n    /**\n     * Update the target of a running gesture. This is used in virtual widgets\n     * when the DOM element changes.\n     *\n     * @param id {String} The pointer id.\n     * @param target {Element} The new target element.\n     * @internal\n     */\n    updateGestureTarget : function(id, target) {\n      this.__gesture[id].target = target;\n    },\n\n\n    /**\n     * Method which will be called recursively to provide a momentum scrolling.\n     * @param deltaX {Number} The last offset in X direction\n     * @param deltaY {Number} The last offset in Y direction\n     * @param domEvent {Event} The original gesture event\n     * @param target {Element} The target of the momentum roll events\n     * @param time {Number ?} The time in ms between the last two calls\n     */\n    __handleRollImpulse : function(deltaX, deltaY, domEvent, target, time) {\n      var oldTimeoutId = domEvent.timeoutId;\n      if (!time && this.__momentum[domEvent.pointerId]) {\n        // new roll impulse started, stop the old one\n        this.stopMomentum(this.__momentum[domEvent.pointerId]);\n      }\n      // do nothing if we don't need to scroll\n      if ((Math.abs(deltaY) < 1 && Math.abs(deltaX) < 1) || this.__stopMomentum[oldTimeoutId] || !this.getWindow()) {\n        delete this.__stopMomentum[oldTimeoutId];\n        delete this.__momentum[domEvent.pointerId];\n        return;\n      }\n\n      if (!time) {\n        time = 1;\n        var startFactor = 2.8;\n        deltaY = deltaY / startFactor;\n        deltaX = deltaX / startFactor;\n      }\n      time += 0.0006;\n\n      deltaY = deltaY / time;\n      deltaX = deltaX / time;\n\n      // set up a new timer with the new delta\n      var timeoutId = qx.bom.AnimationFrame.request(\n        qx.lang.Function.bind(\n          function(deltaX, deltaY, domEvent, target, time) {\n            this.__handleRollImpulse(deltaX, deltaY, domEvent, target, time);\n          },\n          this, deltaX, deltaY, domEvent, target, time)\n      );\n\n      deltaX = Math.round(deltaX * 100) / 100;\n      deltaY = Math.round(deltaY * 100) / 100;\n\n      // scroll the desired new delta\n      domEvent.delta = {\n        x: -deltaX,\n        y: -deltaY\n      };\n      domEvent.momentum = true;\n      domEvent.timeoutId = timeoutId;\n      this.__momentum[domEvent.pointerId] = timeoutId;\n      this._fireEvent(domEvent, \"roll\", domEvent.target || target);\n    },\n\n\n    /**\n    * Calculates the angle of the primary and secondary pointer.\n    * @return {Number} the rotation angle of the 2 pointers.\n    */\n    _calcAngle : function() {\n      var pointerA = null;\n      var pointerB = null;\n\n      for (var pointerId in this.__gesture) {\n        var gesture = this.__gesture[pointerId];\n        if (pointerA === null) {\n          pointerA = gesture;\n        } else {\n          pointerB = gesture;\n        }\n      }\n\n      var x = pointerA.clientX - pointerB.clientX;\n      var y = pointerA.clientY - pointerB.clientY;\n\n      return (360 + Math.atan2(y, x) * (180/Math.PI)) % 360;\n    },\n\n\n    /**\n     * Calculates the scaling distance between two pointers.\n     * @return {Number} the calculated distance.\n     */\n    _calcDistance : function() {\n      var pointerA = null;\n      var pointerB = null;\n\n      for (var pointerId in this.__gesture) {\n        var gesture = this.__gesture[pointerId];\n        if (pointerA === null) {\n          pointerA = gesture;\n        } else {\n          pointerB = gesture;\n        }\n      }\n\n      var scale = Math.sqrt( Math.pow(pointerA.clientX - pointerB.clientX, 2) + Math.pow(pointerA.clientY - pointerB.clientY, 2));\n      return scale;\n    },\n\n\n    /**\n     * Checks if the distance between the x/y coordinates of DOM event\n     * exceeds TAP_MAX_DISTANCE and returns the result.\n     *\n     * @param domEvent {Event} The DOM event from the browser.\n     * @return {Boolean|null} true if distance is below TAP_MAX_DISTANCE.\n     */\n    _isBelowTapMaxDistance: function(domEvent) {\n      var delta = this._getDeltaCoordinates(domEvent);\n      var maxDistance = qx.event.handler.GestureCore.TAP_MAX_DISTANCE[domEvent.getPointerType()];\n      if (!delta) {\n        return null;\n      }\n\n      return (Math.abs(delta.x) <= maxDistance &&\n              Math.abs(delta.y) <= maxDistance);\n    },\n\n\n    /**\n     * Checks if the distance between the x1/y1 and x2/y2 is\n     * below the TAP_MAX_DISTANCE and returns the result.\n     *\n     * @param x1 {Number} The x position of point one.\n     * @param y1 {Number} The y position of point one.\n     * @param x2 {Number} The x position of point two.\n     * @param y2 {Number} The y position of point two.\n     * @param type {String} The pointer type e.g. \"mouse\"\n     * @return {Boolean} <code>true</code>, if points are in range\n     */\n    __isBelowDoubleTapDistance : function(x1, y1, x2, y2, type) {\n      var clazz = qx.event.handler.GestureCore;\n\n      var inX = Math.abs(x1 - x2) < clazz.DOUBLETAP_MAX_DISTANCE[type];\n      var inY = Math.abs(y1 - y2) < clazz.DOUBLETAP_MAX_DISTANCE[type];\n\n      return inX && inY;\n    },\n\n\n    /**\n    * Calculates the delta coordinates in relation to the position on <code>pointerstart</code> event.\n    * @param domEvent {Event} The DOM event from the browser.\n    * @return {Map} containing the deltaX as x, and deltaY as y.\n    */\n    _getDeltaCoordinates : function(domEvent) {\n      var gesture = this.__gesture[domEvent.pointerId];\n      if (!gesture) {\n        return null;\n      }\n\n      var deltaX = domEvent.clientX - gesture.startX;\n      var deltaY = domEvent.clientY - gesture.startY;\n\n      var axis = \"x\";\n      if (Math.abs(deltaX / deltaY) < 1) {\n        axis = \"y\";\n      }\n\n      return {\n        \"x\": deltaX,\n        \"y\": deltaY,\n        \"axis\": axis\n      };\n    },\n\n\n    /**\n     * Fire a gesture event with the given parameters\n     *\n     * @param domEvent {Event} DOM event\n     * @param type {String} type of the event\n     * @param target {Element ? null} event target\n     * @return {qx.Promise?} a promise, if one or more of the event handlers returned a promise\n     */\n    _fireEvent : function(domEvent, type, target) {\n      // The target may have been removed, e.g. menu hide on tap\n      if (!this.__defaultTarget) {\n        return;\n      }\n      var evt;\n      if (qx.core.Environment.get(\"event.dispatchevent\")) {\n        evt = new qx.event.type.dom.Custom(type, domEvent, {\n          bubbles: true,\n          swipe: domEvent.swipe,\n          scale: domEvent.scale,\n          angle: domEvent.angle,\n          delta: domEvent.delta,\n          pointerType: domEvent.pointerType,\n          momentum : domEvent.momentum\n        });\n        return target.dispatchEvent(evt);\n      } else if (this.__emitter) {\n        evt = new qx.event.type.dom.Custom(type, domEvent, {\n          target : this.__defaultTarget,\n          currentTarget : this.__defaultTarget,\n          srcElement : this.__defaultTarget,\n          swipe: domEvent.swipe,\n          scale: domEvent.scale,\n          angle: domEvent.angle,\n          delta: domEvent.delta,\n          pointerType: domEvent.pointerType,\n          momentum : domEvent.momentum\n        });\n\n        this.__emitter.emit(type, domEvent);\n      }\n    },\n\n\n    /**\n     * Fire \"tap\" and \"dbltap\" events after a native \"dblclick\"\n     * event to fix IE 8's broken mouse event sequence.\n     *\n     * @param domEvent {Event} dblclick event\n     */\n    _onDblClick : function(domEvent) {\n      var target = qx.bom.Event.getTarget(domEvent);\n      this._fireEvent(domEvent, \"tap\", target);\n      this._fireEvent(domEvent, \"dbltap\", target);\n    },\n\n\n    /**\n     * Returns the swipe gesture when the user performed a swipe.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     * @return {Map|null} returns the swipe data when the user performed a swipe, null if the gesture was no swipe.\n     */\n    __getSwipeGesture : function(domEvent, target) {\n      var gesture = this.__gesture[domEvent.pointerId];\n      if (!gesture) {\n        return null;\n      }\n\n      var clazz = qx.event.handler.GestureCore;\n      var deltaCoordinates = this._getDeltaCoordinates(domEvent);\n      var duration = new Date().getTime() - gesture.startTime;\n      var axis = (Math.abs(deltaCoordinates.x) >= Math.abs(deltaCoordinates.y)) ? \"x\" : \"y\";\n      var distance = deltaCoordinates[axis];\n      var direction = clazz.SWIPE_DIRECTION[axis][distance < 0 ? 0 : 1];\n      var velocity = (duration !== 0) ? distance / duration : 0;\n\n      var swipe = {\n        startTime: gesture.startTime,\n        duration: duration,\n        axis: axis,\n        direction: direction,\n        distance: distance,\n        velocity: velocity\n      };\n\n      return swipe;\n    },\n\n\n    /**\n     * Fires a track event.\n     *\n     * @param type {String} the track type\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     */\n    __fireTrack : function(type, domEvent, target) {\n      domEvent.delta = this._getDeltaCoordinates(domEvent);\n      this._fireEvent(domEvent, type, domEvent.target || target);\n    },\n\n\n    /**\n     * Fires a roll event.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     * @param rollFactor {Integer} the roll factor to apply\n     */\n    __fireRollEvent: function (domEvent, target, rollFactor) {\n      domEvent.delta = {\n        x: qx.util.Wheel.getDelta(domEvent, \"x\") * rollFactor,\n        y: qx.util.Wheel.getDelta(domEvent, \"y\") * rollFactor\n      };\n      domEvent.delta.axis = Math.abs(domEvent.delta.x / domEvent.delta.y) < 1 ? \"y\" : \"x\";\n      domEvent.pointerType = \"wheel\";\n      this._fireEvent(domEvent, \"roll\", domEvent.target || target);\n    },\n\n    /**\n     * Triggers the adaptative roll scrolling.\n     *\n     * @param target {Element} event target\n     */\n    __performAdaptativeRollScrolling: function (target) {\n      var rollFactor = qx.event.handler.GestureCore.ROLL_FACTOR;\n      if (qx.util.Wheel.IS_TOUCHPAD) {\n        // The domEvent was generated by a touchpad\n        rollFactor = qx.event.handler.GestureCore.TOUCHPAD_ROLL_FACTOR;\n      }\n      this.__lastRollEventTime = new Date().getTime();\n      var reLength = this.__rollEvents.length;\n      for (var i = 0; i < reLength; i++) {\n        var domEvent = this.__rollEvents[i];\n        this.__fireRollEvent(domEvent, target, rollFactor);\n      }\n      this.__rollEvents = [];\n    },\n\n    /**\n     * Ends touch pad detection process.\n     */\n    __endTouchPadDetection: function () {\n      if (this.__rollEvents.length > qx.event.handler.GestureCore.TOUCHPAD_WHEEL_EVENTS_THRESHOLD) {\n        qx.util.Wheel.IS_TOUCHPAD = true;\n      } else {\n        qx.util.Wheel.IS_TOUCHPAD = false;\n      }\n      if (qx.core.Environment.get(\"qx.debug.touchpad.detection\")) {\n        qx.log.Logger.debug(this, \"IS_TOUCHPAD : \" + qx.util.Wheel.IS_TOUCHPAD);\n      }\n      this.__touchPadDetectionPerformed = true;\n    },\n\n    /**\n     * Is touchpad detection enabled ? Default implementation activates it only for Mac OS after Sierra (>= 10.12).\n     * @return {boolean} true if touchpad detection should occur.\n     * @internal\n     */\n    _isTouchPadDetectionEnabled: function () {\n      return qx.core.Environment.get(\"os.name\") == \"osx\" && qx.core.Environment.get(\"os.version\") >= 10.12;\n    },\n\n    /**\n     * Fires a roll event after determining the roll factor to apply. Mac OS Sierra (10.12+)\n     * introduces a lot more wheel events fired from the trackpad, so the roll factor to be applied\n     * has to be reduced in order to make the scrolling less sensitive.\n     *\n     * @param domEvent {Event} DOM event\n     * @param type {String} The type of the dom event\n     * @param target {Element} event target\n     */\n    _fireRoll : function(domEvent, type, target) {\n      var now;\n      var detectionTimeout;\n      if (domEvent.type === qx.core.Environment.get(\"event.mousewheel\").type) {\n        if (this._isTouchPadDetectionEnabled()) {\n          now = new Date().getTime();\n          detectionTimeout = qx.event.handler.GestureCore.TOUCHPAD_WHEEL_EVENTS_TIMEOUT;\n          if (this.__lastRollEventTime > 0 && now - this.__lastRollEventTime > detectionTimeout) {\n            // The detection timeout was reached. A new detection step should occur.\n            this.__touchPadDetectionPerformed = false;\n            this.__rollEvents = [];\n            this.__lastRollEventTime = 0;\n          }\n          if (!this.__touchPadDetectionPerformed) {\n            // We are into a detection session. We count the events so that we can decide if\n            // they were fired by a real mouse wheel or a touchpad. Just swallow them until the\n            // detection period is over.\n            if (this.__rollEvents.length === 0) {\n              // detection starts\n              this.__rollEventsCountStart = now;\n              qx.event.Timer.once(function () {\n                if (!this.__touchPadDetectionPerformed) {\n                  // There were not enough events during the TOUCHPAD_WHEEL_EVENTS_PERIOD to actually\n                  // trigger a scrolling. Trigger it manually.\n                  this.__endTouchPadDetection();\n                  this.__performAdaptativeRollScrolling(target);\n                }\n              }, this, qx.event.handler.GestureCore.TOUCHPAD_WHEEL_EVENTS_PERIOD + 50)\n            }\n            this.__rollEvents.push(domEvent);\n            this.__rollEventsCount++;\n            if (now - this.__rollEventsCountStart > qx.event.handler.GestureCore.TOUCHPAD_WHEEL_EVENTS_PERIOD) {\n              this.__endTouchPadDetection();\n            }\n          }\n          if (this.__touchPadDetectionPerformed) {\n            if (this.__rollEvents.length === 0) {\n              this.__rollEvents.push(domEvent);\n            }\n            // Detection is done. We can now decide the roll factor to apply to the delta.\n            // Default to a real mouse wheel event as opposed to a touchpad one.\n            this.__performAdaptativeRollScrolling(target);\n          }\n        } else {\n          this.__fireRollEvent(domEvent, target, qx.event.handler.GestureCore.ROLL_FACTOR);\n        }\n      } else {\n        var gesture = this.__gesture[domEvent.pointerId];\n        domEvent.delta = {\n          x: -gesture.velocityX,\n          y: -gesture.velocityY,\n          axis : Math.abs(gesture.velocityX / gesture.velocityY) < 1 ? \"y\" : \"x\"\n        };\n        this._fireEvent(domEvent, \"roll\", domEvent.target || target);\n      }\n    },\n\n\n    /**\n     * Fires a rotate event.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     */\n    __fireRotate : function(domEvent, target) {\n      if(!domEvent.isPrimary) {\n        var angle = this._calcAngle();\n        domEvent.angle = Math.round((angle - this.__initialAngle) % 360);\n        this._fireEvent(domEvent, \"rotate\", this.__primaryTarget);\n      }\n    },\n\n\n    /**\n     * Fires a pinch event.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     */\n    __firePinch: function(domEvent, target) {\n      if (!domEvent.isPrimary) {\n        var distance = this._calcDistance();\n        var scale = distance / this.__initialDistance;\n        domEvent.scale = (Math.round(scale * 100) / 100);\n        this._fireEvent(domEvent, \"pinch\", this.__primaryTarget);\n      }\n    },\n\n\n    /**\n     * Fires the long tap event.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Element} event target\n     */\n    __fireLongTap : function(domEvent, target) {\n      var gesture = this.__gesture[domEvent.pointerId];\n      if (gesture) {\n        this._fireEvent(domEvent, \"longtap\", domEvent.target || target);\n        gesture.longTapTimer = null;\n        gesture.isTap = false;\n      }\n    },\n\n\n    /**\n     * Stops the time for the long tap event.\n     * @param gesture {Map} Data may representing the gesture.\n     */\n    __stopLongTapTimer : function(gesture) {\n      if (gesture.longTapTimer) {\n        window.clearTimeout(gesture.longTapTimer);\n        gesture.longTapTimer = null;\n      }\n    },\n\n    /**\n     * Dispose the current instance\n     */\n    dispose : function() {\n      for(var gesture in this.__gesture) {\n        this.__stopLongTapTimer(gesture);\n      }\n\n      this._stopObserver();\n      this.__defaultTarget = this.__emitter = null;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2010 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Tino Butz (tbtz)\n\n************************************************************************ */\n\n\n/**\n * Tap is a single pointer gesture fired when one pointer goes down and up on\n * the same location.\n */\nqx.Class.define(\"qx.event.type.Tap\",\n{\n    extend : qx.event.type.Pointer\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2010 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Tino Butz (tbtz)\n\n************************************************************************ */\n\n\n/**\n * Swipe is a single pointer gesture fired when a pointer is moved in one direction.\n * It contains some additional data like the primary axis, the velocity and the distance.\n */\nqx.Class.define(\"qx.event.type.Swipe\",\n{\n    extend : qx.event.type.Pointer,\n\n\n    /*\n    *****************************************************************************\n       MEMBERS\n    *****************************************************************************\n    */\n\n    members :\n    {\n      // overridden\n      _cloneNativeEvent : function(nativeEvent, clone)\n      {\n        var clone = this.base(arguments, nativeEvent, clone);\n\n        clone.swipe = nativeEvent.swipe;\n\n        return clone;\n      },\n\n\n      /**\n       * Returns the start time of the performed swipe.\n       *\n       * @return {Integer} the start time\n       */\n      getStartTime : function() {\n        return this._native.swipe.startTime;\n      },\n\n\n      /**\n       * Returns the duration the performed swipe took.\n       *\n       * @return {Integer} the duration\n       */\n      getDuration : function() {\n        return this._native.swipe.duration;\n      },\n\n\n      /**\n       * Returns whether the performed swipe was on the x or y axis.\n       *\n       * @return {String} \"x\"/\"y\" axis\n       */\n      getAxis : function() {\n        return this._native.swipe.axis;\n      },\n\n\n      /**\n       * Returns the direction of the performed swipe in reference to the axis.\n       * y = up / down\n       * x = left / right\n       *\n       * @return {String} the direction\n       */\n      getDirection : function() {\n        return this._native.swipe.direction;\n      },\n\n\n      /**\n       * Returns the velocity of the performed swipe.\n       *\n       * @return {Number} the velocity\n       */\n      getVelocity : function() {\n        return this._native.swipe.velocity;\n      },\n\n\n      /**\n       * Returns the distance of the performed swipe.\n       *\n       * @return {Integer} the distance\n       */\n      getDistance : function() {\n        return this._native.swipe.distance;\n      }\n    }\n  });\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n\n************************************************************************ */\n\n\n/**\n * Rotate is a multi pointer gesture fired when two finger moved around\n * a single point. It contains the angle of the rotation.\n */\nqx.Class.define(\"qx.event.type.Rotate\",\n{\n    extend : qx.event.type.Pointer,\n\n\n    members : {\n\n      // overridden\n      _cloneNativeEvent : function(nativeEvent, clone)\n      {\n        var clone = this.base(arguments, nativeEvent, clone);\n\n        clone.angle = nativeEvent.angle;\n\n        return clone;\n      },\n\n\n      /**\n       * Returns a number with the current calculated angle between the primary and secondary active pointers.\n       *\n       * @return {Number} the angle of the two active pointers.\n       */\n      getAngle : function() {\n        return this._native.angle;\n      }\n    }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n\n************************************************************************ */\n\n\n/**\n * Pinch is a multi pointer gesture fired when two finger moved towards\n * or away from each other. It contains the scaling factor of the pinch.\n */\nqx.Class.define(\"qx.event.type.Pinch\",\n{\n    extend : qx.event.type.Pointer,\n\n\n    members : {\n\n      // overridden\n      _cloneNativeEvent : function(nativeEvent, clone)\n      {\n        var clone = this.base(arguments, nativeEvent, clone);\n\n        clone.scale = nativeEvent.scale;\n\n        return clone;\n      },\n\n\n      /**\n       * Returns the calculated scale of this event.\n       *\n       * @return {Float} the scale value of this event.\n       */\n      getScale : function() {\n        return this._native.scale;\n      }\n    }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n\n************************************************************************ */\n\n\n/**\n * Track is a single pointer gesture and contains of a three vent types:\n * <code>trackstart</code>, <code>track</code> and <code>trackend</code>. These\n * events will be fired when a pointer grabs an item and moves the pointer on it.\n */\nqx.Class.define(\"qx.event.type.Track\",\n{\n    extend : qx.event.type.Pointer,\n\n\n    members : {\n      // overridden\n      _cloneNativeEvent : function(nativeEvent, clone)\n      {\n        var clone = this.base(arguments, nativeEvent, clone);\n\n        clone.delta = nativeEvent.delta;\n\n        return clone;\n      },\n\n\n      /**\n       * Returns a map with the calculated delta coordinates and axis,\n       * relative to the position on <code>trackstart</code> event.\n       *\n       * @return {Map} a map with contains the delta as <code>x</code> and\n       * <code>y</code> and the movement axis as <code>axis</code>.\n       */\n      getDelta : function() {\n        return this._native.delta;\n      }\n    }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n\n\n/**\n * Roll event object.\n */\nqx.Class.define(\"qx.event.type.Roll\",\n{\n    extend : qx.event.type.Pointer,\n\n\n    members : {\n      // overridden\n      stop : function()\n      {\n        this.stopPropagation();\n        this.preventDefault();\n      },\n\n\n      // overridden\n      _cloneNativeEvent : function(nativeEvent, clone)\n      {\n        var clone = this.base(arguments, nativeEvent, clone);\n\n        clone.delta = nativeEvent.delta;\n        clone.momentum = nativeEvent.momentum;\n        clone.timeoutId = nativeEvent.timeoutId;\n\n        return clone;\n      },\n\n\n      /**\n       * Boolean flag to indicate if this event was triggered by a momentum.\n       * @return {Boolean} <code>true</code>, if the event is momentum based\n       */\n      getMomentum : function() {\n        return this._native.momentum;\n      },\n\n\n      /**\n       * Stops the momentum events.\n       */\n      stopMomentum : function() {\n        if (this._native.timeoutId) {\n          qx.event.Registration.getManager(this._originalTarget)\n            .getHandler(qx.event.handler.Gesture)\n            .stopMomentum(this._native.timeoutId);\n        }\n      },\n\n\n      /**\n       * Returns a map with the calculated delta coordinates and axis,\n       * relative to the last <code>roll</code> event.\n       *\n       * @return {Map} a map with contains the delta as <code>x</code> and\n       * <code>y</code>\n       */\n      getDelta : function() {\n        return this._native.delta;\n      }\n    }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Unified gesture event handler.\n *\n * @require(qx.event.handler.Pointer)\n */\nqx.Class.define(\"qx.event.handler.Gesture\",\n{\n  extend : qx.event.handler.GestureCore,\n  implement : [ qx.event.IEventHandler, qx.core.IDisposable ],\n\n  statics : {\n\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES : {\n      tap : 1,\n      swipe : 1,\n      longtap : 1,\n      dbltap : 1,\n      rotate : 1,\n      pinch : 1,\n      track : 1,\n      trackstart : 1,\n      trackend : 1,\n      roll : 1\n    },\n\n    GESTURE_EVENTS : [\"gesturebegin\", \"gesturefinish\", \"gesturemove\", \"gesturecancel\"],\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE + qx.event.IEventHandler.TARGET_DOCUMENT,\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true,\n\n    EVENT_CLASSES : {\n      \"tap\": qx.event.type.Tap,\n      \"longtap\": qx.event.type.Tap,\n      \"dbltap\": qx.event.type.Tap,\n      \"swipe\": qx.event.type.Swipe,\n      \"rotate\": qx.event.type.Rotate,\n      \"pinch\": qx.event.type.Pinch,\n      \"track\": qx.event.type.Track,\n      \"trackstart\": qx.event.type.Track,\n      \"trackend\": qx.event.type.Track,\n      \"roll\" : qx.event.type.Roll\n    }\n  },\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager)\n  {\n    // Define shorthands\n    this.__manager = manager;\n    this.__window = manager.getWindow();\n    this.__root = this.__window.document;\n\n    qx.event.handler.GestureCore.apply(this, [this.__root]);\n  },\n\n  members : {\n    __manager : null,\n    __window : null,\n    __root : null,\n    __listener : null,\n    __onDblClickWrapped : null,\n    __fireRollWrapped : null,\n\n    /**\n     * Getter for the internal __window object\n     * @return {Window} DOM window instance\n     */\n    getWindow: function() {\n      return this.__window;\n    },\n\n    // interface implementation\n    canHandleEvent : function(target, type) {},\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n    // overridden\n    _initObserver : function() {\n      this.__listener = qx.lang.Function.listener(this.checkAndFireGesture, this);\n      qx.event.handler.Gesture.GESTURE_EVENTS.forEach(function(type) {\n        qx.event.Registration.addListener(this.__root, type, this.__listener, this);\n      }.bind(this));\n\n      if (qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n        qx.core.Environment.get(\"browser.documentmode\") < 9)\n      {\n        this.__onDblClickWrapped = qx.lang.Function.listener(this._onDblClick, this);\n        qx.bom.Event.addNativeListener(this.__root, \"dblclick\", this.__onDblClickWrapped);\n      }\n\n      // list to wheel events\n      var data = qx.bom.client.Event.getMouseWheel(this.__window);\n      this.__fireRollWrapped = qx.lang.Function.listener(this._fireRoll, this);\n      // replaced the useCapture (4th parameter) from this to true\n      // see https://github.com/qooxdoo/qooxdoo/pull/9292\n      qx.bom.Event.addNativeListener(data.target, data.type, this.__fireRollWrapped, true, false);\n    },\n\n    /**\n     * Checks if a gesture was made and fires the gesture event.\n     *\n     * @param pointerEvent {qx.event.type.Pointer} Pointer event\n     * @param type {String ? null} type of the event\n     * @param target {Element ? null} event target\n     */\n    checkAndFireGesture : function(pointerEvent, type, target) {\n      this.__callBase(\"checkAndFireGesture\",\n        [pointerEvent.getNativeEvent(), pointerEvent.getType(), pointerEvent.getTarget()]\n      );\n    },\n\n\n    // overridden\n    _stopObserver : function() {\n      qx.event.handler.Gesture.GESTURE_EVENTS.forEach(function(type) {\n        qx.event.Registration.removeListener(this.__root, type, this.__listener);\n      }.bind(this));\n\n      if (qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n        qx.core.Environment.get(\"browser.documentmode\") < 9)\n      {\n        qx.bom.Event.removeNativeListener(this.__root, \"dblclick\", this.__onDblClickWrapped);\n      }\n\n      var data = qx.bom.client.Event.getMouseWheel(this.__window);\n      qx.bom.Event.removeNativeListener(data.target, data.type, this.__fireRollWrapped);\n    },\n\n\n    // overridden\n    _hasIntermediaryHandler : function(target) {\n      /* This check is irrelevant for qx.Desktop since there is only one\n         gesture handler */\n      return false;\n    },\n\n\n    /**\n     * Fire a touch event with the given parameters\n     *\n     * @param domEvent {Event} DOM event\n     * @param type {String ? null} type of the event\n     * @param target {Element ? null} event target\n     */\n    _fireEvent : function(domEvent, type, target) {\n      if (!target) {\n        target = qx.bom.Event.getTarget(domEvent);\n      }\n\n      if (!type) {\n        type = domEvent.type;\n      }\n\n      var eventTypeClass = qx.event.handler.Gesture.EVENT_CLASSES[type] || qx.event.type.Pointer;\n\n      if (target && target.nodeType) {\n        qx.event.Registration.fireEvent(\n          target,\n          type,\n          eventTypeClass,\n          [domEvent, target, null, true, true]\n        );\n      }\n\n      // Fire user action event\n      qx.event.Registration.fireEvent(this.__window, \"useraction\", qx.event.type.Data, [type]);\n    },\n\n\n    /**\n     * Dispose this object\n     */\n    dispose : function()\n    {\n      this._stopObserver();\n      this.__callBase(\"dispose\");\n      this.__manager = this.__window = this.__root = this.__onDblClickWrapped = null;\n    },\n\n\n    /**\n     * Call overridden method.\n     *\n     * @param method {String} Name of the overridden method.\n     * @param args {Array} Arguments.\n     */\n    __callBase: function(method, args) {\n      qx.event.handler.GestureCore.prototype[method].apply(this, args || []);\n    }\n  },\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n    qx.event.Registration.getManager(document).getHandler(statics);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Feature-rich console appender for the qooxdoo logging system.\n *\n * Creates a small inline element which is placed in the top-right corner\n * of the window. Prints all messages with a nice color highlighting.\n *\n * * Allows user command inputs.\n * * Command history enabled by default (Keyboard up/down arrows).\n * * Lazy creation on first open.\n * * Clearing the console using a button.\n * * Display of offset (time after loading) of each message\n * * Supports keyboard shortcuts F7 or Ctrl+D to toggle the visibility\n * \n * Note this class must be disposed of after use\n *\n * @require(qx.event.handler.Window)\n * @require(qx.event.handler.Keyboard)\n * @require(qx.event.handler.Gesture)\n */\nqx.Class.define(\"qx.log.appender.Console\",\n{\n  statics :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      INITIALIZATION AND SHUTDOWN\n    ---------------------------------------------------------------------------\n    */\n\n   __main : null,\n\n   __log : null,\n\n   __cmd : null,\n\n   __lastCommand : null,\n\n    /**\n     * Initializes the console, building HTML and pushing last\n     * log messages to the output window.\n     *\n     */\n    init : function()\n    {\n      // Build style sheet content\n      var style =\n      [\n        '.qxconsole{z-index:10000;width:600px;height:300px;top:0px;right:0px;position:absolute;border-left:1px solid black;color:black;border-bottom:1px solid black;color:black;font-family:Consolas,Monaco,monospace;font-size:11px;line-height:1.2;}',\n\n        '.qxconsole .control{background:#cdcdcd;border-bottom:1px solid black;padding:4px 8px;}',\n        '.qxconsole .control a{text-decoration:none;color:black;}',\n\n        '.qxconsole .messages{background:white;height:100%;width:100%;overflow:auto;}',\n        '.qxconsole .messages div{padding:0px 4px;}',\n\n        '.qxconsole .messages .user-command{color:blue}',\n        '.qxconsole .messages .user-result{background:white}',\n        '.qxconsole .messages .user-error{background:#FFE2D5}',\n        '.qxconsole .messages .level-debug{background:white}',\n        '.qxconsole .messages .level-info{background:#DEEDFA}',\n        '.qxconsole .messages .level-warn{background:#FFF7D5}',\n        '.qxconsole .messages .level-error{background:#FFE2D5}',\n        '.qxconsole .messages .level-user{background:#E3EFE9}',\n        '.qxconsole .messages .type-string{color:black;font-weight:normal;}',\n        '.qxconsole .messages .type-number{color:#155791;font-weight:normal;}',\n        '.qxconsole .messages .type-boolean{color:#15BC91;font-weight:normal;}',\n        '.qxconsole .messages .type-array{color:#CC3E8A;font-weight:bold;}',\n        '.qxconsole .messages .type-map{color:#CC3E8A;font-weight:bold;}',\n        '.qxconsole .messages .type-key{color:#565656;font-style:italic}',\n        '.qxconsole .messages .type-class{color:#5F3E8A;font-weight:bold}',\n        '.qxconsole .messages .type-instance{color:#565656;font-weight:bold}',\n        '.qxconsole .messages .type-stringify{color:#565656;font-weight:bold}',\n\n        '.qxconsole .command{background:white;padding:2px 4px;border-top:1px solid black;}',\n        '.qxconsole .command input{width:100%;border:0 none;font-family:Consolas,Monaco,monospace;font-size:11px;line-height:1.2;}',\n        '.qxconsole .command input:focus{outline:none;}'\n      ];\n\n      // Include stylesheet\n      qx.bom.Stylesheet.createElement(style.join(\"\"));\n\n      // Build markup\n      var markup =\n      [\n        '<div class=\"qxconsole\">',\n        '<div class=\"control\"><a href=\"javascript:qx.log.appender.Console.clear()\">Clear</a> | <a href=\"javascript:qx.log.appender.Console.toggle()\">Hide</a></div>',\n        '<div class=\"messages\">',\n        '</div>',\n        '<div class=\"command\">',\n        '<input type=\"text\"/>',\n        '</div>',\n        '</div>'\n      ];\n\n      // Insert HTML to access DOM node\n      var wrapper = document.createElement(\"DIV\");\n      wrapper.innerHTML = markup.join(\"\");\n      var main = wrapper.firstChild;\n      document.body.appendChild(wrapper.firstChild);\n\n      // Make important DOM nodes available\n      this.__main = main;\n      this.__log = main.childNodes[1];\n      this.__cmd = main.childNodes[2].firstChild;\n\n      // Correct height of messages frame\n      this.__onResize();\n\n      // Finally register to log engine\n      qx.log.Logger.register(this);\n\n      // Register to object manager\n      qx.core.ObjectRegistry.register(this);\n    },\n\n\n    /**\n     * Used by the object registry to dispose this instance e.g. remove listeners etc.\n     *\n     */\n    dispose : function()\n    {\n      qx.event.Registration.removeListener(document.documentElement, \"keypress\", this.__onKeyPress, this);\n      qx.log.Logger.unregister(this);\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      INSERT & CLEAR\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Clears the current console output.\n     *\n     */\n    clear : function()\n    {\n      // Remove all messages\n      this.__log.innerHTML = \"\";\n    },\n\n\n    /**\n     * Processes a single log entry\n     *\n     * @signature function(entry)\n     * @param entry {Map} The entry to process\n     */\n    process : function(entry)\n    {\n      // Append new content\n      var formatter = qx.log.appender.Formatter.getFormatter();\n      this.__log.appendChild(formatter.toHtml(entry));\n\n      // Scroll down\n      this.__scrollDown();\n    },\n\n\n    /**\n     * Automatically scroll down to the last line\n     */\n    __scrollDown : function() {\n      this.__log.scrollTop = this.__log.scrollHeight;\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      VISIBILITY TOGGLING\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {Boolean} Flag to store last visibility status */\n    __visible : true,\n\n\n    /**\n     * Toggles the visibility of the console between visible and hidden.\n     *\n     */\n    toggle : function()\n    {\n      if (!this.__main)\n      {\n        this.init();\n      }\n      else if (this.__main.style.display == \"none\")\n      {\n        this.show();\n      }\n      else\n      {\n        this.__main.style.display = \"none\";\n      }\n    },\n\n\n    /**\n     * Shows the console.\n     *\n     */\n    show : function()\n    {\n      if (!this.__main) {\n        this.init();\n      } else {\n        this.__main.style.display = \"block\";\n        this.__log.scrollTop = this.__log.scrollHeight;\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      COMMAND LINE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {Array} List of all previous commands. */\n    __history : [],\n\n\n    /**\n     * Executes the currently given command\n     *\n     */\n    execute : function()\n    {\n      var value = this.__cmd.value;\n      if (value == \"\") {\n        return;\n      }\n\n      if (value == \"clear\") {\n        this.clear();\n        return;\n      }\n\n      var command = document.createElement(\"div\");\n      var formatter = qx.log.appender.Formatter.getFormatter();\n      command.innerHTML = formatter.escapeHTML(\">>> \" + value);\n      command.className = \"user-command\";\n\n      this.__history.push(value);\n      this.__lastCommand = this.__history.length;\n      this.__log.appendChild(command);\n      this.__scrollDown();\n\n      try {\n        var ret = window.eval(value);\n      }\n      catch (ex) {\n        qx.log.Logger.error(ex);\n      }\n\n      if (ret !== undefined) {\n        qx.log.Logger.debug(ret);\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT LISTENERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Event handler for resize listener\n     *\n     * @param e {Event} Event object\n     */\n    __onResize : function(e) {\n      this.__log.style.height = (this.__main.clientHeight - this.__main.firstChild.offsetHeight - this.__main.lastChild.offsetHeight) + \"px\";\n    },\n\n\n    /**\n     * Event handler for keydown listener\n     *\n     * @param e {Event} Event object\n     */\n    __onKeyPress : function(e)\n    {\n      if (e instanceof qx.event.type.Tap || e instanceof qx.event.type.Pointer) {\n        var target = e.getTarget();\n        if (target && target.className && target.className.indexOf && target.className.indexOf(\"navigationbar\") != -1) {\n          this.toggle();\n        }\n        return;\n      }\n\n      var iden = e.getKeyIdentifier();\n\n      // Console toggling\n      if ((iden == \"F7\") || (iden == \"D\" && e.isCtrlPressed()))\n      {\n        this.toggle();\n        e.preventDefault();\n      }\n\n      // Not yet created\n      if (!this.__main) {\n        return;\n      }\n\n      // Active element not in console\n      if (!qx.dom.Hierarchy.contains(this.__main, e.getTarget())) {\n        return;\n      }\n\n      // Command execution\n      if (iden == \"Enter\" && this.__cmd.value != \"\")\n      {\n        this.execute();\n        this.__cmd.value = \"\";\n      }\n\n      // History management\n      if (iden == \"Up\" || iden == \"Down\")\n      {\n        this.__lastCommand += iden == \"Up\" ? -1 : 1;\n        this.__lastCommand = Math.min(Math.max(0, this.__lastCommand), this.__history.length);\n\n        var entry = this.__history[this.__lastCommand];\n        this.__cmd.value = entry || \"\";\n        this.__cmd.select();\n      }\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addListener(document.documentElement, \"keypress\", statics.__onKeyPress, statics);\n    qx.event.Registration.addListener(document.documentElement, \"longtap\", statics.__onKeyPress, statics);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Keyboard input event object.\n *\n * the interface of this class is based on the DOM Level 3 keyboard event\n * interface: http://www.w3.org/TR/DOM-Level-3-Events/#events-keyboardevents\n */\nqx.Class.define(\"qx.event.type.KeyInput\",\n{\n  extend : qx.event.type.Dom,\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /**\n     * Initialize the fields of the event.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Object} The event target\n     * @param charCode {Integer} the character code\n     * @return {qx.event.type.KeyInput} The initialized key event instance\n     */\n    init : function(domEvent, target, charCode)\n    {\n      this.base(arguments, domEvent, target, null, true, true);\n\n      this._charCode = charCode;\n\n      return this;\n    },\n\n\n    // overridden\n    clone : function(embryo)\n    {\n      var clone = this.base(arguments, embryo);\n\n      clone._charCode = this._charCode;\n\n      return clone;\n    },\n\n\n    /**\n     * Unicode number of the pressed character.\n     *\n     * @return {Integer} Unicode number of the pressed character\n     */\n    getCharCode : function() {\n      return this._charCode;\n    },\n\n\n    /**\n     * Returns the pressed character\n     *\n     * @return {String} The character\n     */\n    getChar : function() {\n      return String.fromCharCode(this._charCode);\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Keyboard event object.\n *\n * the interface of this class is based on the DOM Level 3 keyboard event\n * interface: http://www.w3.org/TR/DOM-Level-3-Events/#events-keyboardevents\n */\nqx.Class.define(\"qx.event.type.KeySequence\",\n{\n  extend : qx.event.type.Dom,\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /**\n     * Initialize the fields of the event.\n     *\n     * @param domEvent {Event} DOM event\n     * @param target {Object} The event target\n     * @param identifier {String} Key identifier\n     * @return {qx.event.type.KeySequence} The initialized key event instance\n     */\n    init : function(domEvent, target, identifier)\n    {\n      this.base(arguments, domEvent, target, null, true, true);\n\n      this._keyCode = domEvent.keyCode;\n      this._identifier = identifier;\n\n      return this;\n    },\n\n\n    // overridden\n    clone : function(embryo)\n    {\n      var clone = this.base(arguments, embryo);\n\n      clone._keyCode = this._keyCode;\n      clone._identifier = this._identifier;\n\n      return clone;\n    },\n\n\n    /**\n     * Identifier of the pressed key. This property is modeled after the <em>KeyboardEvent.keyIdentifier</em> property\n     * of the W3C DOM 3 event specification\n     * (http://www.w3.org/TR/2003/NOTE-DOM-Level-3-Events-20031107/events.html#Events-KeyboardEvent-keyIdentifier).\n     *\n     * Printable keys are represented by an unicode string, non-printable keys\n     * have one of the following values:\n     *\n     * <table>\n     * <tr><th>Backspace</th><td>The Backspace (Back) key.</td></tr>\n     * <tr><th>Tab</th><td>The Horizontal Tabulation (Tab) key.</td></tr>\n     * <tr><th>Space</th><td>The Space (Spacebar) key.</td></tr>\n     * <tr><th>Enter</th><td>The Enter key. Note: This key identifier is also used for the Return (Macintosh numpad) key.</td></tr>\n     * <tr><th>Shift</th><td>The Shift key.</td></tr>\n     * <tr><th>Control</th><td>The Control (Ctrl) key.</td></tr>\n     * <tr><th>Alt</th><td>The Alt (Menu) key.</td></tr>\n     * <tr><th>CapsLock</th><td>The CapsLock key</td></tr>\n     * <tr><th>Meta</th><td>The Meta key. (Apple Meta and Windows key)</td></tr>\n     * <tr><th>Escape</th><td>The Escape (Esc) key.</td></tr>\n     * <tr><th>Left</th><td>The Left Arrow key.</td></tr>\n     * <tr><th>Up</th><td>The Up Arrow key.</td></tr>\n     * <tr><th>Right</th><td>The Right Arrow key.</td></tr>\n     * <tr><th>Down</th><td>The Down Arrow key.</td></tr>\n     * <tr><th>PageUp</th><td>The Page Up key.</td></tr>\n     * <tr><th>PageDown</th><td>The Page Down (Next) key.</td></tr>\n     * <tr><th>End</th><td>The End key.</td></tr>\n     * <tr><th>Home</th><td>The Home key.</td></tr>\n     * <tr><th>Insert</th><td>The Insert (Ins) key. (Does not fire in Opera/Win)</td></tr>\n     * <tr><th>Delete</th><td>The Delete (Del) Key.</td></tr>\n     * <tr><th>F1</th><td>The F1 key.</td></tr>\n     * <tr><th>F2</th><td>The F2 key.</td></tr>\n     * <tr><th>F3</th><td>The F3 key.</td></tr>\n     * <tr><th>F4</th><td>The F4 key.</td></tr>\n     * <tr><th>F5</th><td>The F5 key.</td></tr>\n     * <tr><th>F6</th><td>The F6 key.</td></tr>\n     * <tr><th>F7</th><td>The F7 key.</td></tr>\n     * <tr><th>F8</th><td>The F8 key.</td></tr>\n     * <tr><th>F9</th><td>The F9 key.</td></tr>\n     * <tr><th>F10</th><td>The F10 key.</td></tr>\n     * <tr><th>F11</th><td>The F11 key.</td></tr>\n     * <tr><th>F12</th><td>The F12 key.</td></tr>\n     * <tr><th>NumLock</th><td>The Num Lock key.</td></tr>\n     * <tr><th>PrintScreen</th><td>The Print Screen (PrintScrn, SnapShot) key.</td></tr>\n     * <tr><th>Scroll</th><td>The scroll lock key</td></tr>\n     * <tr><th>Pause</th><td>The pause/break key</td></tr>\n     * <tr><th>Win</th><td>The Windows Logo key</td></tr>\n     * <tr><th>Apps</th><td>The Application key (Windows Context Menu)</td></tr>\n     * </table>\n     *\n     * @return {String} The key identifier\n     */\n    getKeyIdentifier : function() {\n      return this._identifier;\n    },\n\n\n    /**\n     * Returns the native keyCode and is best used on keydown/keyup events to\n     * check which physical key was pressed.\n     * Don't use this on keypress events because it's erroneous and\n     * inconsistent across browsers. But it can be used to detect which key is\n     * exactly pressed (e.g. for num pad keys).\n     * In any regular case, you should use {@link #getKeyIdentifier} which\n     * takes care of all cross browser stuff.\n     *\n     * The key codes are not character codes, they are just ASCII codes to\n     * identify the keyboard (or other input devices) keys.\n     *\n     * @return {Number} The key code.\n     */\n    getKeyCode : function() {\n      return this._keyCode;\n    },\n\n\n    /**\n     * Checks whether the pressed key is printable.\n     *\n     * @return {Boolean} Whether the pressed key is printable.\n     */\n    isPrintable : function() {\n      return qx.event.util.Keyboard.isPrintableKeyIdentifier(this._identifier);\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Utilities for working with character codes and key identifiers\n */\nqx.Bootstrap.define(\"qx.event.util.Keyboard\", {\n\n  statics :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      KEY MAPS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * @type {Map} maps the charcodes of special printable keys to key identifiers\n     *\n     * @lint ignoreReferenceField(specialCharCodeMap)\n     */\n    specialCharCodeMap :\n    {\n      8  : \"Backspace\",   // The Backspace (Back) key.\n      9  : \"Tab\",         // The Horizontal Tabulation (Tab) key.\n\n      //   Note: This key identifier is also used for the\n      //   Return (Macintosh numpad) key.\n      13 : \"Enter\",       // The Enter key.\n      27 : \"Escape\",      // The Escape (Esc) key.\n      32 : \"Space\"        // The Space (Spacebar) key.\n    },\n\n    /**\n     * @type {Map} maps the keycodes of the numpad keys to the right charcodes\n     *\n     * @lint ignoreReferenceField(numpadToCharCode)\n     */\n    numpadToCharCode :\n    {\n       96 : \"0\".charCodeAt(0),\n       97 : \"1\".charCodeAt(0),\n       98 : \"2\".charCodeAt(0),\n       99 : \"3\".charCodeAt(0),\n      100 : \"4\".charCodeAt(0),\n      101 : \"5\".charCodeAt(0),\n      102 : \"6\".charCodeAt(0),\n      103 : \"7\".charCodeAt(0),\n      104 : \"8\".charCodeAt(0),\n      105 : \"9\".charCodeAt(0),\n      106 : \"*\".charCodeAt(0),\n      107 : \"+\".charCodeAt(0),\n      109 : \"-\".charCodeAt(0),\n      110 : \",\".charCodeAt(0),\n      111 : \"/\".charCodeAt(0)\n    },\n\n    /**\n     * @type {Map} maps the keycodes of non printable keys to key identifiers\n     *\n     * @lint ignoreReferenceField(keyCodeToIdentifierMap)\n     */\n    keyCodeToIdentifierMap :\n    {\n       16 : \"Shift\",        // The Shift key.\n       17 : \"Control\",      // The Control (Ctrl) key.\n       18 : \"Alt\",          // The Alt (Menu) key.\n       20 : \"CapsLock\",     // The CapsLock key\n      224 : \"Meta\",         // The Meta key. (Apple Meta and Windows key)\n\n       37 : \"Left\",         // The Left Arrow key.\n       38 : \"Up\",           // The Up Arrow key.\n       39 : \"Right\",        // The Right Arrow key.\n       40 : \"Down\",         // The Down Arrow key.\n\n       33 : \"PageUp\",       // The Page Up key.\n       34 : \"PageDown\",     // The Page Down (Next) key.\n\n       35 : \"End\",          // The End key.\n       36 : \"Home\",         // The Home key.\n\n       45 : \"Insert\",       // The Insert (Ins) key. (Does not fire in Opera/Win)\n       46 : \"Delete\",       // The Delete (Del) Key.\n\n      112 : \"F1\",           // The F1 key.\n      113 : \"F2\",           // The F2 key.\n      114 : \"F3\",           // The F3 key.\n      115 : \"F4\",           // The F4 key.\n      116 : \"F5\",           // The F5 key.\n      117 : \"F6\",           // The F6 key.\n      118 : \"F7\",           // The F7 key.\n      119 : \"F8\",           // The F8 key.\n      120 : \"F9\",           // The F9 key.\n      121 : \"F10\",          // The F10 key.\n      122 : \"F11\",          // The F11 key.\n      123 : \"F12\",          // The F12 key.\n\n      144 : \"NumLock\",      // The Num Lock key.\n       44 : \"PrintScreen\",  // The Print Screen (PrintScrn, SnapShot) key.\n      145 : \"Scroll\",       // The scroll lock key\n       19 : \"Pause\",        // The pause/break key\n       // The left Windows Logo key or left cmd key\n       91 : qx.core.Environment.get(\"os.name\") == \"osx\" ? \"cmd\" : \"Win\",\n       92 : \"Win\",          // The right Windows Logo key or left cmd key\n       // The Application key (Windows Context Menu) or right cmd key\n       93 : qx.core.Environment.get(\"os.name\") == \"osx\" ? \"cmd\" : \"Apps\"\n    },\n\n\n    /** char code for capital A */\n    charCodeA : \"A\".charCodeAt(0),\n    /** char code for capital Z */\n    charCodeZ : \"Z\".charCodeAt(0),\n    /** char code for 0 */\n    charCode0 : \"0\".charCodeAt(0),\n    /** char code for 9 */\n    charCode9 : \"9\".charCodeAt(0),\n\n    /**\n     * converts a keyboard code to the corresponding identifier\n     *\n     * @param keyCode {Integer} key code\n     * @return {String} key identifier\n     */\n    keyCodeToIdentifier : function(keyCode)\n    {\n      if (this.isIdentifiableKeyCode(keyCode))\n      {\n        var numPadKeyCode = this.numpadToCharCode[keyCode];\n\n        if (numPadKeyCode) {\n          return String.fromCharCode(numPadKeyCode);\n        }\n\n        return (this.keyCodeToIdentifierMap[keyCode] || this.specialCharCodeMap[keyCode] || String.fromCharCode(keyCode));\n      }\n      else\n      {\n        return \"Unidentified\";\n      }\n    },\n\n\n    /**\n     * converts a character code to the corresponding identifier\n     *\n     * @param charCode {String} character code\n     * @return {String} key identifier\n     */\n    charCodeToIdentifier : function(charCode) {\n      return this.specialCharCodeMap[charCode] || String.fromCharCode(charCode).toUpperCase();\n    },\n\n\n    /**\n     * Check whether the keycode can be reliably detected in keyup/keydown events\n     *\n     * @param keyCode {String} key code to check.\n     * @return {Boolean} Whether the keycode can be reliably detected in keyup/keydown events.\n     */\n    isIdentifiableKeyCode : function(keyCode)\n    {\n      if (keyCode >= this.charCodeA && keyCode <= this.charCodeZ) {\n        return true;\n      }\n\n      // 0-9\n      if (keyCode >= this.charCode0 && keyCode <= this.charCode9) {\n        return true;\n      }\n\n      // Enter, Space, Tab, Backspace\n      if (this.specialCharCodeMap[keyCode]) {\n        return true;\n      }\n\n      // Numpad\n      if (this.numpadToCharCode[keyCode]) {\n        return true;\n      }\n\n      // non printable keys\n      if (this.isNonPrintableKeyCode(keyCode)) {\n        return true;\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Checks whether the keyCode represents a non printable key\n     *\n     * @param keyCode {String} key code to check.\n     * @return {Boolean} Whether the keyCode represents a non printable key.\n     */\n    isNonPrintableKeyCode : function(keyCode) {\n      return this.keyCodeToIdentifierMap[keyCode] ? true : false;\n    },\n\n\n    /**\n     * Checks whether a given string is a valid keyIdentifier\n     *\n     * @param keyIdentifier {String} The key identifier.\n     * @return {Boolean} whether the given string is a valid keyIdentifier\n     */\n    isValidKeyIdentifier : function(keyIdentifier)\n    {\n      if (this.identifierToKeyCodeMap[keyIdentifier]) {\n        return true;\n      }\n\n      if (keyIdentifier.length != 1) {\n        return false;\n      }\n\n      if (keyIdentifier >= \"0\" && keyIdentifier <= \"9\") {\n        return true;\n      }\n\n      if (keyIdentifier >= \"A\" && keyIdentifier <= \"Z\") {\n        return true;\n      }\n\n      switch(keyIdentifier)\n      {\n        case \"+\":\n        case \"-\":\n        case \"*\":\n        case \"/\":\n        case \",\":\n          return true;\n\n        default:\n          return false;\n      }\n    },\n\n\n    /**\n     * Checks whether a given string is a printable keyIdentifier.\n     *\n     * @param keyIdentifier {String} The key identifier.\n     * @return {Boolean} whether the given string is a printable keyIdentifier.\n     */\n    isPrintableKeyIdentifier : function(keyIdentifier)\n    {\n      if (keyIdentifier === \"Space\") {\n        return true;\n      } else {\n        return this.identifierToKeyCodeMap[keyIdentifier] ? false : true;\n      }\n    }\n  },\n\n  defer : function(statics)\n  {\n    // construct inverse of keyCodeToIdentifierMap\n    if (!statics.identifierToKeyCodeMap)\n    {\n      statics.identifierToKeyCodeMap = {};\n\n      for (var key in statics.keyCodeToIdentifierMap) {\n        statics.identifierToKeyCodeMap[statics.keyCodeToIdentifierMap[key]] = parseInt(key, 10);\n      }\n\n      for (var key in statics.specialCharCodeMap) {\n        statics.identifierToKeyCodeMap[statics.specialCharCodeMap[key]] = parseInt(key, 10);\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n/**\n * This handler is used to normalize all focus/activation requirements\n * and normalize all cross browser quirks in this area.\n *\n * Notes:\n *\n * * Webkit and Opera (before 9.5) do not support tabIndex for all elements\n * (See also: https://bugs.webkit.org/show_bug.cgi?id=7138)\n *\n * * TabIndex is normally 0, which means all naturally focusable elements are focusable.\n * * TabIndex > 0 means that the element is focusable and tabable\n * * TabIndex < 0 means that the element, even if naturally possible, is not focusable.\n *\n * NOTE: Instances of this class must be disposed of after use\n *\n * @use(qx.event.dispatch.DomBubbling)\n */\nqx.Class.define(\"qx.event.handler.Focus\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.event.IEventHandler, qx.core.IDisposable ],\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   *\n   * @ignore(qx.application.Inline)\n   */\n  construct : function(manager)\n  {\n    this.base(arguments);\n\n    // Define shorthands\n    this._manager = manager;\n    this._window = manager.getWindow();\n    this._document = this._window.document;\n    this._root = this._document.documentElement;\n    this._body = this._document.body;\n\n    if ((qx.core.Environment.get(\"os.name\") == \"ios\" && parseFloat(qx.core.Environment.get(\"os.version\")) > 6) &&\n      (!qx.application.Inline || !qx.core.Init.getApplication() instanceof qx.application.Inline) )\n    {\n      this.__needsScrollFix = true;\n    }\n\n    // Initialize\n    this._initObserver();\n  },\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /** The active DOM element */\n    active :\n    {\n      apply : \"_applyActive\",\n      nullable : true\n    },\n\n    /** The focussed DOM element */\n    focus :\n    {\n      apply : \"_applyFocus\",\n      nullable : true\n    }\n  },\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES :\n    {\n      focus : 1,\n      blur : 1,\n      focusin : 1,\n      focusout : 1,\n      activate : 1,\n      deactivate : 1\n    },\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true,\n\n    /**\n     * @type {Map} See: http://msdn.microsoft.com/en-us/library/ms534654(VS.85).aspx\n     */\n    FOCUSABLE_ELEMENTS : qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" :\n      {\n        a : 1,\n        body : 1,\n        button : 1,\n        frame : 1,\n        iframe : 1,\n        img : 1,\n        input : 1,\n        object : 1,\n        select : 1,\n        textarea : 1\n      },\n\n      \"gecko\" :\n      {\n        a : 1,\n        body : 1,\n        button : 1,\n        frame : 1,\n        iframe : 1,\n        img : 1,\n        input : 1,\n        object : 1,\n        select : 1,\n        textarea : 1\n      },\n\n      \"opera\" :\n      {\n        button : 1,\n        input : 1,\n        select : 1,\n        textarea : 1\n      },\n\n      \"webkit\" :\n      {\n        button : 1,\n        input : 1,\n        select : 1,\n        textarea : 1\n      }\n    })\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __onNativeMouseDownWrapper : null,\n    __onNativeMouseUpWrapper : null,\n    __onNativeFocusWrapper : null,\n    __onNativeBlurWrapper : null,\n    __onNativeDragGestureWrapper : null,\n    __onNativeSelectStartWrapper : null,\n    __onNativeFocusInWrapper : null,\n    __onNativeFocusOutWrapper : null,\n    __previousFocus : null,\n    __previousActive : null,\n    __down : \"\",\n    __up : \"\",\n    __needsScrollFix : false,\n    __relatedTarget : null,\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type) {},\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      FOCUS/BLUR USER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Focuses the given DOM element\n     *\n     * @param element {Element} DOM element to focus\n     */\n    focus : function(element)\n    {\n      // Fixed timing issue with IE, see [BUG #3267]\n      if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\"))\n      {\n        window.setTimeout(function()\n        {\n          try {\n            // focus element before set cursor position\n            element.focus();\n\n            // Fixed cursor position issue with IE, only when nothing is selected.\n            // See [BUG #3519] for details.\n            var selection = qx.bom.Selection.get(element);\n            if (selection.length == 0 && typeof element.createTextRange == \"function\") {\n              var textRange = element.createTextRange();\n              textRange.moveStart('character', element.value.length);\n              textRange.collapse();\n              textRange.select();\n            }\n          } catch(ex) {}\n        }, 0);\n      }\n      else\n      {\n        // Fix re-focusing on mousup event\n        // See https://github.com/qooxdoo/qooxdoo/issues/9393 and\n        // discussion in https://github.com/qooxdoo/qooxdoo/pull/9394\n        window.setTimeout(function()\n        {\n          try {\n            element.focus();\n          } catch(ex) {}\n        }, 0);\n      }\n\n      this.setFocus(element);\n      this.setActive(element);\n    },\n\n    /**\n     * Activates the given DOM element\n     *\n     * @param element {Element} DOM element to activate\n     */\n    activate : function(element) {\n      this.setActive(element);\n    },\n\n    /**\n     * Blurs the given DOM element\n     *\n     * @param element {Element} DOM element to focus\n     */\n    blur : function(element)\n    {\n      try {\n        element.blur();\n      } catch(ex) {}\n\n      if (this.getActive() === element) {\n        this.resetActive();\n      }\n\n      if (this.getFocus() === element) {\n        this.resetFocus();\n      }\n    },\n\n    /**\n     * Deactivates the given DOM element\n     *\n     * @param element {Element} DOM element to activate\n     */\n    deactivate : function(element)\n    {\n      if (this.getActive() === element) {\n        this.resetActive();\n      }\n    },\n\n    /**\n     * Tries to activate the given element. This checks whether\n     * the activation is allowed first.\n     *\n     * @param element {Element} DOM element to activate\n     */\n    tryActivate : function(element)\n    {\n      var active = this.__findActivatableElement(element);\n      if (active) {\n        this.setActive(active);\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      HELPER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Shorthand to fire events from within this class.\n     *\n     * @param target {Element} DOM element which is the target\n     * @param related {Element} DOM element which is the related target\n     * @param type {String} Name of the event to fire\n     * @param bubbles {Boolean} Whether the event should bubble\n     * @return {qx.Promise?} a promise, if one or more of the event handlers returned a promise\n     */\n    __fireEvent : function(target, related, type, bubbles)\n    {\n      var Registration = qx.event.Registration;\n\n      var evt = Registration.createEvent(type, qx.event.type.Focus, [target, related, bubbles]);\n      return Registration.dispatchEvent(target, evt);\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      WINDOW FOCUS/BLUR SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {Boolean} Whether the window is focused currently */\n    _windowFocused : true,\n\n    /**\n     * Helper for native event listeners to react on window blur\n     */\n    __doWindowBlur : function()\n    {\n      // Omit doubled blur events\n      // which is a common behavior at least for gecko based clients\n      if (this._windowFocused)\n      {\n        this._windowFocused = false;\n        this.__fireEvent(this._window, null, \"blur\", false);\n      }\n    },\n\n\n    /**\n     * Helper for native event listeners to react on window focus\n     */\n    __doWindowFocus : function()\n    {\n      // Omit doubled focus events\n      // which is a common behavior at least for gecko based clients\n      if (!this._windowFocused)\n      {\n        this._windowFocused = true;\n        this.__fireEvent(this._window, null, \"focus\", false);\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      NATIVE OBSERVER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Initializes event listeners.\n     *\n     * @signature function()\n     */\n    _initObserver : qx.core.Environment.select(\"engine.name\",\n    {\n      \"gecko\" : function()\n      {\n        // Bind methods\n        this.__onNativeMouseDownWrapper = qx.lang.Function.listener(this.__onNativeMouseDown, this);\n        this.__onNativeMouseUpWrapper = qx.lang.Function.listener(this.__onNativeMouseUp, this);\n\n        this.__onNativeFocusWrapper = qx.lang.Function.listener(this.__onNativeFocus, this);\n        this.__onNativeBlurWrapper = qx.lang.Function.listener(this.__onNativeBlur, this);\n\n        this.__onNativeDragGestureWrapper = qx.lang.Function.listener(this.__onNativeDragGesture, this);\n\n        // Register events\n        qx.bom.Event.addNativeListener(this._document, \"mousedown\", this.__onNativeMouseDownWrapper, true);\n        qx.bom.Event.addNativeListener(this._document, \"mouseup\", this.__onNativeMouseUpWrapper, true);\n\n        // Capturing is needed for gecko to correctly\n        // handle focus of input and textarea fields\n        qx.bom.Event.addNativeListener(this._window, \"focus\", this.__onNativeFocusWrapper, true);\n        qx.bom.Event.addNativeListener(this._window, \"blur\", this.__onNativeBlurWrapper, true);\n\n        // Capture drag events\n        qx.bom.Event.addNativeListener(this._window, \"draggesture\", this.__onNativeDragGestureWrapper, true);\n      },\n\n      \"mshtml\" : function()\n      {\n        // Bind methods\n        this.__onNativeMouseDownWrapper = qx.lang.Function.listener(this.__onNativeMouseDown, this);\n        this.__onNativeMouseUpWrapper = qx.lang.Function.listener(this.__onNativeMouseUp, this);\n\n        this.__onNativeFocusInWrapper = qx.lang.Function.listener(this.__onNativeFocusIn, this);\n        this.__onNativeFocusOutWrapper = qx.lang.Function.listener(this.__onNativeFocusOut, this);\n\n        this.__onNativeSelectStartWrapper = qx.lang.Function.listener(this.__onNativeSelectStart, this);\n\n\n        // Register events\n        qx.bom.Event.addNativeListener(this._document, \"mousedown\", this.__onNativeMouseDownWrapper);\n        qx.bom.Event.addNativeListener(this._document, \"mouseup\", this.__onNativeMouseUpWrapper);\n\n        // MSHTML supports their own focusin and focusout events\n        // To detect which elements get focus the target is useful\n        // The window blur can detected using focusout and look\n        // for the toTarget property which is empty in this case.\n        qx.bom.Event.addNativeListener(this._document, \"focusin\", this.__onNativeFocusInWrapper);\n        qx.bom.Event.addNativeListener(this._document, \"focusout\", this.__onNativeFocusOutWrapper);\n\n        // Add selectstart to prevent selection\n        qx.bom.Event.addNativeListener(this._document, \"selectstart\", this.__onNativeSelectStartWrapper);\n      },\n\n      \"webkit\" : qx.core.Environment.select(\"browser.name\",\n      {\n        // fix for [ISSUE #9174]\n        // distinguish bettween MS Edge, which is reported\n        // as engine webkit and all other webkit browsers\n        \"edge\" : function(domEvent)\n        {\n          // Bind methods\n          this.__onNativeMouseDownWrapper = qx.lang.Function.listener(this.__onNativeMouseDown, this);\n          this.__onNativeMouseUpWrapper = qx.lang.Function.listener(this.__onNativeMouseUp, this);\n\n          this.__onNativeFocusOutWrapper = qx.lang.Function.listener(this.__onNativeFocusOut, this);\n          this.__onNativeFocusInWrapper = qx.lang.Function.listener(this.__onNativeFocusIn, this);\n          this.__onNativeSelectStartWrapper = qx.lang.Function.listener(this.__onNativeSelectStart, this);\n\n          // Register events\n          qx.bom.Event.addNativeListener(this._document, \"mousedown\", this.__onNativeMouseDownWrapper, true);\n          qx.bom.Event.addNativeListener(this._document, \"mouseup\", this.__onNativeMouseUpWrapper, true);\n          qx.bom.Event.addNativeListener(this._document, \"selectstart\", this.__onNativeSelectStartWrapper, false);\n\n          qx.bom.Event.addNativeListener(this._document, \"focusin\", this.__onNativeFocusInWrapper);\n          qx.bom.Event.addNativeListener(this._document, \"focusout\", this.__onNativeFocusOutWrapper);\n        },\n\n        \"default\" : function(domEvent)\n        {\n          // Bind methods\n          this.__onNativeMouseDownWrapper = qx.lang.Function.listener(this.__onNativeMouseDown, this);\n          this.__onNativeMouseUpWrapper = qx.lang.Function.listener(this.__onNativeMouseUp, this);\n\n          this.__onNativeFocusOutWrapper = qx.lang.Function.listener(this.__onNativeFocusOut, this);\n\n          this.__onNativeFocusWrapper = qx.lang.Function.listener(this.__onNativeFocus, this);\n          this.__onNativeBlurWrapper = qx.lang.Function.listener(this.__onNativeBlur, this);\n\n          this.__onNativeSelectStartWrapper = qx.lang.Function.listener(this.__onNativeSelectStart, this);\n\n\n          // Register events\n          qx.bom.Event.addNativeListener(this._document, \"mousedown\", this.__onNativeMouseDownWrapper, true);\n          qx.bom.Event.addNativeListener(this._document, \"mouseup\", this.__onNativeMouseUpWrapper, true);\n          qx.bom.Event.addNativeListener(this._document, \"selectstart\", this.__onNativeSelectStartWrapper, false);\n\n          qx.bom.Event.addNativeListener(this._window, \"DOMFocusOut\", this.__onNativeFocusOutWrapper, true);\n\n          qx.bom.Event.addNativeListener(this._window, \"focus\", this.__onNativeFocusWrapper, true);\n          qx.bom.Event.addNativeListener(this._window, \"blur\", this.__onNativeBlurWrapper, true);\n        }\n      }),\n\n      \"opera\" : function()\n      {\n        // Bind methods\n        this.__onNativeMouseDownWrapper = qx.lang.Function.listener(this.__onNativeMouseDown, this);\n        this.__onNativeMouseUpWrapper = qx.lang.Function.listener(this.__onNativeMouseUp, this);\n\n        this.__onNativeFocusInWrapper = qx.lang.Function.listener(this.__onNativeFocusIn, this);\n        this.__onNativeFocusOutWrapper = qx.lang.Function.listener(this.__onNativeFocusOut, this);\n\n\n        // Register events\n        qx.bom.Event.addNativeListener(this._document, \"mousedown\", this.__onNativeMouseDownWrapper, true);\n        qx.bom.Event.addNativeListener(this._document, \"mouseup\", this.__onNativeMouseUpWrapper, true);\n\n        qx.bom.Event.addNativeListener(this._window, \"DOMFocusIn\", this.__onNativeFocusInWrapper, true);\n        qx.bom.Event.addNativeListener(this._window, \"DOMFocusOut\", this.__onNativeFocusOutWrapper, true);\n      }\n    }),\n\n    /**\n     * Disconnects event listeners.\n     *\n     * @signature function()\n     */\n    _stopObserver : qx.core.Environment.select(\"engine.name\",\n    {\n      \"gecko\" : function()\n      {\n        qx.bom.Event.removeNativeListener(this._document, \"mousedown\", this.__onNativeMouseDownWrapper, true);\n        qx.bom.Event.removeNativeListener(this._document, \"mouseup\", this.__onNativeMouseUpWrapper, true);\n\n        qx.bom.Event.removeNativeListener(this._window, \"focus\", this.__onNativeFocusWrapper, true);\n        qx.bom.Event.removeNativeListener(this._window, \"blur\", this.__onNativeBlurWrapper, true);\n\n        qx.bom.Event.removeNativeListener(this._window, \"draggesture\", this.__onNativeDragGestureWrapper, true);\n      },\n\n      \"mshtml\" : function()\n      {\n        qx.bom.Event.removeNativeListener(this._document, \"mousedown\", this.__onNativeMouseDownWrapper);\n        qx.bom.Event.removeNativeListener(this._document, \"mouseup\", this.__onNativeMouseUpWrapper);\n        qx.bom.Event.removeNativeListener(this._document, \"focusin\", this.__onNativeFocusInWrapper);\n        qx.bom.Event.removeNativeListener(this._document, \"focusout\", this.__onNativeFocusOutWrapper);\n        qx.bom.Event.removeNativeListener(this._document, \"selectstart\", this.__onNativeSelectStartWrapper);\n      },\n\n      \"webkit\" : qx.core.Environment.select(\"browser.name\",\n      {\n        // fix for [ISSUE #9174]\n        // distinguish bettween MS Edge, which is reported\n        // as engine webkit and all other webkit browsers\n        \"edge\" : function()\n        {\n          qx.bom.Event.removeNativeListener(this._document, \"mousedown\", this.__onNativeMouseDownWrapper);\n          qx.bom.Event.removeNativeListener(this._document, \"mouseup\", this.__onNativeMouseUpWrapper);\n          qx.bom.Event.removeNativeListener(this._document, \"focusin\", this.__onNativeFocusInWrapper);\n          qx.bom.Event.removeNativeListener(this._document, \"focusout\", this.__onNativeFocusOutWrapper);\n          qx.bom.Event.removeNativeListener(this._document, \"selectstart\", this.__onNativeSelectStartWrapper);\n        },\n\n        \"default\" : function()\n        {\n          qx.bom.Event.removeNativeListener(this._document, \"mousedown\", this.__onNativeMouseDownWrapper, true);\n          qx.bom.Event.removeNativeListener(this._document, \"mouseup\", this.__onNativeMouseUpWrapper, true);\n          qx.bom.Event.removeNativeListener(this._document, \"selectstart\", this.__onNativeSelectStartWrapper, false);\n\n          qx.bom.Event.removeNativeListener(this._window, \"DOMFocusOut\", this.__onNativeFocusOutWrapper, true);\n\n          qx.bom.Event.removeNativeListener(this._window, \"focus\", this.__onNativeFocusWrapper, true);\n          qx.bom.Event.removeNativeListener(this._window, \"blur\", this.__onNativeBlurWrapper, true);\n        }\n      }),\n\n      \"opera\" : function()\n      {\n        qx.bom.Event.removeNativeListener(this._document, \"mousedown\", this.__onNativeMouseDownWrapper, true);\n        qx.bom.Event.removeNativeListener(this._document, \"mouseup\", this.__onNativeMouseUpWrapper, true);\n\n        qx.bom.Event.removeNativeListener(this._window, \"DOMFocusIn\", this.__onNativeFocusInWrapper, true);\n        qx.bom.Event.removeNativeListener(this._window, \"DOMFocusOut\", this.__onNativeFocusOutWrapper, true);\n      }\n    }),\n\n    /*\n    ---------------------------------------------------------------------------\n      NATIVE LISTENERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Native event listener for <code>draggesture</code> event\n     * supported by gecko. Used to stop native drag and drop when\n     * selection is disabled.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Drag_and_Drop\n     * @signature function(domEvent)\n     * @param domEvent {Event} Native event\n     */\n    __onNativeDragGesture : qx.event.GlobalError.observeMethod(qx.core.Environment.select(\"engine.name\",\n    {\n      \"gecko\" : function(domEvent)\n      {\n        var target = qx.bom.Event.getTarget(domEvent);\n        if (!this.__isSelectable(target)) {\n          qx.bom.Event.preventDefault(domEvent);\n        }\n      },\n\n      \"default\" : null\n    })),\n\n    /**\n     * Native event listener for <code>DOMFocusIn</code> or <code>focusin</code>\n     * depending on the client's engine.\n     *\n     * @signature function(domEvent)\n     * @param domEvent {Event} Native event\n     */\n    __onNativeFocusIn : qx.event.GlobalError.observeMethod(qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(domEvent)\n      {\n        // Force window focus to be the first\n        this.__doWindowFocus();\n\n        // Update internal data\n        var target = qx.bom.Event.getTarget(domEvent);\n\n        // IE focusin is also fired on elements which are not focusable at all\n        // We need to look up for the next focusable element.\n        var focusTarget = this.__findFocusableElement(target);\n        if (focusTarget) {\n          this.setFocus(focusTarget);\n        }\n\n        // Make target active\n        this.tryActivate(target);\n      },\n\n      \"webkit\" : qx.core.Environment.select(\"browser.name\",\n      {\n        // fix for [ISSUE #9174]\n        // distinguish bettween MS Edge, which is reported\n        // as engine webkit and all other webkit browsers\n        \"edge\" : function(domEvent)\n        {\n          // Force window focus to be the first\n          this.__doWindowFocus();\n\n          // Update internal data\n          var target = qx.bom.Event.getTarget(domEvent);\n\n          // IE focusin is also fired on elements which are not focusable at all\n          // We need to look up for the next focusable element.\n          var focusTarget = this.__findFocusableElement(target);\n          if (focusTarget) {\n            this.setFocus(focusTarget);\n          }\n\n          // Make target active\n          this.tryActivate(target);\n        },\n\n        \"default\" : null\n      }),\n\n      \"opera\" : function(domEvent)\n      {\n        var target = qx.bom.Event.getTarget(domEvent);\n        if (target == this._document || target == this._window)\n        {\n          this.__doWindowFocus();\n\n          if (this.__previousFocus)\n          {\n            this.setFocus(this.__previousFocus);\n            delete this.__previousFocus;\n          }\n\n          if (this.__previousActive)\n          {\n            this.setActive(this.__previousActive);\n            delete this.__previousActive;\n          }\n        }\n        else\n        {\n          this.setFocus(target);\n          this.tryActivate(target);\n\n          // Clear selection\n          if (!this.__isSelectable(target))\n          {\n            target.selectionStart = 0;\n            target.selectionEnd = 0;\n          }\n        }\n      },\n\n      \"default\" : null\n    })),\n\n    /**\n     * Native event listener for <code>DOMFocusOut</code> or <code>focusout</code>\n     * depending on the client's engine.\n     *\n     * @signature function(domEvent)\n     * @param domEvent {Event} Native event\n     */\n    __onNativeFocusOut : qx.event.GlobalError.observeMethod(qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(domEvent)\n      {\n        var relatedTarget = qx.bom.Event.getRelatedTarget(domEvent);\n\n        // If the focus goes to nowhere (the document is blurred)\n        if (relatedTarget == null)\n        {\n          // Update internal representation\n          this.__doWindowBlur();\n\n          // Reset active and focus\n          this.resetFocus();\n          this.resetActive();\n        }\n      },\n\n      \"webkit\" : qx.core.Environment.select(\"browser.name\",\n      {\n        // fix for [ISSUE #9174]\n        // distinguish bettween MS Edge, which is reported\n        // as engine webkit and all other webkit browsers\n        \"edge\" : function(domEvent)\n        {\n          var relatedTarget = qx.bom.Event.getRelatedTarget(domEvent);\n\n          // If the focus goes to nowhere (the document is blurred)\n          if (relatedTarget == null)\n          {\n            // Update internal representation\n            this.__doWindowBlur();\n\n            // Reset active and focus\n            this.resetFocus();\n            this.resetActive();\n          }\n        },\n\n        \"default\" : function(domEvent)\n        {\n          var target = qx.bom.Event.getTarget(domEvent);\n\n          if (target === this.getFocus()) {\n            this.resetFocus();\n          }\n\n          if (target === this.getActive()) {\n            this.resetActive();\n          }\n        }\n      }),\n\n      \"opera\" : function(domEvent)\n      {\n        var target = qx.bom.Event.getTarget(domEvent);\n        if (target == this._document)\n        {\n          this.__doWindowBlur();\n\n          // Store old focus/active elements\n          // Opera do not fire focus events for them\n          // when refocussing the window (in my opinion an error)\n          this.__previousFocus = this.getFocus();\n          this.__previousActive = this.getActive();\n\n          this.resetFocus();\n          this.resetActive();\n        }\n        else\n        {\n          if (target === this.getFocus()) {\n            this.resetFocus();\n          }\n\n          if (target === this.getActive()) {\n            this.resetActive();\n          }\n        }\n      },\n\n      \"default\" : null\n    })),\n\n    /**\n     * Native event listener for <code>blur</code>.\n     *\n     * @signature function(domEvent)\n     * @param domEvent {Event} Native event\n     */\n    __onNativeBlur : qx.event.GlobalError.observeMethod(qx.core.Environment.select(\"engine.name\",\n    {\n      \"gecko\" : function(domEvent)\n      {\n        var target = qx.bom.Event.getTarget(domEvent);\n        if (target === this._window || target === this._document)\n        {\n          this.__doWindowBlur();\n\n          this.resetActive();\n          this.resetFocus();\n        }\n      },\n\n      \"webkit\" : function(domEvent)\n      {\n        var target = qx.bom.Event.getTarget(domEvent);\n        if (target === this._window || target === this._document)\n        {\n          this.__doWindowBlur();\n\n          // Store old focus/active elements\n          // Opera do not fire focus events for them\n          // when refocussing the window (in my opinion an error)\n          this.__previousFocus = this.getFocus();\n          this.__previousActive = this.getActive();\n\n          this.resetActive();\n          this.resetFocus();\n        }\n      },\n\n      \"default\" : null\n    })),\n\n    /**\n     * Native event listener for <code>focus</code>.\n     *\n     * @signature function(domEvent)\n     * @param domEvent {Event} Native event\n     */\n    __onNativeFocus : qx.event.GlobalError.observeMethod(qx.core.Environment.select(\"engine.name\",\n    {\n      \"gecko\" : function(domEvent)\n      {\n        var target = qx.bom.Event.getTarget(domEvent);\n\n        if (target === this._window || target === this._document)\n        {\n          this.__doWindowFocus();\n\n          // Always speak of the body, not the window or document\n          target = this._body;\n        }\n\n        this.setFocus(target);\n        this.tryActivate(target);\n      },\n\n      \"webkit\" : function(domEvent)\n      {\n        var target = qx.bom.Event.getTarget(domEvent);\n        if (target === this._window || target === this._document)\n        {\n          this.__doWindowFocus();\n\n          if (this.__previousFocus)\n          {\n            this.setFocus(this.__previousFocus);\n            delete this.__previousFocus;\n          }\n\n          if (this.__previousActive)\n          {\n            this.setActive(this.__previousActive);\n            delete this.__previousActive;\n          }\n        }\n        else\n        {\n          this.__relatedTarget = domEvent.relatedTarget;\n          this.setFocus(target);\n          this.__relatedTarget = null;\n          this.tryActivate(target);\n        }\n      },\n\n      \"default\" : null\n    })),\n\n    /**\n     * Native event listener for <code>mousedown</code>.\n     *\n     * @signature function(domEvent)\n     * @param domEvent {Event} Native event\n     */\n    __onNativeMouseDown : qx.event.GlobalError.observeMethod(qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(domEvent)\n      {\n        var target = qx.bom.Event.getTarget(domEvent);\n\n        // Stop events when no focus element available (or blocked)\n        var focusTarget = this.__findFocusableElement(target);\n        if (focusTarget)\n        {\n          // Add unselectable to keep selection\n          if (!this.__isSelectable(target))\n          {\n            // The element is not selectable. Block selection.\n            target.unselectable = \"on\";\n\n            // Unselectable may keep the current selection which\n            // is not what we like when changing the focus element.\n            // So we clear it\n            try {\n              if (document.selection) {\n                document.selection.empty();\n              }\n            } catch (ex) {\n              // ignore 'Unknown runtime error'\n            }\n\n            // The unselectable attribute stops focussing as well.\n            // Do this manually.\n            try {\n              focusTarget.focus();\n            } catch (ex) {\n              // ignore \"Can't move focus of this control\" error\n            }\n          }\n        }\n        else\n        {\n          // Stop event for blocking support\n          qx.bom.Event.preventDefault(domEvent);\n\n          // Add unselectable to keep selection\n          if (!this.__isSelectable(target)) {\n            target.unselectable = \"on\";\n          }\n        }\n      },\n\n      \"webkit\" : function(domEvent) {\n        var target = qx.bom.Event.getTarget(domEvent);\n        var focusTarget = this.__findFocusableElement(target);\n\n        if (focusTarget) {\n          this.setFocus(focusTarget);\n        } else {\n          qx.bom.Event.preventDefault(domEvent);\n        }\n      },\n\n      \"gecko\" : function(domEvent) {\n        var target = qx.bom.Event.getTarget(domEvent);\n        var focusTarget = this.__findFocusableElement(target);\n\n        if (focusTarget) {\n          this.setFocus(focusTarget);\n        } else {\n          qx.bom.Event.preventDefault(domEvent);\n        }\n      },\n\n      \"opera\" : function(domEvent)\n      {\n        var target = qx.bom.Event.getTarget(domEvent);\n        var focusTarget = this.__findFocusableElement(target);\n\n        if (!this.__isSelectable(target)) {\n          // Prevent the default action for all non-selectable\n          // targets. This prevents text selection and context menu.\n          qx.bom.Event.preventDefault(domEvent);\n\n          // The stopped event keeps the selection\n          // of the previously focused element.\n          // We need to clear the old selection.\n          if (focusTarget)\n          {\n            var current = this.getFocus();\n            if (current && current.selectionEnd)\n            {\n              current.selectionStart = 0;\n              current.selectionEnd = 0;\n              current.blur();\n            }\n\n            // The prevented event also stop the focus, do\n            // it manually if needed.\n            if (focusTarget) {\n              this.setFocus(focusTarget);\n            }\n          }\n        } else if (focusTarget) {\n          this.setFocus(focusTarget);\n        }\n      },\n\n      \"default\" : null\n    })),\n\n    /**\n     * Native event listener for <code>mouseup</code>.\n     *\n     * @signature function(domEvent)\n     * @param domEvent {Event} Native event\n     */\n    __onNativeMouseUp : qx.event.GlobalError.observeMethod(qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(domEvent)\n      {\n        var target = qx.bom.Event.getTarget(domEvent);\n        if (target.unselectable) {\n          target.unselectable = \"off\";\n        }\n\n        this.tryActivate(this.__fixFocus(target));\n      },\n\n      \"gecko\" : function(domEvent)\n      {\n        // As of Firefox 3.0:\n        // Gecko fires mouseup on XUL elements\n        // We only want to deal with real HTML elements\n        var target = qx.bom.Event.getTarget(domEvent);\n        while (target && target.offsetWidth === undefined) {\n          target = target.parentNode;\n        }\n\n        if (target) {\n          this.tryActivate(target);\n        }\n\n      },\n\n      \"webkit\" : function(domEvent)\n      {\n        var target = qx.bom.Event.getTarget(domEvent);\n        this.tryActivate(this.__fixFocus(target));\n      },\n\n      \"opera\" : function(domEvent)\n      {\n        var target = qx.bom.Event.getTarget(domEvent);\n        this.tryActivate(this.__fixFocus(target));\n      },\n\n      \"default\" : null\n    })),\n\n    /**\n     * Fix for bug #9331.\n     *\n     * @signature function(target)\n     * @param target {Element} element to check\n     * @return {Element} return correct target (in case of compound input controls should always return textfield);\n     */\n    __getCorrectFocusTarget: function(target)\n    {\n      var focusedElement = this.getFocus();\n      if (focusedElement && target != focusedElement) {\n        if (focusedElement.nodeName.toLowerCase() === \"input\" ||\n          focusedElement.nodeName.toLowerCase() === \"textarea\") {\n          return focusedElement;\n        }\n        // Check compound widgets\n        var widget = qx.ui.core.Widget.getWidgetByElement(focusedElement),\n          textField = widget && widget.getChildControl && widget.getChildControl(\"textfield\", true);\n\n        if (textField) {\n          return textField.getContentElement().getDomElement();\n        }\n      }\n      return target;\n    },\n\n    /**\n     * Fix for bug #2602.\n     *\n     * @signature function(target)\n     * @param target {Element} target element from mouse up event\n     * @return {Element} Element to activate;\n     */\n    __fixFocus : qx.event.GlobalError.observeMethod(qx.core.Environment.select(\"engine.name\",\n      {\n        \"mshtml\" : function(target) {\n          return this.__getCorrectFocusTarget(target);\n        },\n\n        \"webkit\" : function(target) {\n          return this.__getCorrectFocusTarget(target);\n        },\n\n        \"default\" : function(target) {\n          return target;\n        }\n      })),\n\n    /**\n     * Native event listener for <code>selectstart</code>.\n     *\n     *@signature function(domEvent)\n     * @param domEvent {Event} Native event\n     */\n    __onNativeSelectStart : qx.event.GlobalError.observeMethod(qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(domEvent)\n      {\n        var target = qx.bom.Event.getTarget(domEvent);\n        if (!this.__isSelectable(target)) {\n          qx.bom.Event.preventDefault(domEvent);\n        }\n      },\n\n      \"webkit\" : function(domEvent)\n      {\n        var target = qx.bom.Event.getTarget(domEvent);\n        if (!this.__isSelectable(target)) {\n          qx.bom.Event.preventDefault(domEvent);\n        }\n      },\n\n      \"default\" : null\n    })),\n\n    /*\n    ---------------------------------------------------------------------------\n      HELPER METHODS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Whether the given element is focusable. This is perfectly modeled to the\n     * browsers behavior and this way may differ in the various clients.\n     *\n     * @param el {Element} DOM Element to query\n     * @return {Boolean} Whether the element is focusable\n     */\n    __isFocusable : function(el)\n    {\n      var index = qx.bom.element.Attribute.get(el, \"tabIndex\");\n      if (index >= 1) {\n        return true;\n      }\n\n      var focusable = qx.event.handler.Focus.FOCUSABLE_ELEMENTS;\n      if (index >= 0 && focusable[el.tagName]) {\n        return true;\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Returns the next focusable parent element of an activated DOM element.\n     *\n     * @param el {Element} Element to start lookup with.\n     * @return {Element|null} The next focusable element.\n     */\n    __findFocusableElement : function(el)\n    {\n      while (el && el.nodeType === 1)\n      {\n        if (el.getAttribute(\"qxKeepFocus\") == \"on\") {\n          return null;\n        }\n\n        if (this.__isFocusable(el)) {\n          return el;\n        }\n\n        el = el.parentNode;\n      }\n\n      // This should be identical to the one which is selected when\n      // clicking into an empty page area. In mshtml this must be\n      // the body of the document.\n      return this._body;\n    },\n\n    /**\n     * Returns the next activatable element. May be the element itself.\n     * Works a bit different than the method {@link #__findFocusableElement}\n     * as it looks up for a parent which is has a keep focus flag. When\n     * there is such a parent it returns null otherwise the original\n     * incoming element.\n     *\n     * @param el {Element} Element to start lookup with.\n     * @return {Element} The next activatable element.\n     */\n    __findActivatableElement : function(el)\n    {\n      var orig = el;\n\n      while (el && el.nodeType === 1)\n      {\n        if (el.getAttribute(\"qxKeepActive\") == \"on\") {\n          return null;\n        }\n\n        el = el.parentNode;\n      }\n\n      return orig;\n    },\n\n    /**\n     * Whether the given el (or its content) should be selectable\n     * by the user.\n     *\n     * @param node {Element} Node to start lookup with\n     * @return {Boolean} Whether the content is selectable.\n     */\n    __isSelectable : function(node)\n    {\n      while(node && node.nodeType === 1)\n      {\n        var attr = node.getAttribute(\"qxSelectable\");\n        if (attr != null) {\n          return attr === \"on\";\n        }\n\n        node = node.parentNode;\n      }\n\n      return true;\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      PROPERTY APPLY ROUTINES\n    ---------------------------------------------------------------------------\n    */\n\n    // apply routine\n    _applyActive : function(value, old)\n    {\n      // Fire events\n      if (old) {\n        this.__fireEvent(old, value, \"deactivate\", true);\n      }\n\n      if (value) {\n        this.__fireEvent(value, old, \"activate\", true);\n      }\n      // correct scroll position for iOS 7\n      if (this.__needsScrollFix) {\n        window.scrollTo(0, 0);\n      }\n    },\n\n    // apply routine\n    _applyFocus : function(value, old)\n    {\n      // Fire bubbling events\n      if (old) {\n        this.__fireEvent(old, value, \"focusout\", true);\n      }\n\n      if (value) {\n        this.__fireEvent(value, old, \"focusin\", true);\n      }\n\n      // Fire after events\n      if (old) {\n        this.__fireEvent(old, value, \"blur\", false);\n      }\n\n      if (value) {\n        this.__fireEvent(value, old || this.__relatedTarget, \"focus\", false);\n      }\n    }\n  },\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    this._stopObserver();\n    this._manager = this._window = this._document = this._root = this._body =\n      this.__mouseActive = this.__relatedTarget = null;\n  },\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics)\n  {\n    qx.event.Registration.addHandler(statics);\n\n    // For faster lookups generate uppercase tag names dynamically\n    var focusable = statics.FOCUSABLE_ELEMENTS;\n    for (var entry in focusable) {\n      focusable[entry.toUpperCase()] = 1;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Sebastian Fastner (fastner)\n     * Tino Butz (tbtz)\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * Unify Project\n\n     Homepage:\n       http://unify-project.org\n\n     Copyright:\n       2009-2010 Deutsche Telekom AG, Germany, http://telekom.com\n\n     License:\n       MIT: http://www.opensource.org/licenses/mit-license.php\n\n   * Yahoo! UI Library\n       http://developer.yahoo.com/yui\n       Version 2.2.0\n\n     Copyright:\n       (c) 2007, Yahoo! Inc.\n\n     License:\n       BSD: http://developer.yahoo.com/yui/license.txt\n\n   ----------------------------------------------------------------------\n\n     http://developer.yahoo.com/yui/license.html\n\n     Copyright (c) 2009, Yahoo! Inc.\n     All rights reserved.\n\n     Redistribution and use of this software in source and binary forms,\n     with or without modification, are permitted provided that the\n     following conditions are met:\n\n     * Redistributions of source code must retain the above copyright\n       notice, this list of conditions and the following disclaimer.\n     * Redistributions in binary form must reproduce the above copyright\n       notice, this list of conditions and the following disclaimer in\n       the documentation and/or other materials provided with the\n       distribution.\n     * Neither the name of Yahoo! Inc. nor the names of its contributors\n       may be used to endorse or promote products derived from this\n       software without specific prior written permission of Yahoo! Inc.\n\n     THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n     \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n     LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS\n     FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\n     COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,\n     INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n     (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n     SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)\n     HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,\n     STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n     ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED\n     OF THE POSSIBILITY OF SUCH DAMAGE.\n\n************************************************************************ */\n\n/**\n * Includes library functions to work with the client's viewport (window).\n * Orientation related functions are point to window.top as default.\n */\nqx.Bootstrap.define(\"qx.bom.Viewport\",\n{\n  statics :\n  {\n    /**\n     * Returns the current width of the viewport (excluding the vertical scrollbar\n     * if present).\n     *\n     * @param win {Window?window} The window to query\n     * @return {Integer} The width of the viewable area of the page (excluding scrollbars).\n     */\n    getWidth : function(win)\n    {\n      var win = win || window;\n      var doc = win.document;\n      return qx.bom.Document.isStandardMode(win) ? doc.documentElement.clientWidth : doc.body.clientWidth;\n    },\n\n\n    /**\n     * Returns the current height of the viewport (excluding the horizontal scrollbar\n     * if present).\n     *\n     * @param win {Window?window} The window to query\n     * @return {Integer} The Height of the viewable area of the page (excluding scrollbars).\n     */\n    getHeight : function(win)\n    {\n      var win = win || window;\n      var doc = win.document;\n\n      // [BUG #7785] Document element's clientHeight is calculated wrong on iPad iOS7\n      if(qx.core.Environment.get(\"os.name\") == \"ios\" && window.innerHeight != doc.documentElement.clientHeight) {\n        return window.innerHeight;\n      }\n\n      return qx.bom.Document.isStandardMode(win) ? doc.documentElement.clientHeight : doc.body.clientHeight;\n    },\n\n\n    /**\n     * Returns the scroll position of the viewport\n     *\n     * All clients except IE < 9 support the non-standard property <code>pageXOffset</code>.\n     * As this is easier to evaluate we prefer this property over <code>scrollLeft</code>.\n     * Since the window could differ from the one the application is running in, we can't\n     * use a one-time environment check to decide which property to use.\n     *\n     * @param win {Window?window} The window to query\n     * @return {Integer} Scroll position in pixels from left edge, always a positive integer or zero\n     */\n    getScrollLeft : function(win)\n    {\n      var win = win ? win : window;\n\n      if (typeof win.pageXOffset !== \"undefined\") {\n        return win.pageXOffset;\n      }\n\n      // Firefox is using 'documentElement.scrollLeft' and Chrome is using\n      // 'document.body.scrollLeft'. For the other value each browser is returning\n      // 0, so we can use this check to get the positive value without using specific\n      // browser checks.\n      var doc = win.document;\n      return doc.documentElement.scrollLeft || doc.body.scrollLeft;\n    },\n\n\n    /**\n     * Returns the scroll position of the viewport\n     *\n     * All clients except MSHTML support the non-standard property <code>pageYOffset</code>.\n     * As this is easier to evaluate we prefer this property over <code>scrollTop</code>.\n     * Since the window could differ from the one the application is running in, we can't\n     * use a one-time environment check to decide which property to use.\n     *\n     * @param win {Window?window} The window to query\n     * @return {Integer} Scroll position in pixels from top edge, always a positive integer or zero\n     */\n    getScrollTop : function(win)\n    {\n      var win = win ? win : window;\n\n      if (typeof win.pageYOffset !== \"undefined\") {\n        return win.pageYOffset;\n      }\n\n      // Firefox is using 'documentElement.scrollTop' and Chrome is using\n      // 'document.body.scrollTop'. For the other value each browser is returning\n      // 0, so we can use this check to get the positive value without using specific\n      // browser checks.\n      var doc = win.document;\n      return doc.documentElement.scrollTop || doc.body.scrollTop;\n    },\n\n\n    /**\n     * Returns an orientation normalizer value that should be added to device orientation\n     * to normalize behaviour on different devices.\n     *\n     * @param win {Window} The window to query\n     * @return {Map} Orientation normalizing value\n     */\n    __getOrientationNormalizer : function(win)\n    {\n      // Calculate own understanding of orientation (0 = portrait, 90 = landscape)\n      var currentOrientation = this.getWidth(win) > this.getHeight(win) ? 90 : 0;\n      var deviceOrientation  = win.orientation;\n      if (deviceOrientation == null || Math.abs( deviceOrientation % 180 ) == currentOrientation) {\n        // No device orientation available or device orientation equals own understanding of orientation\n        return {\n          \"-270\":  90,\n          \"-180\": 180,\n           \"-90\": -90,\n             \"0\":   0,\n            \"90\":  90,\n           \"180\": 180,\n           \"270\": -90\n        };\n      } else {\n        // Device orientation is not equal to own understanding of orientation\n        return {\n          \"-270\": 180,\n          \"-180\": -90,\n           \"-90\":   0,\n             \"0\":  90,\n            \"90\": 180,\n           \"180\": -90,\n           \"270\":   0\n        };\n      }\n    },\n\n\n    // Cache orientation normalizer map on start\n    __orientationNormalizer : null,\n\n\n    /**\n     * Returns the current orientation of the viewport in degree.\n     *\n     * All possible values and their meaning:\n     *\n     * * <code>-90</code>: \"Landscape\"\n     * * <code>0</code>: \"Portrait\"\n     * * <code>90</code>: \"Landscape\"\n     * * <code>180</code>: \"Portrait\"\n     *\n     * @param win {Window?window.top} The window to query. (Default = top window)\n     * @return {Integer} The current orientation in degree\n     */\n    getOrientation : function(win)\n    {\n      // Set window.top as default, because orientationChange event is only fired top window\n      var win = win||window.top;\n      // The orientation property of window does not have the same behaviour over all devices\n      // iPad has 0degrees = Portrait, Playbook has 90degrees = Portrait, same for Android Honeycomb\n      //\n      // To fix this an orientationNormalizer map is calculated on application start\n      //\n      // The calculation of getWidth and getHeight returns wrong values if you are in an input field\n      // on iPad and rotate your device!\n      var orientation = win.orientation;\n      if (orientation == null) {\n        // Calculate orientation from window width and window height\n        orientation = this.getWidth(win) > this.getHeight(win) ? 90 : 0;\n      } else {\n        if (this.__orientationNormalizer == null) {\n          this.__orientationNormalizer = this.__getOrientationNormalizer(win);\n        }\n        // Normalize orientation value\n        orientation = this.__orientationNormalizer[orientation];\n      }\n      return orientation;\n    },\n\n\n    /**\n     * Whether the viewport orientation is currently in landscape mode.\n     *\n     * @param win {Window?window} The window to query\n     * @return {Boolean} <code>true</code> when the viewport orientation\n     *     is currently in landscape mode.\n     */\n    isLandscape : function(win) {\n      var orientation = this.getOrientation(win);\n      return orientation === -90 || orientation === 90;\n    },\n\n\n    /**\n     * Whether the viewport orientation is currently in portrait mode.\n     *\n     * @param win {Window?window} The window to query\n     * @return {Boolean} <code>true</code> when the viewport orientation\n     *     is currently in portrait mode.\n     */\n    isPortrait : function(win)\n    {\n      var orientation = this.getOrientation(win);\n      return orientation === 0 || orientation === 180;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n\n/**\n * Basic implementation for an event emitter. This supplies a basic and\n * minimalistic event mechanism.\n */\nqx.Bootstrap.define(\"qx.event.Emitter\",\n{\n  extend : Object,\n  statics : {\n    /** Static storage for all event listener */\n    __storage : []\n  },\n\n  members :\n  {\n    __listener : null,\n    __any : null,\n\n\n    /**\n     * Attach a listener to the event emitter. The given <code>name</code>\n     * will define the type of event. Handing in a <code>'*'</code> will\n     * listen to all events emitted by the event emitter.\n     *\n     * @param name {String} The name of the event to listen to.\n     * @param listener {Function} The function execute on {@link #emit}.\n     * @param ctx {var?Window} The context of the listener.\n     * @return {Integer} An unique <code>id</code> for the attached listener.\n     */\n    on : function(name, listener, ctx) {\n      var id = qx.event.Emitter.__storage.length;\n      this.__getStorage(name).push({listener: listener, ctx: ctx, id: id, name: name});\n      qx.event.Emitter.__storage.push({name: name, listener: listener, ctx: ctx});\n      return id;\n    },\n\n\n    /**\n     * Attach a listener to the event emitter which will be executed only once.\n     * The given <code>name</code> will define the type of event. Handing in a\n     * <code>'*'</code> will listen to all events emitted by the event emitter.\n     *\n     * @param name {String} The name of the event to listen to.\n     * @param listener {Function} The function execute on {@link #emit}.\n     * @param ctx {var?Window} The context of the listener.\n     * @return {Integer} An unique <code>id</code> for the attached listener.\n     */\n    once : function(name, listener, ctx) {\n      var id = qx.event.Emitter.__storage.length;\n      this.__getStorage(name).push({listener: listener, ctx: ctx, once: true, id: id});\n      qx.event.Emitter.__storage.push({name: name, listener: listener, ctx: ctx});\n      return id;\n    },\n\n\n    /**\n     * Remove a listener from the event emitter. The given <code>name</code>\n     * will define the type of event.\n     *\n     * @param name {String} The name of the event to listen to.\n     * @param listener {Function} The function execute on {@link #emit}.\n     * @param ctx {var?Window} The context of the listener.\n     * @return {Integer|null} The listener's id if it was removed or\n     * <code>null</code> if it wasn't found\n     */\n    off : function(name, listener, ctx) {\n      var storage = this.__getStorage(name);\n      for (var i = storage.length - 1; i >= 0; i--) {\n        var entry = storage[i];\n        if (entry.listener == listener && entry.ctx == ctx) {\n          storage.splice(i, 1);\n          qx.event.Emitter.__storage[entry.id] = null;\n          return entry.id;\n        }\n      }\n      return null;\n    },\n\n\n    /**\n     * Removes the listener identified by the given <code>id</code>. The id\n     * will be return on attaching the listener and can be stored for removing.\n     *\n     * @param id {Integer} The id of the listener.\n     * @return {Integer|null} The listener's id if it was removed or\n     * <code>null</code> if it wasn't found\n     */\n    offById : function(id) {\n      var entry = qx.event.Emitter.__storage[id];\n      if (entry) {\n        this.off(entry.name, entry.listener, entry.ctx);\n      }\n      return null;\n    },\n\n\n\n\n    /**\n     * Alternative for {@link #on}.\n     * @param name {String} The name of the event to listen to.\n     * @param listener {Function} The function execute on {@link #emit}.\n     * @param ctx {var?Window} The context of the listener.\n     * @return {Integer} An unique <code>id</code> for the attached listener.\n     */\n    addListener : function(name, listener, ctx) {\n      return this.on(name, listener, ctx);\n    },\n\n\n    /**\n     * Alternative for {@link #once}.\n     * @param name {String} The name of the event to listen to.\n     * @param listener {Function} The function execute on {@link #emit}.\n     * @param ctx {var?Window} The context of the listener.\n     * @return {Integer} An unique <code>id</code> for the attached listener.\n     */\n    addListenerOnce : function(name, listener, ctx) {\n      return this.once(name, listener, ctx);\n    },\n\n\n    /**\n     * Alternative for {@link #off}.\n     * @param name {String} The name of the event to listen to.\n     * @param listener {Function} The function execute on {@link #emit}.\n     * @param ctx {var?Window} The context of the listener.\n     */\n    removeListener : function(name, listener, ctx) {\n      this.off(name, listener, ctx);\n    },\n\n\n    /**\n     * Alternative for {@link #offById}.\n     * @param id {Integer} The id of the listener.\n     */\n    removeListenerById : function(id) {\n     this.offById(id);\n    },\n\n\n\n\n    /**\n     * Emits an event with the given name. The data will be passed\n     * to the listener.\n     * @param name {String} The name of the event to emit.\n     * @param data {var?undefined} The data which should be passed to the listener.\n     */\n    emit : function(name, data) {\n      var storage = this.__getStorage(name).concat();\n      var toDelete = [];\n      for (var i = 0; i < storage.length; i++) {\n        var entry = storage[i];\n        entry.listener.call(entry.ctx, data);\n        if (entry.once) {\n          toDelete.push(entry);\n        }\n      }\n\n      // listener callbacks could manipulate the storage\n      // (e.g. module.Event.once)\n      toDelete.forEach(function(entry) {\n        var origStorage = this.__getStorage(name);\n        var idx = origStorage.indexOf(entry);\n        origStorage.splice(idx, 1);\n      }.bind(this));\n\n      // call on any\n      storage = this.__getStorage(\"*\");\n      for (var i = storage.length - 1; i >= 0; i--) {\n        var entry = storage[i];\n        entry.listener.call(entry.ctx, data);\n      }\n    },\n\n\n\n    /**\n     * Returns the internal attached listener.\n     * @internal\n     * @return {Map} A map which has the event name as key. The values are\n     *   arrays containing a map with 'listener' and 'ctx'.\n     */\n    getListeners : function() {\n      return this.__listener;\n    },\n\n\n    /**\n     * Returns the data entry for a given event id. If the entry could\n     * not be found, undefined will be returned.\n     * @internal\n     * @param id {Number} The listeners id\n     * @return {Map|undefined} The data entry if found\n     */\n    getEntryById : function(id) {\n      for (var name in this.__listener) {\n        var store = this.__listener[name];\n\n        for (var i=0, j=store.length; i<j; i++) {\n          if (store[i].id === id) {\n            return store[i];\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Internal helper which will return the storage for the given name.\n     * @param name {String} The name of the event.\n     * @return {Array} An array which is the storage for the listener and\n     *   the given event name.\n     */\n    __getStorage : function(name) {\n      if (this.__listener == null) {\n        this.__listener = {};\n      }\n      if (this.__listener[name] == null) {\n        this.__listener[name] = [];\n      }\n      return this.__listener[name];\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n\n/**\n * This is a cross browser wrapper for requestAnimationFrame. For further\n * information about the feature, take a look at spec:\n * http://www.w3.org/TR/animation-timing/\n *\n * This class offers two ways of using this feature. First, the plain\n * API the spec describes.\n *\n * Here is a sample usage:\n * <pre class='javascript'>var start = Date.now();\n * var cb = function(time) {\n *   if (time >= start + duration) {\n *     // ... do some last tasks\n *   } else {\n *     var timePassed = time - start;\n *     // ... calculate the current step and apply it\n *     qx.bom.AnimationFrame.request(cb, this);\n *   }\n * };\n * qx.bom.AnimationFrame.request(cb, this);\n * </pre>\n *\n * Another way of using it is to use it as an instance emitting events.\n *\n * Here is a sample usage of that API:\n * <pre class='javascript'>var frame = new qx.bom.AnimationFrame();\n * frame.on(\"end\", function() {\n *   // ... do some last tasks\n * }, this);\n * frame.on(\"frame\", function(timePassed) {\n *   // ... calculate the current step and apply it\n * }, this);\n * frame.startSequence(duration);\n * </pre>\n *\n * @require(qx.lang.normalize.Date)\n */\nqx.Bootstrap.define(\"qx.bom.AnimationFrame\",\n{\n  extend : qx.event.Emitter,\n\n  events : {\n    /** Fired as soon as the animation has ended. */\n    \"end\" : undefined,\n\n    /**\n     * Fired on every frame having the passed time as value\n     * (might be a float for higher precision).\n     */\n    \"frame\" : \"Number\"\n  },\n\n  members : {\n    __canceled : false,\n\n    /**\n     * Method used to start a series of animation frames. The series will end as\n     * soon as the given duration is over.\n     *\n     * @param duration {Number} The duration the sequence should take.\n     *\n     * @ignore(performance.*)\n     */\n    startSequence : function(duration) {\n      this.__canceled = false;\n\n      var start = (window.performance && performance.now) ? (performance.now() + qx.bom.AnimationFrame.__start) : Date.now();\n      var cb = function(time) {\n        if (this.__canceled) {\n          this.id = null;\n          return;\n        }\n\n        // final call\n        if (time >= start + duration) {\n          this.emit(\"end\");\n          this.id = null;\n        } else {\n          var timePassed = Math.max(time - start, 0);\n          this.emit(\"frame\", timePassed);\n          this.id = qx.bom.AnimationFrame.request(cb, this);\n        }\n      };\n\n      this.id = qx.bom.AnimationFrame.request(cb, this);\n    },\n\n\n    /**\n     * Cancels a started sequence of frames. It will do nothing if no\n     * sequence is running.\n     */\n    cancelSequence : function() {\n      this.__canceled = true;\n    }\n  },\n\n  statics :\n  {\n    /**\n     * The default time in ms the timeout fallback implementation uses.\n     */\n    TIMEOUT : 30,\n\n\n    /**\n     * Calculation of the predefined timing functions. Approximation of the real\n     * bezier curves has been used for easier calculation. This is good and close\n     * enough for the predefined functions like <code>ease</code> or\n     * <code>linear</code>.\n     *\n     * @param func {String} The defined timing function. One of the following values:\n     *   <code>\"ease-in\"</code>, <code>\"ease-out\"</code>, <code>\"linear\"</code>,\n     *   <code>\"ease-in-out\"</code>, <code>\"ease\"</code>.\n     * @param x {Integer} The percent value of the function.\n     * @return {Integer} The calculated value\n     */\n    calculateTiming : function(func, x) {\n      if (func == \"ease-in\") {\n        var a = [3.1223e-7, 0.0757, 1.2646, -0.167, -0.4387, 0.2654];\n      } else if (func == \"ease-out\") {\n        var a = [-7.0198e-8, 1.652, -0.551, -0.0458, 0.1255, -0.1807];\n      } else if (func == \"linear\") {\n        return x;\n      } else if (func == \"ease-in-out\") {\n        var a = [2.482e-7, -0.2289, 3.3466, -1.0857, -1.7354, 0.7034];\n      } else {\n        // default is 'ease'\n        var a = [-0.0021, 0.2472, 9.8054, -21.6869, 17.7611, -5.1226];\n      }\n\n      // A 6th grade polynomial has been used as approximation of the original\n      // bezier curves  described in the transition spec\n      // http://www.w3.org/TR/css3-transitions/#transition-timing-function_tag\n      // (the same is used for animations as well)\n      var y = 0;\n      for (var i=0; i < a.length; i++) {\n        y += a[i] * Math.pow(x, i);\n      };\n      return y;\n    },\n\n\n    /**\n     * Request for an animation frame. If the native <code>requestAnimationFrame</code>\n     * method is supported, it will be used. Otherwise, we use timeouts with a\n     * 30ms delay. The HighResolutionTime will be used if supported but the time given\n     * to the callback will still be a timestamp starting at 1 January 1970 00:00:00 UTC.\n     *\n     * @param callback {Function} The callback function which will get the current\n     *   time as argument (which could be a float for higher precision).\n     * @param context {var} The context of the callback.\n     * @return {Number} The id of the request.\n     */\n    request : function(callback, context) {\n      var req = qx.core.Environment.get(\"css.animation.requestframe\");\n\n      var cb = function(time) {\n        // check for high resolution time\n        if (time < 1e10) {\n          time = qx.bom.AnimationFrame.__start + time;\n        }\n\n        time = time || Date.now();\n        callback.call(context, time);\n      };\n      if (req) {\n        return window[req](cb);\n      } else {\n        // make sure to use an indirection because setTimeout passes a\n        // number as first argument as well\n        return window.setTimeout(function() {\n          cb();\n        }, qx.bom.AnimationFrame.TIMEOUT);\n      }\n    }\n  },\n\n  /**\n   * @ignore(performance.timing.*)\n   */\n  defer : function(statics) {\n    // check and use the high resolution start time if available\n    statics.__start = window.performance && performance.timing && performance.timing.navigationStart;\n    // if not, simply use the current time\n    if (!statics.__start) {\n      statics.__start = Date.now();\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n ************************************************************************ */\n\n/**\n * Util for mouse wheel normalization.\n */\nqx.Bootstrap.define(\"qx.util.Wheel\", {\n  statics: {\n    /**\n     * The maximal measured scroll wheel delta.\n     * @internal\n     */\n    MAXSCROLL: null,\n\n    /**\n     * The minimal measured scroll wheel delta.\n     * @internal\n     */\n    MINSCROLL: null,\n\n    /**\n     * The normalization factor for the speed calculation.\n     * @internal\n     */\n    FACTOR: 1,\n\n    /**\n     * Is the Wheel actually a touchpad ?\n     * @internal\n     */\n    IS_TOUCHPAD: false,\n\n    /**\n     * Get the amount the wheel has been scrolled\n     *\n     * @param domEvent {Event} The native wheel event.\n     * @param axis {String?} Optional parameter which defines the scroll axis.\n     *   The value can either be <code>\"x\"</code> or <code>\"y\"</code>.\n     * @return {Integer} Scroll wheel movement for the given axis. If no axis\n     *   is given, the y axis is used.\n     */\n    getDelta: function (domEvent, axis) {\n      // default case\n      if (axis === undefined) {\n        // default case\n        var delta = 0;\n        if (domEvent.wheelDelta !== undefined) {\n          delta = -domEvent.wheelDelta;\n        } else if (domEvent.detail !== 0) {\n          delta = domEvent.detail;\n        } else if (domEvent.deltaY !== undefined) {\n          // use deltaY as default for firefox\n          delta = domEvent.deltaY;\n        }\n        return this.__normalize(delta);\n      }\n\n      // get the x scroll delta\n      if (axis === \"x\") {\n        var x = 0;\n        if (domEvent.wheelDelta !== undefined) {\n          if (domEvent.wheelDeltaX !== undefined) {\n            x = domEvent.wheelDeltaX ? this.__normalize(-domEvent.wheelDeltaX) : 0;\n          }\n        } else {\n          if (domEvent.axis && domEvent.axis == domEvent.HORIZONTAL_AXIS &&\n            (domEvent.detail !== undefined) && (domEvent.detail > 0)\n          ) {\n            x = this.__normalize(domEvent.detail);\n          } else if (domEvent.deltaX !== undefined) {\n            x = this.__normalize(domEvent.deltaX);\n          }\n        }\n        return x;\n      }\n\n      // get the y scroll delta\n      if (axis === \"y\") {\n        var y = 0;\n        if (domEvent.wheelDelta !== undefined) {\n          if (domEvent.wheelDeltaY !== undefined) {\n            y = domEvent.wheelDeltaY ? this.__normalize(-domEvent.wheelDeltaY) : 0;\n          } else {\n            y = this.__normalize(-domEvent.wheelDelta);\n          }\n        } else {\n          if (!(domEvent.axis && domEvent.axis == domEvent.HORIZONTAL_AXIS) &&\n            (domEvent.detail !== undefined) && (domEvent.detail > 0)\n          ) {\n            y = this.__normalize(domEvent.detail);\n          } else if (domEvent.deltaY !== undefined) {\n            y = this.__normalize(domEvent.deltaY);\n          }\n        }\n        return y;\n      }\n      // default case, return 0\n      return 0;\n    },\n\n\n    /**\n     * Normalizer for the mouse wheel data.\n     *\n     * @param delta {Number} The mouse delta.\n     * @return {Number} The normalized delta value\n     */\n    __normalize: function (delta) {\n      if (qx.util.Wheel.IS_TOUCHPAD) {\n        // Reset normalization values that may be re-computed once a real mouse is plugged.\n        qx.util.Wheel.MINSCROLL = null;\n        qx.util.Wheel.MAXSCROLL = null;\n        qx.util.Wheel.FACTOR = 1;\n        return delta;\n      }\n      var absDelta = Math.abs(delta);\n\n      if (absDelta === 0) {\n        return 0;\n      }\n\n      // store the min value\n      if (\n        qx.util.Wheel.MINSCROLL == null ||\n        qx.util.Wheel.MINSCROLL > absDelta\n        ) {\n        qx.util.Wheel.MINSCROLL = absDelta;\n        this.__recalculateMultiplicator();\n      }\n\n      // store the max value\n      if (\n        qx.util.Wheel.MAXSCROLL == null ||\n        qx.util.Wheel.MAXSCROLL < absDelta\n        ) {\n        qx.util.Wheel.MAXSCROLL = absDelta;\n        this.__recalculateMultiplicator();\n      }\n\n      // special case for systems not speeding up\n      if (\n        qx.util.Wheel.MAXSCROLL === absDelta &&\n        qx.util.Wheel.MINSCROLL === absDelta\n        ) {\n        return 2 * (delta / absDelta);\n      }\n\n      var range =\n        qx.util.Wheel.MAXSCROLL - qx.util.Wheel.MINSCROLL;\n      var ret = (delta / range) * Math.log(range) * qx.util.Wheel.FACTOR;\n\n      // return at least 1 or -1\n      return ret < 0 ? Math.min(ret, -1) : Math.max(ret, 1);\n    },\n\n\n    /**\n     * Recalculates the factor with which the calculated delta is normalized.\n     */\n    __recalculateMultiplicator: function () {\n      var max = qx.util.Wheel.MAXSCROLL || 0;\n      var min = qx.util.Wheel.MINSCROLL || max;\n      if (max <= min) {\n        return;\n      }\n      var range = max - min;\n      var maxRet = (max / range) * Math.log(range);\n      if (maxRet == 0) {\n        maxRet = 1;\n      }\n      qx.util.Wheel.FACTOR = 6 / maxRet;\n      if (qx.core.Environment.get(\"qx.debug.touchpad.detection\")) {\n        qx.log.Logger.debug(this, \"FACTOR : \" + qx.util.Wheel.FACTOR);\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * Global timer support.\n *\n * This class can be used to periodically fire an event. This event can be\n * used to simulate e.g. a background task. The static method\n * {@link #once} is a special case. It will call a function deferred after a\n * given timeout.\n * \n * NOTE: Instances of this class must be disposed of after use\n *\n */\nqx.Class.define(\"qx.event.Timer\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.core.IDisposable ],\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param interval {Number} initial interval in milliseconds of the timer.\n   */\n  construct : function(interval)\n  {\n    this.base(arguments);\n\n    if (interval != null) {\n      this.setInterval(interval);\n    }\n\n    // don't use qx.lang.Function.bind because this function would add a\n    // disposed check, which could break the functionality. In IE the handler\n    // may get called after \"clearInterval\" (i.e. after the timer is disposed)\n    // and we must be able to handle this.\n    var self = this;\n    this.__oninterval = function() {\n      self._oninterval.call(self);\n    };\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events :\n  {\n    /** This event if fired each time the interval time has elapsed */\n    \"interval\" : \"qx.event.type.Event\"\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * Start a function after a given timeout.\n     *\n     * @param func {Function} Function to call\n     * @param obj {Object} context (this), the function is called with\n     * @param timeout {Number} Number of milliseconds to wait before the\n     *   function is called.\n     * @return {qx.event.Timer} The timer object used for the timeout. This\n     *    object can be used to cancel the timeout. Note that the timer is\n     *    only valid until the timer has been executed.\n     */\n    once : function(func, obj, timeout)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        // check the given parameter\n        qx.core.Assert.assertFunction(func, \"func is not a function\");\n        qx.core.Assert.assertNotUndefined(timeout, \"No timeout given\");\n      }\n\n      // Create time instance\n      var timer = new qx.event.Timer(timeout);\n\n      // Bug #3481: append original function to timer instance so it can be\n      // read by a debugger\n      timer.__onceFunc = func;\n\n      // Add event listener to interval\n      timer.addListener(\"interval\", function(e)\n      {\n        timer.stop();\n        func.call(obj, e);\n        delete timer.__onceFunc;\n        timer.dispose();\n\n        obj = null;\n      },\n      obj);\n\n      // Directly start timer\n      timer.start();\n      return timer;\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /**\n     * With the enabled property the Timer can be started and suspended.\n     * Setting it to \"true\" is equivalent to {@link #start}, setting it\n     * to \"false\" is equivalent to {@link #stop}.\n     */\n    enabled :\n    {\n      init : false,\n      check : \"Boolean\",\n      apply : \"_applyEnabled\"\n    },\n\n    /**\n     * Time in milliseconds between two callback calls.\n     * This property can be set to modify the interval of\n     * a running timer.\n     */\n    interval :\n    {\n      check : \"Integer\",\n      init : 1000,\n      apply : \"_applyInterval\"\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __intervalHandler : null,\n    __oninterval : null,\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      APPLY ROUTINES\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Apply the interval of the timer.\n     *\n     * @param value {var} Current value\n     * @param old {var} Previous value\n     */\n    _applyInterval : function(value, old)\n    {\n      if (this.getEnabled()) {\n        this.restart();\n      }\n    },\n\n\n    /**\n     * Apply the enabled state of the timer.\n     *\n     * @param value {var} Current value\n     * @param old {var} Previous value\n     */\n    _applyEnabled : function(value, old)\n    {\n      if (old)\n      {\n        window.clearInterval(this.__intervalHandler);\n        this.__intervalHandler = null;\n      }\n      else if (value)\n      {\n        this.__intervalHandler = window.setInterval(this.__oninterval, this.getInterval());\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      USER-ACCESS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Start the timer\n     *\n     */\n    start : function() {\n      this.setEnabled(true);\n    },\n\n\n    /**\n     * Start the timer with a given interval\n     *\n     * @param interval {Integer} Time in milliseconds between two callback calls.\n     */\n    startWith : function(interval)\n    {\n      this.setInterval(interval);\n      this.start();\n    },\n\n\n    /**\n     * Stop the timer.\n     *\n     */\n    stop : function() {\n      this.setEnabled(false);\n    },\n\n\n    /**\n     * Restart the timer.\n     * This makes it possible to change the interval of a running timer.\n     *\n     */\n    restart : function()\n    {\n      this.stop();\n      this.start();\n    },\n\n\n    /**\n     * Restart the timer. with a given interval.\n     *\n     * @param interval {Integer} Time in milliseconds between two callback calls.\n     */\n    restartWith : function(interval)\n    {\n      this.stop();\n      this.startWith(interval);\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT-MAPPER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * timer callback\n     *\n     * @signature function()\n     */\n    _oninterval : qx.event.GlobalError.observeMethod(function()\n    {\n      if (this.$$disposed) {\n        return;\n      }\n\n      if (this.getEnabled()) {\n        this.fireEvent(\"interval\");\n      }\n    })\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    if (this.__intervalHandler) {\n      window.clearInterval(this.__intervalHandler);\n    }\n\n    this.__intervalHandler = this.__oninterval = null;\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Daniel Wagner (d_wagner)\n\n************************************************************************ */\n/**\n * Internal class which contains the checks used by {@link qx.core.Environment}.\n * All checks in here are marked as internal which means you should never use\n * them directly.\n *\n * This class contains checks related to Stylesheet objects.\n *\n * @internal\n */\nqx.Bootstrap.define(\"qx.bom.client.Stylesheet\",\n{\n  statics:\n  {\n    /**\n     * Returns a stylesheet to be used for feature checks\n     *\n     * @return {StyleSheet} Stylesheet element\n     */\n    __getStylesheet : function()\n    {\n      if (!qx.bom.client.Stylesheet.__stylesheet) {\n        qx.bom.client.Stylesheet.__stylesheet = qx.bom.Stylesheet.createElement();\n      }\n      return qx.bom.client.Stylesheet.__stylesheet;\n    },\n\n\n    /**\n     * Check for IE's non-standard document.createStyleSheet function.\n     * In IE9 (standards mode), the typeof check returns \"function\" so false is\n     * returned. This is intended since IE9 supports the DOM-standard\n     * createElement(\"style\") which should be used instead.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if the browser supports\n     * document.createStyleSheet\n     */\n    getCreateStyleSheet : function()\n    {\n      return typeof document.createStyleSheet === \"object\";\n    },\n\n\n    /**\n     * Check for stylesheet.insertRule. Legacy IEs do not support this.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if insertRule is supported\n     */\n    getInsertRule : function()\n    {\n      return typeof qx.bom.client.Stylesheet.__getStylesheet().insertRule === \"function\";\n    },\n\n\n    /**\n     * Check for stylesheet.deleteRule. Legacy IEs do not support this.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if deleteRule is supported\n     */\n    getDeleteRule : function()\n    {\n      return typeof qx.bom.client.Stylesheet.__getStylesheet().deleteRule === \"function\";\n    },\n\n\n    /**\n     * Decides whether to use the legacy IE-only stylesheet.addImport or the\n     * DOM-standard stylesheet.insertRule('@import [...]')\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if stylesheet.addImport is supported\n     */\n    getAddImport : function()\n    {\n      return (typeof qx.bom.client.Stylesheet.__getStylesheet().addImport === \"object\");\n    },\n\n\n    /**\n     * Decides whether to use the legacy IE-only stylesheet.removeImport or the\n     * DOM-standard stylesheet.deleteRule('@import [...]')\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if stylesheet.removeImport is supported\n     */\n    getRemoveImport : function()\n    {\n      return (typeof qx.bom.client.Stylesheet.__getStylesheet().removeImport === \"object\");\n    }\n  },\n\n\n\n  defer : function (statics) {\n    qx.core.Environment.add(\"html.stylesheet.createstylesheet\", statics.getCreateStyleSheet);\n    qx.core.Environment.add(\"html.stylesheet.insertrule\", statics.getInsertRule);\n    qx.core.Environment.add(\"html.stylesheet.deleterule\", statics.getDeleteRule);\n    qx.core.Environment.add(\"html.stylesheet.addimport\", statics.getAddImport);\n    qx.core.Environment.add(\"html.stylesheet.removeimport\", statics.getRemoveImport);\n  }\n});","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n     2006 STZ-IDA, Germany, http://www.stz-ida.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Andreas Junghans (lucidcake)\n\n************************************************************************ */\n\n/**\n * Cross-browser wrapper to work with CSS stylesheets.\n * @require(qx.bom.client.Stylesheet)\n */\nqx.Bootstrap.define(\"qx.bom.Stylesheet\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * Include a CSS file\n     *\n     * <em>Note:</em> Using a resource ID as the <code>href</code> parameter\n     * will no longer be supported. Call\n     * <code>qx.util.ResourceManager.getInstance().toUri(href)</code> to get\n     * valid URI to be used with this method.\n     *\n     * @param href {String} Href value\n     * @param doc {Document?} Document to modify\n     */\n    includeFile : function(href, doc)\n    {\n      if (!doc) {\n        doc = document;\n      }\n\n      var el = doc.createElement(\"link\");\n      el.type = \"text/css\";\n      el.rel = \"stylesheet\";\n      el.href = href;\n\n      var head = doc.getElementsByTagName(\"head\")[0];\n      head.appendChild(el);\n    },\n\n\n    /**\n     * Create a new Stylesheet node and append it to the document\n     *\n     * @param text {String?} optional string of css rules\n     * @return {StyleSheet} the generates stylesheet element\n     */\n    createElement : function(text)\n    {\n      if (qx.core.Environment.get(\"html.stylesheet.createstylesheet\")) {\n        var sheet = document.createStyleSheet();\n\n        if (text) {\n          sheet.cssText = text;\n        }\n\n        return sheet;\n      }\n      else {\n        var elem = document.createElement(\"style\");\n        elem.type = \"text/css\";\n\n        if (text) {\n          elem.appendChild(document.createTextNode(text));\n        }\n\n        document.getElementsByTagName(\"head\")[0].appendChild(elem);\n        return elem.sheet;\n      }\n    },\n\n\n    /**\n     * Insert a new CSS rule into a given Stylesheet\n     *\n     * @param sheet {Object} the target Stylesheet object\n     * @param selector {String} the selector\n     * @param entry {String} style rule\n     */\n    addRule : function(sheet, selector, entry)\n    {\n      if (qx.core.Environment.get('qx.debug')) {\n        var msg = \"qx.bom.Stylesheet.addRule: The rule '\" + entry + \"' for the selector '\" + selector +\n        \"' must not be enclosed in braces\";\n        qx.core.Assert.assertFalse(/^\\s*?\\{.*?\\}\\s*?$/.test(entry), msg);\n      }\n\n      if (qx.core.Environment.get(\"html.stylesheet.insertrule\")) {\n        sheet.insertRule(selector + \"{\" + entry + \"}\", sheet.cssRules.length);\n      }\n      else {\n        sheet.addRule(selector, entry);\n      }\n    },\n\n\n    /**\n     * Remove a CSS rule from a stylesheet\n     *\n     * @param sheet {Object} the Stylesheet\n     * @param selector {String} the Selector of the rule to remove\n     */\n    removeRule : function(sheet, selector)\n    {\n      if (qx.core.Environment.get(\"html.stylesheet.deleterule\")) {\n        var rules = sheet.cssRules;\n        var len = rules.length;\n\n        for (var i=len-1; i>=0; --i)\n        {\n          if (rules[i].selectorText == selector) {\n            sheet.deleteRule(i);\n          }\n        }\n      }\n      else {\n        var rules = sheet.rules;\n        var len = rules.length;\n\n        for (var i=len-1; i>=0; --i)\n        {\n          if (rules[i].selectorText == selector) {\n            sheet.removeRule(i);\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Remove the given sheet from its owner.\n     * @param sheet {Object} the stylesheet object\n     */\n    removeSheet : function(sheet) {\n      var owner = sheet.ownerNode ? sheet.ownerNode : sheet.owningElement;\n      qx.dom.Element.removeChild(owner, owner.parentNode);\n    },\n\n\n    /**\n     * Remove all CSS rules from a stylesheet\n     *\n     * @param sheet {Object} the stylesheet object\n     */\n    removeAllRules : function(sheet)\n    {\n      if (qx.core.Environment.get(\"html.stylesheet.deleterule\")) {\n        var rules = sheet.cssRules;\n        var len = rules.length;\n\n        for (var i=len-1; i>=0; i--) {\n          sheet.deleteRule(i);\n        }\n      } else {\n        var rules = sheet.rules;\n        var len = rules.length;\n\n        for (var i=len-1; i>=0; i--) {\n          sheet.removeRule(i);\n        }\n      }\n    },\n\n\n    /**\n     * Add an import of an external CSS file to a stylesheet\n     *\n     * @param sheet {Object} the stylesheet object\n     * @param url {String} URL of the external stylesheet file\n     */\n    addImport : function(sheet, url)\n    {\n      if (qx.core.Environment.get(\"html.stylesheet.addimport\")) {\n        sheet.addImport(url);\n      }\n      else {\n        sheet.insertRule('@import \"' + url + '\";', sheet.cssRules.length);\n      }\n    },\n\n\n    /**\n     * Removes an import from a stylesheet\n     *\n     * @param sheet {Object} the stylesheet object\n     * @param url {String} URL of the imported CSS file\n     */\n    removeImport : function(sheet, url)\n    {\n      if (qx.core.Environment.get(\"html.stylesheet.removeimport\")) {\n        var imports = sheet.imports;\n        var len = imports.length;\n\n        for (var i=len-1; i>=0; i--)\n        {\n          if (imports[i].href == url ||\n          imports[i].href == qx.util.Uri.getAbsolute(url))\n          {\n            sheet.removeImport(i);\n          }\n        }\n      }\n      else {\n        var rules = sheet.cssRules;\n        var len = rules.length;\n\n        for (var i=len-1; i>=0; i--)\n        {\n          if (rules[i].href == url) {\n            sheet.deleteRule(i);\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Remove all imports from a stylesheet\n     *\n     * @param sheet {Object} the stylesheet object\n     */\n    removeAllImports : function(sheet)\n    {\n      if (qx.core.Environment.get(\"html.stylesheet.removeimport\")) {\n        var imports = sheet.imports;\n        var len = imports.length;\n\n        for (var i=len-1; i>=0; i--) {\n          sheet.removeImport(i);\n        }\n      }\n      else {\n        var rules = sheet.cssRules;\n        var len = rules.length;\n\n        for (var i=len-1; i>=0; i--)\n        {\n          if (rules[i].type == rules[i].IMPORT_RULE) {\n            sheet.deleteRule(i);\n          }\n        }\n      }\n    }\n  }\n});\n","qx.Class.define(\"qx.log.appender.Formatter\", {\n  extend: qx.core.Object,\n  \n  properties: {\n    /** How to format time in an entry; offset since start (backwards compatible) or as actual date/time */\n    formatTimeAs: {\n      init: \"offset\",\n      check: [ \"offset\", \"datetime\" ]\n    }\n  },\n\n  members: {\n\n    /**\n     * Formats a numeric time offset to 6 characters.\n     * \n     * @param offset\n     *          {Integer} Current offset value\n     * @param length\n     *          {Integer?6} Refine the length\n     * @return {String} Padded string\n     */\n    formatOffset: function(offset, length) {\n      var str = offset.toString();\n      var diff = (length || 6) - str.length;\n      var pad = \"\";\n\n      for (var i = 0; i < diff; i++) {\n        pad += \"0\";\n      }\n\n      return pad + str;\n    },\n    \n    /**\n     * Formats the time part of an entry\n     * \n     * @param entry {Map} the entry to output\n     * @return {String} formatted time, as an offset or date time depending on `formatTimeAs` property\n     */\n    formatEntryTime: function(entry) {\n      if (this.getFormatTimeAs() == \"offset\") {\n        return this.formatOffset(entry.offset, 6);\n      }\n      if (!qx.log.appender.Formatter.__DATETIME_FORMAT) {\n        qx.log.appender.Formatter.__DATETIME_FORMAT = new qx.util.format.DateFormat(\"YYYY-MM-dd HH:mm:ss\");\n      }\n      return qx.log.appender.Formatter.__DATETIME_FORMAT.format(entry.time);\n    },\n    \n    /**\n     * Normalises the entry into an object with clazz, object, hash.\n     * \n     * @param entry {Map} the entry to output\n     * @return {Map} result, containing:\n     *  clazz {Class?} the class of the object\n     *  object {Object?} the object\n     *  hash {String?} the hash code \n     */\n    normalizeEntryClass: function(entry) {\n      var result = {\n          clazz: null,\n          object: null,\n          hash: null\n      };\n      \n      if (entry.object) {\n        result.hash = entry.object;\n        if (entry.clazz) {\n          result.clazz = entry.clazz;\n        } else {\n          var obj = entry.win.qx.core.ObjectRegistry.fromHashCode(entry.object, true);\n          if (obj) {\n            result.clazz = obj.constructor;\n            result.object = obj;\n          }\n        }\n      } else if (entry.clazz) {\n        result.clazz = entry.clazz;\n      }\n      \n      return result;\n    },\n    \n    /**\n     * Formats the object part of an entry\n     * \n     * @param entry {Map} the entry to output\n     * @return {String} formatted object, with class and hash code if possible\n     */\n    formatEntryObjectAndClass: function(entry) {\n      var breakdown = this.normalizeEntryClass(entry);\n      var result = \"\";\n      if (breakdown.clazz) {\n        result += breakdown.clazz.classname;\n      }\n      if (breakdown.hash) {\n        result += \"[\" + breakdown.hash + \"]\";\n      }\n      result += \":\";\n      return result;\n    },\n    \n    /**\n     * Formats the items part of an entry\n     * \n     * @param entry {Map} the entry to output\n     * @return {String} formatted items\n     */\n    formatEntryItems: function(entry) {\n      var output = [];\n      var items = entry.items;\n\n      for (var i = 0, il = items.length; i < il; i++) {\n        var item = items[i];\n        var msg = item.text;\n\n        if (item.trace && item.trace.length > 0) {\n          msg += \"\\n\" + item.trace;\n        }\n\n        if (msg instanceof Array) {\n          var list = [];\n          for (var j = 0, jl = msg.length; j < jl; j++) {\n            list.push(msg[j].text);\n          }\n\n          if (item.type === \"map\") {\n            output.push(\"{\", list.join(\", \"), \"}\");\n          } else {\n            output.push(\"[\", list.join(\", \"), \"]\");\n          }\n        } else {\n          output.push(msg);\n        }\n      }\n      \n      return output.join(\" \");\n    },\n\n    /**\n     * Converts a single log entry to plain text\n     * \n     * @param entry {Map} The entry to process\n     * @return {String} the formatted log entry\n     */\n    toText: function(entry) {\n      var output = this.formatEntryTime(entry) + \" \" +\n            this.formatEntryObjectAndClass(entry);\n      var str = this.formatEntryItems(entry);\n      if (str) {\n        output += \" \" + str;\n      }\n\n      return output;\n    },\n\n    /**\n     * Converts a single log entry to an array of plain text.  \n     * \n     * This use of arrays is an outdated performance improvement, and as there is no \n     * specification of what is in each of the elements of the array, there is no value \n     * in preserving this.  This method is deprecated because it will be removed in 7.0\n     * and only toText will remain.  Note that toTextArray is not used anywhere in Qooxdoo.\n     * \n     * @param entry {Map} The entry to process\n     * @return {Array} Argument list ready message array.\n     * @deprecated {6.0} See toText instead\n     */\n    toTextArray: function(entry) {\n      var output = [];\n\n      output.push(this.formatEntryTime(entry));\n      output.push(this.formatEntryObjectAndClass(entry));\n      output.push(this.formatEntryItems(entry));\n\n      return output;\n    },\n    \n    /**\n     * Converts a single log entry to HTML\n     * \n     * @signature function(entry)\n     * @param entry {Map} The entry to process\n     */\n    toHtml: function(entry) {\n      var output = [];\n      var item, msg, sub, list;\n\n      output.push(\"<span class='offset'>\", this.formatEntryTime(entry), \"</span> \");\n\n      var breakdown = this.normalizeEntryClass(entry);\n      var result = \"\";\n      if (breakdown.clazz) {\n        result += breakdown.clazz.classname;\n      }\n      if (breakdown.object) {\n        output.push(\"<span class='object' title='Object instance with hash code: \" + \n            breakdown.object.toHashCode() + \"'>\", breakdown.classname, \"[\", breakdown.object, \"]</span>: \");\n      } else if (breakdown.hash) {\n        output.push(\"<span class='object' title='Object instance with hash code: \" + \n            breakdown.hash + \"'>\", breakdown.classname, \"[\", breakdown.hash, \"]</span>: \");\n      } else if (breakdown.clazz) {\n        output.push(\"<span class='object'>\" + breakdown.clazz.classname, \"</span>: \");\n      }\n\n      var items = entry.items;\n      for (var i = 0, il = items.length; i < il; i++) {\n        item = items[i];\n        msg = item.text;\n\n        if (msg instanceof Array) {\n          var list = [];\n\n          for (var j = 0, jl = msg.length; j < jl; j++) {\n            sub = msg[j];\n            if (typeof sub === \"string\") {\n              list.push(\"<span>\" + qx.log.appender.Formatter.escapeHTML(sub) + \"</span>\");\n            } else if (sub.key) {\n              list.push(\"<span class='type-key'>\" + sub.key + \"</span>:<span class='type-\" + sub.type + \"'>\"\n                  + qx.log.appender.Formatter.escapeHTML(sub.text) + \"</span>\");\n            } else {\n              list.push(\"<span class='type-\" + sub.type + \"'>\" + qx.log.appender.Formatter.escapeHTML(sub.text) + \"</span>\");\n            }\n          }\n\n          output.push(\"<span class='type-\" + item.type + \"'>\");\n\n          if (item.type === \"map\") {\n            output.push(\"{\", list.join(\", \"), \"}\");\n          } else {\n            output.push(\"[\", list.join(\", \"), \"]\");\n          }\n\n          output.push(\"</span>\");\n        } else {\n          output.push(\"<span class='type-\" + item.type + \"'>\" + qx.log.appender.Formatter.escapeHTML(msg) + \"</span> \");\n        }\n      }\n\n      var wrapper = document.createElement(\"DIV\");\n      wrapper.innerHTML = output.join(\"\");\n      wrapper.className = \"level-\" + entry.level;\n\n      return wrapper;\n    }\n  },\n  \n  \n  statics: {\n    /** @type {qx.util.format.DateFormat} format for datetimes */\n    __DATETIME_FORMAT: null,\n    \n    /** @type {qx.log.appender.Formatter} the default instance */\n    __defaultFormatter: null,\n    \n    /**\n     * Returns the default formatter\n     * \n     * @return {qx.log.appender.Formatter}\n     */\n    getFormatter: function() {\n      if (!qx.log.appender.Formatter.__defaultFormatter) {\n        qx.log.appender.Formatter.__defaultFormatter = new qx.log.appender.Formatter();\n      }\n      return qx.log.appender.Formatter.__defaultFormatter;\n    },\n    \n    /**\n     * Sets the default formatter\n     * \n     * @param instance {qx.log.appender.Formatter}\n     */\n    setFormatter: function(instance) {\n      qx.log.appender.Formatter.__defaultFormatter = instance;\n    },\n\n    /**\n     * Escapes the HTML in the given value\n     * \n     * @param value\n     *          {String} value to escape\n     * @return {String} escaped value\n     */\n    escapeHTML: function(value) {\n      return String(value).replace(/[<>&\"']/g, qx.log.appender.Formatter.__escapeHTMLReplace);\n    },\n\n    /**\n     * Internal replacement helper for HTML escape.\n     * \n     * @param ch\n     *          {String} Single item to replace.\n     * @return {String} Replaced item\n     */\n    __escapeHTMLReplace: function(ch) {\n      var map = {\n        \"<\": \"&lt;\",\n        \">\": \"&gt;\",\n        \"&\": \"&amp;\",\n        \"'\": \"&#39;\",\n        '\"': \"&quot;\"\n      };\n\n      return map[ch] || \"?\";\n    }\n  }\n});","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * Prototype JS\n     http://www.prototypejs.org/\n     Version 1.5\n\n     Copyright:\n       (c) 2006-2007, Prototype Core Team\n\n     License:\n       MIT: http://www.opensource.org/licenses/mit-license.php\n\n     Authors:\n       * Prototype Core Team\n\n   ----------------------------------------------------------------------\n\n     Copyright (c) 2005-2008 Sam Stephenson\n\n     Permission is hereby granted, free of charge, to any person\n     obtaining a copy of this software and associated documentation\n     files (the \"Software\"), to deal in the Software without restriction,\n     including without limitation the rights to use, copy, modify, merge,\n     publish, distribute, sublicense, and/or sell copies of the Software,\n     and to permit persons to whom the Software is furnished to do so,\n     subject to the following conditions:\n\n     THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n     EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n     MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n     NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n     HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n     WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n     OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n     DEALINGS IN THE SOFTWARE.\n\n************************************************************************ */\n\n/**\n * Methods to operate on nodes and elements on a DOM tree. This contains\n * special getters to query for child nodes, siblings, etc. This class also\n * supports to operate on one element and reorganize the content with\n * the insertion of new HTML or nodes.\n */\nqx.Bootstrap.define(\"qx.dom.Hierarchy\",\n{\n  statics :\n  {\n    /**\n     * Returns the DOM index of the given node\n     *\n     * @param node {Node} Node to look for\n     * @return {Integer} The DOM index\n     */\n    getNodeIndex : function(node)\n    {\n      var index = 0;\n\n      while (node && (node = node.previousSibling)) {\n        index++;\n      }\n\n      return index;\n    },\n\n\n    /**\n     * Returns the DOM index of the given element (ignoring non-elements)\n     *\n     * @param element {Element} Element to look for\n     * @return {Integer} The DOM index\n     */\n    getElementIndex : function(element)\n    {\n      var index = 0;\n      var type = qx.dom.Node.ELEMENT;\n\n      while (element && (element = element.previousSibling))\n      {\n        if (element.nodeType == type) {\n          index++;\n        }\n      }\n\n      return index;\n    },\n\n\n    /**\n     * Return the next element to the supplied element\n     *\n     * \"nextSibling\" is not good enough as it might return a text or comment element\n     *\n     * @param element {Element} Starting element node\n     * @return {Element | null} Next element node\n     */\n    getNextElementSibling : function(element)\n    {\n      while (element && (element = element.nextSibling) && !qx.dom.Node.isElement(element)) {\n        continue;\n      }\n\n      return element || null;\n    },\n\n\n    /**\n     * Return the previous element to the supplied element\n     *\n     * \"previousSibling\" is not good enough as it might return a text or comment element\n     *\n     * @param element {Element} Starting element node\n     * @return {Element | null} Previous element node\n     */\n    getPreviousElementSibling : function(element)\n    {\n      while (element && (element = element.previousSibling) && !qx.dom.Node.isElement(element)) {\n        continue;\n      }\n\n      return element || null;\n    },\n\n\n    /**\n     * Whether the first element contains the second one\n     *\n     * Uses native non-standard contains() in Internet Explorer,\n     * Opera and Webkit (supported since Safari 3.0 beta)\n     *\n     * @param element {Element} Parent element\n     * @param target {Node} Child node\n     * @return {Boolean}\n     */\n    contains : function(element, target)\n    {\n      if (qx.core.Environment.get(\"html.element.contains\")) {\n        if (qx.dom.Node.isDocument(element))\n        {\n          var doc = qx.dom.Node.getDocument(target);\n          return element && doc == element;\n        }\n        else if (qx.dom.Node.isDocument(target))\n        {\n          return false;\n        }\n        else\n        {\n          return element.contains(target);\n        }\n      }\n      else if (qx.core.Environment.get(\"html.element.compareDocumentPosition\")) {\n        // https://developer.mozilla.org/en-US/docs/DOM:Node.compareDocumentPosition\n        return !!(element.compareDocumentPosition(target) & 16);\n      }\n      else {\n        while(target)\n        {\n          if (element == target) {\n            return true;\n          }\n\n          target = target.parentNode;\n        }\n\n        return false;\n      }\n    },\n\n    /**\n     * Whether the element is inserted into the document\n     * for which it was created.\n     *\n     * @param element {Element} DOM element to check\n     * @return {Boolean} <code>true</code> when the element is inserted\n     *    into the document.\n     */\n    isRendered : function(element)\n    {\n      var doc = element.ownerDocument || element.document;\n\n      if (qx.core.Environment.get(\"html.element.contains\")) {\n        // Fast check for all elements which are not in the DOM\n        if (!element.parentNode) {\n          return false;\n        }\n\n        return doc.body.contains(element);\n      }\n      else if (qx.core.Environment.get(\"html.element.compareDocumentPosition\")) {\n        // Gecko way, DOM3 method\n        return !!(doc.compareDocumentPosition(element) & 16);\n      }\n      else {\n        while(element)\n        {\n          if (element == doc.body) {\n            return true;\n          }\n\n          element = element.parentNode;\n        }\n\n        return false;\n      }\n    },\n\n\n    /**\n     * Checks if <code>element</code> is a descendant of <code>ancestor</code>.\n     *\n     * @param element {Element} first element\n     * @param ancestor {Element} second element\n     * @return {Boolean} Element is a descendant of ancestor\n     */\n    isDescendantOf : function(element, ancestor) {\n      return this.contains(ancestor, element);\n    },\n\n\n    /**\n     * Get the common parent element of two given elements. Returns\n     * <code>null</code> when no common element has been found.\n     *\n     * Uses native non-standard contains() in Opera and Internet Explorer\n     *\n     * @param element1 {Element} First element\n     * @param element2 {Element} Second element\n     * @return {Element} the found parent, if none was found <code>null</code>\n     */\n    getCommonParent : function(element1, element2)\n    {\n      if (element1 === element2) {\n        return element1;\n      }\n\n      if (qx.core.Environment.get(\"html.element.contains\")) {\n        while (element1 && qx.dom.Node.isElement(element1))\n        {\n          if (element1.contains(element2)) {\n            return element1;\n          }\n\n          element1 = element1.parentNode;\n        }\n\n        return null;\n      }\n      else {\n        var known = [];\n\n        while (element1 || element2)\n        {\n          if (element1)\n          {\n            if (known.includes(element1)) {\n              return element1;\n            }\n\n            known.push(element1);\n            element1 = element1.parentNode;\n          }\n\n          if (element2)\n          {\n            if (known.includes(element2)) {\n              return element2;\n            }\n\n            known.push(element2);\n            element2 = element2.parentNode;\n          }\n        }\n\n        return null;\n      }\n    },\n\n\n    /**\n     * Collects all of element's ancestors and returns them as an array of\n     * elements.\n     *\n     * @param element {Element} DOM element to query for ancestors\n     * @return {Array} list of all parents\n     */\n    getAncestors : function(element) {\n      return this._recursivelyCollect(element, \"parentNode\");\n    },\n\n\n    /**\n     * Returns element's children.\n     *\n     * @param element {Element} DOM element to query for child elements\n     * @return {Array} list of all child elements\n     */\n    getChildElements : function(element)\n    {\n      element = element.firstChild;\n\n      if (!element) {\n        return [];\n      }\n\n      var arr = this.getNextSiblings(element);\n\n      if (element.nodeType === 1) {\n        arr.unshift(element);\n      }\n\n      return arr;\n    },\n\n\n    /**\n     * Collects all of element's descendants (deep) and returns them as an array\n     * of elements.\n     *\n     * @param element {Element} DOM element to query for child elements\n     * @return {Array} list of all found elements\n     */\n    getDescendants : function(element) {\n      return qx.lang.Array.fromCollection(element.getElementsByTagName(\"*\"));\n    },\n\n\n    /**\n     * Returns the first child that is an element. This is opposed to firstChild DOM\n     * property which will return any node (whitespace in most usual cases).\n     *\n     * @param element {Element} DOM element to query for first descendant\n     * @return {Element} the first descendant\n     */\n    getFirstDescendant : function(element)\n    {\n      element = element.firstChild;\n\n      while (element && element.nodeType != 1) {\n        element = element.nextSibling;\n      }\n\n      return element;\n    },\n\n\n    /**\n     * Returns the last child that is an element. This is opposed to lastChild DOM\n     * property which will return any node (whitespace in most usual cases).\n     *\n     * @param element {Element} DOM element to query for last descendant\n     * @return {Element} the last descendant\n     */\n    getLastDescendant : function(element)\n    {\n      element = element.lastChild;\n\n      while (element && element.nodeType != 1) {\n        element = element.previousSibling;\n      }\n\n      return element;\n    },\n\n\n    /**\n     * Collects all of element's previous siblings and returns them as an array of elements.\n     *\n     * @param element {Element} DOM element to query for previous siblings\n     * @return {Array} list of found DOM elements\n     */\n    getPreviousSiblings : function(element) {\n      return this._recursivelyCollect(element, \"previousSibling\");\n    },\n\n\n    /**\n     * Collects all of element's next siblings and returns them as an array of\n     * elements.\n     *\n     * @param element {Element} DOM element to query for next siblings\n     * @return {Array} list of found DOM elements\n     */\n    getNextSiblings : function(element) {\n      return this._recursivelyCollect(element, \"nextSibling\");\n    },\n\n\n    /**\n     * Recursively collects elements whose relationship is specified by\n     * property.  <code>property</code> has to be a property (a method won't\n     * do!) of element that points to a single DOM node. Returns an array of\n     * elements.\n     *\n     * @param element {Element} DOM element to start with\n     * @param property {String} property to look for\n     * @return {Array} result list\n     */\n    _recursivelyCollect : function(element, property)\n    {\n      var list = [];\n\n      while (element = element[property])\n      {\n        if (element.nodeType == 1) {\n          list.push(element);\n        }\n      }\n\n      return list;\n    },\n\n\n    /**\n     * Collects all of element's siblings and returns them as an array of elements.\n     *\n     * @param element {var} DOM element to start with\n     * @return {Array} list of all found siblings\n     */\n    getSiblings : function(element) {\n      return this.getPreviousSiblings(element).reverse().concat(this.getNextSiblings(element));\n    },\n\n\n    /**\n     * Whether the given element is empty.\n     * Inspired by Base2 (Dean Edwards)\n     *\n     * @param element {Element} The element to check\n     * @return {Boolean} true when the element is empty\n     */\n    isEmpty : function(element)\n    {\n      element = element.firstChild;\n\n      while (element)\n      {\n        if (element.nodeType === qx.dom.Node.ELEMENT || element.nodeType === qx.dom.Node.TEXT) {\n          return false;\n        }\n\n        element = element.nextSibling;\n      }\n\n      return true;\n    },\n\n\n    /**\n     * Removes all of element's text nodes which contain only whitespace\n     *\n     * @param element {Element} Element to cleanup\n     */\n    cleanWhitespace : function(element)\n    {\n      var node = element.firstChild;\n\n      while (node)\n      {\n        var nextNode = node.nextSibling;\n\n        if (node.nodeType == 3 && !/\\S/.test(node.nodeValue)) {\n          element.removeChild(node);\n        }\n\n        node = nextNode;\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * This handler provides events for qooxdoo application startup/shutdown logic.\n * \n * NOTE: Instances of this class must be disposed of after use\n *\n * @require(qx.bom.client.Engine)\n */\nqx.Class.define(\"qx.event.handler.Application\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.event.IEventHandler, qx.core.IDisposable ],\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager)\n  {\n    this.base(arguments);\n\n    // Define shorthands\n    this._window = manager.getWindow();\n\n    this.__domReady = false;\n    this.__loaded = false;\n    this.__isReady = false;\n    this.__isInitialized = false;\n    this.__isUnloaded = false;\n\n    // Initialize observers\n    this._initObserver();\n\n    // Store instance (only supported for main app window, this\n    // is the reason why this is OK here)\n    qx.event.handler.Application.$$instance = this;\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES :\n    {\n      ready : 1,\n      shutdown : 1\n    },\n\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_WINDOW,\n\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true,\n\n\n    /**\n     * Sends the currently running application the ready signal. Used\n     * exclusively by package loader system.\n     *\n     * @internal\n     */\n    onScriptLoaded : function()\n    {\n      var inst = qx.event.handler.Application.$$instance;\n      if (inst) {\n        inst.__fireReady();\n      }\n    },\n\n\n    /**\n     * Notifies that the application has finished initialization\n     *\n     * @internal\n     */\n    onAppInstanceInitialized : function()\n    {\n      var inst = qx.event.handler.Application.$$instance;\n      if (inst) {\n        inst.__fireAppInstanceInitialized();\n      }\n    }\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type) {},\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n    __isReady : null,\n    __isInitialized : null,\n    __domReady : null,\n    __loaded : null,\n    __isUnloaded : null,\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      USER ACCESS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Fires a global ready event.\n     *\n     */\n    __fireReady : function()\n    {\n      // Wrapper qxloader needed to be compatible with old generator\n      if (!this.__isReady && this.__domReady && qx.$$loader.scriptLoaded)\n      {\n        // If qooxdoo is loaded within a frame in IE, the document is ready before\n        // the \"ready\" listener can be added. To avoid any startup issue check\n        // for the availability of the \"ready\" listener before firing the event.\n        // So at last the native \"load\" will trigger the \"ready\" event.\n        if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\"))\n        {\n          if (qx.event.Registration.hasListener(this._window, \"ready\"))\n          {\n            this.__isReady = true;\n\n            // Fire user event\n            qx.event.Registration.fireEvent(this._window, \"ready\");\n          }\n        }\n        else\n        {\n          this.__isReady = true;\n\n          // Fire user event\n          qx.event.Registration.fireEvent(this._window, \"ready\");\n        }\n      }\n    },\n    \n    /**\n     * Fires a global \"appinitialized\" event.\n     *\n     */\n    __fireAppInstanceInitialized : function() {\n      this.__isInitialized = true;\n      \n      // Fire user event\n      qx.event.Registration.fireEvent(this._window, \"appinitialized\");\n    },\n\n    /**\n     * Whether the application is ready.\n     *\n     * @return {Boolean} ready status\n     */\n    isApplicationReady : function() {\n      return this.__isReady;\n    },\n\n    /**\n     * Whether the application is initialized\n     *\n     * @return {Boolean} initialization status\n     */\n    isApplicationInitialized : function() {\n      return this.__isInitialized;\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      OBSERVER INIT/STOP\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Initializes the native application event listeners.\n     *\n     */\n    _initObserver : function()\n    {\n      // in Firefox the loader script sets the ready state\n      if (qx.$$domReady || document.readyState == \"complete\" || document.readyState == \"ready\")\n      {\n        this.__domReady = true;\n        this.__fireReady();\n      }\n      else\n      {\n        this._onNativeLoadWrapped = qx.lang.Function.bind(this._onNativeLoad, this);\n\n        if (\n          qx.core.Environment.get(\"engine.name\") == \"gecko\" ||\n          qx.core.Environment.get(\"engine.name\") == \"opera\" ||\n          qx.core.Environment.get(\"engine.name\") == \"webkit\" ||\n          (qx.core.Environment.get(\"engine.name\") == \"mshtml\" && qx.core.Environment.get(\"browser.documentmode\") > 8)\n        ) {\n          // Using native method supported by Mozilla, Webkit, Opera and IE >= 9\n          qx.bom.Event.addNativeListener(this._window, \"DOMContentLoaded\", this._onNativeLoadWrapped);\n        }\n        else {\n          var self = this;\n\n          // Continually check to see if the document is ready\n          var timer = function()\n          {\n            try\n            {\n              // If IE is used, use the trick by Diego Perini\n              // http://javascript.nwbox.com/IEContentLoaded/\n              document.documentElement.doScroll(\"left\");\n              if (document.body) {\n                self._onNativeLoadWrapped();\n              }\n            }\n            catch(error) {\n              window.setTimeout(timer, 100);\n            }\n          };\n\n          timer();\n        }\n\n        // Additional load listener as fallback\n        qx.bom.Event.addNativeListener(this._window, \"load\", this._onNativeLoadWrapped);\n      }\n\n      this._onNativeUnloadWrapped = qx.lang.Function.bind(this._onNativeUnload, this);\n      qx.bom.Event.addNativeListener(this._window, \"unload\", this._onNativeUnloadWrapped);\n    },\n\n\n    /**\n     * Disconnect the native application event listeners.\n     *\n     */\n    _stopObserver : function()\n    {\n      if (this._onNativeLoadWrapped) {\n        qx.bom.Event.removeNativeListener(this._window, \"load\", this._onNativeLoadWrapped);\n      }\n      qx.bom.Event.removeNativeListener(this._window, \"unload\", this._onNativeUnloadWrapped);\n\n      this._onNativeLoadWrapped = null;\n      this._onNativeUnloadWrapped = null;\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      NATIVE LISTENER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * When qx.globalErrorHandling is enabled the callback will observed\n     */\n    _onNativeLoad: function () {\n      var callback = qx.core.Environment.select(\"qx.globalErrorHandling\", {\n        \"true\": qx.event.GlobalError.observeMethod(this.__onNativeLoadHandler),\n        \"false\": this.__onNativeLoadHandler\n      });\n      callback.apply(this, arguments);\n    },\n\n\n    /**\n     * Event listener for native load event\n     */\n    __onNativeLoadHandler: function () {\n      this.__domReady = true;\n      this.__fireReady();\n    },\n\n\n    /**\n     * When qx.globalErrorHandling is enabled the callback will observed\n     */\n    _onNativeUnload: function () {\n      var callback = qx.core.Environment.select(\"qx.globalErrorHandling\", {\n        \"true\": qx.event.GlobalError.observeMethod(this.__onNativeUnloadHandler),\n        \"false\": this.__onNativeUnloadHandler\n      });\n      callback.apply(this, arguments);\n    },\n\n\n    /**\n     * Event listener for native unload event\n     */\n    __onNativeUnloadHandler: function () {\n      if (!this.__isUnloaded) {\n        this.__isUnloaded = true;\n\n        try {\n          // Fire user event\n          qx.event.Registration.fireEvent(this._window, \"shutdown\");\n        }\n        catch (e) {\n          // IE doesn't execute the \"finally\" block if no \"catch\" block is present\n          throw e;\n        }\n      }\n    }\n\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function() {\n    this._stopObserver();\n\n    this._window = null;\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Daniel Wagner (d_wagner)\n     * John Spackman\n\n************************************************************************ */\n\n/**\n * This is the base class for non-browser qooxdoo applications.\n */\nqx.Class.define(\"qx.core.BaseInit\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    __application : null,\n\n\n    /**\n     * Returns the instantiated qooxdoo application.\n     *\n     * @return {qx.core.Object} The application instance.\n     */\n    getApplication : function() {\n      return this.__application || null;\n    },\n\n\n    /**\n     * Runs when the application is loaded. Automatically creates an instance\n     * of the class defined by the setting <code>qx.application</code>.\n     *\n     */\n    ready : function()\n    {\n      if (this.__application) {\n        return;\n      }\n\n      if (qx.core.Environment.get(\"engine.name\") == \"\") {\n        qx.log.Logger.warn(\"Could not detect engine!\");\n      }\n      if (qx.core.Environment.get(\"engine.version\") == \"\") {\n        qx.log.Logger.warn(\"Could not detect the version of the engine!\");\n      }\n      if (qx.core.Environment.get(\"os.name\") == \"\") {\n        qx.log.Logger.warn(\"Could not detect operating system!\");\n      }\n\n      qx.log.Logger.debug(this, \"Load runtime: \" + (new Date - qx.Bootstrap.LOADSTART) + \"ms\");\n\n      var app = qx.core.Environment.get(\"qx.application\");\n      var clazz = qx.Class.getByName(app);\n\n      if (clazz)\n      {\n        this.__application = new clazz;\n\n        var start = new Date;\n        this.__application.main();\n        qx.log.Logger.debug(this, \"Main runtime: \" + (new Date - start) + \"ms\");\n\n        var start = new Date;\n        this.__application.finalize();\n        qx.log.Logger.debug(this, \"Finalize runtime: \" + (new Date - start) + \"ms\");\n        \n        qx.event.handler.Application.onAppInstanceInitialized();\n      }\n      else\n      {\n        qx.log.Logger.warn(\"Missing application class: \" + app);\n      }\n    },\n\n\n    /**\n     * Runs before the document is unloaded. Calls the application's close\n     * method to check if the unload process should be stopped.\n     *\n     * @param e {qx.event.type.Native} Incoming beforeunload event.\n     */\n    __close : function(e)\n    {\n      var app = this.__application;\n      if (app) {\n        app.close();\n      }\n    },\n\n\n    /**\n     * Runs when the document is unloaded. Automatically terminates a previously\n     * created application instance.\n     *\n     */\n    __shutdown : function()\n    {\n      var app = this.__application;\n\n      if (app) {\n        app.terminate();\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * This is the base class for all qooxdoo applications.\n *\n * @require(qx.event.handler.Application)\n * @require(qx.event.handler.Window)\n * @require(qx.event.dispatch.Direct)\n */\nqx.Class.define(\"qx.core.Init\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * Returns the instantiated qooxdoo application.\n     *\n     * @return {qx.core.Object} The application instance.\n     */\n    getApplication : qx.core.BaseInit.getApplication,\n\n\n    /**\n     * Runs when the application is loaded. Automatically creates an instance\n     * of the class defined by the setting <code>qx.application</code>.\n     *\n     */\n    ready : qx.core.BaseInit.ready,\n\n\n    /**\n     * Runs before the document is unloaded. Calls the application's close\n     * method to check if the unload process should be stopped.\n     *\n     * @param e {qx.event.type.Native} Incoming beforeunload event.\n     */\n    __close : function(e)\n    {\n      var app = this.getApplication();\n      if (app) {\n        e.setReturnValue(app.close());\n      }\n    },\n\n\n    /**\n     * Runs when the document is unloaded. Automatically terminates a previously\n     * created application instance.\n     *\n     */\n    __shutdown : function()\n    {\n      var app = this.getApplication();\n\n      if (app) {\n        app.terminate();\n      }\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics)\n  {\n    qx.event.Registration.addListener(window, \"ready\", statics.ready, statics);\n    qx.event.Registration.addListener(window, \"shutdown\", statics.__shutdown, statics);\n    qx.event.Registration.addListener(window, \"beforeunload\", statics.__close, statics);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n/**\n * Internal class which contains the checks used by {@link qx.core.Environment}.\n * All checks in here are marked as internal which means you should never use\n * them directly.\n *\n * This class should contain all checks about HTML.\n *\n * @internal\n */\nqx.Bootstrap.define(\"qx.bom.client.Html\",\n{\n  statics:\n  {\n    /**\n     * Whether the client supports Web Workers.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if webworkers are supported\n     */\n    getWebWorker : function() {\n      return window.Worker != null;\n    },\n\n\n    /**\n     * Whether the client supports File Readers\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if FileReaders are supported\n     */\n    getFileReader : function() {\n      return window.FileReader != null;\n    },\n\n\n    /**\n     * Whether the client supports Geo Location.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if geolocation supported\n     */\n    getGeoLocation : function() {\n      return \"geolocation\" in navigator;\n    },\n\n\n    /**\n     * Whether the client supports audio.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if audio is supported\n     */\n    getAudio : function() {\n      return !!document.createElement('audio').canPlayType;\n    },\n\n    /**\n     * Whether the client can play ogg audio format.\n     *\n     * @internal\n     * @return {String} \"\" or \"maybe\" or \"probably\"\n     */\n    getAudioOgg : function() {\n      if (!qx.bom.client.Html.getAudio()) {\n        return \"\";\n      }\n      var a = document.createElement(\"audio\");\n      return a.canPlayType(\"audio/ogg\");\n    },\n\n    /**\n     * Whether the client can play mp3 audio format.\n     *\n     * @internal\n     * @return {String} \"\" or \"maybe\" or \"probably\"\n     */\n    getAudioMp3 : function() {\n      if (!qx.bom.client.Html.getAudio()) {\n        return \"\";\n      }\n      var a = document.createElement(\"audio\");\n      return a.canPlayType(\"audio/mpeg\");\n    },\n\n    /**\n     * Whether the client can play wave audio wave format.\n     *\n     * @internal\n     * @return {String} \"\" or \"maybe\" or \"probably\"\n     */\n    getAudioWav : function() {\n      if (!qx.bom.client.Html.getAudio()) {\n        return \"\";\n      }\n      var a = document.createElement(\"audio\");\n      return a.canPlayType(\"audio/x-wav\");\n    },\n\n    /**\n     * Whether the client can play au audio format.\n     *\n     * @internal\n     * @return {String} \"\" or \"maybe\" or \"probably\"\n     */\n    getAudioAu : function() {\n      if (!qx.bom.client.Html.getAudio()) {\n        return \"\";\n      }\n      var a = document.createElement(\"audio\");\n      return a.canPlayType(\"audio/basic\");\n    },\n\n    /**\n     * Whether the client can play aif audio format.\n     *\n     * @internal\n     * @return {String} \"\" or \"maybe\" or \"probably\"\n     */\n    getAudioAif : function() {\n      if (!qx.bom.client.Html.getAudio()) {\n        return \"\";\n      }\n      var a = document.createElement(\"audio\");\n      return a.canPlayType(\"audio/x-aiff\");\n    },\n\n\n    /**\n     * Whether the client supports video.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if video is supported\n     */\n    getVideo : function() {\n      return !!document.createElement('video').canPlayType;\n    },\n\n    /**\n     * Whether the client supports ogg video.\n     *\n     * @internal\n     * @return {String} \"\" or \"maybe\" or \"probably\"\n     */\n    getVideoOgg : function() {\n      if (!qx.bom.client.Html.getVideo()) {\n        return \"\";\n      }\n      var v = document.createElement(\"video\");\n      return v.canPlayType('video/ogg; codecs=\"theora, vorbis\"');\n    },\n\n    /**\n     * Whether the client supports mp4 video.\n     *\n     * @internal\n     * @return {String} \"\" or \"maybe\" or \"probably\"\n     */\n    getVideoH264 : function() {\n      if (!qx.bom.client.Html.getVideo()) {\n        return \"\";\n      }\n      var v = document.createElement(\"video\");\n      return v.canPlayType('video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"');\n    },\n\n    /**\n     * Whether the client supports webm video.\n     *\n     * @internal\n     * @return {String} \"\" or \"maybe\" or \"probably\"\n     */\n    getVideoWebm : function() {\n      if (!qx.bom.client.Html.getVideo()) {\n        return \"\";\n      }\n      var v = document.createElement(\"video\");\n      return v.canPlayType('video/webm; codecs=\"vp8, vorbis\"');\n    },\n\n    /**\n     * Whether the client supports local storage.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if local storage is supported\n     */\n    getLocalStorage : function() {\n      try {\n        // write once to make sure to catch safari's private mode [BUG #7718]\n        window.localStorage.setItem(\"$qx_check\", \"test\");\n        window.localStorage.removeItem(\"$qx_check\");\n        return true;\n      } catch (exc) {\n        // Firefox Bug: localStorage doesn't work in file:/// documents\n        // see https://bugzilla.mozilla.org/show_bug.cgi?id=507361\n        return false;\n      }\n    },\n\n\n    /**\n     * Whether the client supports session storage.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if session storage is supported\n     */\n    getSessionStorage : function() {\n      try {\n        // write once to make sure to catch safari's private mode [BUG #7718]\n        window.sessionStorage.setItem(\"$qx_check\", \"test\");\n        window.sessionStorage.removeItem(\"$qx_check\");\n        return true;\n      } catch (exc) {\n        // Firefox Bug: Local execution of window.sessionStorage throws error\n        // see https://bugzilla.mozilla.org/show_bug.cgi?id=357323\n        return false;\n      }\n    },\n\n    /**\n     * Whether the client supports user data to persist data. This is only\n     * relevant for IE < 8.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if the user data is supported.\n     */\n    getUserDataStorage : function() {\n      var el = document.createElement(\"div\");\n      el.style[\"display\"] = \"none\";\n      document.getElementsByTagName(\"head\")[0].appendChild(el);\n\n      var supported = false;\n      try {\n        el.addBehavior(\"#default#userdata\");\n        el.load(\"qxtest\");\n        supported = true;\n      } catch (e) {}\n\n      document.getElementsByTagName(\"head\")[0].removeChild(el);\n      return supported;\n    },\n\n\n    /**\n     * Whether the browser supports CSS class lists.\n     * https://developer.mozilla.org/en-US/docs/DOM/element.classList\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if class list is supported.\n     */\n    getClassList : function() {\n      return !!(document.documentElement.classList &&\n        qx.Bootstrap.getClass(document.documentElement.classList) === \"DOMTokenList\"\n      );\n    },\n\n\n    /**\n     * Checks if XPath could be used.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if xpath is supported.\n     */\n    getXPath : function() {\n      return !!document.evaluate;\n    },\n\n\n    /**\n     * Checks if XUL could be used.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if XUL is supported.\n     */\n    getXul : function() {\n      try {\n        document.createElementNS(\"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\", \"label\");\n        return true;\n      } catch (e) {\n        return false;\n      }\n    },\n\n\n    /**\n     * Checks if SVG could be used\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if SVG is supported.\n     */\n    getSvg : function() {\n      return document.implementation && document.implementation.hasFeature &&\n        (document.implementation.hasFeature(\"org.w3c.dom.svg\", \"1.0\") ||\n        document.implementation.hasFeature(\n          \"http://www.w3.org/TR/SVG11/feature#BasicStructure\",\n          \"1.1\"\n        )\n      );\n    },\n\n\n    /**\n     * Checks if VML is supported\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if VML is supported.\n     */\n    getVml : function() {\n      var el = document.createElement(\"div\");\n      document.body.appendChild(el);\n      el.innerHTML = '<v:shape id=\"vml_flag1\" adj=\"1\" />';\n      el.firstChild.style.behavior = \"url(#default#VML)\";\n      var hasVml = typeof el.firstChild.adj == \"object\";\n      document.body.removeChild(el);\n      return hasVml;\n    },\n\n\n    /**\n     * Checks if canvas could be used\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if canvas is supported.\n     */\n    getCanvas : function() {\n      return !!window.CanvasRenderingContext2D;\n    },\n\n\n    /**\n     * Asynchronous check for using data urls.\n     *\n     * @internal\n     * @param callback {Function} The function which should be executed as\n     *   soon as the check is done.\n     * \n     * @ignore(Image)\n     */\n    getDataUrl : function(callback) {\n      var data = new Image();\n      data.onload = data.onerror = function() {\n        // wrap that into a timeout because IE might execute it synchronously\n        window.setTimeout(function() {\n          callback.call(null, (data.width == 1 && data.height == 1));\n        }, 0);\n      };\n      data.src = \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==\";\n    },\n\n    /**\n     * Checks if dataset could be used\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if dataset is supported.\n     */\n    getDataset : function() {\n      return !!document.documentElement.dataset;\n    },\n\n\n    /**\n     * Check for element.contains\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if element.contains is supported\n     */\n    getContains : function()\n    {\n      // \"object\" in IE6/7/8, \"function\" in IE9\n      return (typeof document.documentElement.contains !== \"undefined\");\n    },\n\n\n    /**\n     * Check for element.compareDocumentPosition\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if element.compareDocumentPosition is supported\n     */\n    getCompareDocumentPosition : function()\n    {\n      return (typeof document.documentElement.compareDocumentPosition === \"function\");\n    },\n\n\n    /**\n     * Check for element.textContent. Legacy IEs do not support this, use\n     * innerText instead.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if textContent is supported\n     */\n    getTextContent : function()\n    {\n      var el = document.createElement(\"span\");\n      return (typeof el.textContent !== \"undefined\");\n    },\n\n\n    /**\n     * Whether the client supports the fullscreen API.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if fullscreen is supported\n     */\n    getFullScreen : function() {\n      return document.fullscreenEnabled ||\n             document.webkitFullscreenEnabled ||\n             document.mozFullScreenEnabled ||\n             document.msFullscreenEnabled || false;\n    },\n\n\n    /**\n     * Check for a console object.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if a console is available.\n     */\n    getConsole : function()\n    {\n      return typeof window.console !== \"undefined\";\n    },\n\n\n    /**\n     * Check for the <code>naturalHeight</code> and <code>naturalWidth</code>\n     * image element attributes.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if both attributes are supported\n     */\n    getNaturalDimensions : function()\n    {\n      var img = document.createElement(\"img\");\n      return typeof img.naturalHeight === \"number\" &&\n        typeof img.naturalWidth === \"number\";\n    },\n\n\n    /**\n     * Check for HTML5 history manipulation support.\n\n     * @internal\n     * @return {Boolean} <code>true</code> if the HTML5 history API is supported\n     */\n    getHistoryState : function()\n    {\n      return (typeof window.onpopstate !== \"undefined\" &&\n              typeof window.history.replaceState !== \"undefined\" &&\n              typeof window.history.pushState !== \"undefined\");\n    },\n\n\n    /**\n     * Returns the name of the native object/function used to access the\n     * document's text selection.\n     *\n     * @return {String|null} <code>getSelection</code> if the standard window.getSelection\n     * function is available; <code>selection</code> if the MS-proprietary\n     * document.selection object is available; <code>null</code> if no known\n     * text selection API is available.\n     */\n    getSelection : function()\n    {\n      if (typeof window.getSelection === \"function\") {\n        return \"getSelection\";\n      }\n      if (typeof document.selection === \"object\") {\n        return \"selection\";\n      }\n      return null;\n    },\n\n\n    /**\n     * Check for the isEqualNode DOM method.\n     *\n     * @return {Boolean} <code>true</code> if isEqualNode is supported by DOM nodes\n     */\n    getIsEqualNode : function() {\n      return typeof document.documentElement.isEqualNode === \"function\";\n    }\n  },\n\n  defer : function (statics) {\n    qx.core.Environment.add(\"html.webworker\", statics.getWebWorker);\n    qx.core.Environment.add(\"html.filereader\", statics.getFileReader);\n    qx.core.Environment.add(\"html.geolocation\", statics.getGeoLocation);\n    qx.core.Environment.add(\"html.audio\", statics.getAudio);\n    qx.core.Environment.add(\"html.audio.ogg\", statics.getAudioOgg);\n    qx.core.Environment.add(\"html.audio.mp3\", statics.getAudioMp3);\n    qx.core.Environment.add(\"html.audio.wav\", statics.getAudioWav);\n    qx.core.Environment.add(\"html.audio.au\", statics.getAudioAu);\n    qx.core.Environment.add(\"html.audio.aif\", statics.getAudioAif);\n    qx.core.Environment.add(\"html.video\", statics.getVideo);\n    qx.core.Environment.add(\"html.video.ogg\", statics.getVideoOgg);\n    qx.core.Environment.add(\"html.video.h264\", statics.getVideoH264);\n    qx.core.Environment.add(\"html.video.webm\", statics.getVideoWebm);\n    qx.core.Environment.add(\"html.storage.local\", statics.getLocalStorage);\n    qx.core.Environment.add(\"html.storage.session\", statics.getSessionStorage);\n    qx.core.Environment.add(\"html.storage.userdata\", statics.getUserDataStorage);\n    qx.core.Environment.add(\"html.classlist\", statics.getClassList);\n    qx.core.Environment.add(\"html.xpath\", statics.getXPath);\n    qx.core.Environment.add(\"html.xul\", statics.getXul);\n    qx.core.Environment.add(\"html.canvas\", statics.getCanvas);\n    qx.core.Environment.add(\"html.svg\", statics.getSvg);\n    qx.core.Environment.add(\"html.vml\", statics.getVml);\n    qx.core.Environment.add(\"html.dataset\", statics.getDataset);\n    qx.core.Environment.addAsync(\"html.dataurl\", statics.getDataUrl);\n    qx.core.Environment.add(\"html.element.contains\", statics.getContains);\n    qx.core.Environment.add(\"html.element.compareDocumentPosition\", statics.getCompareDocumentPosition);\n    qx.core.Environment.add(\"html.element.textcontent\", statics.getTextContent);\n    qx.core.Environment.add(\"html.console\", statics.getConsole);\n    qx.core.Environment.add(\"html.image.naturaldimensions\", statics.getNaturalDimensions);\n    qx.core.Environment.add(\"html.history.state\", statics.getHistoryState);\n    qx.core.Environment.add(\"html.selection\", statics.getSelection);\n    qx.core.Environment.add(\"html.node.isequalnode\", statics.getIsEqualNode);\n    qx.core.Environment.add(\"html.fullscreen\", statics.getFullScreen);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Alexander Steitz (aback)\n\n************************************************************************ */\n\n\n\n/**\n * Low-level selection API to select elements like input and textarea elements\n * as well as text nodes or elements which their child nodes.\n *\n * @ignore(qx.bom.Element, qx.bom.Element.blur)\n */\nqx.Bootstrap.define(\"qx.bom.Selection\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * Returns the native selection object.\n     *\n     * @signature function(documentNode)\n     * @param documentNode {document} Document node to retrieve the connected selection from\n     * @return {Selection} native selection object\n     */\n    getSelectionObject : qx.core.Environment.select(\"html.selection\",\n    {\n      \"selection\" : function(documentNode) {\n        return documentNode.selection;\n      },\n\n      // suitable for gecko, opera, webkit and mshtml >= 9\n      \"default\" : function(documentNode) {\n        return qx.dom.Node.getWindow(documentNode).getSelection();\n      }\n    }),\n\n\n    /**\n     * Returns the current selected text.\n     *\n     * @signature function(node)\n     * @param node {Node} node to retrieve the selection for\n     * @return {String|null} selected text as string\n     */\n    get : qx.core.Environment.select(\"html.selection\",\n    {\n      \"selection\" : function(node)\n      {\n        // to get the selected text in legacy IE you have to work with the TextRange\n        // of the selection object. So always pass the document node to the\n        // Range class to get this TextRange object.\n        var rng = qx.bom.Range.get(qx.dom.Node.getDocument(node));\n        return rng.text;\n      },\n\n      // suitable for gecko, opera and webkit\n      \"default\" : function(node)\n      {\n        if (this.__isInputOrTextarea(node)) {\n          return node.value.substring(node.selectionStart, node.selectionEnd);\n        } else {\n          return this.getSelectionObject(qx.dom.Node.getDocument(node)).toString();\n        }\n      }\n    }),\n\n\n    /**\n     * Returns the length of the selection\n     *\n     * @signature function(node)\n     * @param node {Node} Form node or document/window to check.\n     * @return {Integer|null} length of the selection or null\n     */\n    getLength : qx.core.Environment.select(\"html.selection\",\n    {\n      \"selection\" : function(node)\n      {\n        var selectedValue = this.get(node);\n        // get the selected part and split it by linebreaks\n        var split = qx.util.StringSplit.split(selectedValue, /\\r\\n/);\n\n        // return the length substracted by the count of linebreaks\n        // legacy IE counts linebreaks as two chars\n        // -> harmonize this to one char per linebreak\n        return selectedValue.length - (split.length - 1);\n      },\n\n      \"default\" : function(node)\n      {\n        if (qx.core.Environment.get(\"engine.name\") == \"opera\") {\n          var selectedValue, selectedLength, split;\n\n          if (this.__isInputOrTextarea(node))\n          {\n            var start = node.selectionStart;\n            var end = node.selectionEnd;\n\n            selectedValue = node.value.substring(start, end);\n            selectedLength = end - start;\n          }\n          else\n          {\n            selectedValue = qx.bom.Selection.get(node);\n            selectedLength = selectedValue.length;\n          }\n\n          // get the selected part and split it by linebreaks\n          split = qx.util.StringSplit.split(selectedValue, /\\r\\n/);\n\n          // substract the count of linebreaks\n          // Opera counts each linebreak as two chars\n          // -> harmonize this to one char per linebreak\n          return selectedLength - (split.length - 1);\n        }\n\n        // suitable for gecko and webkit\n        if (this.__isInputOrTextarea(node)) {\n          return node.selectionEnd - node.selectionStart;\n        } else {\n          return this.get(node).length;\n        }\n      }\n    }),\n\n\n    /**\n     * Returns the start of the selection\n     *\n     * @signature function(node)\n     * @param node {Node} node to check for\n     * @return {Integer} start of current selection or \"-1\" if the current\n     *                   selection is not within the given node\n     */\n    getStart : qx.core.Environment.select(\"html.selection\",\n    {\n      \"selection\" : function(node)\n      {\n        if (this.__isInputOrTextarea(node))\n        {\n          var documentRange = qx.bom.Range.get();\n\n          // Check if the document.selection is the text range inside the input element\n          if (!node.contains(documentRange.parentElement())) {\n            return -1;\n          }\n\n          var range = qx.bom.Range.get(node);\n          var len = node.value.length;\n\n          // Synchronize range start and end points\n          range.moveToBookmark(documentRange.getBookmark());\n          range.moveEnd('character', len);\n\n          return len - range.text.length;\n        }\n        else\n        {\n          var range = qx.bom.Range.get(node);\n          var parentElement = range.parentElement();\n\n          // get a range which holds the text of the parent element\n          var elementRange = qx.bom.Range.get();\n          try {\n            // IE throws an invalid argument error when the document has no selection\n            elementRange.moveToElementText(parentElement);\n          } catch(ex) {\n            return 0;\n          }\n\n          // Move end points of full range so it starts at the user selection\n          // and ends at the end of the element text.\n          var bodyRange = qx.bom.Range.get(qx.dom.Node.getBodyElement(node));\n          bodyRange.setEndPoint(\"StartToStart\", range);\n          bodyRange.setEndPoint(\"EndToEnd\", elementRange);\n\n          // selection is at beginning\n          if (elementRange.compareEndPoints(\"StartToStart\", bodyRange) == 0) {\n            return 0;\n          }\n\n          var moved;\n          var steps = 0;\n          while (true)\n          {\n            moved = bodyRange.moveStart(\"character\", -1);\n\n            // Starting points of both ranges are equal\n            if (elementRange.compareEndPoints(\"StartToStart\", bodyRange) == 0) {\n              break;\n            }\n\n            // Moving had no effect -> range is at begin of body\n            if (moved == 0) {\n              break;\n            } else {\n              steps++;\n            }\n          }\n\n          return ++steps;\n        }\n      },\n\n      \"default\" : function(node)\n      {\n        if (qx.core.Environment.get(\"engine.name\") === \"gecko\" ||\n            qx.core.Environment.get(\"engine.name\") === \"webkit\")\n        {\n          if (this.__isInputOrTextarea(node)) {\n            return node.selectionStart;\n          }\n          else\n          {\n            var documentElement = qx.dom.Node.getDocument(node);\n            var documentSelection = this.getSelectionObject(documentElement);\n\n            // gecko and webkit do differ how the user selected the text\n            // \"left-to-right\" or \"right-to-left\"\n            if (documentSelection.anchorOffset < documentSelection.focusOffset) {\n              return documentSelection.anchorOffset;\n            } else {\n              return documentSelection.focusOffset;\n            }\n          }\n        }\n\n        if (this.__isInputOrTextarea(node)) {\n          return node.selectionStart;\n        } else {\n          return qx.bom.Selection.getSelectionObject(qx.dom.Node.getDocument(node)).anchorOffset;\n        }\n      }\n    }),\n\n\n    /**\n     * Returns the end of the selection\n     *\n     * @signature function(node)\n     * @param node {Node} node to check\n     * @return {Integer} end of current selection\n     */\n    getEnd : qx.core.Environment.select(\"html.selection\",\n    {\n      \"selection\" : function(node)\n      {\n        if (this.__isInputOrTextarea(node))\n        {\n          var documentRange = qx.bom.Range.get();\n\n          // Check if the document.selection is the text range inside the input element\n          if (!node.contains(documentRange.parentElement())) {\n            return -1;\n          }\n\n          var range = qx.bom.Range.get(node);\n          var len = node.value.length;\n\n          // Synchronize range start and end points\n          range.moveToBookmark(documentRange.getBookmark());\n          range.moveStart('character', -len);\n\n          return range.text.length;\n        }\n        else\n        {\n          var range = qx.bom.Range.get(node);\n          var parentElement = range.parentElement();\n\n          // get a range which holds the text of the parent element\n          var elementRange = qx.bom.Range.get();\n          try {\n            // IE throws an invalid argument error when the document has no selection\n            elementRange.moveToElementText(parentElement);\n          } catch(ex) {\n            return 0;\n          }\n          var len = elementRange.text.length;\n\n          // Move end points of full range so it ends at the user selection\n          // and starts at the start of the element text.\n          var bodyRange = qx.bom.Range.get(qx.dom.Node.getBodyElement(node));\n          bodyRange.setEndPoint(\"EndToEnd\", range);\n          bodyRange.setEndPoint(\"StartToStart\", elementRange);\n\n          // selection is at beginning\n          if (elementRange.compareEndPoints(\"EndToEnd\", bodyRange) == 0) {\n            return len-1;\n          }\n\n          var moved;\n          var steps = 0;\n          while (true)\n          {\n            moved = bodyRange.moveEnd(\"character\", 1);\n\n            // Ending points of both ranges are equal\n            if (elementRange.compareEndPoints(\"EndToEnd\", bodyRange) == 0) {\n              break;\n            }\n\n            // Moving had no effect -> range is at begin of body\n            if (moved == 0) {\n              break;\n            } else {\n              steps++;\n            }\n          }\n\n          return len - (++steps);\n        }\n      },\n\n      \"default\" : function(node)\n      {\n        if (qx.core.Environment.get(\"engine.name\") === \"gecko\" ||\n            qx.core.Environment.get(\"engine.name\") === \"webkit\")\n        {\n          if (this.__isInputOrTextarea(node)) {\n            return node.selectionEnd;\n          }\n          else\n          {\n            var documentElement = qx.dom.Node.getDocument(node);\n            var documentSelection = this.getSelectionObject(documentElement);\n\n            // gecko and webkit do differ how the user selected the text\n            // \"left-to-right\" or \"right-to-left\"\n            if (documentSelection.focusOffset > documentSelection.anchorOffset) {\n              return documentSelection.focusOffset;\n            } else {\n              return documentSelection.anchorOffset;\n            }\n          }\n        }\n\n        if (this.__isInputOrTextarea(node)) {\n          return node.selectionEnd;\n        } else {\n          return qx.bom.Selection.getSelectionObject(qx.dom.Node.getDocument(node)).focusOffset;\n        }\n      }\n    }),\n\n\n    /**\n     * Utility method to check for an input or textarea element\n     *\n     * @param node {Node} node to check\n     * @return {Boolean} Whether the given node is an input or textarea element\n     */\n    __isInputOrTextarea : function(node) {\n      return qx.dom.Node.isElement(node) &&\n            (node.nodeName.toLowerCase() == \"input\" ||\n             node.nodeName.toLowerCase() == \"textarea\");\n    },\n\n\n    /**\n     * Sets a selection at the given node with the given start and end.\n     * For text nodes, input and textarea elements the start and end parameters\n     * set the boundaries at the text.\n     * For element nodes the start and end parameters are used to select the\n     * childNodes of the given element.\n     *\n     * @signature function(node, start, end)\n     * @param node {Node} node to set the selection at\n     * @param start {Integer} start of the selection\n     * @param end {Integer} end of the selection\n     * @return {Boolean} whether a selection is drawn\n     */\n    set : qx.core.Environment.select(\"html.selection\",\n    {\n      \"selection\" : function(node, start, end)\n      {\n        var rng;\n\n        // if the node is the document itself then work on with the body element\n        if (qx.dom.Node.isDocument(node)) {\n          node = node.body;\n        }\n\n        if (qx.dom.Node.isElement(node) || qx.dom.Node.isText(node))\n        {\n          switch(node.nodeName.toLowerCase())\n          {\n            case \"input\":\n            case \"textarea\":\n            case \"button\":\n              if (end === undefined)\n              {\n                end = node.value.length;\n              }\n\n              if (start >= 0 && start <= node.value.length && end >= 0 && end <= node.value.length)\n              {\n                rng = qx.bom.Range.get(node);\n                rng.collapse(true);\n\n                rng.moveStart(\"character\", start);\n                rng.moveEnd(\"character\", end - start);\n                rng.select();\n\n                return true;\n              }\n              break;\n\n            case \"#text\":\n              if (end === undefined)\n              {\n                end = node.nodeValue.length;\n              }\n\n              if (start >= 0 && start <= node.nodeValue.length && end >= 0 && end <= node.nodeValue.length)\n              {\n                // get a range of the body element\n                rng = qx.bom.Range.get(qx.dom.Node.getBodyElement(node));\n\n                // use the parent node -> \"moveToElementText\" expects an element\n                rng.moveToElementText(node.parentNode);\n                rng.collapse(true);\n\n                rng.moveStart(\"character\", start);\n                rng.moveEnd(\"character\", end - start);\n                rng.select();\n\n                return true;\n              }\n              break;\n\n            default:\n              if (end === undefined)\n              {\n                end = node.childNodes.length - 1;\n              }\n\n             // check start and end -> childNodes\n             if (node.childNodes[start] && node.childNodes[end])\n             {\n               // get the TextRange of the body element\n               // IMPORTANT: only with a range of the body the method \"moveElementToText\" is available\n               rng = qx.bom.Range.get(qx.dom.Node.getBodyElement(node));\n               // position it at the given node\n               rng.moveToElementText(node.childNodes[start]);\n               rng.collapse(true);\n\n               // create helper range\n               var newRng = qx.bom.Range.get(qx.dom.Node.getBodyElement(node));\n               newRng.moveToElementText(node.childNodes[end]);\n\n               // set the end of the range to the end of the helper range\n               rng.setEndPoint(\"EndToEnd\", newRng);\n               rng.select();\n\n               return true;\n             }\n          }\n        }\n\n        return false;\n      },\n\n      // suitable for gecko, opera, webkit and mshtml >=9\n      \"default\" : function(node, start, end)\n      {\n        // special handling for input and textarea elements\n        var nodeName = node.nodeName.toLowerCase();\n        if (qx.dom.Node.isElement(node) && (nodeName == \"input\" || nodeName == \"textarea\"))\n        {\n          // if \"end\" is not given set it to the end\n          if (end === undefined) {\n            end = node.value.length;\n          }\n\n          // check boundaries\n          if (start >= 0 && start <= node.value.length && end >= 0 && end <= node.value.length)\n          {\n            node.focus();\n            node.select();\n            node.setSelectionRange(start, end);\n            return true;\n          }\n        }\n        else\n        {\n          var validBoundaries = false;\n          var sel = qx.dom.Node.getWindow(node).getSelection();\n\n          var rng = qx.bom.Range.get(node);\n\n          // element or text node?\n          // for elements nodes the offsets are applied to childNodes\n          // for text nodes the offsets are applied to the text content\n          if (qx.dom.Node.isText(node))\n          {\n            if (end === undefined) {\n              end = node.length;\n            }\n\n            if (start >= 0 && start < node.length && end >= 0 && end <= node.length) {\n              validBoundaries = true;\n            }\n          }\n          else if (qx.dom.Node.isElement(node))\n          {\n            if (end === undefined) {\n              end = node.childNodes.length - 1;\n            }\n\n            if (start >= 0 && node.childNodes[start] && end >= 0 && node.childNodes[end]) {\n              validBoundaries = true;\n            }\n          }\n          else if (qx.dom.Node.isDocument(node))\n          {\n            // work on with the body element\n            node = node.body;\n\n            if (end === undefined) {\n              end = node.childNodes.length - 1;\n            }\n\n            if (start >= 0 && node.childNodes[start] && end >= 0 && node.childNodes[end]) {\n              validBoundaries = true;\n            }\n          }\n\n          if (validBoundaries)\n          {\n            // collapse the selection if needed\n            if (!sel.isCollapsed) {\n             sel.collapseToStart();\n            }\n\n            // set start and end of the range\n            rng.setStart(node, start);\n\n            // for element nodes set the end after the childNode\n            if (qx.dom.Node.isText(node)) {\n              rng.setEnd(node, end);\n            } else {\n              rng.setEndAfter(node.childNodes[end]);\n            }\n\n            // remove all existing ranges and add the new one\n            if (sel.rangeCount > 0) {\n              sel.removeAllRanges();\n            }\n\n            sel.addRange(rng);\n\n            return true;\n          }\n        }\n\n        return false;\n      }\n    }),\n\n\n    /**\n     * Selects all content/childNodes of the given node\n     *\n     * @param node {Node} text, element or document node\n     * @return {Boolean} whether a selection is drawn\n     */\n    setAll : function(node) {\n      return qx.bom.Selection.set(node, 0);\n    },\n\n\n    /**\n     * Clears the selection on the given node.\n     *\n     * @param node {Node} node to clear the selection for\n     */\n    clear : qx.core.Environment.select(\"html.selection\",\n    {\n      \"selection\" : function(node)\n      {\n        var rng = qx.bom.Range.get(node);\n        var parent = rng.parentElement();\n\n        var documentRange = qx.bom.Range.get(qx.dom.Node.getDocument(node));\n\n        // only collapse if the selection is really on the given node\n        // -> compare the two parent elements of the ranges with each other and\n        // the given node\n        if (qx.dom.Node.isText(node)) {\n          node = node.parentNode;\n        }\n        if (parent == documentRange.parentElement() && parent == node) {\n          var sel = qx.bom.Selection.getSelectionObject(qx.dom.Node.getDocument(node));\n          sel.empty();\n        }\n      },\n\n      \"default\" : function(node)\n      {\n        var sel = qx.bom.Selection.getSelectionObject(qx.dom.Node.getDocument(node));\n        var nodeName = node.nodeName.toLowerCase();\n\n        // if the node is an input or textarea element use the specialized methods\n        if (qx.dom.Node.isElement(node) && (nodeName == \"input\" || nodeName == \"textarea\"))\n        {\n          node.setSelectionRange(0, 0);\n          if (qx.bom.Element && qx.bom.Element.blur) {\n            qx.bom.Element.blur(node);\n          }\n        }\n        // if the given node is the body/document node -> collapse the selection\n        else if (qx.dom.Node.isDocument(node) || nodeName == \"body\")\n        {\n          sel.collapse(node.body ? node.body : node, 0);\n        }\n        // if an element/text node is given the current selection has to\n        // encompass the node. Only then the selection is cleared.\n        else\n        {\n          var rng = qx.bom.Range.get(node);\n          if (!rng.collapsed)\n          {\n            var compareNode;\n            var commonAncestor = rng.commonAncestorContainer;\n\n            // compare the parentNode of the textNode with the given node\n            // (if this node is an element) to decide whether the selection\n            // is cleared or not.\n            if (qx.dom.Node.isElement(node) && qx.dom.Node.isText(commonAncestor)) {\n              compareNode = commonAncestor.parentNode;\n            } else {\n              compareNode = commonAncestor;\n            }\n\n            if (compareNode == node) {\n              sel.collapse(node,0);\n            }\n          }\n        }\n      }\n    })\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Common base class for all focus events.\n */\nqx.Class.define(\"qx.event.type.Focus\",\n{\n  extend : qx.event.type.Event,\n\n  members :\n  {\n    /**\n     * Initialize the fields of the event. The event must be initialized before\n     * it can be dispatched.\n     *\n     * @param target {Object} Any possible event target\n     * @param relatedTarget {Object} Any possible event target\n     * @param canBubble {Boolean?false} Whether or not the event is a bubbling event.\n     *     If the event is bubbling, the bubbling can be stopped using\n     *     {@link qx.event.type.Event#stopPropagation}\n     * @return {qx.event.type.Event} The initialized event instance\n     */\n    init : function(target, relatedTarget, canBubble)\n    {\n      this.base(arguments, canBubble, false);\n\n      this._target = target;\n      this._relatedTarget = relatedTarget;\n\n      return this;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * The base class of all items, which should be laid out using a layout manager\n * {@link qx.ui.layout.Abstract}.\n */\nqx.Class.define(\"qx.ui.core.LayoutItem\",\n{\n  type : \"abstract\",\n  extend : qx.core.Object,\n\n  construct : function() {\n    this.base(arguments);\n\n    // dynamic theme switch\n    if (qx.core.Environment.get(\"qx.dyntheme\")) {\n      qx.theme.manager.Meta.getInstance().addListener(\"changeTheme\", this._onChangeTheme, this);\n    }\n  },\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      DIMENSION\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * The user provided minimal width.\n     *\n     * Also take a look at the related properties {@link #width} and {@link #maxWidth}.\n     */\n    minWidth :\n    {\n      check : \"Integer\",\n      nullable : true,\n      apply : \"_applyDimension\",\n      init : null,\n      themeable : true\n    },\n\n\n    /**\n     * The <code>LayoutItem</code>'s preferred width.\n     *\n     * The computed width may differ from the given width due to\n     * stretching. Also take a look at the related properties\n     * {@link #minWidth} and {@link #maxWidth}.\n     */\n    width :\n    {\n      check : \"Integer\",\n      event : \"changeWidth\",\n      nullable : true,\n      apply : \"_applyDimension\",\n      init : null,\n      themeable : true\n    },\n\n\n    /**\n     * The user provided maximal width.\n     *\n     * Also take a look at the related properties {@link #width} and {@link #minWidth}.\n     */\n    maxWidth :\n    {\n      check : \"Integer\",\n      nullable : true,\n      apply : \"_applyDimension\",\n      init : null,\n      themeable : true\n    },\n\n\n    /**\n     * The user provided minimal height.\n     *\n     * Also take a look at the related properties {@link #height} and {@link #maxHeight}.\n     */\n    minHeight :\n    {\n      check : \"Integer\",\n      nullable : true,\n      apply : \"_applyDimension\",\n      init : null,\n      themeable : true\n    },\n\n\n    /**\n     * The item's preferred height.\n     *\n     * The computed height may differ from the given height due to\n     * stretching. Also take a look at the related properties\n     * {@link #minHeight} and {@link #maxHeight}.\n     */\n    height :\n    {\n      check : \"Integer\",\n      event : \"changeHeight\",\n      nullable : true,\n      apply : \"_applyDimension\",\n      init : null,\n      themeable : true\n    },\n\n\n    /**\n     * The user provided maximum height.\n     *\n     * Also take a look at the related properties {@link #height} and {@link #minHeight}.\n     */\n    maxHeight :\n    {\n      check : \"Integer\",\n      nullable : true,\n      apply : \"_applyDimension\",\n      init : null,\n      themeable : true\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      STRETCHING\n    ---------------------------------------------------------------------------\n    */\n\n    /** Whether the item can grow horizontally. */\n    allowGrowX :\n    {\n      check : \"Boolean\",\n      apply : \"_applyStretching\",\n      init : true,\n      themeable : true\n    },\n\n\n    /** Whether the item can shrink horizontally. */\n    allowShrinkX :\n    {\n      check : \"Boolean\",\n      apply : \"_applyStretching\",\n      init : true,\n      themeable : true\n    },\n\n\n    /** Whether the item can grow vertically. */\n    allowGrowY :\n    {\n      check : \"Boolean\",\n      apply : \"_applyStretching\",\n      init : true,\n      themeable : true\n    },\n\n\n    /** Whether the item can shrink vertically. */\n    allowShrinkY :\n    {\n      check : \"Boolean\",\n      apply : \"_applyStretching\",\n      init : true,\n      themeable : true\n    },\n\n\n    /** Growing and shrinking in the horizontal direction */\n    allowStretchX :\n    {\n      group : [ \"allowGrowX\", \"allowShrinkX\" ],\n      mode : \"shorthand\",\n      themeable: true\n    },\n\n\n    /** Growing and shrinking in the vertical direction */\n    allowStretchY :\n    {\n      group : [ \"allowGrowY\", \"allowShrinkY\" ],\n      mode : \"shorthand\",\n      themeable: true\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      MARGIN\n    ---------------------------------------------------------------------------\n    */\n\n    /** Margin of the widget (top) */\n    marginTop :\n    {\n      check : \"Integer\",\n      init : 0,\n      apply : \"_applyMargin\",\n      themeable : true\n    },\n\n\n    /** Margin of the widget (right) */\n    marginRight :\n    {\n      check : \"Integer\",\n      init : 0,\n      apply : \"_applyMargin\",\n      themeable : true\n    },\n\n\n    /** Margin of the widget (bottom) */\n    marginBottom :\n    {\n      check : \"Integer\",\n      init : 0,\n      apply : \"_applyMargin\",\n      themeable : true\n    },\n\n\n    /** Margin of the widget (left) */\n    marginLeft :\n    {\n      check : \"Integer\",\n      init : 0,\n      apply : \"_applyMargin\",\n      themeable : true\n    },\n\n\n    /**\n     * The 'margin' property is a shorthand property for setting 'marginTop',\n     * 'marginRight', 'marginBottom' and 'marginLeft' at the same time.\n     *\n     * If four values are specified they apply to top, right, bottom and left respectively.\n     * If there is only one value, it applies to all sides, if there are two or three,\n     * the missing values are taken from the opposite side.\n     */\n    margin :\n    {\n      group : [ \"marginTop\", \"marginRight\", \"marginBottom\", \"marginLeft\" ],\n      mode  : \"shorthand\",\n      themeable : true\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      ALIGN\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Horizontal alignment of the item in the parent layout.\n     *\n     * Note: Item alignment is only supported by {@link LayoutItem} layouts where\n     * it would have a visual effect. Except for {@link Spacer}, which provides\n     * blank space for layouts, all classes that inherit {@link LayoutItem} support alignment.\n     */\n    alignX :\n    {\n      check : [ \"left\", \"center\", \"right\" ],\n      nullable : true,\n      apply : \"_applyAlign\",\n      themeable: true\n    },\n\n\n    /**\n     * Vertical alignment of the item in the parent layout.\n     *\n     * Note: Item alignment is only supported by {@link LayoutItem} layouts where\n     * it would have a visual effect. Except for {@link Spacer}, which provides\n     * blank space for layouts, all classes that inherit {@link LayoutItem} support alignment.\n     */\n    alignY :\n    {\n      check : [ \"top\", \"middle\", \"bottom\", \"baseline\" ],\n      nullable : true,\n      apply : \"_applyAlign\",\n      themeable: true\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      DYNAMIC THEME SWITCH SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Handler for the dynamic theme change.\n     * @signature function()\n     */\n    _onChangeTheme : qx.core.Environment.select(\"qx.dyntheme\",\n    {\n      \"true\" : function() {\n        // reset all themeable properties\n        var props = qx.util.PropertyUtil.getAllProperties(this.constructor);\n        for (var name in props) {\n          var desc = props[name];\n          // only themeable properties not having a user value\n          if (desc.themeable) {\n            var userValue = qx.util.PropertyUtil.getUserValue(this, name);\n            if (userValue == null) {\n              qx.util.PropertyUtil.resetThemed(this, name);\n            }\n          }\n        }\n      },\n      \"false\" : null\n    }),\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      LAYOUT PROCESS\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {Integer} The computed height */\n    __computedHeightForWidth : null,\n\n    /** @type {Map} The computed size of the layout item */\n    __computedLayout : null,\n\n    /** @type {Boolean} Whether the current layout is valid */\n    __hasInvalidLayout : null,\n\n    /** @type {Map} Cached size hint */\n    __sizeHint : null,\n\n    /** @type {Boolean} Whether the margins have changed and must be updated */\n    __updateMargin : null,\n\n    /** @type {Map} user provided bounds of the widget, which override the layout manager */\n    __userBounds : null,\n\n    /** @type {Map} The item's layout properties */\n    __layoutProperties : null,\n\n\n    /**\n     * Get the computed location and dimension as computed by\n     * the layout manager.\n     *\n     * @return {Map|null} The location and dimensions in pixel\n     *    (if the layout is valid). Contains the keys\n     *    <code>width</code>, <code>height</code>, <code>left</code> and\n     *    <code>top</code>.\n     */\n    getBounds : function() {\n      return this.__userBounds || this.__computedLayout || null;\n    },\n\n\n    /**\n     * Reconfigure number of separators\n     */\n    clearSeparators : function() {\n      // empty template\n    },\n\n\n    /**\n     * Renders a separator between two children\n     *\n     * @param separator {String|qx.ui.decoration.IDecorator} The separator to render\n     * @param bounds {Map} Contains the left and top coordinate and the width and height\n     *    of the separator to render.\n     */\n    renderSeparator : function(separator, bounds) {\n      // empty template\n    },\n\n\n    /**\n     * Used by the layout engine to apply coordinates and dimensions.\n     *\n     * @param left {Integer} Any integer value for the left position,\n     *   always in pixels\n     * @param top {Integer} Any integer value for the top position,\n     *   always in pixels\n     * @param width {Integer} Any positive integer value for the width,\n     *   always in pixels\n     * @param height {Integer} Any positive integer value for the height,\n     *   always in pixels\n     * @return {Map} A map of which layout sizes changed.\n     */\n    renderLayout : function(left, top, width, height)\n    {\n      // do not render if the layout item is already disposed\n      if (this.isDisposed()) {\n        return null;\n      }\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        var msg = \"Something went wrong with the layout of \" + this.toString() + \"!\";\n        this.assertInteger(left, \"Wrong 'left' argument. \" + msg);\n        this.assertInteger(top, \"Wrong 'top' argument. \" + msg);\n        this.assertInteger(width, \"Wrong 'width' argument. \" + msg);\n        this.assertInteger(height, \"Wrong 'height' argument. \" + msg);\n\n        // this.assertInRange(width, this.getMinWidth() || -1, this.getMaxWidth() || 32000);\n        // this.assertInRange(height, this.getMinHeight() || -1, this.getMaxHeight() || 32000);\n      }\n\n      // Detect size changes\n\n      // Dynamically create data structure for computed layout\n      var computed = this.__computedLayout;\n      if (!computed) {\n        computed = this.__computedLayout = {};\n      }\n\n      // Detect changes\n      var changes = {};\n\n      if (left !== computed.left || top !== computed.top)\n      {\n        changes.position = true;\n\n        computed.left = left;\n        computed.top = top;\n      }\n\n      if (width !== computed.width || height !== computed.height)\n      {\n        changes.size = true;\n\n        computed.width = width;\n        computed.height = height;\n      }\n\n      // Clear invalidation marker\n      if (this.__hasInvalidLayout)\n      {\n        changes.local = true;\n        delete this.__hasInvalidLayout;\n      }\n\n      if (this.__updateMargin)\n      {\n        changes.margin = true;\n        delete this.__updateMargin;\n      }\n\n      /*\n       * Height for width support\n       * \n       * Results into a re-layout which means that width/height is applied in the next iteration.\n       * \n       * Note that it is important that this happens after the above first pass at calculating a \n       * computed size because otherwise getBounds() will return null, and this will cause an\n       * issue where the existing size is expected to have already been applied by the layout.\n       * See https://github.com/qooxdoo/qooxdoo/issues/9553  \n       */\n      if (this.getHeight() == null && this._hasHeightForWidth()) {\n        var flowHeight = this._getHeightForWidth(width);\n        \n        if (flowHeight != null && flowHeight !== this.__computedHeightForWidth)\n        {\n          // This variable is used in the next computation of the size hint\n          this.__computedHeightForWidth = flowHeight;\n\n          // Re-add to layout queue\n          qx.ui.core.queue.Layout.add(this);\n        }\n      }\n\n      // Returns changes, especially for deriving classes\n      return changes;\n    },\n\n\n    /**\n     * Whether the item should be excluded from the layout\n     *\n     * @return {Boolean} Should the item be excluded by the layout\n     */\n    isExcluded : function() {\n      return false;\n    },\n\n\n    /**\n     * Whether the layout of this item (to layout the children)\n     * is valid.\n     *\n     * @return {Boolean} Returns <code>true</code>\n     */\n    hasValidLayout : function() {\n      return !this.__hasInvalidLayout;\n    },\n\n\n    /**\n     * Indicate that the item has layout changes and propagate this information\n     * up the item hierarchy.\n     *\n     */\n    scheduleLayoutUpdate : function() {\n      qx.ui.core.queue.Layout.add(this);\n    },\n\n\n    /**\n     * Called by the layout manager to mark this item's layout as invalid.\n     * This function should clear all layout relevant caches.\n     */\n    invalidateLayoutCache : function()\n    {\n      // this.debug(\"Mark layout invalid!\");\n\n      this.__hasInvalidLayout = true;\n      this.__sizeHint = null;\n    },\n\n\n    /**\n     * A size hint computes the dimensions of a widget. It returns\n     * the recommended dimensions as well as the min and max dimensions.\n     * The min and max values already respect the stretching properties.\n     *\n     * <h3>Wording</h3>\n     * <ul>\n     * <li>User value: Value defined by the widget user, using the size properties</li>\n     *\n     * <li>Layout value: The value computed by {@link qx.ui.core.Widget#_getContentHint}</li>\n     * </ul>\n     *\n     * <h3>Algorithm</h3>\n     * <ul>\n     * <li>minSize: If the user min size is not null, the user value is taken,\n     *     otherwise the layout value is used.</li>\n     *\n     * <li>(preferred) size: If the user value is not null the user value is used,\n     *     otherwise the layout value is used.</li>\n     *\n     * <li>max size: Same as the preferred size.</li>\n     * </ul>\n     *\n     * @param compute {Boolean?true} Automatically compute size hint if currently not\n     *   cached?\n     * @return {Map} The map with the preferred width/height and the allowed\n     *   minimum and maximum values in cases where shrinking or growing\n     *   is required.\n     */\n    getSizeHint : function(compute)\n    {\n      var hint = this.__sizeHint;\n      if (hint) {\n        return hint;\n      }\n\n      if (compute === false) {\n        return null;\n      }\n\n      // Compute as defined\n      hint = this.__sizeHint = this._computeSizeHint();\n\n      // Respect height for width\n      if (this._hasHeightForWidth() && this.__computedHeightForWidth && this.getHeight() == null) {\n        hint.height = this.__computedHeightForWidth;\n      }\n\n\n      // normalize width\n      if (hint.minWidth > hint.width) {\n        hint.width = hint.minWidth;\n      }\n      if (hint.maxWidth < hint.width) {\n        hint.width = hint.maxWidth;\n      }\n\n      if (!this.getAllowGrowX()) {\n        hint.maxWidth = hint.width;\n      }\n      if (!this.getAllowShrinkX()) {\n        hint.minWidth = hint.width;\n      }\n\n\n      // normalize height\n      if (hint.minHeight > hint.height) {\n        hint.height = hint.minHeight;\n      }\n      if (hint.maxHeight < hint.height) {\n        hint.height = hint.maxHeight;\n      }\n\n      if (!this.getAllowGrowY()) {\n        hint.maxHeight = hint.height;\n      }\n      if (!this.getAllowShrinkY()) {\n        hint.minHeight = hint.height;\n      }\n\n\n      // Finally return\n      return hint;\n    },\n\n\n    /**\n     * Computes the size hint of the layout item.\n     *\n     * @return {Map} The map with the preferred width/height and the allowed\n     *   minimum and maximum values.\n     */\n    _computeSizeHint : function()\n    {\n      var minWidth = this.getMinWidth() || 0;\n      var minHeight = this.getMinHeight() || 0;\n\n      var width = this.getWidth() || minWidth;\n      var height = this.getHeight() || minHeight;\n\n      var maxWidth = this.getMaxWidth() || Infinity;\n      var maxHeight = this.getMaxHeight() || Infinity;\n\n      return {\n        minWidth : minWidth,\n        width : width,\n        maxWidth : maxWidth,\n        minHeight : minHeight,\n        height : height,\n        maxHeight : maxHeight\n      };\n    },\n\n\n    /**\n     * Whether the item supports height for width.\n     *\n     * @return {Boolean} Whether the item supports height for width\n     */\n    _hasHeightForWidth : function()\n    {\n      var layout = this._getLayout();\n      if (layout) {\n        return layout.hasHeightForWidth();\n      }\n      return false;\n    },\n\n\n    /**\n     * If an item wants to trade height for width it has to implement this\n     * method and return the preferred height of the item if it is resized to\n     * the given width. This function returns <code>null</code> if the item\n     * do not support height for width.\n     *\n     * @param width {Integer} The computed width\n     * @return {Integer} The desired height\n     */\n    _getHeightForWidth : function(width)\n    {\n      var layout = this._getLayout();\n      if (layout && layout.hasHeightForWidth()) {\n        return layout.getHeightForWidth(width);\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Get the widget's layout manager.\n     *\n     * @return {qx.ui.layout.Abstract} The widget's layout manager\n     */\n    _getLayout : function() {\n      return null;\n    },\n\n\n    // property apply\n    _applyMargin : function()\n    {\n      this.__updateMargin = true;\n\n      var parent = this.$$parent;\n      if (parent) {\n        parent.updateLayoutProperties();\n      }\n    },\n\n\n    // property apply\n    _applyAlign : function()\n    {\n      var parent = this.$$parent;\n      if (parent) {\n        parent.updateLayoutProperties();\n      }\n    },\n\n\n    // property apply\n    _applyDimension : function() {\n      qx.ui.core.queue.Layout.add(this);\n    },\n\n\n    // property apply\n    _applyStretching : function() {\n      qx.ui.core.queue.Layout.add(this);\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SUPPORT FOR USER BOUNDARIES\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Whether user bounds are set on this layout item\n     *\n     * @return {Boolean} Whether user bounds are set on this layout item\n     */\n    hasUserBounds : function() {\n      return !!this.__userBounds;\n    },\n\n\n    /**\n     * Set user bounds of the widget. Widgets with user bounds are sized and\n     * positioned manually and are ignored by any layout manager.\n     *\n     * @param left {Integer} left position (relative to the parent)\n     * @param top {Integer} top position (relative to the parent)\n     * @param width {Integer} width of the layout item\n     * @param height {Integer} height of the layout item\n     */\n    setUserBounds : function(left, top, width, height)\n    {\n      this.__userBounds = {\n        left: left,\n        top: top,\n        width: width,\n        height: height\n      };\n\n      qx.ui.core.queue.Layout.add(this);\n    },\n\n\n    /**\n     * Clear the user bounds. After this call the layout item is laid out by\n     * the layout manager again.\n     *\n     */\n    resetUserBounds : function()\n    {\n      delete this.__userBounds;\n      qx.ui.core.queue.Layout.add(this);\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      LAYOUT PROPERTIES\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * @type {Map} Empty storage pool\n     *\n     * @lint ignoreReferenceField(__emptyProperties)\n     */\n    __emptyProperties : {},\n\n\n    /**\n     * Stores the given layout properties\n     *\n     * @param props {Map} Incoming layout property data\n     */\n    setLayoutProperties : function(props)\n    {\n      if (props == null) {\n        return;\n      }\n\n      var storage = this.__layoutProperties;\n      if (!storage) {\n        storage = this.__layoutProperties = {};\n      }\n\n      // Check values through parent\n      var parent = this.getLayoutParent();\n      if (parent) {\n        parent.updateLayoutProperties(props);\n      }\n\n      // Copy over values\n      for (var key in props)\n      {\n        if (props[key] == null) {\n          delete storage[key];\n        } else {\n          storage[key] = props[key];\n        }\n      }\n    },\n\n\n    /**\n     * Returns currently stored layout properties\n     *\n     * @return {Map} Returns a map of layout properties\n     */\n    getLayoutProperties : function() {\n      return this.__layoutProperties || this.__emptyProperties;\n    },\n\n\n    /**\n     * Removes all stored layout properties.\n     *\n     */\n    clearLayoutProperties : function() {\n      delete this.__layoutProperties;\n    },\n\n\n    /**\n     * Should be executed on every change of layout properties.\n     *\n     * This also includes \"virtual\" layout properties like margin or align\n     * when they have an effect on the parent and not on the widget itself.\n     *\n     * This method is always executed on the parent not on the\n     * modified widget itself.\n     *\n     * @param props {Map?null} Optional map of known layout properties\n     */\n    updateLayoutProperties : function(props)\n    {\n      var layout = this._getLayout();\n      if (layout)\n      {\n        // Verify values through underlying layout\n        if (qx.core.Environment.get(\"qx.debug\"))\n        {\n          if (props)\n          {\n            for (var key in props) {\n              if (props[key] !== null) {\n                layout.verifyLayoutProperty(this, key, props[key]);\n              }\n            }\n          }\n        }\n\n        // Precomputed and cached children data need to be\n        // rebuild on upcoming (re-)layout.\n        layout.invalidateChildrenCache();\n      }\n\n      qx.ui.core.queue.Layout.add(this);\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      HIERARCHY SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the application root\n     *\n     * @return {qx.ui.root.Abstract} The currently used root\n     */\n    getApplicationRoot : function() {\n      return qx.core.Init.getApplication().getRoot();\n    },\n\n\n    /**\n     * Get the items parent. Even if the item has been added to a\n     * layout, the parent is always a child of the containing item. The parent\n     * item may be <code>null</code>.\n     *\n     * @return {qx.ui.core.Widget|null} The parent.\n     */\n    getLayoutParent : function() {\n      return this.$$parent || null;\n    },\n\n\n    /**\n     * Set the parent\n     *\n     * @param parent {qx.ui.core.Widget|null} The new parent.\n     */\n    setLayoutParent : function(parent)\n    {\n      if (this.$$parent === parent) {\n        return;\n      }\n\n      this.$$parent = parent || null;\n      qx.ui.core.queue.Visibility.add(this);\n    },\n\n\n    /**\n     * Whether the item is a root item and directly connected to\n     * the DOM.\n     *\n     * @return {Boolean} Whether the item a root item\n     */\n    isRootWidget : function() {\n      return false;\n    },\n\n\n    /**\n     * Returns the root item. The root item is the item which\n     * is directly inserted into an existing DOM node at HTML level.\n     * This is often the BODY element of a typical web page.\n     *\n     * @return {qx.ui.core.Widget} The root item (if available)\n     */\n    _getRoot : function()\n    {\n      var parent = this;\n\n      while (parent)\n      {\n        if (parent.isRootWidget()) {\n          return parent;\n        }\n\n        parent = parent.$$parent;\n      }\n\n      return null;\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CLONE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    clone : function()\n    {\n      var clone = this.base(arguments);\n\n      var props = this.__layoutProperties;\n      if (props) {\n        clone.__layoutProperties = qx.lang.Object.clone(props);\n      }\n\n      return clone;\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    // remove dynamic theme listener\n    if (qx.core.Environment.get(\"qx.dyntheme\")) {\n      qx.theme.manager.Meta.getInstance().removeListener(\n        \"changeTheme\", this._onChangeTheme, this\n      );\n    }\n    this.$$parent = this.$$subparent = this.__layoutProperties =\n      this.__computedLayout = this.__userBounds = this.__sizeHint = null;\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * This mixin contains the methods needed to use the translation features\n * of qooxdoo.\n *\n * @ignore(qx.locale.Manager)\n */\nqx.Mixin.define(\"qx.locale.MTranslation\",\n{\n  members:\n  {\n    /**\n     * Translate a message\n     * Mark the message for translation.\n     *\n     * @param messageId {String} message id (may contain format strings)\n     * @param varargs {Object?} variable number of arguments applied to the format string\n     * @return {String | LocalizedString} The translated message or localized string\n     */\n    tr : function(messageId, varargs)\n    {\n      var nlsManager = qx.locale.Manager;\n      if (nlsManager) {\n        return nlsManager.tr.apply(nlsManager, arguments);\n      }\n\n      throw new Error(\"To enable localization please include qx.locale.Manager into your build!\");\n    },\n\n\n    /**\n     * Translate a plural message\n     * Mark the messages for translation.\n     *\n     * Depending on the third argument the plural or the singular form is chosen.\n     *\n     * @param singularMessageId {String} message id of the singular form (may contain format strings)\n     * @param pluralMessageId {String} message id of the plural form (may contain format strings)\n     * @param count {Integer} if greater than 1 the plural form otherwise the singular form is returned.\n     * @param varargs {Object?} variable number of arguments applied to the format string\n     * @return {String | LocalizedString} The translated message or localized string\n     */\n    trn : function(singularMessageId, pluralMessageId, count, varargs)\n    {\n      var nlsManager = qx.locale.Manager;\n      if (nlsManager) {\n        return nlsManager.trn.apply(nlsManager, arguments);\n      }\n\n      throw new Error(\"To enable localization please include qx.locale.Manager into your build!\");\n    },\n\n\n    /**\n     * Translate a message with translation hint\n     * Mark the messages for translation.\n     *\n     * @param hint {String} hint for the translator of the message. Will be included in the .po file.\n     * @param messageId {String} message id (may contain format strings)\n     * @param varargs {Object?} variable number of arguments applied to the format string\n     * @return {String | LocalizedString} The translated message or localized string\n     */\n    trc : function(hint, messageId, varargs)\n    {\n      var nlsManager = qx.locale.Manager;\n      if (nlsManager) {\n        return nlsManager.trc.apply(nlsManager, arguments);\n      }\n\n      throw new Error(\"To enable localization please include qx.locale.Manager into your build!\");\n    },\n\n\n    /**\n     * Translate a plural message with translation hint\n     * Mark the messages for translation.\n     *\n     * Depending on the third argument the plural or the singular form is chosen.\n     *\n     * @param hint {String} hint for the translator of the message. Will be included in the .po file.\n     * @param singularMessageId {String} message id of the singular form (may contain format strings)\n     * @param pluralMessageId {String} message id of the plural form (may contain format strings)\n     * @param count {Integer} if greater than 1 the plural form otherwise the singular form is returned.\n     * @param varargs {Object?} variable number of arguments applied to the format string\n     * @return {String | LocalizedString} The translated message or localized string\n     */\n    trnc : function(hint, singularMessageId, pluralMessageId, count, varargs)\n    {\n      var nlsManager = qx.locale.Manager;\n      if (nlsManager) {\n        return nlsManager.trnc.apply(nlsManager, arguments);\n      }\n\n      throw new Error(\"To enable localization please include qx.locale.Manager into your build!\");\n    },\n\n\n    /**\n     * Mark the message for translation but return the original message.\n     *\n     * @param messageId {String} the message ID\n     * @return {String} messageId\n     */\n    marktr : function(messageId)\n    {\n      var nlsManager = qx.locale.Manager;\n      if (nlsManager) {\n        return nlsManager.marktr.apply(nlsManager, arguments);\n      }\n\n      throw new Error(\"To enable localization please include qx.locale.Manager into your build!\");\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * Manager for meta themes\n */\nqx.Class.define(\"qx.theme.manager.Meta\",\n{\n  type : \"singleton\",\n  extend : qx.core.Object,\n\n  events :\n  {\n    /** Fires if any theme manager has been changed. */\n    \"changeTheme\" : \"qx.event.type.Event\"\n  },\n\n\n  properties :\n  {\n    /**\n     * Meta theme. Applies the defined color, decoration, ... themes to\n     * the corresponding managers.\n     */\n    theme :\n    {\n      check : \"Theme\",\n      nullable : false,\n      apply : \"_applyTheme\"\n    }\n  },\n\n\n  members :\n  {\n    // property apply\n    _applyTheme : function(value, old)\n    {\n      // collect changes\n      var colorChanged = true;\n      var decorationChanged = true;\n      var fontChanged = true;\n      var iconChanged = true;\n      var appearanceChanged = true;\n\n      if (old) {\n        colorChanged = value.meta.color !== old.meta.color;\n        decorationChanged = value.meta.decoration !== old.meta.decoration;\n        fontChanged = value.meta.font !== old.meta.font;\n        iconChanged = value.meta.icon !== old.meta.icon;\n        appearanceChanged = value.meta.appearance !== old.meta.appearance;\n      }\n\n\n      var colorMgr = qx.theme.manager.Color.getInstance();\n      var decorationMgr = qx.theme.manager.Decoration.getInstance();\n      var fontMgr = qx.theme.manager.Font.getInstance();\n      var iconMgr = qx.theme.manager.Icon.getInstance();\n      var appearanceMgr = qx.theme.manager.Appearance.getInstance();\n\n      // suspend listeners\n      this._suspendEvents();\n\n\n      // apply meta changes\n      if (colorChanged) {\n        // color theme changed, but decorator not? force decorator\n        if (!decorationChanged) {\n          var dec = decorationMgr.getTheme();\n          decorationMgr._applyTheme(dec);\n        }\n        colorMgr.setTheme(value.meta.color);\n      }\n      decorationMgr.setTheme(value.meta.decoration);\n      fontMgr.setTheme(value.meta.font);\n      iconMgr.setTheme(value.meta.icon);\n      appearanceMgr.setTheme(value.meta.appearance);\n\n      // fire change event only if at least one theme manager changed\n      if (colorChanged || decorationChanged || fontChanged || iconChanged || appearanceChanged) {\n        this.fireEvent(\"changeTheme\");\n      }\n\n      // re add listener\n      this._activateEvents();\n    },\n\n\n    __timer : null,\n\n\n    /**\n     * Fires <code>changeTheme</code> event.\n     *\n     * @param e {qx.event.type.Data} Data event.\n     */\n    _fireEvent : function(e)\n    {\n      if (e.getTarget() === qx.theme.manager.Color.getInstance()) {\n        // force clearing all previously created CSS rules, to be able to\n        // re-create decorator rules with changed color theme\n        qx.theme.manager.Decoration.getInstance().refresh();\n      }\n\n      this.fireEvent(\"changeTheme\");\n    },\n\n\n    /**\n     * Removes listeners for <code>changeTheme</code> event of all\n     * related theme managers.\n     */\n    _suspendEvents : function()\n    {\n      var colorMgr = qx.theme.manager.Color.getInstance();\n      var decorationMgr = qx.theme.manager.Decoration.getInstance();\n      var fontMgr = qx.theme.manager.Font.getInstance();\n      var iconMgr = qx.theme.manager.Icon.getInstance();\n      var appearanceMgr = qx.theme.manager.Appearance.getInstance();\n\n      // suspend listeners\n      if (colorMgr.hasListener(\"changeTheme\")) {\n        colorMgr.removeListener(\"changeTheme\", this._fireEvent, this);\n      }\n\n      if (decorationMgr.hasListener(\"changeTheme\")) {\n        decorationMgr.removeListener(\"changeTheme\", this._fireEvent, this);\n      }\n\n      if (fontMgr.hasListener(\"changeTheme\")) {\n        fontMgr.removeListener(\"changeTheme\", this._fireEvent, this);\n      }\n\n      if (iconMgr.hasListener(\"changeTheme\")) {\n        iconMgr.removeListener(\"changeTheme\", this._fireEvent, this);\n      }\n\n      if (appearanceMgr.hasListener(\"changeTheme\")) {\n        appearanceMgr.removeListener(\"changeTheme\", this._fireEvent, this);\n      }\n    },\n\n\n    /**\n     * Activates listeners for <code>changeTheme</code> event of all related\n     * theme managers, to forwards the event to this meta manager instance.\n     */\n    _activateEvents : function()\n    {\n      var colorMgr = qx.theme.manager.Color.getInstance();\n      var decorationMgr = qx.theme.manager.Decoration.getInstance();\n      var fontMgr = qx.theme.manager.Font.getInstance();\n      var iconMgr = qx.theme.manager.Icon.getInstance();\n      var appearanceMgr = qx.theme.manager.Appearance.getInstance();\n\n      // add listeners to check changes\n      if (!colorMgr.hasListener(\"changeTheme\")) {\n        colorMgr.addListener(\"changeTheme\", this._fireEvent, this);\n      }\n\n      if (!decorationMgr.hasListener(\"changeTheme\")) {\n        decorationMgr.addListener(\"changeTheme\", this._fireEvent, this);\n      }\n\n      if (!fontMgr.hasListener(\"changeTheme\")) {\n        fontMgr.addListener(\"changeTheme\", this._fireEvent, this);\n      }\n\n      if (!iconMgr.hasListener(\"changeTheme\")) {\n        iconMgr.addListener(\"changeTheme\", this._fireEvent, this);\n      }\n\n      if (!appearanceMgr.hasListener(\"changeTheme\")) {\n        appearanceMgr.addListener(\"changeTheme\", this._fireEvent, this);\n      }\n    },\n\n\n    /**\n     * Initialize the themes which were selected using the settings. Should only\n     * be called from qooxdoo based application.\n     */\n    initialize : function()\n    {\n      var env = qx.core.Environment;\n      var theme, obj;\n\n      theme = env.get(\"qx.theme\");\n      if (theme)\n      {\n        obj = qx.Theme.getByName(theme);\n        if (!obj) {\n          throw new Error(\"The theme to use is not available: \" + theme);\n        }\n\n        this.setTheme(obj);\n      }\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     ENVIRONMENT SETTINGS\n  *****************************************************************************\n  */\n\n  environment : {\n    \"qx.theme\" : \"qx.theme.Modern\"\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/* ************************************************************************\n\n\n\n************************************************************************ */\n\n/**\n * This is the base class for all widgets.\n *\n * *External Documentation*\n *\n * <a href='http://manual.qooxdoo.org/${qxversion}/pages/widget.html' target='_blank'>\n * Documentation of this widget in the qooxdoo manual.</a>\n *\n * NOTE: Instances of this class must be disposed of after use\n *\n * @use(qx.ui.core.EventHandler)\n * @use(qx.event.handler.DragDrop)\n * @asset(qx/static/blank.gif)\n *\n * @ignore(qx.ui.root.Inline)\n */\nqx.Class.define(\"qx.ui.core.Widget\",\n{\n  extend : qx.ui.core.LayoutItem,\n  include : [qx.locale.MTranslation],\n  implement: [ qx.core.IDisposable ],\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    // Create basic element\n    this.__contentElement = this.__createContentElement();\n\n    // Initialize properties\n    this.initFocusable();\n    this.initSelectable();\n    this.initNativeContextMenu();\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events :\n  {\n    /**\n     * Fired after the widget appears on the screen.\n     */\n    appear : \"qx.event.type.Event\",\n\n    /**\n     * Fired after the widget disappears from the screen.\n     */\n    disappear : \"qx.event.type.Event\",\n\n    /**\n     * Fired after the creation of a child control. The passed data is the\n     * newly created child widget.\n     */\n    createChildControl : \"qx.event.type.Data\",\n\n\n    /**\n     * Fired on resize (after layout) of the widget.\n     * The data property of the event contains the widget's computed location\n     * and dimension as returned by {@link qx.ui.core.LayoutItem#getBounds}\n     */\n    resize : \"qx.event.type.Data\",\n\n    /**\n     * Fired on move (after layout) of the widget.\n     * The data property of the event contains the widget's computed location\n     * and dimension as returned by {@link qx.ui.core.LayoutItem#getBounds}\n     */\n    move : \"qx.event.type.Data\",\n\n    /**\n     * Fired after the appearance has been applied. This happens before the\n     * widget becomes visible, on state and appearance changes. The data field\n     * contains the state map. This can be used to react on state changes or to\n     * read properties set by the appearance.\n     */\n    syncAppearance : \"qx.event.type.Data\",\n\n\n\n    /** Fired if the mouse cursor moves over the widget.\n     *  The data property of the event contains the widget's computed location\n     *  and dimension as returned by {@link qx.ui.core.LayoutItem#getBounds}\n     */\n    mousemove : \"qx.event.type.Mouse\",\n\n    /**\n     * Fired if the mouse cursor enters the widget.\n     *\n     * Note: This event is also dispatched if the widget is disabled!\n     */\n    mouseover : \"qx.event.type.Mouse\",\n\n    /**\n     * Fired if the mouse cursor leaves widget.\n     *\n     * Note: This event is also dispatched if the widget is disabled!\n     */\n    mouseout : \"qx.event.type.Mouse\",\n\n    /** Mouse button is pressed on the widget. */\n    mousedown : \"qx.event.type.Mouse\",\n\n    /** Mouse button is released on the widget. */\n    mouseup : \"qx.event.type.Mouse\",\n\n    /** Widget is clicked using left or middle button.\n        {@link qx.event.type.Mouse#getButton} for more details.*/\n    click : \"qx.event.type.Mouse\",\n\n    /** Widget is clicked using a non primary button.\n        {@link qx.event.type.Mouse#getButton} for more details.*/\n    auxclick : \"qx.event.type.Mouse\",\n\n    /** Widget is double clicked using left or middle button.\n        {@link qx.event.type.Mouse#getButton} for more details.*/\n    dblclick : \"qx.event.type.Mouse\",\n\n    /** Widget is clicked using the right mouse button. */\n    contextmenu : \"qx.event.type.Mouse\",\n\n    /** Fired before the context menu is opened. */\n    beforeContextmenuOpen : \"qx.event.type.Data\",\n\n    /** Fired if the mouse wheel is used over the widget. */\n    mousewheel : \"qx.event.type.MouseWheel\",\n\n    /** Fired if a touch at the screen is started. */\n    touchstart : \"qx.event.type.Touch\",\n\n    /** Fired if a touch at the screen has ended. */\n    touchend : \"qx.event.type.Touch\",\n\n    /** Fired during a touch at the screen. */\n    touchmove : \"qx.event.type.Touch\",\n\n    /** Fired if a touch at the screen is canceled. */\n    touchcancel : \"qx.event.type.Touch\",\n\n    /** Fired when a pointer taps on the screen. */\n    tap : \"qx.event.type.Tap\",\n\n    /** Fired when a pointer holds on the screen. */\n    longtap : \"qx.event.type.Tap\",\n\n    /** Fired when a pointer taps twice on the screen. */\n    dbltap : \"qx.event.type.Tap\",\n\n    /** Fired when a pointer swipes over the screen. */\n    swipe : \"qx.event.type.Touch\",\n\n    /** Fired when two pointers performing a rotate gesture on the screen. */\n    rotate : \"qx.event.type.Rotate\",\n\n    /** Fired when two pointers performing a pinch in/out gesture on the screen. */\n    pinch : \"qx.event.type.Pinch\",\n\n    /** Fired when an active pointer moves on the screen (after pointerdown till pointerup). */\n    track : \"qx.event.type.Track\",\n\n    /** Fired when an active pointer moves on the screen or the mouse wheel is used. */\n    roll : \"qx.event.type.Roll\",\n\n    /** Fired if a pointer (mouse/touch/pen) moves or changes any of it's values. */\n    pointermove : \"qx.event.type.Pointer\",\n\n    /** Fired if a pointer (mouse/touch/pen) hovers the widget. */\n    pointerover : \"qx.event.type.Pointer\",\n\n    /** Fired if a pointer (mouse/touch/pen) leaves this widget. */\n    pointerout : \"qx.event.type.Pointer\",\n\n    /**\n     * Fired if a pointer (mouse/touch/pen) button is pressed or\n     * a finger touches the widget.\n     */\n    pointerdown : \"qx.event.type.Pointer\",\n\n    /**\n     * Fired if all pointer (mouse/touch/pen) buttons are released or\n     * the finger is lifted from the widget.\n     */\n    pointerup : \"qx.event.type.Pointer\",\n\n    /** Fired if a pointer (mouse/touch/pen) action is canceled. */\n    pointercancel : \"qx.event.type.Pointer\",\n\n    /** This event if fired if a keyboard key is released. */\n    keyup : \"qx.event.type.KeySequence\",\n\n    /**\n     * This event if fired if a keyboard key is pressed down. This event is\n     * only fired once if the user keeps the key pressed for a while.\n     */\n    keydown : \"qx.event.type.KeySequence\",\n\n    /**\n     * This event is fired any time a key is pressed. It will be repeated if\n     * the user keeps the key pressed. The pressed key can be determined using\n     * {@link qx.event.type.KeySequence#getKeyIdentifier}.\n     */\n    keypress : \"qx.event.type.KeySequence\",\n\n    /**\n     * This event is fired if the pressed key or keys result in a printable\n     * character. Since the character is not necessarily associated with a\n     * single physical key press, the event does not have a key identifier\n     * getter. This event gets repeated if the user keeps pressing the key(s).\n     *\n     * The unicode code of the pressed key can be read using\n     * {@link qx.event.type.KeyInput#getCharCode}.\n     */\n    keyinput : \"qx.event.type.KeyInput\",\n\n\n\n    /**\n     * The event is fired when the widget gets focused. Only widgets which are\n     * {@link #focusable} receive this event.\n     */\n    focus : \"qx.event.type.Focus\",\n\n    /**\n     * The event is fired when the widget gets blurred. Only widgets which are\n     * {@link #focusable} receive this event.\n     */\n    blur : \"qx.event.type.Focus\",\n\n    /**\n     * When the widget itself or any child of the widget receive the focus.\n     */\n    focusin : \"qx.event.type.Focus\",\n\n    /**\n     * When the widget itself or any child of the widget lost the focus.\n     */\n    focusout : \"qx.event.type.Focus\",\n\n    /**\n     * When the widget gets active (receives keyboard events etc.)\n     */\n    activate : \"qx.event.type.Focus\",\n\n    /**\n     * When the widget gets inactive\n     */\n    deactivate : \"qx.event.type.Focus\",\n\n\n\n    /**\n     * Fired if the widget becomes the capturing widget by a call to {@link #capture}.\n     */\n    capture : \"qx.event.type.Event\",\n\n    /**\n     * Fired if the widget looses the capturing mode by a call to\n     * {@link #releaseCapture} or a mouse click.\n     */\n    losecapture : \"qx.event.type.Event\",\n\n\n\n    /**\n     * Fired on the drop target when the drag&drop action is finished\n     * successfully. This event is normally used to transfer the data\n     * from the drag to the drop target.\n     *\n     * Modeled after the WHATWG specification of Drag&Drop:\n     * http://www.whatwg.org/specs/web-apps/current-work/#dnd\n     */\n    drop : \"qx.event.type.Drag\",\n\n    /**\n     * Fired on a potential drop target when leaving it.\n     *\n     * Modeled after the WHATWG specification of Drag&Drop:\n     * http://www.whatwg.org/specs/web-apps/current-work/#dnd\n     */\n    dragleave : \"qx.event.type.Drag\",\n\n    /**\n     * Fired on a potential drop target when reaching it via the pointer.\n     * This event can be canceled if none of the incoming data types\n     * are supported.\n     *\n     * Modeled after the WHATWG specification of Drag&Drop:\n     * http://www.whatwg.org/specs/web-apps/current-work/#dnd\n     */\n    dragover : \"qx.event.type.Drag\",\n\n    /**\n     * Fired during the drag. Contains the current pointer coordinates\n     * using {@link qx.event.type.Drag#getDocumentLeft} and\n     * {@link qx.event.type.Drag#getDocumentTop}\n     *\n     * Modeled after the WHATWG specification of Drag&Drop:\n     * http://www.whatwg.org/specs/web-apps/current-work/#dnd\n     */\n    drag : \"qx.event.type.Drag\",\n\n    /**\n     * Initiate the drag-and-drop operation. This event is cancelable\n     * when the drag operation is currently not allowed/possible.\n     *\n     * Modeled after the WHATWG specification of Drag&Drop:\n     * http://www.whatwg.org/specs/web-apps/current-work/#dnd\n     */\n    dragstart : \"qx.event.type.Drag\",\n\n    /**\n     * Fired on the source (drag) target every time a drag session was ended.\n     */\n    dragend : \"qx.event.type.Drag\",\n\n    /**\n     * Fired when the drag configuration has been modified e.g. the user\n     * pressed a key which changed the selected action. This event will be\n     * fired on the draggable and the droppable element. In case of the\n     * droppable element, you can cancel the event and prevent a drop based on\n     * e.g. the current action.\n     */\n    dragchange : \"qx.event.type.Drag\",\n\n    /**\n     * Fired when the drop was successfully done and the target widget\n     * is now asking for data. The listener should transfer the data,\n     * respecting the selected action, to the event. This can be done using\n     * the event's {@link qx.event.type.Drag#addData} method.\n     */\n    droprequest : \"qx.event.type.Drag\"\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      PADDING\n    ---------------------------------------------------------------------------\n    */\n\n    /** Padding of the widget (top) */\n    paddingTop :\n    {\n      check : \"Integer\",\n      init : 0,\n      apply : \"_applyPadding\",\n      themeable : true\n    },\n\n\n    /** Padding of the widget (right) */\n    paddingRight :\n    {\n      check : \"Integer\",\n      init : 0,\n      apply : \"_applyPadding\",\n      themeable : true\n    },\n\n\n    /** Padding of the widget (bottom) */\n    paddingBottom :\n    {\n      check : \"Integer\",\n      init : 0,\n      apply : \"_applyPadding\",\n      themeable : true\n    },\n\n\n    /** Padding of the widget (left) */\n    paddingLeft :\n    {\n      check : \"Integer\",\n      init : 0,\n      apply : \"_applyPadding\",\n      themeable : true\n    },\n\n\n    /**\n     * The 'padding' property is a shorthand property for setting 'paddingTop',\n     * 'paddingRight', 'paddingBottom' and 'paddingLeft' at the same time.\n     *\n     * If four values are specified they apply to top, right, bottom and left respectively.\n     * If there is only one value, it applies to all sides, if there are two or three,\n     * the missing values are taken from the opposite side.\n     */\n    padding :\n    {\n      group : [ \"paddingTop\", \"paddingRight\", \"paddingBottom\", \"paddingLeft\" ],\n      mode  : \"shorthand\",\n      themeable : true\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      STYLING PROPERTIES\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * The z-index property sets the stack order of an element. An element with\n     * greater stack order is always in front of another element with lower stack order.\n     */\n    zIndex :\n    {\n      nullable : true,\n      init : 10,\n      apply : \"_applyZIndex\",\n      event : \"changeZIndex\",\n      check : \"Integer\",\n      themeable : true\n    },\n\n\n    /**\n     * The decorator property points to an object, which is responsible\n     * for drawing the widget's decoration, e.g. border, background or shadow.\n     *\n     * This can be a decorator object or a string pointing to a decorator\n     * defined in the decoration theme.\n     */\n    decorator :\n    {\n      nullable : true,\n      init : null,\n      apply : \"_applyDecorator\",\n      event : \"changeDecorator\",\n      check : \"Decorator\",\n      themeable : true\n    },\n\n\n    /**\n     * The background color the rendered widget.\n     */\n    backgroundColor :\n    {\n      nullable : true,\n      check : \"Color\",\n      apply : \"_applyBackgroundColor\",\n      event : \"changeBackgroundColor\",\n      themeable : true\n    },\n\n\n    /**\n     * The text color the rendered widget.\n     */\n    textColor :\n    {\n      nullable : true,\n      check : \"Color\",\n      apply : \"_applyTextColor\",\n      event : \"changeTextColor\",\n      themeable : true,\n      inheritable : true\n    },\n\n\n    /**\n     * The widget's font. The value is either a font name defined in the font\n     * theme or an instance of {@link qx.bom.Font}.\n     */\n    font :\n    {\n      nullable : true,\n      apply : \"_applyFont\",\n      check : \"Font\",\n      event : \"changeFont\",\n      themeable : true,\n      inheritable : true,\n      dereference : true\n    },\n\n\n    /**\n     * Mapping to native style property opacity.\n     *\n     * The uniform opacity setting to be applied across an entire object.\n     * Behaves like the new CSS-3 Property.\n     * Any values outside the range 0.0 (fully transparent) to 1.0\n     * (fully opaque) will be clamped to this range.\n     */\n    opacity :\n    {\n      check : \"Number\",\n      apply : \"_applyOpacity\",\n      themeable : true,\n      nullable : true,\n      init : null\n    },\n\n\n    /**\n     * Mapping to native style property cursor.\n     *\n     * The name of the cursor to show when the pointer is over the widget.\n     * This is any valid CSS2 cursor name defined by W3C.\n     *\n     * The following values are possible crossbrowser:\n     * <ul><li>default</li>\n     * <li>crosshair</li>\n     * <li>pointer</li>\n     * <li>move</li>\n     * <li>n-resize</li>\n     * <li>ne-resize</li>\n     * <li>e-resize</li>\n     * <li>se-resize</li>\n     * <li>s-resize</li>\n     * <li>sw-resize</li>\n     * <li>w-resize</li>\n     * <li>nw-resize</li>\n     * <li>nesw-resize</li>\n     * <li>nwse-resize</li>\n     * <li>text</li>\n     * <li>wait</li>\n     * <li>help </li>\n     * </ul>\n     */\n    cursor :\n    {\n      check : \"String\",\n      apply : \"_applyCursor\",\n      themeable : true,\n      inheritable : true,\n      nullable : true,\n      init : null\n    },\n\n\n    /**\n     * Sets the tooltip instance to use for this widget. If only the tooltip\n     * text and icon have to be set its better to use the {@link #toolTipText}\n     * and {@link #toolTipIcon} properties since they use a shared tooltip\n     * instance.\n     *\n     * If this property is set the {@link #toolTipText} and {@link #toolTipIcon}\n     * properties are ignored.\n     */\n    toolTip :\n    {\n      check : \"qx.ui.tooltip.ToolTip\",\n      nullable : true\n    },\n\n\n    /**\n     * The text of the widget's tooltip. This text can contain HTML markup.\n     * The text is displayed using a shared tooltip instance. If the tooltip\n     * must be customized beyond the text and an icon {@link #toolTipIcon}, the\n     * {@link #toolTip} property has to be used\n     */\n    toolTipText :\n    {\n      check : \"String\",\n      nullable : true,\n      event : \"changeToolTipText\",\n      apply : \"_applyToolTipText\"\n    },\n\n\n    /**\n    * The icon URI of the widget's tooltip. This icon is displayed using a shared\n    * tooltip instance. If the tooltip must be customized beyond the tooltip text\n    * {@link #toolTipText} and the icon, the {@link #toolTip} property has to be\n    * used.\n    */\n    toolTipIcon :\n    {\n      check : \"String\",\n      nullable : true,\n      event : \"changeToolTipText\"\n    },\n\n    /**\n     * Controls if a tooltip should shown or not.\n     */\n    blockToolTip :\n    {\n      check : \"Boolean\",\n      init : false\n    },\n\n    /**\n     * Forces to show tooltip when widget is disabled.\n     */\n    showToolTipWhenDisabled:\n    {\n      check : \"Boolean\",\n      init : false\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      MANAGEMENT PROPERTIES\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Controls the visibility. Valid values are:\n     *\n     * <ul>\n     *   <li><b>visible</b>: Render the widget</li>\n     *   <li><b>hidden</b>: Hide the widget but don't relayout the widget's parent.</li>\n     *   <li><b>excluded</b>: Hide the widget and relayout the parent as if the\n     *     widget was not a child of its parent.</li>\n     * </ul>\n     */\n    visibility :\n    {\n      check : [\"visible\", \"hidden\", \"excluded\"],\n      init : \"visible\",\n      apply : \"_applyVisibility\",\n      event : \"changeVisibility\"\n    },\n\n\n    /**\n     * Whether the widget is enabled. Disabled widgets are usually grayed out\n     * and do not process user created events. While in the disabled state most\n     * user input events are blocked. Only the {@link #pointerover} and\n     * {@link #pointerout} events will be dispatched.\n     */\n    enabled :\n    {\n      init : true,\n      check : \"Boolean\",\n      inheritable : true,\n      apply : \"_applyEnabled\",\n      event : \"changeEnabled\"\n    },\n\n\n    /**\n     * Whether the widget is anonymous.\n     *\n     * Anonymous widgets are ignored in the event hierarchy. This is useful\n     * for combined widgets where the internal structure do not have a custom\n     * appearance with a different styling from the element around. This is\n     * especially true for widgets like checkboxes or buttons where the text\n     * or icon are handled synchronously for state changes to the outer widget.\n     */\n    anonymous :\n    {\n      init : false,\n      check : \"Boolean\",\n      apply : \"_applyAnonymous\"\n    },\n\n\n    /**\n     * Defines the tab index of an widget. If widgets with tab indexes are part\n     * of the current focus root these elements are sorted in first priority. Afterwards\n     * the sorting continues by rendered position, zIndex and other criteria.\n     *\n     * Please note: The value must be between 1 and 32000.\n     */\n    tabIndex :\n    {\n      check : \"Integer\",\n      nullable : true,\n      apply : \"_applyTabIndex\"\n    },\n\n\n    /**\n     * Whether the widget is focusable e.g. rendering a focus border and visualize\n     * as active element.\n     *\n     * See also {@link #isTabable} which allows runtime checks for\n     * <code>isChecked</code> or other stuff to test whether the widget is\n     * reachable via the TAB key.\n     */\n    focusable :\n    {\n      check : \"Boolean\",\n      init : false,\n      apply : \"_applyFocusable\"\n    },\n\n\n    /**\n     * If this property is enabled, the widget and all of its child widgets\n     * will never get focused. The focus keeps at the currently\n     * focused widget.\n     *\n     * This only works for widgets which are not {@link #focusable}.\n     *\n     * This is mainly useful for widget authors. Please use with caution!\n     */\n    keepFocus :\n    {\n      check : \"Boolean\",\n      init : false,\n      apply : \"_applyKeepFocus\"\n    },\n\n\n    /**\n     * If this property if enabled, the widget and all of its child widgets\n     * will never get activated. The activation keeps at the currently\n     * activated widget.\n     *\n     * This is mainly useful for widget authors. Please use with caution!\n     */\n    keepActive :\n    {\n      check : \"Boolean\",\n      init : false,\n      apply : \"_applyKeepActive\"\n    },\n\n\n    /** Whether the widget acts as a source for drag&drop operations */\n    draggable :\n    {\n      check : \"Boolean\",\n      init : false,\n      apply : \"_applyDraggable\"\n    },\n\n\n    /** Whether the widget acts as a target for drag&drop operations */\n    droppable :\n    {\n      check : \"Boolean\",\n      init : false,\n      apply : \"_applyDroppable\"\n    },\n\n\n    /**\n     * Whether the widget contains content which may be selected by the user.\n     *\n     * If the value set to <code>true</code> the native browser selection can\n     * be used for text selection. But it is normally useful for\n     * forms fields, longer texts/documents, editors, etc.\n     */\n    selectable :\n    {\n      check : \"Boolean\",\n      init : false,\n      event : \"changeSelectable\",\n      apply : \"_applySelectable\"\n    },\n\n\n    /**\n     * Whether to show a context menu and which one\n     */\n    contextMenu :\n    {\n      check : \"qx.ui.menu.Menu\",\n      apply : \"_applyContextMenu\",\n      nullable : true,\n      event : \"changeContextMenu\"\n    },\n\n\n    /**\n     * Whether the native context menu should be enabled for this widget. To\n     * globally enable the native context menu set the {@link #nativeContextMenu}\n     * property of the root widget ({@link qx.ui.root.Abstract}) to\n     * <code>true</code>.\n     */\n    nativeContextMenu :\n    {\n      check : \"Boolean\",\n      init : false,\n      themeable : true,\n      event : \"changeNativeContextMenu\",\n      apply : \"_applyNativeContextMenu\"\n    },\n\n\n    /**\n     * The appearance ID. This ID is used to identify the appearance theme\n     * entry to use for this widget. This controls the styling of the element.\n     */\n    appearance :\n    {\n      check : \"String\",\n      init : \"widget\",\n      apply : \"_applyAppearance\",\n      event : \"changeAppearance\"\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** Whether the widget should print out hints and debug messages */\n    DEBUG : false,\n\n    /** Whether to throw an error on focus/blur if the widget is unfocusable */\n    UNFOCUSABLE_WIDGET_FOCUS_BLUR_ERROR : true,\n\n    /**\n     * Returns the widget, which contains the given DOM element.\n     *\n     * @param element {Element} The DOM element to search the widget for.\n     * @param considerAnonymousState {Boolean?false} If true, anonymous widget\n     *   will not be returned.\n     * @return {qx.ui.core.Widget} The widget containing the element.\n     */\n    getWidgetByElement : function(element, considerAnonymousState)\n    {\n      while(element)\n      {\n      \tif (qx.core.Environment.get(\"qx.debug\")) {\n      \t\tqx.core.Assert.assertTrue((!element.$$widget && !element.$$widgetObject) ||\n      \t\t\t\t(element.$$widgetObject && element.$$widget && element.$$widgetObject.toHashCode() === element.$$widget));\n      \t}\n        var widget = element.$$widgetObject;\n\n        // check for anonymous widgets\n        if (widget) {\n\t        if (!considerAnonymousState || !widget.getAnonymous()) {\n\t          return widget;\n\t        }\n        }\n\n        // Fix for FF, which occasionally breaks (BUG#3525)\n        try {\n          element = element.parentNode;\n        } catch (e) {\n          return null;\n        }\n      }\n      return null;\n    },\n\n\n    /**\n     * Whether the \"parent\" widget contains the \"child\" widget.\n     *\n     * @param parent {qx.ui.core.Widget} The parent widget\n     * @param child {qx.ui.core.Widget} The child widget\n     * @return {Boolean} Whether one of the \"child\"'s parents is \"parent\"\n     */\n    contains : function(parent, child)\n    {\n      while (child)\n      {\n        child = child.getLayoutParent();\n\n        if (parent == child) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /** @type {Map} Contains all pooled separators for reuse */\n    __separatorPool : new qx.util.ObjectPool()\n  },\n\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __contentElement : null,\n    __initialAppearanceApplied : null,\n    __toolTipTextListenerId : null,\n\n\n    /*\n    ---------------------------------------------------------------------------\n      LAYOUT INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * @type {qx.ui.layout.Abstract} The connected layout manager\n     */\n    __layoutManager : null,\n\n\n    // overridden\n    _getLayout : function() {\n      return this.__layoutManager;\n    },\n\n\n    /**\n     * Set a layout manager for the widget. A a layout manager can only be connected\n     * with one widget. Reset the connection with a previous widget first, if you\n     * like to use it in another widget instead.\n     *\n     * @param layout {qx.ui.layout.Abstract} The new layout or\n     *     <code>null</code> to reset the layout.\n     */\n    _setLayout : function(layout)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        if (layout) {\n          this.assertInstance(layout, qx.ui.layout.Abstract);\n        }\n      }\n\n      if (this.__layoutManager) {\n        this.__layoutManager.connectToWidget(null);\n      }\n\n      if (layout) {\n        layout.connectToWidget(this);\n      }\n\n      this.__layoutManager = layout;\n      qx.ui.core.queue.Layout.add(this);\n    },\n\n\n    // overridden\n    setLayoutParent : function(parent)\n    {\n      if (this.$$parent === parent) {\n        return;\n      }\n\n      var content = this.getContentElement();\n\n      if (this.$$parent && !this.$$parent.$$disposed) {\n        this.$$parent.getContentElement().remove(content);\n      }\n\n      this.$$parent = parent || null;\n\n      if (parent && !parent.$$disposed) {\n        this.$$parent.getContentElement().add(content);\n      }\n\n      // Update inheritable properties\n      this.$$refreshInheritables();\n\n      // Update visibility cache\n      qx.ui.core.queue.Visibility.add(this);\n    },\n\n\n    /** @type {Boolean} Whether insets have changed and must be updated */\n    _updateInsets : null,\n\n\n    // overridden\n    renderLayout : function(left, top, width, height)\n    {\n      var changes = this.base(arguments, left, top, width, height);\n\n      // Directly return if superclass has detected that no\n      // changes needs to be applied\n      if (!changes) {\n        return null;\n      }\n\n      if (qx.lang.Object.isEmpty(changes) && !this._updateInsets) {\n        return null;\n      }\n\n      var content = this.getContentElement();\n      var inner = changes.size || this._updateInsets;\n      var pixel = \"px\";\n\n      var contentStyles = {};\n      // Move content to new position\n      if (changes.position)\n      {\n        contentStyles.left = left + pixel;\n        contentStyles.top = top + pixel;\n      }\n\n      if (inner || changes.margin)\n      {\n        contentStyles.width = width + pixel;\n        contentStyles.height = height + pixel;\n      }\n\n      if (Object.keys(contentStyles).length > 0) {\n        content.setStyles(contentStyles);\n      }\n\n      if (inner || changes.local || changes.margin)\n      {\n        if (this.__layoutManager && this.hasLayoutChildren()) {\n          var inset = this.getInsets();\n          var innerWidth = width - inset.left - inset.right;\n          var innerHeight = height - inset.top - inset.bottom;\n\n          var decorator = this.getDecorator();\n          var decoratorPadding = {left: 0, right: 0, top: 0, bottom: 0};\n          if (decorator) {\n            decorator = qx.theme.manager.Decoration.getInstance().resolve(decorator);\n            decoratorPadding = decorator.getPadding();\n          }\n\n          var padding = {\n            top: this.getPaddingTop() + decoratorPadding.top,\n            right: this.getPaddingRight() + decoratorPadding.right,\n            bottom: this.getPaddingBottom() + decoratorPadding.bottom,\n            left : this.getPaddingLeft() + decoratorPadding.left\n          };\n\n          this.__layoutManager.renderLayout(innerWidth, innerHeight, padding);\n        } else if (this.hasLayoutChildren()) {\n          throw new Error(\"At least one child in control \" +\n            this._findTopControl() +\n            \" requires a layout, but no one was defined!\");\n        }\n      }\n\n      // Fire events\n      if (changes.position && this.hasListener(\"move\")) {\n        this.fireDataEvent(\"move\", this.getBounds());\n      }\n\n      if (changes.size && this.hasListener(\"resize\")) {\n        this.fireDataEvent(\"resize\", this.getBounds());\n      }\n\n      // Cleanup flags\n      delete this._updateInsets;\n\n      return changes;\n    },\n\n\n\n\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SEPARATOR SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    __separators : null,\n\n    // overridden\n    clearSeparators : function()\n    {\n      var reg = this.__separators;\n      if (!reg) {\n        return;\n      }\n\n      var pool = qx.ui.core.Widget.__separatorPool;\n      var content = this.getContentElement();\n      var widget;\n\n      for (var i=0, l=reg.length; i<l; i++)\n      {\n        widget = reg[i];\n        pool.poolObject(widget);\n        content.remove(widget.getContentElement());\n      }\n\n      // Clear registry\n      reg.length = 0;\n    },\n\n\n    // overridden\n    renderSeparator : function(separator, bounds)\n    {\n      // Insert\n      var widget = qx.ui.core.Widget.__separatorPool.getObject(qx.ui.core.Widget);\n      widget.set({\n        decorator: separator\n      });\n      var elem = widget.getContentElement();\n      this.getContentElement().add(elem);\n\n      // Move\n      var domEl = elem.getDomElement();\n      // use the DOM element because the cache of the qx.html.Element could be\n      // wrong due to changes made by the decorators which work on the DOM element too\n      if (domEl) {\n        domEl.style.top = bounds.top + \"px\";\n        domEl.style.left = bounds.left + \"px\";\n        domEl.style.width = bounds.width + \"px\";\n        domEl.style.height = bounds.height + \"px\";\n      } else {\n        elem.setStyles({\n          left : bounds.left + \"px\",\n          top : bounds.top + \"px\",\n          width : bounds.width + \"px\",\n          height : bounds.height + \"px\"\n        });\n      }\n\n      // Remember element\n      if (!this.__separators) {\n        this.__separators = [];\n      }\n      this.__separators.push(widget);\n    },\n\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SIZE HINTS\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    _computeSizeHint : function()\n    {\n      // Start with the user defined values\n      var width = this.getWidth();\n      var minWidth = this.getMinWidth();\n      var maxWidth = this.getMaxWidth();\n\n      var height = this.getHeight();\n      var minHeight = this.getMinHeight();\n      var maxHeight = this.getMaxHeight();\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (minWidth !== null && maxWidth !== null) {\n          this.assert(minWidth <= maxWidth, \"minWidth is larger than maxWidth!\");\n        }\n        if (minHeight !== null && maxHeight !== null) {\n          this.assert(minHeight <= maxHeight, \"minHeight is larger than maxHeight!\");\n        }\n      }\n\n      // Ask content\n      var contentHint = this._getContentHint();\n\n      var insets = this.getInsets();\n      var insetX = insets.left + insets.right;\n      var insetY = insets.top + insets.bottom;\n\n      if (width == null) {\n        width = contentHint.width + insetX;\n      }\n\n      if (height == null) {\n        height = contentHint.height + insetY;\n      }\n\n      if (minWidth == null)\n      {\n        minWidth = insetX;\n\n        if (contentHint.minWidth != null) {\n          minWidth += contentHint.minWidth;\n          // do not apply bigger min width than max width [BUG #5008]\n          if (minWidth > maxWidth && maxWidth != null) {\n            minWidth = maxWidth;\n          }\n        }\n      }\n\n      if (minHeight == null)\n      {\n        minHeight = insetY;\n\n        if (contentHint.minHeight != null) {\n          minHeight += contentHint.minHeight;\n          // do not apply bigger min height than max height [BUG #5008]\n          if (minHeight > maxHeight && maxHeight != null) {\n            minHeight = maxHeight;\n          }\n        }\n      }\n\n      if (maxWidth == null)\n      {\n        if (contentHint.maxWidth == null) {\n          maxWidth = Infinity;\n        } else {\n          maxWidth = contentHint.maxWidth + insetX;\n          // do not apply bigger min width than max width [BUG #5008]\n          if (maxWidth < minWidth && minWidth != null) {\n            maxWidth = minWidth;\n          }\n        }\n      }\n\n      if (maxHeight == null)\n      {\n        if (contentHint.maxHeight == null) {\n          maxHeight = Infinity;\n        } else {\n          maxHeight = contentHint.maxHeight + insetY;\n          // do not apply bigger min width than max width [BUG #5008]\n          if (maxHeight < minHeight && minHeight != null) {\n            maxHeight = minHeight;\n          }\n        }\n      }\n\n      // Build size hint and return\n      return {\n        width : width,\n        minWidth : minWidth,\n        maxWidth : maxWidth,\n        height : height,\n        minHeight : minHeight,\n        maxHeight : maxHeight\n      };\n    },\n\n\n    // overridden\n    invalidateLayoutCache : function()\n    {\n      this.base(arguments);\n\n      if (this.__layoutManager) {\n        this.__layoutManager.invalidateLayoutCache();\n      }\n    },\n\n\n    /**\n     * Returns the recommended/natural dimensions of the widget's content.\n     *\n     * For labels and images this may be their natural size when defined without\n     * any dimensions. For containers this may be the recommended size of the\n     * underlying layout manager.\n     *\n     * Developer note: This can be overwritten by the derived classes to allow\n     * a custom handling here.\n     *\n     * @return {Map}\n     */\n    _getContentHint : function()\n    {\n      var layout = this.__layoutManager;\n      if (layout)\n      {\n        if (this.hasLayoutChildren())\n        {\n          var hint = layout.getSizeHint();\n\n          if (qx.core.Environment.get(\"qx.debug\"))\n          {\n            var msg = \"The layout of the widget\" + this.toString() +\n              \" returned an invalid size hint!\";\n            this.assertInteger(hint.width, \"Wrong 'left' argument. \" + msg);\n            this.assertInteger(hint.height, \"Wrong 'top' argument. \" + msg);\n          }\n\n          return hint;\n        }\n        else\n        {\n          return {\n            width : 0,\n            height : 0\n          };\n        }\n      }\n      else\n      {\n        return {\n          width : 100,\n          height : 50\n        };\n      }\n    },\n\n\n    // overridden\n    _getHeightForWidth : function(width)\n    {\n      // Prepare insets\n      var insets = this.getInsets();\n\n      var insetX = insets.left + insets.right;\n      var insetY = insets.top + insets.bottom;\n\n      // Compute content width\n      var contentWidth = width - insetX;\n\n      // Compute height\n      var layout = this._getLayout();\n      if (layout && layout.hasHeightForWidth()) {\n        var contentHeight =  layout.getHeightForWidth(contentWidth);\n      } else {\n        contentHeight = this._getContentHeightForWidth(contentWidth);\n      }\n\n      // Computed box height\n      var height = contentHeight + insetY;\n\n      return height;\n    },\n\n\n    /**\n     * Returns the computed height for the given width.\n     *\n     * @abstract\n     * @param width {Integer} Incoming width (as limitation)\n     * @return {Integer} Computed height while respecting the given width.\n     */\n    _getContentHeightForWidth : function(width) {\n      throw new Error(\"Abstract method call: _getContentHeightForWidth()!\");\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      INSET CALCULATION SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the sum of the widget's padding and border width.\n     *\n     * @return {Map} Contains the keys <code>top</code>, <code>right</code>,\n     *   <code>bottom</code> and <code>left</code>. All values are integers.\n     */\n    getInsets : function()\n    {\n      var top = this.getPaddingTop();\n      var right = this.getPaddingRight();\n      var bottom = this.getPaddingBottom();\n      var left = this.getPaddingLeft();\n      if (this.getDecorator()) {\n        var decorator = qx.theme.manager.Decoration.getInstance().resolve(this.getDecorator());\n        var inset = decorator.getInsets();\n\n        if (qx.core.Environment.get(\"qx.debug\"))\n        {\n          this.assertNumber(\n            inset.top,\n            \"Invalid top decorator inset detected: \" + inset.top\n          );\n          this.assertNumber(\n            inset.right,\n            \"Invalid right decorator inset detected: \" + inset.right\n          );\n          this.assertNumber(\n            inset.bottom,\n            \"Invalid bottom decorator inset detected: \" + inset.bottom\n          );\n          this.assertNumber(\n            inset.left,\n            \"Invalid left decorator inset detected: \" + inset.left\n          );\n        }\n\n        top += inset.top;\n        right += inset.right;\n        bottom += inset.bottom;\n        left += inset.left;\n      }\n\n      return {\n        \"top\" : top,\n        \"right\" : right,\n        \"bottom\" : bottom,\n        \"left\" : left\n      };\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      COMPUTED LAYOUT SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the widget's computed inner size as available\n     * through the layout process.\n     *\n     * This function is guaranteed to return a correct value\n     * during a {@link #resize} or {@link #move} event dispatch.\n     *\n     * @return {Map} The widget inner dimension in pixel (if the layout is\n     *    valid). Contains the keys <code>width</code> and <code>height</code>.\n     */\n    getInnerSize : function()\n    {\n      var computed = this.getBounds();\n      if (!computed) {\n        return null;\n      }\n\n      // Return map data\n      var insets = this.getInsets();\n      return {\n        width : computed.width - insets.left - insets.right,\n        height : computed.height - insets.top - insets.bottom\n      };\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      ANIMATION SUPPORT: USER API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Fade out this widget.\n     * @param duration {Number} Time in ms.\n     * @return {qx.bom.element.AnimationHandle} The animation handle to react for\n     *   the fade animation.\n     */\n    fadeOut : function(duration) {\n      return this.getContentElement().fadeOut(duration);\n    },\n\n    /**\n     * Fade in the widget.\n     * @param duration {Number} Time in ms.\n     * @return {qx.bom.element.AnimationHandle} The animation handle to react for\n     *   the fade animation.\n     */\n    fadeIn : function(duration) {\n      return this.getContentElement().fadeIn(duration);\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      VISIBILITY SUPPORT: USER API\n    ---------------------------------------------------------------------------\n    */\n\n    // property apply\n    _applyAnonymous : function(value) {\n      if (value) {\n        this.getContentElement().setAttribute(\"qxanonymous\", \"true\");\n      } else {\n        this.getContentElement().removeAttribute(\"qxanonymous\");\n      }\n    },\n\n\n    /**\n     * Make this widget visible.\n     *\n     */\n    show : function() {\n      this.setVisibility(\"visible\");\n    },\n\n\n    /**\n     * Hide this widget.\n     *\n     */\n    hide : function() {\n      this.setVisibility(\"hidden\");\n    },\n\n\n    /**\n     * Hide this widget and exclude it from the underlying layout.\n     *\n     */\n    exclude : function() {\n      this.setVisibility(\"excluded\");\n    },\n\n\n    /**\n     * Whether the widget is locally visible.\n     *\n     * Note: This method does not respect the hierarchy.\n     *\n     * @return {Boolean} Returns <code>true</code> when the widget is visible\n     */\n    isVisible : function() {\n      return this.getVisibility() === \"visible\";\n    },\n\n\n    /**\n     * Whether the widget is locally hidden.\n     *\n     * Note: This method does not respect the hierarchy.\n     *\n     * @return {Boolean} Returns <code>true</code> when the widget is hidden\n     */\n    isHidden : function() {\n      return this.getVisibility() !== \"visible\";\n    },\n\n\n    /**\n     * Whether the widget is locally excluded.\n     *\n     * Note: This method does not respect the hierarchy.\n     *\n     * @return {Boolean} Returns <code>true</code> when the widget is excluded\n     */\n    isExcluded : function() {\n      return this.getVisibility() === \"excluded\";\n    },\n\n\n    /**\n     * Detects if the widget and all its parents are visible.\n     *\n     * WARNING: Please use this method with caution because it flushes the\n     * internal queues which might be an expensive operation.\n     *\n     * @return {Boolean} true, if the widget is currently on the screen\n     */\n    isSeeable : function()\n    {\n      // Flush the queues because to detect if the widget ins visible, the\n      // queues need to be flushed (see bug #5254)\n      qx.ui.core.queue.Manager.flush();\n      // if the element is already rendered, a check for the offsetWidth is enough\n      var element = this.getContentElement().getDomElement();\n      if (element) {\n        // will also be 0 if the parents are not visible\n        return element.offsetWidth > 0;\n      }\n      // if no element is available, it can not be visible\n      return false;\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CREATION OF HTML ELEMENTS\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Create the widget's content HTML element.\n     *\n     * @return {qx.html.Element} The content HTML element\n     */\n    __createContentElement : function()\n    {\n      var el = this._createContentElement();\n      el.connectWidget(this);\n\n      // make sure to allow all pointer events\n      el.setStyles({\"touch-action\": \"none\", \"-ms-touch-action\" : \"none\"});\n\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        el.setAttribute(\"qxClass\", this.classname);\n      }\n\n      var styles = {\n        \"zIndex\": 10,\n        \"boxSizing\": \"border-box\"\n      };\n\n      if (!qx.ui.root.Inline ||\n        !(this instanceof qx.ui.root.Inline))\n      {\n        styles.position = \"absolute\";\n      }\n\n      el.setStyles(styles);\n\n      return el;\n    },\n\n\n    /**\n     * Creates the content element. The style properties\n     * position and zIndex are modified from the Widget\n     * core.\n     *\n     * This function may be overridden to customize a class\n     * content.\n     *\n     * @return {qx.html.Element} The widget's content element\n     */\n    _createContentElement : function()\n    {\n      return new qx.html.Element(\"div\", {\n        overflowX: \"hidden\",\n        overflowY: \"hidden\"\n      });\n    },\n\n\n    /**\n     * Returns the element wrapper of the widget's content element.\n     * This method exposes widget internal and must be used with caution!\n     *\n     * @return {qx.html.Element} The widget's content element\n     */\n    getContentElement : function() {\n      return this.__contentElement;\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CHILDREN HANDLING\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {qx.ui.core.LayoutItem[]} List of all child widgets */\n    __widgetChildren : null,\n\n\n    /**\n     * Returns all children, which are layout relevant. This excludes all widgets,\n     * which have a {@link qx.ui.core.Widget#visibility} value of <code>exclude</code>.\n     *\n     * @internal\n     * @return {qx.ui.core.Widget[]} All layout relevant children.\n     */\n    getLayoutChildren : function()\n    {\n      var children = this.__widgetChildren;\n      if (!children) {\n        return this.__emptyChildren;\n      }\n\n      var layoutChildren;\n      for (var i=0, l=children.length; i<l; i++)\n      {\n        var child = children[i];\n        if (child.hasUserBounds() || child.isExcluded())\n        {\n          if (layoutChildren == null) {\n            layoutChildren = children.concat();\n          }\n\n          qx.lang.Array.remove(layoutChildren, child);\n        }\n      }\n\n      return layoutChildren || children;\n    },\n\n\n    /**\n     * Marks the layout of this widget as invalid and triggers a layout update.\n     * This is a shortcut for <code>qx.ui.core.queue.Layout.add(this);</code>.\n     */\n    scheduleLayoutUpdate : function() {\n      qx.ui.core.queue.Layout.add(this);\n    },\n\n\n    /**\n     * Resets the cache for children which should be laid out.\n     */\n    invalidateLayoutChildren : function()\n    {\n      var layout = this.__layoutManager;\n      if (layout) {\n        layout.invalidateChildrenCache();\n      }\n\n      qx.ui.core.queue.Layout.add(this);\n    },\n\n\n    /**\n     * Returns whether the layout has children, which are layout relevant. This\n     * excludes all widgets, which have a {@link qx.ui.core.Widget#visibility}\n     * value of <code>exclude</code>.\n     *\n     * @return {Boolean} Whether the layout has layout relevant children\n     */\n    hasLayoutChildren : function()\n    {\n      var children = this.__widgetChildren;\n      if (!children) {\n        return false;\n      }\n\n      var child;\n      for (var i=0, l=children.length; i<l; i++)\n      {\n        child = children[i];\n        if (!child.hasUserBounds() && !child.isExcluded()) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Returns the widget which contains the children and\n     * is relevant for laying them out. This is from the user point of\n     * view and may not be identical to the technical structure.\n     *\n     * @return {qx.ui.core.Widget} Widget which contains the children.\n     */\n    getChildrenContainer : function() {\n      return this;\n    },\n\n\n    /**\n     * @type {Array} Placeholder for children list in empty widgets.\n     *     Mainly to keep instance number low.\n     *\n     * @lint ignoreReferenceField(__emptyChildren)\n     */\n    __emptyChildren : [],\n\n\n    /**\n     * Returns the children list\n     *\n     * @return {qx.ui.core.LayoutItem[]} The children array (Arrays are\n     *   reference types, so please do not modify it in-place).\n     */\n    _getChildren : function() {\n      return this.__widgetChildren || this.__emptyChildren;\n    },\n\n\n    /**\n     * Returns the index position of the given widget if it is\n     * a child widget. Otherwise it returns <code>-1</code>.\n     *\n     * @param child {qx.ui.core.Widget} the widget to query for\n     * @return {Integer} The index position or <code>-1</code> when\n     *   the given widget is no child of this layout.\n     */\n    _indexOf : function(child)\n    {\n      var children = this.__widgetChildren;\n      if (!children) {\n        return -1;\n      }\n\n      return children.indexOf(child);\n    },\n\n\n    /**\n     * Whether the widget contains children.\n     *\n     * @return {Boolean} Returns <code>true</code> when the widget has children.\n     */\n    _hasChildren : function()\n    {\n      var children = this.__widgetChildren;\n      return children != null && (!!children[0]);\n    },\n\n\n    /**\n     * Recursively adds all children to the given queue\n     *\n     * @param queue {Array} The queue to add widgets to\n     */\n    addChildrenToQueue : function(queue)\n    {\n      var children = this.__widgetChildren;\n      if (!children) {\n        return;\n      }\n\n      var child;\n      for (var i=0, l=children.length; i<l; i++)\n      {\n        child = children[i];\n        queue.push(child);\n\n        child.addChildrenToQueue(queue);\n      }\n    },\n\n\n    /**\n     * Adds a new child widget.\n     *\n     * The supported keys of the layout options map depend on the layout manager\n     * used to position the widget. The options are documented in the class\n     * documentation of each layout manager {@link qx.ui.layout}.\n     *\n     * @param child {qx.ui.core.LayoutItem} the widget to add.\n     * @param options {Map?null} Optional layout data for widget.\n     */\n    _add : function(child, options)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.assertInstance(child, qx.ui.core.LayoutItem.constructor, \"'Child' must be an instance of qx.ui.core.LayoutItem!\");\n      }\n\n      // When moving in the same widget, remove widget first\n      if (child.getLayoutParent() == this) {\n        qx.lang.Array.remove(this.__widgetChildren, child);\n      }\n\n      if (this.__widgetChildren) {\n        this.__widgetChildren.push(child);\n      } else {\n        this.__widgetChildren = [ child ];\n      }\n\n      this.__addHelper(child, options);\n    },\n\n\n    /**\n     * Add a child widget at the specified index\n     *\n     * @param child {qx.ui.core.LayoutItem} widget to add\n     * @param index {Integer} Index, at which the widget will be inserted. If no\n     *   widget exists at the given index, the new widget gets appended to the\n     *   current list of children.\n     * @param options {Map?null} Optional layout data for widget.\n     */\n    _addAt : function(child, index, options)\n    {\n      if (!this.__widgetChildren) {\n        this.__widgetChildren = [];\n      }\n\n      // When moving in the same widget, remove widget first\n      if (child.getLayoutParent() == this) {\n        qx.lang.Array.remove(this.__widgetChildren, child);\n      }\n\n      var ref = this.__widgetChildren[index];\n\n      if (ref === child) {\n        child.setLayoutProperties(options);\n      }\n\n      if (ref) {\n        qx.lang.Array.insertBefore(this.__widgetChildren, child, ref);\n      } else {\n        this.__widgetChildren.push(child);\n      }\n\n      this.__addHelper(child, options);\n    },\n\n\n    /**\n     * Add a widget before another already inserted widget\n     *\n     * @param child {qx.ui.core.LayoutItem} widget to add\n     * @param before {qx.ui.core.LayoutItem} widget before the new widget will be inserted.\n     * @param options {Map?null} Optional layout data for widget.\n     */\n    _addBefore : function(child, before, options)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.assertInArray(before, this._getChildren(),\n          \"The 'before' widget is not a child of this widget!\");\n      }\n\n      if (child == before) {\n        return;\n      }\n\n      if (!this.__widgetChildren) {\n        this.__widgetChildren = [];\n      }\n\n      // When moving in the same widget, remove widget first\n      if (child.getLayoutParent() == this) {\n        qx.lang.Array.remove(this.__widgetChildren, child);\n      }\n\n      qx.lang.Array.insertBefore(this.__widgetChildren, child, before);\n\n      this.__addHelper(child, options);\n    },\n\n\n    /**\n     * Add a widget after another already inserted widget\n     *\n     * @param child {qx.ui.core.LayoutItem} widget to add\n     * @param after {qx.ui.core.LayoutItem} widget, after which the new widget will\n     *   be inserted\n     * @param options {Map?null} Optional layout data for widget.\n     */\n    _addAfter : function(child, after, options)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.assertInArray(after, this._getChildren(),\n          \"The 'after' widget is not a child of this widget!\");\n      }\n\n      if (child == after) {\n        return;\n      }\n\n      if (!this.__widgetChildren) {\n        this.__widgetChildren = [];\n      }\n\n      // When moving in the same widget, remove widget first\n      if (child.getLayoutParent() == this) {\n        qx.lang.Array.remove(this.__widgetChildren, child);\n      }\n\n      qx.lang.Array.insertAfter(this.__widgetChildren, child, after);\n\n      this.__addHelper(child, options);\n    },\n\n\n    /**\n     * Remove the given child widget.\n     *\n     * @param child {qx.ui.core.LayoutItem} the widget to remove\n     */\n    _remove : function(child)\n    {\n      if (!this.__widgetChildren) {\n        throw new Error(\"This widget has no children!\");\n      }\n\n      qx.lang.Array.remove(this.__widgetChildren, child);\n      this.__removeHelper(child);\n    },\n\n\n    /**\n     * Remove the widget at the specified index.\n     *\n     * @param index {Integer} Index of the widget to remove.\n     * @return {qx.ui.core.LayoutItem} The removed item.\n     */\n    _removeAt : function(index)\n    {\n      if (!this.__widgetChildren) {\n        throw new Error(\"This widget has no children!\");\n      }\n\n      var child = this.__widgetChildren[index];\n\n      qx.lang.Array.removeAt(this.__widgetChildren, index);\n      this.__removeHelper(child);\n\n      return child;\n    },\n\n\n    /**\n     * Remove all children.\n     *\n     * @return {Array} An array containing the removed children.\n     */\n    _removeAll : function()\n    {\n      if (!this.__widgetChildren) {\n        return [];\n      }\n\n      // Working on a copy to make it possible to clear the\n      // internal array before calling setLayoutParent()\n      var children = this.__widgetChildren.concat();\n      this.__widgetChildren.length = 0;\n\n      for (var i=children.length-1; i>=0; i--) {\n        this.__removeHelper(children[i]);\n      }\n\n      qx.ui.core.queue.Layout.add(this);\n\n      return children;\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CHILDREN HANDLING - TEMPLATE METHODS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * This method gets called each time after a child widget was added and can\n     * be overridden to get notified about child adds.\n     *\n     * @signature function(child)\n     * @param child {qx.ui.core.LayoutItem} The added child.\n     */\n    _afterAddChild : null,\n\n\n    /**\n     * This method gets called each time after a child widget was removed and\n     * can be overridden to get notified about child removes.\n     *\n     * @signature function(child)\n     * @param child {qx.ui.core.LayoutItem} The removed child.\n     */\n    _afterRemoveChild : null,\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CHILDREN HANDLING - IMPLEMENTATION\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Convenience function to add a child widget. It will insert the child to\n     * the parent widget and schedule a layout update.\n     *\n     * @param child {qx.ui.core.LayoutItem} The child to add.\n     * @param options {Map|null} Optional layout data for the widget.\n     */\n    __addHelper : function(child, options)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        this.assertInstance(child, qx.ui.core.LayoutItem, \"Invalid widget to add: \" + child);\n        this.assertNotIdentical(child, this, \"Could not add widget to itself: \" + child);\n\n        if (options != null) {\n          this.assertType(options, \"object\", \"Invalid layout data: \" + options);\n        }\n      }\n\n      // Remove from old parent\n      var parent = child.getLayoutParent();\n      if (parent && parent != this) {\n        parent._remove(child);\n      }\n\n      // Remember parent\n      child.setLayoutParent(this);\n\n      // Import options: This call will\n      //  - clear the layout's children cache as well and\n      //  - add its parent (this widget) to the layout queue\n      if (options) {\n        child.setLayoutProperties(options);\n      } else {\n        this.updateLayoutProperties();\n      }\n\n      // call the template method\n      if (this._afterAddChild) {\n        this._afterAddChild(child);\n      }\n    },\n\n\n    /**\n     * Convenience function to remove a child widget. It will remove it\n     * from the parent widget and schedule a layout update.\n     *\n     * @param child {qx.ui.core.LayoutItem} The child to remove.\n     */\n    __removeHelper : function(child)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.assertNotUndefined(child);\n      }\n\n      if (child.getLayoutParent() !== this) {\n        throw new Error(\"Remove Error: \" + child + \" is not a child of this widget!\");\n      }\n\n      // Clear parent connection\n      child.setLayoutParent(null);\n\n      // clear the layout's children cache\n      if (this.__layoutManager) {\n        this.__layoutManager.invalidateChildrenCache();\n      }\n\n      // Add to layout queue\n      qx.ui.core.queue.Layout.add(this);\n\n      // call the template method\n      if (this._afterRemoveChild) {\n        this._afterRemoveChild(child);\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENTS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Enables pointer event capturing. All pointer events will dispatched on this\n     * widget until capturing is disabled using {@link #releaseCapture} or a\n     * pointer button is clicked. If the widgets becomes the capturing widget the\n     * {@link #capture} event is fired. Once it loses capture mode the\n     * {@link #losecapture} event is fired.\n     *\n     * @param capture {Boolean?true} If true all events originating in\n     *   the container are captured. If false events originating in the container\n     *   are not captured.\n     */\n    capture : function(capture) {\n      this.getContentElement().capture(capture);\n    },\n\n\n    /**\n     * Disables pointer capture mode enabled by {@link #capture}.\n     */\n    releaseCapture : function() {\n      this.getContentElement().releaseCapture();\n    },\n\n\n    /**\n     * Checks if pointer event capturing is enabled for this widget.\n     *\n     * @return {Boolean} <code>true</code> if capturing is active\n     */\n    isCapturing : function() {\n      var el = this.getContentElement().getDomElement();\n      if (!el) {\n        return false;\n      }\n      var manager = qx.event.Registration.getManager(el);\n      var dispatcher = manager.getDispatcher(qx.event.dispatch.MouseCapture);\n      return el == dispatcher.getCaptureElement();\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PADDING SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    // property apply\n    _applyPadding : function(value, old, name)\n    {\n      this._updateInsets = true;\n      qx.ui.core.queue.Layout.add(this);\n\n      this.__updateContentPadding(name, value);\n    },\n\n\n    /**\n     * Helper to updated the css padding of the content element considering the\n     * padding of the decorator.\n     * @param style {String} The name of the css padding property e.g. <code>paddingTop</code>\n     * @param value {Number} The value to set.\n     */\n    __updateContentPadding : function(style, value) {\n      var content = this.getContentElement();\n      var decorator = this.getDecorator();\n      decorator = qx.theme.manager.Decoration.getInstance().resolve(decorator);\n      if (decorator) {\n        var direction = qx.Bootstrap.firstLow(style.replace(\"padding\", \"\"));\n        value += decorator.getPadding()[direction] || 0;\n      }\n      content.setStyle(style, value + \"px\");\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      DECORATION SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    // property apply\n    _applyDecorator : function(value, old)\n    {\n      var content = this.getContentElement();\n\n      if (old) {\n        old = qx.theme.manager.Decoration.getInstance().getCssClassName(old);\n        content.removeClass(old);\n      }\n\n      if (value) {\n        value = qx.theme.manager.Decoration.getInstance().addCssClass(value);\n        content.addClass(value);\n      }\n      if (value || old){\n        qx.ui.core.queue.Layout.add(this);\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      OTHER PROPERTIES\n    ---------------------------------------------------------------------------\n    */\n\n    // property apply\n    _applyToolTipText : function(value, old)\n    {\n      if (qx.core.Environment.get(\"qx.dynlocale\"))\n      {\n        if (this.__toolTipTextListenerId) {\n          return;\n        }\n        var manager = qx.locale.Manager.getInstance();\n        this.__toolTipTextListenerId = manager.addListener(\"changeLocale\",\n          function() {\n            var toolTipText = this.getToolTipText();\n            if (toolTipText && toolTipText.translate) {\n              this.setToolTipText(toolTipText.translate());\n            }\n          }\n        , this);\n      }\n    },\n\n    // property apply\n    _applyTextColor : function(value, old) {\n      // empty template\n    },\n\n\n    // property apply\n    _applyZIndex : function(value, old) {\n      this.getContentElement().setStyle(\"zIndex\", value == null ? 0 : value);\n    },\n\n\n    // property apply\n    _applyVisibility : function(value, old)\n    {\n      var content = this.getContentElement();\n\n      if (value === \"visible\") {\n        content.show();\n      } else {\n        content.hide();\n      }\n\n      // only force a layout update if visibility change from/to \"exclude\"\n      var parent = this.$$parent;\n      if (parent && (old == null || value == null || old === \"excluded\" || value === \"excluded\")) {\n        parent.invalidateLayoutChildren();\n      }\n\n      // Update visibility cache\n      qx.ui.core.queue.Visibility.add(this);\n    },\n\n\n    // property apply\n    _applyOpacity : function(value, old) {\n      this.getContentElement().setStyle(\"opacity\", value == 1 ? null : value);\n    },\n\n\n    // property apply\n    _applyCursor : function(value, old)\n    {\n      if (value == null && !this.isSelectable()) {\n        value = \"default\";\n      }\n\n      // In Opera the cursor must be set directly.\n      // http://bugzilla.qooxdoo.org/show_bug.cgi?id=1729\n      this.getContentElement().setStyle(\n        \"cursor\", value, qx.core.Environment.get(\"engine.name\") == \"opera\"\n      );\n    },\n\n\n    // property apply\n    _applyBackgroundColor : function(value, old) {\n      var color = this.getBackgroundColor();\n      var content = this.getContentElement();\n\n      var resolved = qx.theme.manager.Color.getInstance().resolve(color);\n      content.setStyle(\"backgroundColor\", resolved);\n    },\n\n\n    // property apply\n    _applyFont : function(value, old) {\n      // empty template\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      DYNAMIC THEME SWITCH SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    _onChangeTheme : function() {\n      if (this.isDisposed()) {\n        return;\n      }\n\n      this.base(arguments);\n\n      // update the appearance\n      this.updateAppearance();\n\n      // DECORATOR //\n      var value = this.getDecorator();\n      this._applyDecorator(null, value);\n      this._applyDecorator(value);\n\n      // FONT //\n      value = this.getFont();\n      if (qx.lang.Type.isString(value)) {\n        this._applyFont(value, value);\n      }\n\n      // TEXT COLOR //\n      value = this.getTextColor();\n      if (qx.lang.Type.isString(value)) {\n        this._applyTextColor(value, value);\n      }\n\n      // BACKGROUND COLOR //\n      value = this.getBackgroundColor();\n      if (qx.lang.Type.isString(value)) {\n        this._applyBackgroundColor(value, value);\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      STATE HANDLING\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {Map} The current widget states */\n    __states : null,\n\n\n    /** @type {Boolean} Whether the widget has state changes which are not yet queued */\n    $$stateChanges : null,\n\n\n    /** @type {Map} Can be overridden to forward states to the child controls. */\n    _forwardStates : null,\n\n\n    /**\n     * Returns whether a state is set.\n     *\n     * @param state {String} the state to check.\n     * @return {Boolean} whether the state is set.\n     */\n    hasState : function(state)\n    {\n      var states = this.__states;\n      return !!states && !!states[state];\n    },\n\n\n    /**\n     * Sets a state.\n     *\n     * @param state {String} The state to add\n     */\n    addState : function(state)\n    {\n      // Dynamically create state map\n      var states = this.__states;\n      if (!states) {\n        states = this.__states = {};\n      }\n\n      if (states[state]) {\n        return;\n      }\n\n      // Add state and queue\n      this.__states[state] = true;\n\n      // Fast path for hovered state\n      if (state === \"hovered\") {\n        this.syncAppearance();\n      } else if (!qx.ui.core.queue.Visibility.isVisible(this)) {\n        this.$$stateChanges = true;\n      } else {\n        qx.ui.core.queue.Appearance.add(this);\n      }\n\n      // Forward state change to child controls\n      var forward = this._forwardStates;\n      var controls = this.__childControls;\n\n      if (forward && forward[state] && controls)\n      {\n        var control;\n        for (var id in controls)\n        {\n          control = controls[id];\n          if (control instanceof qx.ui.core.Widget) {\n            controls[id].addState(state);\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Clears a state.\n     *\n     * @param state {String} the state to clear.\n     */\n    removeState : function(state)\n    {\n      // Check for existing state\n      var states = this.__states;\n      if (!states || !states[state]) {\n        return;\n      }\n\n      // Clear state and queue\n      delete this.__states[state];\n\n      // Fast path for hovered state\n      if (state === \"hovered\") {\n        this.syncAppearance();\n      } else if (!qx.ui.core.queue.Visibility.isVisible(this)) {\n        this.$$stateChanges = true;\n      } else {\n        qx.ui.core.queue.Appearance.add(this);\n      }\n\n      // Forward state change to child controls\n      var forward = this._forwardStates;\n      var controls = this.__childControls;\n\n      if (forward && forward[state] && controls)\n      {\n        for (var id in controls)\n        {\n          var control = controls[id];\n          if (control instanceof qx.ui.core.Widget) {\n            control.removeState(state);\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Replaces the first state with the second one.\n     *\n     * This method is ideal for state transitions e.g. normal => selected.\n     *\n     * @param old {String} Previous state\n     * @param value {String} New state\n     */\n    replaceState : function(old, value)\n    {\n      var states = this.__states;\n      if (!states) {\n        states = this.__states = {};\n      }\n\n      if (!states[value]) {\n        states[value] = true;\n      }\n\n      if (states[old]) {\n        delete states[old];\n      }\n\n      if (!qx.ui.core.queue.Visibility.isVisible(this)) {\n        this.$$stateChanges = true;\n      } else {\n        qx.ui.core.queue.Appearance.add(this);\n      }\n\n      // Forward state change to child controls\n      var forward = this._forwardStates;\n      var controls = this.__childControls;\n\n      if (forward && forward[value] && controls)\n      {\n        for (var id in controls)\n        {\n          var control = controls[id];\n          if (control instanceof qx.ui.core.Widget) {\n            control.replaceState(old, value);\n          }\n        }\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      APPEARANCE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {String} The currently compiled selector to lookup the matching appearance */\n    __appearanceSelector : null,\n\n\n    /** @type {Boolean} Whether the selectors needs to be recomputed before updating appearance */\n    __updateSelector : null,\n\n\n    /**\n     * Renders the appearance using the current widget states.\n     *\n     * Used exclusively by {qx.ui.core.queue.Appearance}.\n     */\n    syncAppearance : function()\n    {\n      var states = this.__states;\n      var selector = this.__appearanceSelector;\n      var manager = qx.theme.manager.Appearance.getInstance();\n\n      // Cache deep accessor\n      var styler = qx.core.Property.$$method.setThemed;\n      var unstyler = qx.core.Property.$$method.resetThemed;\n\n      // Check for requested selector update\n      if (this.__updateSelector)\n      {\n        // Clear flag\n        delete this.__updateSelector;\n\n        // Check if the selector was created previously\n        if (selector)\n        {\n          // Query old selector\n          var oldData = manager.styleFrom(selector, states, null, this.getAppearance());\n\n          // Clear current selector (to force recompute)\n          selector = null;\n        }\n      }\n\n      // Build selector\n      if (!selector)\n      {\n        var obj = this;\n        var id = [];\n\n        do {\n          id.push(obj.$$subcontrol||obj.getAppearance());\n        } while (obj = obj.$$subparent);\n\n        // Combine parent control IDs, add top level appearance, filter result\n        // to not include positioning information anymore (e.g. #3)\n        selector = id.reverse().join(\"/\").replace(/#[0-9]+/g, \"\");\n        this.__appearanceSelector = selector;\n      }\n\n      // Query current selector\n      var newData = manager.styleFrom(selector, states, null, this.getAppearance());\n      if (newData)\n      {\n        if (oldData)\n        {\n          for (var prop in oldData)\n          {\n            if (newData[prop] === undefined) {\n              this[unstyler[prop]]();\n            }\n          }\n        }\n\n        // Check property availability of new data\n        if (qx.core.Environment.get(\"qx.debug\"))\n        {\n          for (var prop in newData)\n          {\n            if (!this[styler[prop]]) {\n              throw new Error(this.classname +\n                ' has no themeable property \"' + prop +\n                '\" while styling ' + selector);\n            }\n          }\n        }\n\n        // Apply new data\n        for (var prop in newData) {\n          newData[prop] === undefined ? this[unstyler[prop]]() : this[styler[prop]](newData[prop]);\n        }\n      }\n      else if (oldData)\n      {\n        // Clear old data\n        for (var prop in oldData) {\n          this[unstyler[prop]]();\n        }\n      }\n\n      this.fireDataEvent(\"syncAppearance\", this.__states);\n    },\n\n\n    // property apply\n    _applyAppearance : function(value, old) {\n      this.updateAppearance();\n    },\n\n\n    /**\n     * Helper method called from the visibility queue to detect outstanding changes\n     * to the appearance.\n     *\n     * @internal\n     */\n    checkAppearanceNeeds : function()\n    {\n      // CASE 1: Widget has never got an appearance already because it was never\n      // visible before. Normally add it to the queue is the easiest way to update it.\n      if (!this.__initialAppearanceApplied)\n      {\n        qx.ui.core.queue.Appearance.add(this);\n        this.__initialAppearanceApplied = true;\n      }\n\n      // CASE 2: Widget has got an appearance before, but was hidden for some time\n      // which results into maybe omitted state changes have not been applied.\n      // In this case the widget is already queued in the appearance. This is basically\n      // what all addState/removeState do, but the queue itself may not have been registered\n      // to be flushed\n      else if (this.$$stateChanges)\n      {\n        qx.ui.core.queue.Appearance.add(this);\n        delete this.$$stateChanges;\n      }\n    },\n\n\n    /**\n     * Refreshes the appearance of this widget and all\n     * registered child controls.\n     */\n    updateAppearance : function()\n    {\n      // Clear selector\n      this.__updateSelector = true;\n\n      // Add to appearance queue\n      qx.ui.core.queue.Appearance.add(this);\n\n      // Update child controls\n      var controls = this.__childControls;\n      if (controls)\n      {\n        var obj;\n        for (var id in controls)\n        {\n          obj = controls[id];\n\n          if (obj instanceof qx.ui.core.Widget) {\n            obj.updateAppearance();\n          }\n        }\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      WIDGET QUEUE\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * This method is called during the flush of the\n     * {@link qx.ui.core.queue.Widget widget queue}.\n     *\n     * @param jobs {Map} A map of jobs.\n     */\n    syncWidget : function(jobs) {\n      // empty implementation\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the next event target in the parent chain. May\n     * also return the widget itself if it is not anonymous.\n     *\n     * @return {qx.ui.core.Widget} A working event target of this widget.\n     *    May be <code>null</code> as well.\n     */\n    getEventTarget : function()\n    {\n      var target = this;\n\n      while (target.getAnonymous())\n      {\n        target = target.getLayoutParent();\n        if (!target) {\n          return null;\n        }\n      }\n\n      return target;\n    },\n\n\n    /**\n     * Returns the next focus target in the parent chain. May\n     * also return the widget itself if it is not anonymous and focusable.\n     *\n     * @return {qx.ui.core.Widget} A working focus target of this widget.\n     *    May be <code>null</code> as well.\n     */\n    getFocusTarget : function()\n    {\n      var target = this;\n\n      if (!target.getEnabled()) {\n        return null;\n      }\n\n      while (target.getAnonymous() || !target.getFocusable())\n      {\n        target = target.getLayoutParent();\n        if (!target || !target.getEnabled()) {\n          return null;\n        }\n      }\n\n      return target;\n    },\n\n\n    /**\n     * Returns the element which should be focused.\n     *\n     * @return {qx.html.Element} The html element to focus.\n     */\n    getFocusElement : function() {\n      return this.getContentElement();\n    },\n\n\n    /**\n     * Whether the widget is reachable by pressing the TAB key.\n     *\n     * Normally tests for both, the focusable property and a positive or\n     * undefined tabIndex property. The widget must have a DOM element\n     * since only visible widgets are tabable.\n     *\n     * @return {Boolean} Whether the element is tabable.\n     */\n    isTabable : function() {\n      return (!!this.getContentElement().getDomElement()) && this.isFocusable();\n    },\n\n\n    // property apply\n    _applyFocusable : function(value, old)\n    {\n      var target = this.getFocusElement();\n\n      // Apply native tabIndex attribute\n      if (value)\n      {\n        var tabIndex = this.getTabIndex();\n        if (tabIndex == null) {\n          tabIndex = 1;\n        }\n\n        target.setAttribute(\"tabIndex\", tabIndex);\n\n        // Omit native dotted outline border\n        target.setStyle(\"outline\", \"none\");\n      }\n      else\n      {\n        if (target.isNativelyFocusable()) {\n          target.setAttribute(\"tabIndex\", -1);\n        } else if (old) {\n          target.setAttribute(\"tabIndex\", null);\n        }\n      }\n    },\n\n\n    // property apply\n    _applyKeepFocus : function(value)\n    {\n      var target = this.getFocusElement();\n      target.setAttribute(\"qxKeepFocus\", value ? \"on\" : null);\n    },\n\n\n    // property apply\n    _applyKeepActive : function(value)\n    {\n      var target = this.getContentElement();\n      target.setAttribute(\"qxKeepActive\", value ? \"on\" : null);\n    },\n\n\n    // property apply\n    _applyTabIndex : function(value)\n    {\n      if (value == null) {\n        value = 1;\n      } else if (value < 1 || value > 32000) {\n        throw new Error(\"TabIndex property must be between 1 and 32000\");\n      }\n\n      if (this.getFocusable() && value != null) {\n        this.getFocusElement().setAttribute(\"tabIndex\", value);\n      }\n    },\n\n\n    // property apply\n    _applySelectable : function(value, old)\n    {\n      // Re-apply cursor if not in \"initSelectable\"\n      if (old !== null) {\n        this._applyCursor(this.getCursor());\n      }\n\n      // Apply qooxdoo attribute\n      this.getContentElement().setSelectable(value);\n    },\n\n\n    // property apply\n    _applyEnabled : function(value, old)\n    {\n      if (value===false)\n      {\n        this.addState(\"disabled\");\n\n        // hovered not configured in widget, but as this is a\n        // standardized name in qooxdoo and we never want a hover\n        // state for disabled widgets, remove this state every time\n        this.removeState(\"hovered\");\n\n        // Blur when focused\n        if (this.isFocusable())\n        {\n          // Remove focused state\n          this.removeState(\"focused\");\n\n          // Remove tabIndex\n          this._applyFocusable(false, true);\n        }\n\n        // Remove draggable\n        if (this.isDraggable()) {\n          this._applyDraggable(false, true);\n        }\n\n        // Remove droppable\n        if (this.isDroppable()) {\n          this._applyDroppable(false, true);\n        }\n      }\n      else\n      {\n        this.removeState(\"disabled\");\n\n        // Re-add tabIndex\n        if (this.isFocusable()) {\n          this._applyFocusable(true, false);\n        }\n\n        // Re-add draggable\n        if (this.isDraggable()) {\n          this._applyDraggable(true, false);\n        }\n\n        // Re-add droppable\n        if (this.isDroppable()) {\n          this._applyDroppable(true, false);\n        }\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CONTEXT MENU\n    ---------------------------------------------------------------------------\n    */\n\n    // property apply\n    _applyNativeContextMenu : function(value, old, name) {\n      // empty body to allow overriding\n    },\n\n\n    // property apply\n    _applyContextMenu : function(value, old)\n    {\n      if (old)\n      {\n        old.removeState(\"contextmenu\");\n\n        if (old.getOpener() == this) {\n          old.resetOpener();\n        }\n\n        if (!value)\n        {\n          this.removeListener(\"contextmenu\", this._onContextMenuOpen);\n          this.removeListener(\"longtap\", this._onContextMenuOpen);\n          old.removeListener(\"changeVisibility\", this._onBeforeContextMenuOpen, this);\n        }\n      }\n\n      if (value)\n      {\n        value.setOpener(this);\n        value.addState(\"contextmenu\");\n\n        if (!old)\n        {\n          this.addListener(\"contextmenu\", this._onContextMenuOpen);\n          this.addListener(\"longtap\", this._onContextMenuOpen);\n          value.addListener(\"changeVisibility\", this._onBeforeContextMenuOpen, this);\n        }\n      }\n    },\n\n\n    /**\n     * Event listener for <code>contextmenu</code> event\n     *\n     * @param e {qx.event.type.Pointer} The event object\n     */\n    _onContextMenuOpen : function(e)\n    {\n      // only allow long tap context menu on touch interactions\n      if (e.getType() == \"longtap\") {\n        if (e.getPointerType() !== \"touch\") {\n          return;\n        }\n      }\n      this.getContextMenu().openAtPointer(e);\n\n      // Do not show native menu\n      // don't open any other contextmenus\n      e.stop();\n    },\n\n\n    /**\n     * Event listener for <code>beforeContextmenuOpen</code> event\n     *\n     * @param e {qx.event.type.Data} The data event\n     */\n    _onBeforeContextMenuOpen : function(e)\n    {\n      if (e.getData() == \"visible\" && this.hasListener(\"beforeContextmenuOpen\")) {\n        this.fireDataEvent(\"beforeContextmenuOpen\", e);\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      USEFUL COMMON EVENT LISTENERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Event listener which stops a bubbling event from\n     * propagates further.\n     *\n     * @param e {qx.event.type.Event} Any bubbling event\n     */\n    _onStopEvent : function(e) {\n      e.stopPropagation();\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      DRAG & DROP SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Helper to return a instance of a {@link qx.ui.core.DragDropCursor}.\n     * If you want to use your own DragDropCursor, override this method\n     * and return your custom instance.\n     * @return {qx.ui.core.DragDropCursor} A drag drop cursor implementation.\n     */\n    _getDragDropCursor : function() {\n      return qx.ui.core.DragDropCursor.getInstance();\n    },\n\n    // property apply\n    _applyDraggable : function(value, old)\n    {\n      if (!this.isEnabled() && value === true) {\n        value = false;\n      }\n\n      // Force cursor creation\n      this._getDragDropCursor();\n\n      // Process listeners\n      if (value)\n      {\n        this.addListener(\"dragstart\", this._onDragStart);\n        this.addListener(\"drag\", this._onDrag);\n        this.addListener(\"dragend\", this._onDragEnd);\n        this.addListener(\"dragchange\", this._onDragChange);\n      }\n      else\n      {\n        this.removeListener(\"dragstart\", this._onDragStart);\n        this.removeListener(\"drag\", this._onDrag);\n        this.removeListener(\"dragend\", this._onDragEnd);\n        this.removeListener(\"dragchange\", this._onDragChange);\n      }\n\n      // Sync DOM attribute\n      this.getContentElement().setAttribute(\"qxDraggable\", value ? \"on\" : null);\n    },\n\n\n    // property apply\n    _applyDroppable : function(value, old)\n    {\n      if (!this.isEnabled() && value === true) {\n        value = false;\n      }\n\n      // Sync DOM attribute\n      this.getContentElement().setAttribute(\"qxDroppable\", value ? \"on\" : null);\n    },\n\n\n    /**\n     * Event listener for own <code>dragstart</code> event.\n     *\n     * @param e {qx.event.type.Drag} Drag event\n     */\n    _onDragStart : function(e)\n    {\n      this._getDragDropCursor().placeToPointer(e);\n      this.getApplicationRoot().setGlobalCursor(\"default\");\n    },\n\n\n    /**\n     * Event listener for own <code>drag</code> event.\n     *\n     * @param e {qx.event.type.Drag} Drag event\n     */\n    _onDrag : function(e) {\n      this._getDragDropCursor().placeToPointer(e);\n    },\n\n\n    /**\n     * Event listener for own <code>dragend</code> event.\n     *\n     * @param e {qx.event.type.Drag} Drag event\n     */\n    _onDragEnd : function(e)\n    {\n      this._getDragDropCursor().moveTo(-1000, -1000);\n      this.getApplicationRoot().resetGlobalCursor();\n    },\n\n\n    /**\n     * Event listener for own <code>dragchange</code> event.\n     *\n     * @param e {qx.event.type.Drag} Drag event\n     */\n    _onDragChange : function(e)\n    {\n      var cursor = this._getDragDropCursor();\n      var action = e.getCurrentAction();\n      action ? cursor.setAction(action) : cursor.resetAction();\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      VISUALIZE FOCUS STATES\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Event handler which is executed when the widget receives the focus.\n     *\n     * This method is used by the {@link qx.ui.core.FocusHandler} to\n     * apply states etc. to a focused widget.\n     *\n     * @internal\n     */\n    visualizeFocus : function() {\n      this.addState(\"focused\");\n    },\n\n\n    /**\n     * Event handler which is executed when the widget lost the focus.\n     *\n     * This method is used by the {@link qx.ui.core.FocusHandler} to\n     * remove states etc. from a previously focused widget.\n     *\n     * @internal\n     */\n    visualizeBlur : function() {\n      this.removeState(\"focused\");\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SCROLL CHILD INTO VIEW\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * The method scrolls the given item into view.\n     *\n     * @param child {qx.ui.core.Widget} Child to scroll into view\n     * @param alignX {String?null} Alignment of the item. Allowed values:\n     *   <code>left</code> or <code>right</code>. Could also be null.\n     *   Without a given alignment the method tries to scroll the widget\n     *   with the minimum effort needed.\n     * @param alignY {String?null} Alignment of the item. Allowed values:\n     *   <code>top</code> or <code>bottom</code>. Could also be null.\n     *   Without a given alignment the method tries to scroll the widget\n     *   with the minimum effort needed.\n     * @param direct {Boolean?true} Whether the execution should be made\n     *   directly when possible\n     */\n    scrollChildIntoView : function(child, alignX, alignY, direct)\n    {\n      // Scroll directly on default\n      direct = typeof direct == \"undefined\" ? true : direct;\n\n      // Always lazy scroll when either\n      // - the child\n      // - its layout parent\n      // - its siblings\n      // have layout changes scheduled.\n      //\n      // This is to make sure that the scroll position is computed\n      // after layout changes have been applied to the DOM. Note that changes\n      // scheduled for the grand parent (and up) are not tracked and need to\n      // be signaled manually.\n      var Layout = qx.ui.core.queue.Layout;\n      var parent;\n\n      // Child\n      if (direct) {\n        direct = !Layout.isScheduled(child);\n        parent = child.getLayoutParent();\n\n        // Parent\n        if (direct && parent) {\n          direct = !Layout.isScheduled(parent);\n\n          // Siblings\n          if (direct) {\n            parent.getChildren().forEach(function(sibling) {\n              direct = direct && !Layout.isScheduled(sibling);\n            });\n          }\n        }\n      }\n\n      this.scrollChildIntoViewX(child, alignX, direct);\n      this.scrollChildIntoViewY(child, alignY, direct);\n    },\n\n\n    /**\n     * The method scrolls the given item into view (x-axis only).\n     *\n     * @param child {qx.ui.core.Widget} Child to scroll into view\n     * @param align {String?null} Alignment of the item. Allowed values:\n     *   <code>left</code> or <code>right</code>. Could also be null.\n     *   Without a given alignment the method tries to scroll the widget\n     *   with the minimum effort needed.\n     * @param direct {Boolean?true} Whether the execution should be made\n     *   directly when possible\n     */\n    scrollChildIntoViewX : function(child, align, direct) {\n      this.getContentElement().scrollChildIntoViewX(child.getContentElement(), align, direct);\n    },\n\n\n    /**\n     * The method scrolls the given item into view (y-axis only).\n     *\n     * @param child {qx.ui.core.Widget} Child to scroll into view\n     * @param align {String?null} Alignment of the element. Allowed values:\n     *   <code>top</code> or <code>bottom</code>. Could also be null.\n     *   Without a given alignment the method tries to scroll the widget\n     *   with the minimum effort needed.\n     * @param direct {Boolean?true} Whether the execution should be made\n     *   directly when possible\n     */\n    scrollChildIntoViewY : function(child, align, direct) {\n      this.getContentElement().scrollChildIntoViewY(child.getContentElement(), align, direct);\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      FOCUS SYSTEM USER ACCESS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Focus this widget.\n     *\n     */\n    focus : function()\n    {\n      if (this.isFocusable()) {\n        this.getFocusElement().focus();\n      } else if (qx.ui.core.Widget.UNFOCUSABLE_WIDGET_FOCUS_BLUR_ERROR) {\n        throw new Error(\"Widget is not focusable!\");\n      }\n    },\n\n\n    /**\n     * Remove focus from this widget.\n     *\n     */\n    blur : function()\n    {\n      if (this.isFocusable()) {\n        this.getFocusElement().blur();\n      } else if (qx.ui.core.Widget.UNFOCUSABLE_WIDGET_FOCUS_BLUR_ERROR) {\n        throw new Error(\"Widget is not focusable!\");\n      }\n    },\n\n\n    /**\n     * Activate this widget e.g. for keyboard events.\n     *\n     */\n    activate : function() {\n      this.getContentElement().activate();\n    },\n\n\n    /**\n     * Deactivate this widget e.g. for keyboard events.\n     *\n     */\n    deactivate : function() {\n      this.getContentElement().deactivate();\n    },\n\n\n    /**\n     * Focus this widget when using the keyboard. This is\n     * mainly thought for the advanced qooxdoo keyboard handling\n     * and should not be used by the application developer.\n     *\n     * @internal\n     */\n    tabFocus : function() {\n      this.getFocusElement().focus();\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CHILD CONTROL SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Whether the given ID is assigned to a child control.\n     *\n     * @param id {String} ID of the child control\n     * @return {Boolean} <code>true</code> when the child control is registered.\n     */\n    hasChildControl : function(id)\n    {\n      if (!this.__childControls) {\n        return false;\n      }\n\n      return !!this.__childControls[id];\n    },\n\n\n    /** @type {Map} Map of instantiated child controls */\n    __childControls : null,\n\n\n    /**\n     * Returns a map of all already created child controls\n     *\n     * @return {Map} mapping of child control id to the child widget.\n     */\n    _getCreatedChildControls : function() {\n      return this.__childControls;\n    },\n\n\n    /**\n     * Returns the child control from the given ID. Returns\n     * <code>null</code> when the child control is unknown.\n     *\n     * It is designed for widget authors, who want to access child controls,\n     * which are created by the widget itself.\n     *\n     * <b>Warning</b>: This method exposes widget internals and modifying the\n     * returned sub widget may bring the widget into an inconsistent state.\n     * Accessing child controls defined in a super class or in an foreign class\n     * is not supported. Do not use it if the result can be achieved using public\n     * API or theming.\n     *\n     * @param id {String} ID of the child control\n     * @param notcreate {Boolean?false} Whether the child control\n     *    should not be created dynamically if not yet available.\n     * @return {qx.ui.core.Widget} Child control\n     */\n    getChildControl : function(id, notcreate)\n    {\n      if (!this.__childControls)\n      {\n        if (notcreate) {\n          return null;\n        }\n\n        this.__childControls = {};\n      }\n\n      var control = this.__childControls[id];\n      if (control) {\n        return control;\n      }\n\n      if (notcreate === true) {\n        return null;\n      }\n\n      return this._createChildControl(id);\n    },\n\n\n    /**\n     * Shows the given child control by ID\n     *\n     * @param id {String} ID of the child control\n     * @return {qx.ui.core.Widget} the child control\n     */\n    _showChildControl : function(id)\n    {\n      var control = this.getChildControl(id);\n      control.show();\n      return control;\n    },\n\n\n    /**\n     * Excludes the given child control by ID\n     *\n     * @param id {String} ID of the child control\n     */\n    _excludeChildControl : function(id)\n    {\n      var control = this.getChildControl(id, true);\n      if (control) {\n        control.exclude();\n      }\n    },\n\n\n    /**\n     * Whether the given child control is visible.\n     *\n     * @param id {String} ID of the child control\n     * @return {Boolean} <code>true</code> when the child control is visible.\n     */\n    _isChildControlVisible : function(id)\n    {\n      var control = this.getChildControl(id, true);\n      if (control) {\n        return control.isVisible();\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Release the child control by ID and decouple the\n     * child from the parent. This method does not dispose the child control.\n     *\n     * @param id {String} ID of the child control\n     * @return {qx.ui.core.Widget} The released control\n     */\n    _releaseChildControl : function(id)\n    {\n      var control = this.getChildControl(id, false);\n      if (!control) {\n        throw new Error(\"Unsupported control: \" + id);\n      }\n\n      // remove connection to parent\n      delete control.$$subcontrol;\n      delete control.$$subparent;\n\n      // remove state forwarding\n      var states = this.__states;\n      var forward = this._forwardStates;\n\n      if (states && forward && control instanceof qx.ui.core.Widget) {\n        for (var state in states) {\n          if (forward[state]) {\n            control.removeState(state);\n          }\n        }\n      }\n\n      delete this.__childControls[id];\n\n      return control;\n    },\n\n\n    /**\n     * Force the creation of the given child control by ID.\n     *\n     * Do not override this method! Override {@link #_createChildControlImpl}\n     * instead if you need to support new controls.\n     *\n     * @param id {String} ID of the child control\n     * @return {qx.ui.core.Widget} The created control\n     * @throws {Error} when the control was created before\n     */\n    _createChildControl : function(id)\n    {\n      if (!this.__childControls) {\n        this.__childControls = {};\n      } else if (this.__childControls[id]) {\n        throw new Error(\"Child control '\" + id + \"' already created!\");\n      }\n\n      var pos = id.indexOf(\"#\");\n      try {\n        if (pos == -1) {\n          var control = this._createChildControlImpl(id);\n        } else {\n          var control = this._createChildControlImpl(\n            id.substring(0, pos), id.substring(pos + 1, id.length)\n          );\n        }\n      } catch(exc) {\n        exc.message = \"Exception while creating child control '\" + id +\n        \"' of widget \" + this.toString() + \": \" + exc.message;\n        throw exc;\n      }\n\n      if (!control) {\n        throw new Error(\"Unsupported control: \" + id);\n      }\n\n      // Establish connection to parent\n      control.$$subcontrol = id;\n      control.$$subparent = this;\n\n      // Support for state forwarding\n      var states = this.__states;\n      var forward = this._forwardStates;\n\n      if (states && forward && control instanceof qx.ui.core.Widget)\n      {\n        for (var state in states)\n        {\n          if (forward[state]) {\n            control.addState(state);\n          }\n        }\n      }\n\n      // If the appearance is already synced after the child control\n      // we need to update the appearance now, because the selector\n      // might be not correct in certain cases.\n      if (control.$$resyncNeeded) {\n        delete control.$$resyncNeeded;\n        control.updateAppearance();\n      }\n\n      this.fireDataEvent(\"createChildControl\", control);\n\n      // Register control and return\n      return this.__childControls[id] = control;\n    },\n\n\n    /**\n     * Internal method to create child controls. This method\n     * should be overwritten by classes which extends this one\n     * to support new child control types.\n     *\n     * @param id {String} ID of the child control. If a # is used, the id is\n     *   the part in front of the #.\n     * @param hash {String?undefined} If a child control name contains a #,\n     *   all text following the # will be the hash argument.\n     * @return {qx.ui.core.Widget} The created control or <code>null</code>\n     */\n    _createChildControlImpl : function(id, hash) {\n      return null;\n    },\n\n\n    /**\n     * Dispose all registered controls. This is automatically\n     * executed by the widget.\n     *\n     */\n    _disposeChildControls : function()\n    {\n      var controls = this.__childControls;\n      if (!controls) {\n        return;\n      }\n\n      var Widget = qx.ui.core.Widget;\n\n      for (var id in controls)\n      {\n        var control = controls[id];\n        if (!Widget.contains(this, control)) {\n          control.destroy();\n        } else {\n          control.dispose();\n        }\n      }\n\n      delete this.__childControls;\n    },\n\n\n    /**\n     * Finds and returns the top level control. This is the first\n     * widget which is not a child control of any other widget.\n     *\n     * @return {qx.ui.core.Widget} The top control\n     */\n    _findTopControl : function()\n    {\n      var obj = this;\n      while (obj)\n      {\n        if (!obj.$$subparent) {\n          return obj;\n        }\n\n        obj = obj.$$subparent;\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Return the ID (name) if this instance was a created as a child control of another widget.\n     *\n     * See the first parameter id in {@link qx.ui.core.Widget#_createChildControlImpl}\n     *\n     * @return {String|null} ID of the current widget or null if it was not created as a subcontrol\n     */\n    getSubcontrolId : function()\n    {\n      return this.$$subcontrol || null;\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      LOWER LEVEL ACCESS\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Computes the location of the content element in context of the document\n     * dimensions.\n     *\n     * Supported modes:\n     *\n     * * <code>margin</code>: Calculate from the margin box of the element\n     *   (bigger than the visual appearance: including margins of given element)\n     * * <code>box</code>: Calculates the offset box of the element (default,\n     *   uses the same size as visible)\n     * * <code>border</code>: Calculate the border box (useful to align to\n     *   border edges of two elements).\n     * * <code>scroll</code>: Calculate the scroll box (relevant for absolute\n     *   positioned content).\n     * * <code>padding</code>: Calculate the padding box (relevant for\n     *   static/relative positioned content).\n     *\n     * @param mode {String?box} A supported option. See comment above.\n     * @return {Map} Returns a map with <code>left</code>, <code>top</code>,\n     *   <code>right</code> and <code>bottom</code> which contains the distance\n     *   of the element relative to the document.\n     */\n    getContentLocation : function(mode)\n    {\n      var domEl = this.getContentElement().getDomElement();\n      return domEl ? qx.bom.element.Location.get(domEl, mode) : null;\n    },\n\n\n    /**\n     * Directly modifies the relative left position in relation\n     * to the parent element.\n     *\n     * Use with caution! This may be used for animations, drag&drop\n     * or other cases where high performance location manipulation\n     * is important. Otherwise please use {@link qx.ui.core.LayoutItem#setUserBounds} instead.\n     *\n     * @param value {Integer} Left position\n     */\n    setDomLeft : function(value)\n    {\n      var domEl = this.getContentElement().getDomElement();\n      if (domEl) {\n        domEl.style.left = value + \"px\";\n      } else {\n        throw new Error(\"DOM element is not yet created!\");\n      }\n    },\n\n\n    /**\n     * Directly modifies the relative top position in relation\n     * to the parent element.\n     *\n     * Use with caution! This may be used for animations, drag&drop\n     * or other cases where high performance location manipulation\n     * is important. Otherwise please use {@link qx.ui.core.LayoutItem#setUserBounds} instead.\n     *\n     * @param value {Integer} Top position\n     */\n    setDomTop : function(value)\n    {\n      var domEl = this.getContentElement().getDomElement();\n      if (domEl) {\n        domEl.style.top = value + \"px\";\n      } else {\n        throw new Error(\"DOM element is not yet created!\");\n      }\n    },\n\n\n    /**\n     * Directly modifies the relative left and top position in relation\n     * to the parent element.\n     *\n     * Use with caution! This may be used for animations, drag&drop\n     * or other cases where high performance location manipulation\n     * is important. Otherwise please use {@link qx.ui.core.LayoutItem#setUserBounds} instead.\n     *\n     * @param left {Integer} Left position\n     * @param top {Integer} Top position\n     */\n    setDomPosition : function(left, top)\n    {\n      var domEl = this.getContentElement().getDomElement();\n      if (domEl)\n      {\n        domEl.style.left = left + \"px\";\n        domEl.style.top = top + \"px\";\n      }\n      else\n      {\n        throw new Error(\"DOM element is not yet created!\");\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      ENHANCED DISPOSE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Removes this widget from its parent and disposes it.\n     *\n     * Please note that the widget is not disposed synchronously. The\n     * real dispose happens after the next queue flush.\n     *\n     */\n    destroy : function()\n    {\n      if (this.$$disposed) {\n        return;\n      }\n\n      var parent = this.$$parent;\n      if (parent) {\n        parent._remove(this);\n      }\n\n      qx.ui.core.queue.Dispose.add(this);\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CLONE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    clone : function()\n    {\n      var clone = this.base(arguments);\n\n      if (this.getChildren)\n      {\n        var children = this.getChildren();\n        for (var i=0, l=children.length; i<l; i++) {\n          clone.add(children[i].clone());\n        }\n      }\n\n      return clone;\n    }\n\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    // Some dispose stuff is not needed in global shutdown, otherwise\n    // it just slows down things a bit, so do not do them.\n    if (!qx.core.ObjectRegistry.inShutDown)\n    {\n      if (qx.core.Environment.get(\"qx.dynlocale\"))\n      {\n        if (this.__toolTipTextListenerId)\n        {\n          qx.locale.Manager.getInstance().removeListenerById(\n            this.__toolTipTextListenerId\n          );\n        }\n      }\n\n      // Remove widget pointer from DOM\n      var contentEl = this.getContentElement();\n      if (contentEl) {\n      \tcontentEl.disconnectWidget(this);\n      }\n\n      // Clean up all child controls\n      this._disposeChildControls();\n\n      // Remove from ui queues\n      qx.ui.core.queue.Appearance.remove(this);\n      qx.ui.core.queue.Layout.remove(this);\n      qx.ui.core.queue.Visibility.remove(this);\n      qx.ui.core.queue.Widget.remove(this);\n    }\n\n    if (this.getContextMenu()) {\n      this.setContextMenu(null);\n    }\n\n    // pool decorators if not in global shutdown\n    if (!qx.core.ObjectRegistry.inShutDown)\n    {\n      this.clearSeparators();\n      this.__separators = null;\n    }\n    else\n    {\n      this._disposeArray(\"__separators\");\n    }\n\n    // Clear children array\n    this._disposeArray(\"__widgetChildren\");\n\n\n    // Cleanup map of appearance states\n    this.__states = this.__childControls = null;\n\n\n    // Dispose layout manager and HTML elements\n    this._disposeObjects(\n      \"__layoutManager\",\n      \"__contentElement\"\n    );\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2010 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Alexander Steitz (aback)\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * Prototype JS\n     http://www.prototypejs.org/\n     Version 1.5\n\n     Copyright:\n       (c) 2006-2007, Prototype Core Team\n\n     License:\n       MIT: http://www.opensource.org/licenses/mit-license.php\n\n     Authors:\n       * Prototype Core Team\n\n   ----------------------------------------------------------------------\n\n     Copyright (c) 2005-2008 Sam Stephenson\n\n     Permission is hereby granted, free of charge, to any person\n     obtaining a copy of this software and associated documentation\n     files (the \"Software\"), to deal in the Software without restriction,\n     including without limitation the rights to use, copy, modify, merge,\n     publish, distribute, sublicense, and/or sell copies of the Software,\n     and to permit persons to whom the Software is furnished to do so,\n     subject to the following conditions:\n\n     THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n     EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n     MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n     NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n     HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n     WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n     OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n     DEALINGS IN THE SOFTWARE.\n\n************************************************************************ */\n\n\n/**\n * Attribute/Property handling for DOM HTML elements.\n *\n * Also includes support for HTML properties like <code>checked</code>\n * or <code>value</code>. This feature set is supported cross-browser\n * through one common interface and is independent of the differences between\n * the multiple implementations.\n *\n * Supports applying text and HTML content using the attribute names\n * <code>text</code> and <code>html</code>.\n */\nqx.Bootstrap.define(\"qx.bom.element.Attribute\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n\n    /** Internal map of attribute conversions */\n    __hints :\n    {\n      // Name translation table (camelcase is important for some attributes)\n      names :\n      {\n        \"class\"     : \"className\",\n        \"for\"       : \"htmlFor\",\n        html        : \"innerHTML\",\n        text        : qx.core.Environment.get(\"html.element.textcontent\") ? \"textContent\" : \"innerText\",\n        colspan     : \"colSpan\",\n        rowspan     : \"rowSpan\",\n        valign      : \"vAlign\",\n        datetime    : \"dateTime\",\n        accesskey   : \"accessKey\",\n        tabindex    : \"tabIndex\",\n        maxlength   : \"maxLength\",\n        readonly    : \"readOnly\",\n        longdesc    : \"longDesc\",\n        cellpadding : \"cellPadding\",\n        cellspacing : \"cellSpacing\",\n        frameborder : \"frameBorder\",\n        usemap      : \"useMap\"\n      },\n\n      // Attributes which are only applyable on a DOM element (not using compile())\n      runtime :\n      {\n        \"html\" : 1,\n        \"text\" : 1\n      },\n\n      // Attributes which are (forced) boolean\n      bools :\n      {\n        compact  : 1,\n        nowrap   : 1,\n        ismap    : 1,\n        declare  : 1,\n        noshade  : 1,\n        checked  : 1,\n        disabled : 1,\n        readOnly : 1,\n        multiple : 1,\n        selected : 1,\n        noresize : 1,\n        defer    : 1,\n        allowTransparency : 1\n      },\n\n      // Interpreted as property (element.property)\n      property :\n      {\n        // Used by qx.html.Element\n        $$element       : 1,\n        $$elementObject : 1,\n\n        // Used by qx.ui.core.Widget\n        $$widget        : 1,\n        $$widgetObject  : 1,\n\n        // Native properties\n        checked     : 1,\n        readOnly    : 1,\n        multiple    : 1,\n        selected    : 1,\n        value       : 1,\n        maxLength   : 1,\n        className   : 1,\n        innerHTML   : 1,\n        innerText   : 1,\n        textContent : 1,\n        htmlFor     : 1,\n        tabIndex    : 1\n      },\n\n      qxProperties :\n      {\n        $$widget : 1,\n        $$widgetObject : 1,\n        $$element : 1,\n        $$elementObject : 1\n      },\n\n      // Default values when \"null\" is given to a property\n      propertyDefault :\n      {\n        disabled : false,\n        checked : false,\n        readOnly : false,\n        multiple : false,\n        selected : false,\n        value : \"\",\n        className : \"\",\n        innerHTML : \"\",\n        innerText : \"\",\n        textContent : \"\",\n        htmlFor : \"\",\n        tabIndex : 0,\n        maxLength: qx.core.Environment.select(\"engine.name\", {\n          \"mshtml\" : 2147483647,\n          \"webkit\": 524288,\n          \"default\": -1\n        })\n      },\n\n\n      // Properties which can be removed to reset them\n      removeableProperties :\n      {\n        disabled: 1,\n        multiple: 1,\n        maxLength: 1\n      }\n    },\n\n\n    /**\n     * Compiles an incoming attribute map to a string which\n     * could be used when building HTML blocks using innerHTML.\n     *\n     * This method silently ignores runtime attributes like\n     * <code>html</code> or <code>text</code>.\n     *\n     * @param map {Map} Map of attributes. The key is the name of the attribute.\n     * @return {String} Returns a compiled string ready for usage.\n     */\n    compile : function(map)\n    {\n      var html = [];\n      var runtime = this.__hints.runtime;\n\n      for (var key in map)\n      {\n        if (!runtime[key]) {\n          html.push(key, \"='\", map[key], \"'\");\n        }\n      }\n\n      return html.join(\"\");\n    },\n\n\n    /**\n     * Returns the value of the given HTML attribute\n     *\n     * @param element {Element} The DOM element to query\n     * @param name {String} Name of the attribute\n     * @return {var} The value of the attribute\n     */\n    get : function(element, name)\n    {\n      var hints = this.__hints;\n      var value;\n\n      // normalize name\n      name = hints.names[name] || name;\n\n      // respect properties\n      if (hints.property[name])\n      {\n        value = element[name];\n\n        if (typeof hints.propertyDefault[name] !== \"undefined\" &&\n            value == hints.propertyDefault[name])\n        {\n          // only return null for all non-boolean properties\n          if (typeof hints.bools[name] === \"undefined\") {\n            return null;\n          } else {\n            return value;\n          }\n        }\n      } else { // fallback to attribute\n        value = element.getAttribute(name);\n\n        // All modern browsers interpret \"\" as true but not IE8, which set the property to \"\" reset\n        if (hints.bools[name] && !(qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n        parseInt(qx.core.Environment.get(\"browser.documentmode\"), 10) <= 8 )) {\n          return qx.Bootstrap.isString(value); // also respect empty strings as true\n        }\n      }\n\n      if (hints.bools[name]) {\n        return !!value;\n      }\n\n      return value;\n    },\n\n\n    /**\n     * Sets an HTML attribute on the given DOM element\n     *\n     * @param element {Element} The DOM element to modify\n     * @param name {String} Name of the attribute\n     * @param value {var} New value of the attribute\n     */\n    set : function(element, name, value)\n    {\n      if (typeof value === \"undefined\") {\n        return;\n      }\n\n      var hints = this.__hints;\n\n      // normalize name\n      name = hints.names[name] || name;\n\n      // respect booleans\n      if (hints.bools[name] && !qx.lang.Type.isBoolean(value)) {\n        value = qx.lang.Type.isString(value);\n      }\n\n      // apply attribute\n      // only properties which can be applied by the browser or qxProperties\n      // otherwise use the attribute methods\n      if (hints.property[name] && (!(element[name] === undefined) || hints.qxProperties[name]))\n      {\n        // resetting the attribute/property\n        if (value == null)\n        {\n          // for properties which need to be removed for a correct reset\n          if (hints.removeableProperties[name])\n          {\n            element.removeAttribute(name);\n            return;\n          } else if (typeof hints.propertyDefault[name] !== \"undefined\") {\n            value = hints.propertyDefault[name];\n          }\n        }\n\n        element[name] = value;\n      }\n      else\n      {\n        if ((hints.bools[name] || value === null) &&\n          name.indexOf(\"data-\") !== 0)\n        {\n          if (value === true) {\n          element.setAttribute(name, name);\n          } else if (value === false || value === null) {\n            element.removeAttribute(name);\n          }\n        }\n        else if (value === null) {\n          element.removeAttribute(name);\n        }\n        else {\n          element.setAttribute(name, value);\n        }\n      }\n    },\n\n\n    /**\n     * Resets an HTML attribute on the given DOM element\n     *\n     * @param element {Element} The DOM element to modify\n     * @param name {String} Name of the attribute\n     */\n    reset : function(element, name) {\n      if (name.indexOf(\"data-\") === 0) {\n        element.removeAttribute(name);\n      } else {\n        this.set(element, name, null);\n      }\n    }\n  }\n});","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * Yahoo! UI Library\n       http://developer.yahoo.com/yui\n       Version 2.2.0\n\n     Copyright:\n       (c) 2007, Yahoo! Inc.\n\n     License:\n       BSD: http://developer.yahoo.com/yui/license.txt\n\n   ----------------------------------------------------------------------\n\n     http://developer.yahoo.com/yui/license.html\n\n     Copyright (c) 2009, Yahoo! Inc.\n     All rights reserved.\n\n     Redistribution and use of this software in source and binary forms,\n     with or without modification, are permitted provided that the\n     following conditions are met:\n\n     * Redistributions of source code must retain the above copyright\n       notice, this list of conditions and the following disclaimer.\n     * Redistributions in binary form must reproduce the above copyright\n       notice, this list of conditions and the following disclaimer in\n       the documentation and/or other materials provided with the\n       distribution.\n     * Neither the name of Yahoo! Inc. nor the names of its contributors\n       may be used to endorse or promote products derived from this\n       software without specific prior written permission of Yahoo! Inc.\n\n     THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n     \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n     LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS\n     FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\n     COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,\n     INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n     (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n     SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)\n     HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,\n     STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n     ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED\n     OF THE POSSIBILITY OF SUCH DAMAGE.\n\n************************************************************************ */\n\n/**\n * Includes library functions to work with the current document.\n */\nqx.Bootstrap.define(\"qx.bom.Document\",\n{\n  statics :\n  {\n    /**\n     * Whether the document is in quirks mode (e.g. non XHTML, HTML4 Strict or missing doctype)\n     *\n     * @signature function(win)\n     * @param win {Window?window} The window to query\n     * @return {Boolean} true when containing document is in quirks mode\n     */\n    isQuirksMode : qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(win)\n      {\n        if(qx.core.Environment.get(\"engine.version\") >= 8) {\n          return (win||window).document.documentMode === 5;\n        } else {\n          return (win||window).document.compatMode !== \"CSS1Compat\";\n        }\n      },\n\n      \"webkit\" : function(win)\n      {\n        if (document.compatMode === undefined)\n        {\n          var el = (win||window).document.createElement(\"div\");\n          el.style.cssText = \"position:absolute;width:0;height:0;width:1\";\n          return el.style.width === \"1px\" ? true : false;\n        } else {\n          return (win||window).document.compatMode !== \"CSS1Compat\";\n        }\n      },\n\n      \"default\" : function(win) {\n        return (win||window).document.compatMode !== \"CSS1Compat\";\n      }\n    }),\n\n\n    /**\n     * Whether the document is in standard mode (e.g. XHTML, HTML4 Strict or doctype defined)\n     *\n     * @param win {Window?window} The window to query\n     * @return {Boolean} true when containing document is in standard mode\n     */\n    isStandardMode : function(win) {\n      return !this.isQuirksMode(win);\n    },\n\n\n    /**\n     * Returns the width of the document.\n     *\n     * Internet Explorer in standard mode stores the proprietary <code>scrollWidth</code> property\n     * on the <code>documentElement</code>, but in quirks mode on the body element. All\n     * other known browsers simply store the correct value on the <code>documentElement</code>.\n     *\n     * If the viewport is wider than the document the viewport width is returned.\n     *\n     * As the html element has no visual appearance it also can not scroll. This\n     * means that we must use the body <code>scrollWidth</code> in all non mshtml clients.\n     *\n     * Verified to correctly work with:\n     *\n     * * Mozilla Firefox 2.0.0.4\n     * * Opera 9.2.1\n     * * Safari 3.0 beta (3.0.2)\n     * * Internet Explorer 7.0\n     *\n     * @param win {Window?window} The window to query\n     * @return {Integer} The width of the actual document (which includes the body and its margin).\n     *\n     * NOTE: Opera 9.5x and 9.6x have wrong value for the scrollWidth property,\n     * if an element use negative value for top and left to be outside the viewport!\n     * See: http://bugzilla.qooxdoo.org/show_bug.cgi?id=2869\n     */\n    getWidth : function(win)\n    {\n      var doc = (win||window).document;\n      var view = qx.bom.Viewport.getWidth(win);\n      var scroll = this.isStandardMode(win) ? doc.documentElement.scrollWidth : doc.body.scrollWidth;\n      return Math.max(scroll, view);\n    },\n\n\n    /**\n     * Returns the height of the document.\n     *\n     * Internet Explorer in standard mode stores the proprietary <code>scrollHeight</code> property\n     * on the <code>documentElement</code>, but in quirks mode on the body element. All\n     * other known browsers simply store the correct value on the <code>documentElement</code>.\n     *\n     * If the viewport is higher than the document the viewport height is returned.\n     *\n     * As the html element has no visual appearance it also can not scroll. This\n     * means that we must use the body <code>scrollHeight</code> in all non mshtml clients.\n     *\n     * Verified to correctly work with:\n     *\n     * * Mozilla Firefox 2.0.0.4\n     * * Opera 9.2.1\n     * * Safari 3.0 beta (3.0.2)\n     * * Internet Explorer 7.0\n     *\n     * @param win {Window?window} The window to query\n     * @return {Integer} The height of the actual document (which includes the body and its margin).\n     *\n     * NOTE: Opera 9.5x and 9.6x have wrong value for the scrollWidth property,\n     * if an element use negative value for top and left to be outside the viewport!\n     * See: http://bugzilla.qooxdoo.org/show_bug.cgi?id=2869\n     */\n    getHeight : function(win)\n    {\n      var doc = (win||window).document;\n      var view = qx.bom.Viewport.getHeight(win);\n      var scroll = this.isStandardMode(win) ? doc.documentElement.scrollHeight : doc.body.scrollHeight;\n      return Math.max(scroll, view);\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n\n/**\n * Responsible for checking all relevant animation properties.\n *\n * Spec: http://www.w3.org/TR/css3-animations/\n *\n * @require(qx.bom.Stylesheet)\n * @internal\n */\nqx.Bootstrap.define(\"qx.bom.client.CssAnimation\",\n{\n  statics : {\n    /**\n     * Main check method which returns an object if CSS animations are\n     * supported. This object contains all necessary keys to work with CSS\n     * animations.\n     * <ul>\n     *  <li><code>name</code> The name of the css animation style</li>\n     *  <li><code>play-state</code> The name of the play-state style</li>\n     *  <li><code>start-event</code> The name of the start event</li>\n     *  <li><code>iteration-event</code> The name of the iteration event</li>\n     *  <li><code>end-event</code> The name of the end event</li>\n     *  <li><code>fill-mode</code> The fill-mode style</li>\n     *  <li><code>keyframes</code> The name of the keyframes selector.</li>\n     * </ul>\n     *\n     * @internal\n     * @return {Object|null} The described object or null, if animations are\n     *   not supported.\n     */\n    getSupport : function() {\n      var name = qx.bom.client.CssAnimation.getName();\n      if (name != null) {\n        return {\n          \"name\" : name,\n          \"play-state\" : qx.bom.client.CssAnimation.getPlayState(),\n          \"start-event\" : qx.bom.client.CssAnimation.getAnimationStart(),\n          \"iteration-event\" : qx.bom.client.CssAnimation.getAnimationIteration(),\n          \"end-event\" : qx.bom.client.CssAnimation.getAnimationEnd(),\n          \"fill-mode\" : qx.bom.client.CssAnimation.getFillMode(),\n          \"keyframes\" : qx.bom.client.CssAnimation.getKeyFrames()\n        };\n      }\n      return null;\n    },\n\n\n    /**\n     * Checks for the 'animation-fill-mode' CSS style.\n     * @internal\n     * @return {String|null} The name of the style or null, if the style is\n     *   not supported.\n     */\n    getFillMode : function() {\n      return qx.bom.Style.getPropertyName(\"AnimationFillMode\");\n    },\n\n\n\n    /**\n     * Checks for the 'animation-play-state' CSS style.\n     * @internal\n     * @return {String|null} The name of the style or null, if the style is\n     *   not supported.\n     */\n    getPlayState : function() {\n      return qx.bom.Style.getPropertyName(\"AnimationPlayState\");\n    },\n\n\n    /**\n     * Checks for the style name used for animations.\n     * @internal\n     * @return {String|null} The name of the style or null, if the style is\n     *   not supported.\n     */\n    getName : function() {\n      return qx.bom.Style.getPropertyName(\"animation\");\n    },\n\n\n    /**\n     * Checks for the event name of animation start.\n     * @internal\n     * @return {String} The name of the event.\n     */\n    getAnimationStart : function() {\n      // special handling for mixed prefixed / unprefixed implementations\n      if (qx.bom.Event.supportsEvent(window, \"webkitanimationstart\")) {\n        return \"webkitAnimationStart\";\n      }\n      var mapping = {\n        \"msAnimation\" : \"MSAnimationStart\",\n        \"WebkitAnimation\" : \"webkitAnimationStart\",\n        \"MozAnimation\" : \"animationstart\",\n        \"OAnimation\" : \"oAnimationStart\",\n        \"animation\" : \"animationstart\"\n      };\n\n      return mapping[this.getName()];\n    },\n\n\n    /**\n     * Checks for the event name of animation end.\n     * @internal\n     * @return {String} The name of the event.\n     */\n    getAnimationIteration : function() {\n      // special handling for mixed prefixed / unprefixed implementations\n      if (qx.bom.Event.supportsEvent(window, \"webkitanimationiteration\")) {\n        return \"webkitAnimationIteration\";\n      }\n      var mapping = {\n        \"msAnimation\" : \"MSAnimationIteration\",\n        \"WebkitAnimation\" : \"webkitAnimationIteration\",\n        \"MozAnimation\" : \"animationiteration\",\n        \"OAnimation\" : \"oAnimationIteration\",\n        \"animation\" : \"animationiteration\"\n      };\n\n      return mapping[this.getName()];\n    },\n\n\n    /**\n     * Checks for the event name of animation end.\n     * @internal\n     * @return {String} The name of the event.\n     */\n    getAnimationEnd : function() {\n      // special handling for mixed prefixed / unprefixed implementations\n      if (qx.bom.Event.supportsEvent(window, \"webkitanimationend\")) {\n        return \"webkitAnimationEnd\";\n      }\n      var mapping = {\n        \"msAnimation\" : \"MSAnimationEnd\",\n        \"WebkitAnimation\" : \"webkitAnimationEnd\",\n        \"MozAnimation\" : \"animationend\",\n        \"OAnimation\" : \"oAnimationEnd\",\n        \"animation\" : \"animationend\"\n      };\n\n      return mapping[this.getName()];\n    },\n\n\n    /**\n     * Checks what selector should be used to add keyframes to stylesheets.\n     * @internal\n     * @return {String|null} The name of the selector or null, if the selector\n     *   is not supported.\n     */\n    getKeyFrames : function() {\n      var prefixes = qx.bom.Style.VENDOR_PREFIXES;\n      var keyFrames = [];\n      for (var i=0; i < prefixes.length; i++) {\n        var key = \"@\" + qx.bom.Style.getCssName(prefixes[i]) + \"-keyframes\";\n        keyFrames.push(key);\n      };\n      keyFrames.unshift(\"@keyframes\");\n\n      var sheet = qx.bom.Stylesheet.createElement();\n      for (var i=0; i < keyFrames.length; i++) {\n        try {\n          qx.bom.Stylesheet.addRule(sheet, keyFrames[i] + \" name\", \"\");\n          return keyFrames[i];\n        } catch (e) {}\n      };\n\n      return null;\n    },\n\n\n    /**\n     * Checks for the requestAnimationFrame method and return the prefixed name.\n     * @internal\n     * @return {String|null} A string the method name or null, if the method\n     *   is not supported.\n     */\n    getRequestAnimationFrame : function() {\n      var choices = [\n        \"requestAnimationFrame\",\n        \"msRequestAnimationFrame\",\n        \"webkitRequestAnimationFrame\",\n        \"mozRequestAnimationFrame\",\n        \"oRequestAnimationFrame\" // currently unspecified, so we guess the name!\n      ];\n      for (var i=0; i < choices.length; i++) {\n        if (window[choices[i]] != undefined) {\n          return choices[i];\n        }\n      };\n\n      return null;\n    }\n  },\n\n\n  defer : function(statics) {\n    qx.core.Environment.add(\"css.animation\", statics.getSupport);\n    qx.core.Environment.add(\"css.animation.requestframe\", statics.getRequestAnimationFrame);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Manages children structures of an element. Easy and convenient APIs\n * to insert, remove and replace children.\n */\nqx.Bootstrap.define(\"qx.dom.Element\",\n{\n  statics :\n  {\n    /**\n     * Whether the given <code>child</code> is a child of <code>parent</code>\n     *\n     * @param parent {Element} parent element\n     * @param child {Node} child node\n     * @return {Boolean} true when the given <code>child</code> is a child of <code>parent</code>\n     */\n    hasChild : function(parent, child) {\n      return child.parentNode === parent;\n    },\n\n\n    /**\n     * Whether the given <code>element</code> has children.\n     *\n     * @param element {Element} element to test\n     * @return {Boolean} true when the given <code>element</code> has at least one child node\n     */\n    hasChildren : function(element) {\n      return !!element.firstChild;\n    },\n\n\n    /**\n     * Whether the given <code>element</code> has any child elements.\n     *\n     * @param element {Element} element to test\n     * @return {Boolean} true when the given <code>element</code> has at least one child element\n     */\n    hasChildElements : function(element)\n    {\n      element = element.firstChild;\n\n      while(element)\n      {\n        if (element.nodeType === 1) {\n          return true;\n        }\n\n        element = element.nextSibling;\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Returns the parent element of the given element.\n     *\n     * @param element {Element} Element to find the parent for\n     * @return {Element} The parent element\n     */\n    getParentElement : function(element) {\n      return element.parentNode;\n    },\n\n\n    /**\n     * Checks if the <code>element</code> is in the DOM, but note that\n     * the method is very expensive!\n     *\n     * @param element {Element} The DOM element to check.\n     * @param win {Window} The window to check for.\n     * @return {Boolean} <code>true</code> if the <code>element</code> is in\n     *          the DOM, <code>false</code> otherwise.\n     */\n    isInDom :function(element, win)\n    {\n      if (!win) {\n        win = window;\n      }\n\n      var domElements = win.document.getElementsByTagName(element.nodeName);\n\n      for (var i=0, l=domElements.length; i<l; i++)\n      {\n        if (domElements[i] === element) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      INSERTION\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Inserts <code>node</code> at the given <code>index</code>\n     * inside <code>parent</code>.\n     *\n     * @param node {Node} node to insert\n     * @param parent {Element} parent element node\n     * @param index {Integer} where to insert\n     * @return {Boolean} returns true (successful)\n     */\n    insertAt : function(node, parent, index)\n    {\n      var ref = parent.childNodes[index];\n\n      if (ref) {\n        parent.insertBefore(node, ref);\n      } else {\n        parent.appendChild(node);\n      }\n\n      return true;\n    },\n\n\n    /**\n     * Insert <code>node</code> into <code>parent</code> as first child.\n     * Indexes of other children will be incremented by one.\n     *\n     * @param node {Node} Node to insert\n     * @param parent {Element} parent element node\n     * @return {Boolean} returns true (successful)\n     */\n    insertBegin : function(node, parent)\n    {\n      if (parent.firstChild) {\n        this.insertBefore(node, parent.firstChild);\n      } else {\n        parent.appendChild(node);\n      }\n      return true;\n    },\n\n\n    /**\n     * Insert <code>node</code> into <code>parent</code> as last child.\n     *\n     * @param node {Node} Node to insert\n     * @param parent {Element} parent element node\n     * @return {Boolean} returns true (successful)\n     */\n    insertEnd : function(node, parent) {\n      parent.appendChild(node);\n      return true;\n    },\n\n\n    /**\n     * Inserts <code>node</code> before <code>ref</code> in the same parent.\n     *\n     * @param node {Node} Node to insert\n     * @param ref {Node} Node which will be used as reference for insertion\n     * @return {Boolean} returns true (successful)\n     */\n    insertBefore : function(node, ref)\n    {\n      ref.parentNode.insertBefore(node, ref);\n      return true;\n    },\n\n\n    /**\n     * Inserts <code>node</code> after <code>ref</code> in the same parent.\n     *\n     * @param node {Node} Node to insert\n     * @param ref {Node} Node which will be used as reference for insertion\n     * @return {Boolean} returns true (successful)\n     */\n    insertAfter : function(node, ref)\n    {\n      var parent = ref.parentNode;\n\n      if (ref == parent.lastChild) {\n        parent.appendChild(node);\n      } else {\n        return this.insertBefore(node, ref.nextSibling);\n      }\n\n      return true;\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      REMOVAL\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Removes the given <code>node</code> from its parent element.\n     *\n     * @param node {Node} Node to remove\n     * @return {Boolean} <code>true</code> when node was successfully removed,\n     *   otherwise <code>false</code>\n     */\n    remove : function(node)\n    {\n      if (!node.parentNode) {\n        return false;\n      }\n\n      node.parentNode.removeChild(node);\n      return true;\n    },\n\n\n    /**\n     * Removes the given <code>node</code> from the <code>parent</code>.\n     *\n     * @param node {Node} Node to remove\n     * @param parent {Element} parent element which contains the <code>node</code>\n     * @return {Boolean} <code>true</code> when node was successfully removed,\n     *   otherwise <code>false</code>\n     */\n    removeChild : function(node, parent)\n    {\n      if (node.parentNode !== parent) {\n        return false;\n      }\n\n      parent.removeChild(node);\n      return true;\n    },\n\n\n    /**\n     * Removes the node at the given <code>index</code>\n     * from the <code>parent</code>.\n     *\n     * @param index {Integer} position of the node which should be removed\n     * @param parent {Element} parent DOM element\n     * @return {Boolean} <code>true</code> when node was successfully removed,\n     *   otherwise <code>false</code>\n     */\n    removeChildAt : function(index, parent)\n    {\n      var child = parent.childNodes[index];\n\n      if (!child) {\n        return false;\n      }\n\n      parent.removeChild(child);\n      return true;\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      REPLACE\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Replaces <code>oldNode</code> with <code>newNode</code> in the current\n     * parent of <code>oldNode</code>.\n     *\n     * @param newNode {Node} DOM node to insert\n     * @param oldNode {Node} DOM node to remove\n     * @return {Boolean} <code>true</code> when node was successfully replaced\n     */\n    replaceChild : function(newNode, oldNode)\n    {\n      if (!oldNode.parentNode) {\n        return false;\n      }\n\n      oldNode.parentNode.replaceChild(newNode, oldNode);\n      return true;\n    },\n\n\n    /**\n     * Replaces the node at <code>index</code> with <code>newNode</code> in\n     * the given parent.\n     *\n     * @param newNode {Node} DOM node to insert\n     * @param index {Integer} position of old DOM node\n     * @param parent {Element} parent DOM element\n     * @return {Boolean} <code>true</code> when node was successfully replaced\n     */\n    replaceAt : function(newNode, index, parent)\n    {\n      var oldNode = parent.childNodes[index];\n\n      if (!oldNode) {\n        return false;\n      }\n\n      parent.replaceChild(newNode, oldNode);\n      return true;\n    },\n\n\n    /**\n     * Stores helper element for element creation in WebKit\n     *\n     * @internal\n     */\n    __helperElement : {},\n\n\n\n    /**\n     * Creates and returns a DOM helper element.\n     *\n     * @param win {Window?} Window to create the element for\n     * @return {Element} The created element node\n     */\n    getHelperElement : function (win)\n    {\n      if (!win) {\n        win = window;\n      }\n\n      // key is needed to allow using different windows\n      var key = win.location.href;\n\n      if (!qx.dom.Element.__helperElement[key])\n      {\n        var helper = qx.dom.Element.__helperElement[key] = win.document.createElement(\"div\");\n\n        // innerHTML will only parsed correctly if element is appended to document\n        if (qx.core.Environment.get(\"engine.name\") == \"webkit\")\n        {\n          helper.style.display = \"none\";\n\n          win.document.body.appendChild(helper);\n        }\n      }\n\n      return qx.dom.Element.__helperElement[key];\n    },\n\n\n    /**\n     * Creates a DOM element.\n     *\n     * @param name {String} Tag name of the element\n     * @param attributes {Map?} Map of attributes to apply\n     * @param win {Window?} Window to create the element for\n     * @return {Element} The created element node\n     */\n    create : function(name, attributes, win)\n    {\n      if (!win) {\n        win = window;\n      }\n\n      if (!name) {\n        throw new Error(\"The tag name is missing!\");\n      }\n\n      var element = win.document.createElement(name);\n\n      for (var key in attributes)\n      {\n        qx.bom.element.Attribute.set(element, key, attributes[key]);\n      }\n\n      return element;\n    },\n\n\n    /**\n     * Removes all content from the given element\n     *\n     * @param element {Element} element to clean\n     * @return {String} empty string (new HTML content)\n     */\n    empty : function(element) {\n      return element.innerHTML = \"\";\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Tristan Koch (tristankoch)\n\n************************************************************************ */\n\n/**\n * Static helpers for parsing and modifying URIs.\n */\nqx.Bootstrap.define(\"qx.util.Uri\",\n{\n\n  statics:\n  {\n    /**\n     * Split URL\n     *\n     * Code taken from:\n     *   parseUri 1.2.2\n     *   (c) Steven Levithan <stevenlevithan.com>\n     *   MIT License\n     *\n     *\n     * @param str {String} String to parse as URI\n     * @param strict {Boolean} Whether to parse strictly by the rules\n     * @return {Object} Map with parts of URI as properties\n     */\n    parseUri: function(str, strict) {\n\n      var options = {\n        key: [\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"],\n        q:   {\n          name:   \"queryKey\",\n          parser: /(?:^|&)([^&=]*)=?([^&]*)/g\n        },\n        parser: {\n          strict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@?]*)(?::([^:@?]*))?)?@)?((?:\\[[0-9A-Fa-f:]+\\])|(?:[^:\\/?#\\[\\]]*))(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n          loose:  /^(?:(?![^:@?]+:[^:@?\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@?]*)(?::([^:@?]*))?)?@)?((?:\\[[0-9A-Fa-f:]+\\])|(?:[^:\\/?#\\[\\]]*))(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\n        }\n      };\n\n      var o = options,\n          m = options.parser[strict ? \"strict\" : \"loose\"].exec(str),\n          uri = {},\n          i = 14;\n\n      while (i--) {\n        uri[o.key[i]] = m[i] || \"\";\n      }\n      uri[o.q.name] = {};\n      uri[o.key[12]].replace(o.q.parser, function ($0, $1, $2) {\n        if ($1) {\n          uri[o.q.name][$1] = $2;\n        }\n      });\n\n      return uri;\n    },\n\n    /**\n     * Append string to query part of URL. Respects existing query.\n     *\n     * @param url {String} URL to append string to.\n     * @param params {String} Parameters to append to URL.\n     * @return {String} URL with string appended in query part.\n     */\n    appendParamsToUrl: function(url, params) {\n\n      if (params === undefined) {\n        return url;\n      }\n\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        if (!(qx.lang.Type.isString(params) || qx.lang.Type.isObject(params))) {\n          throw new Error(\"params must be either string or object\");\n        }\n      }\n\n      if (qx.lang.Type.isObject(params)) {\n        params = qx.util.Uri.toParameter(params);\n      }\n\n      if (!params) {\n        return url;\n      }\n\n      return url += (/\\?/).test(url) ? \"&\" + params : \"?\" + params;\n    },\n\n\n    /**\n     * Serializes an object to URI parameters (also known as query string).\n     *\n     * Escapes characters that have a special meaning in URIs as well as\n     * umlauts. Uses the global function encodeURIComponent, see\n     * https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/encodeURIComponent\n     *\n     * Note: For URI parameters that are to be sent as\n     * application/x-www-form-urlencoded (POST), spaces should be encoded\n     * with \"+\".\n     *\n     * @param obj {Object}   Object to serialize.\n     * @param post {Boolean} Whether spaces should be encoded with \"+\".\n     * @return {String}      Serialized object. Safe to append to URIs or send as\n     *                       URL encoded string.\n     */\n    toParameter: function(obj, post)\n    {\n      var key,\n          parts = [];\n\n      for (key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          var value = obj[key];\n          if (value instanceof Array) {\n            for (var i=0; i<value.length; i++) {\n              this.__toParameterPair(key, value[i], parts, post);\n            }\n          } else {\n            this.__toParameterPair(key, value, parts, post);\n          }\n        }\n      }\n\n      return parts.join(\"&\");\n    },\n\n\n    /**\n     * Encodes key/value to URI safe string and pushes to given array.\n     *\n     * @param key {String} Key.\n     * @param value {String} Value.\n     * @param parts {Array} Array to push to.\n     * @param post {Boolean} Whether spaces should be encoded with \"+\".\n     */\n    __toParameterPair : function(key, value, parts, post) {\n      var encode = window.encodeURIComponent;\n      if (post) {\n        parts.push(encode(key).replace(/%20/g, \"+\") + \"=\" +\n          encode(value).replace(/%20/g, \"+\"));\n      } else {\n        parts.push(encode(key) + \"=\" + encode(value));\n      }\n    },\n\n\n    /**\n     * Takes a relative URI and returns an absolute one.\n     *\n     * @param uri {String} relative URI\n     * @return {String} absolute URI\n     */\n    getAbsolute : function(uri)\n    {\n      var div = document.createElement(\"div\");\n      div.innerHTML = '<a href=\"' + uri + '\">0</a>';\n      return div.firstChild.href;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2006 STZ-IDA, Germany, http://www.stz-ida.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Til Schneider (til132)\n\n************************************************************************ */\n\n/**\n * Superclass for formatters and parsers.\n */\nqx.Interface.define(\"qx.util.format.IFormat\",\n{\n\n  members :\n  {\n    /**\n     * Formats an object.\n     *\n     * @abstract\n     * @param obj {var} The object to format.\n     * @return {String} the formatted object.\n     * @throws {Error} the abstract function warning.\n     */\n    format : function(obj) {},\n\n\n    /**\n     * Parses an object.\n     *\n     * @abstract\n     * @param str {String} the string to parse.\n     * @return {var} the parsed object.\n     * @throws {Error} the abstract function warning.\n     */\n    parse : function(str) {}\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2006 STZ-IDA, Germany, http://www.stz-ida.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Til Schneider (til132)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * A formatter and parser for dates, see\n * http://www.unicode.org/reports/tr35/#Date_Format_Patterns\n *\n * Here is a quick overview of the format pattern keys:\n * <table>\n * <tr><th>Key &nbsp;<th>Description\n * <tr><td><code> G </code><td> era, e.g. \"AD\"\n * <tr><td><code> y </code><td> year\n * <tr><td><code> Y </code><td> week year\n * <tr><td><code> u </code><td> extended year [Not supported yet]\n * <tr><td><code> Q </code><td> quarter\n * <tr><td><code> q </code><td> stand-alone quarter\n * <tr><td><code> M </code><td> month\n * <tr><td><code> L </code><td> stand-alone month\n * <tr><td><code> I </code><td> chinese leap month [Not supported yet]\n * <tr><td><code> w </code><td> week of year\n * <tr><td><code> W </code><td> week of month\n * <tr><td><code> d </code><td> day of month\n * <tr><td><code> D </code><td> day of year\n * <tr><td><code> F </code><td> day of week in month [Not supported yet]\n * <tr><td><code> g </code><td> modified Julian day [Not supported yet]\n * <tr><td><code> E </code><td> day of week\n * <tr><td><code> e </code><td> local day of week\n * <tr><td><code> c </code><td> stand-alone local day of week\n * <tr><td><code> a </code><td> period of day (am or pm)\n * <tr><td><code> h </code><td> 12-hour hour\n * <tr><td><code> H </code><td> 24-hour hour\n * <tr><td><code> K </code><td> hour [0-11]\n * <tr><td><code> k </code><td> hour [1-24]\n * <tr><td><code> j </code><td> special symbol [Not supported yet]\n * <tr><td><code> m </code><td> minute\n * <tr><td><code> s </code><td> second\n * <tr><td><code> S </code><td> fractional second\n * <tr><td><code> A </code><td> millisecond in day [Not supported yet]\n * <tr><td><code> z </code><td> time zone, specific non-location format\n * <tr><td><code> Z </code><td> time zone, rfc822/gmt format\n * <tr><td><code> v </code><td> time zone, generic non-location format [Not supported yet]\n * <tr><td><code> V </code><td> time zone, like z except metazone abbreviations [Not supported yet]\n * </table>\n *\n * (This list is preliminary, not all format keys might be implemented). Most\n * keys support repetitions that influence the meaning of the format. Parts of the\n * format string that should not be interpreted as format keys have to be\n * single-quoted.\n *\n * The same format patterns will be used for both parsing and output formatting.\n * \n * NOTE: Instances of this class must be disposed of after use\n *\n */\nqx.Class.define(\"qx.util.format.DateFormat\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.util.format.IFormat ],\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param format {String|null} The format to use. If null, the locale's default\n   * format is used.\n   * @param locale {String?} optional locale to be used. In case this is not present, the {@link #locale} property of DateFormat\n   * will be following the {@link qx.locale.Manager#locale} property of qx.locale.Manager\n   */\n  construct : function(format, locale)\n  {\n    this.base(arguments);\n\n    this.__initialLocale = this.__locale = locale;\n\n    if (format != null)\n    {\n      this.__format = format.toString();\n      if(this.__format in qx.util.format.DateFormat.ISO_MASKS)\n      {\n        if(this.__format === 'isoUtcDateTime') {\n          this.__UTC = true;\n        }\n        this.__format = qx.util.format.DateFormat.ISO_MASKS[this.__format];\n      }\n    } else\n    {\n      this.__format = qx.locale.Date.getDateFormat(\"long\", this.getLocale()) + \" \" + qx.locale.Date.getDateTimeFormat(\"HHmmss\", \"HH:mm:ss\", this.getLocale());\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * Convenience factory that returns a <code>DateFomat</code> instance that\n     * uses a short date-only format. Beware that the overall layout of the\n     * date/time format string is that of the locale in effect when the factory\n     * function is called.\n     *\n     * Implemented as a quasi-singleton, so beware of side effects.\n     *\n     * @return {DateFormat} a DateFormat instance.\n     */\n    getDateInstance : function()\n    {\n      var DateFormat = qx.util.format.DateFormat;\n\n      var format = qx.locale.Date.getDateFormat(\"short\") + \"\";\n\n      // Memoizing the instance, so caller doesn't have to dispose it.\n      if (DateFormat._dateInstance == null || DateFormat._dateInstance.__format != format) {\n        DateFormat._dateInstance = new DateFormat(format);\n      }\n\n      return DateFormat._dateInstance;\n    },\n\n\n    /**\n     * Convenience factory that returns a <code>DateFomat</code> instance that\n     * uses a long date/time format. Beware that the overall layout of the\n     * date/time format string is that of the locale in effect when the factory\n     * function is called.\n     *\n     * Implemented as a quasi-singleton, so beware of side effects.\n     *\n     * @return {DateFormat} a DateFormat instance.\n     */\n    getDateTimeInstance : function()\n    {\n      var DateFormat = qx.util.format.DateFormat;\n\n      var format = qx.locale.Date.getDateFormat(\"long\") + \" \" + qx.locale.Date.getDateTimeFormat(\"HHmmss\", \"HH:mm:ss\");\n\n      // Memoizing the instance, so caller doesn't have to dispose it.\n      if (DateFormat._dateTimeInstance == null || DateFormat._dateTimeInstance.__format != format) {\n        DateFormat._dateTimeInstance = new DateFormat(format);\n      }\n\n      return DateFormat._dateTimeInstance;\n    },\n\n\n    /**\n     * @type {Integer} The threshold until when a year should be assumed to belong to the\n     *   21st century (e.g. 12 -> 2012). Years over this threshold but below 100 will be\n     *   assumed to belong to the 20th century (e.g. 88 -> 1988). Years over 100 will be\n     *   used unchanged (e.g. 1792 -> 1792).\n     */\n    ASSUME_YEAR_2000_THRESHOLD : 30,\n\n    /** @type {Map} Special masks of patterns that are used frequently*/\n    ISO_MASKS : {\n      isoDate :        \"yyyy-MM-dd\",\n      isoTime :        \"HH:mm:ss\",\n      isoDateTime :    \"yyyy-MM-dd'T'HH:mm:ss\",\n      isoUtcDateTime : \"yyyy-MM-dd'T'HH:mm:ss'Z'\"\n    },\n\n    /** @type {String} The am marker. */\n    AM_MARKER : \"am\",\n\n    /** @type {String} The pm marker. */\n    PM_MARKER : \"pm\"\n\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __locale : null,\n    __initialLocale : null,\n    __format : null,\n    __parseFeed : null,\n    __parseRules : null,\n    __formatTree : null,\n    __UTC : null,\n\n    /**\n     * Fills a number with leading zeros (\"25\" -> \"0025\").\n     *\n     * @param number {Integer} the number to fill.\n     * @param minSize {Integer} the minimum size the returned string should have.\n     * @return {String} the filled number as string.\n     */\n    __fillNumber : function(number, minSize)\n    {\n      var str = \"\" + (number < 0 ? ((-1) * number) : number);\n\n      while (str.length < minSize) {\n        str = \"0\" + str;\n      }\n\n      return number < 0 ? \"-\" + str : str;\n    },\n\n\n    /**\n     * Returns the day in year of a date.\n     *\n     * @param date {Date} the date.\n     * @return {Integer} the day in year.\n     */\n    __getDayInYear : function(date)\n    {\n      var helpDate = new Date(date.getTime());\n      var day = helpDate.getDate();\n\n      while (helpDate.getMonth() != 0)\n      {\n        // Set the date to the last day of the previous month\n        helpDate.setDate(-1);\n        day += helpDate.getDate() + 1;\n      }\n\n      return day;\n    },\n\n\n    /**\n     * Returns the thursday in the same week as the date.\n     *\n     * @param date {Date} the date to get the thursday of.\n     * @return {Date} the thursday in the same week as the date.\n     */\n    __thursdayOfSameWeek : function(date) {\n      return new Date(date.getTime() + (3 - ((date.getDay() + 6) % 7)) * 86400000);\n    },\n\n\n    /**\n     * Returns the week in year of a date.\n     *\n     * @param date {Date} the date to get the week in year of.\n     * @return {Integer} the week in year.\n     */\n    __getWeekInYear : function(date)\n    {\n      // The following algorithm comes from http://www.salesianer.de/util/kalwoch.html\n      // Get the thursday of the week the date belongs to\n      var thursdayDate = this.__thursdayOfSameWeek(date);\n\n      // Get the year the thursday (and therefore the week) belongs to\n      var weekYear = thursdayDate.getFullYear();\n\n      // Get the thursday of the week january 4th belongs to\n      // (which defines week 1 of a year)\n      var thursdayWeek1 = this.__thursdayOfSameWeek(new Date(weekYear, 0, 4));\n\n      // Calculate the calendar week\n      return Math.floor(1.5 + (thursdayDate.getTime() - thursdayWeek1.getTime()) / 86400000 / 7);\n    },\n\n    /**\n     * Returns the week in month of a date.\n     *\n     * @param date {Date} the date to get the week in year of.\n     * @return {Integer} the week in month.\n     */\n    __getWeekInMonth : function(date)\n    {\n      var thursdayDate = this.__thursdayOfSameWeek(date);\n      var thursdayWeek1 = this.__thursdayOfSameWeek(new Date(date.getFullYear(), date.getMonth(), 4));\n      return Math.floor(1.5 + (thursdayDate.getTime() - thursdayWeek1.getTime()) / 86400000 / 7);\n    },\n\n    /**\n     * Returns the week year of a date. (that is the year of the week where this date happens to be)\n     * For a week in the middle of the summer, the year is easily obtained, but for a week\n     * when New Year's Eve takes place, the year of that week is ambiguous.\n     * The thursday day of that week is used to determine the year.\n     *\n     * @param date {Date} the date to get the week in year of.\n     * @return {Integer} the week year.\n     */\n    __getWeekYear : function(date)\n    {\n      var thursdayDate = this.__thursdayOfSameWeek(date);\n      return thursdayDate.getFullYear();\n    },\n\n    /**\n     * Returns true if the year is a leap one.\n     *\n     * @param year {Integer} the year to check.\n     * @return {Boolean} true if it is a leap year.\n     */\n    __isLeapYear : function(year)\n    {\n      var februaryDate = new Date(year,2,1);\n      februaryDate.setDate(-1);\n      return februaryDate.getDate() + 1 === 29;\n    },\n\n    /**\n     * Returns a json object with month and day as keys.\n     *\n     * @param dayOfYear {Integer} the day of year.\n     * @param year {Integer} the year to check.\n     * @return {Object} a json object {month: M, day: D}.\n     */\n    __getMonthAndDayFromDayOfYear : function(dayOfYear,year)\n    {\n      var month = 0;\n      var day = 0;\n      // if we don't know the year, we take a non-leap year'\n      if(!year) {\n        year = 1971;\n      }\n      var dayCounter = 0;\n      for(var i=1; i <= 12; i++)\n      {\n        var tempDate = new Date(year,i,1);\n        tempDate.setDate(-1);\n        var days = tempDate.getDate() + 1;\n        dayCounter += days;\n        if(dayCounter < dayOfYear)\n        {\n          month++;\n          day += days;\n        }\n        else\n        {\n          day = dayOfYear - (dayCounter-days);\n          break;\n        }\n      }\n\n      return {month: month,day: day};\n    },\n\n    /**\n     * Returns the year of a date when we know the week year\n     *\n     * @param weekYear {Integer} the week year.\n     * @param month {Integer} the month\n     * @param dayOfMonth {Integer} the day in month\n     * @return {Integer} the year.\n     */\n    __getYearFromWeekYearAndMonth : function(weekYear, month, dayOfMonth)\n    {\n      var year;\n      switch(month){\n        case 11 :\n          year = weekYear - 1;\n          if (weekYear != this.__getWeekYear(new Date(year,month,dayOfMonth))) {\n            year = weekYear;\n          }\n        break;\n        case 0 :\n          year = weekYear + 1;\n          if (weekYear != this.__getWeekYear(new Date(year,month,dayOfMonth))) {\n            year = weekYear;\n          }\n        break;\n        default :\n          year = weekYear;\n      }\n      return year;\n    },\n\n    /**\n     * Sets the new value for locale property\n     * @param value {String} The new value.\n     *\n     */\n    setLocale : function(value)\n    {\n      if (value !== null && typeof value != \"string\") {\n        throw new Error(\"Cannot set locale to \" + value + \" - please provide a string\");\n      }\n      this.__locale = value === null ? this.__initialLocale : value;\n    },\n    \n    /**\n     * Resets the Locale\n     */\n    resetLocale : function() {\n      this.setLocale(null);\n    },\n    \n    /**\n     * Returns the locale\n     */\n    getLocale : function() {\n      var locale = this.__locale;\n      if (locale === undefined) {\n        locale = qx.locale.Manager.getInstance().getLocale();\n      }\n      return locale;\n    },\n\n    /**\n     * Formats a date.\n     *\n     * @param date {Date} The date to format.\n     * @return {String} the formatted date.\n     */\n    format : function(date)\n    {\n      // check for null dates\n      if (date == null) {\n        return null;\n      }\n\n      if(isNaN(date.getTime())) {\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          qx.log.Logger.error(\"Provided date is invalid\");\n        }\n        return null;\n      }\n\n      if(this.__UTC) {\n        date = new Date(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds(),date.getUTCMilliseconds());\n      }\n\n      var locale = this.getLocale();\n\n      var fullYear = date.getFullYear();\n      var month = date.getMonth();\n      var dayOfMonth = date.getDate();\n      var dayOfWeek = date.getDay();\n      var hours = date.getHours();\n      var minutes = date.getMinutes();\n      var seconds = date.getSeconds();\n      var ms = date.getMilliseconds();\n\n      var timezoneOffset = date.getTimezoneOffset();\n      var timezoneSign = timezoneOffset > 0 ? 1 : -1;\n      var timezoneHours = Math.floor(Math.abs(timezoneOffset) / 60);\n      var timezoneMinutes = Math.abs(timezoneOffset) % 60;\n\n      // Create the output\n      this.__initFormatTree();\n      var output = \"\";\n\n      for (var i=0; i<this.__formatTree.length; i++)\n      {\n        var currAtom = this.__formatTree[i];\n\n        if (currAtom.type == \"literal\") {\n          output += currAtom.text;\n        }\n        else\n        {\n          // This is a wildcard\n          var wildcardChar = currAtom.character;\n          var wildcardSize = currAtom.size;\n\n          // Get its replacement\n          var replacement = \"?\";\n\n          switch(wildcardChar)\n          {\n            case 'y': // Year\n              if (wildcardSize == 2) {\n                replacement = this.__fillNumber(fullYear % 100, 2);\n              } else {\n                var year = Math.abs(fullYear);\n                replacement = year + \"\";\n                if (wildcardSize > replacement.length) {\n                  for (var j = replacement.length; j < wildcardSize; j++) {\n                    replacement = \"0\" + replacement;\n                  }\n                }\n                if(fullYear < 0) {\n                  replacement = \"-\" + replacement;\n                }\n              }\n\n              break;\n\n            case 'Y': // Year\n              replacement = this.__getWeekYear(date) + \"\";\n              var year = replacement.replace('-','');\n              if (wildcardSize > replacement.length) {\n                for (var j = year.length; j < wildcardSize; j++) {\n                  year = \"0\" + year;\n                }\n              }\n              replacement = replacement.indexOf(\"-\") != -1 ? \"-\" + year : year;\n\n              break;\n\n            case 'G': // Era - there is no CLDR data for ERA yet\n              if (wildcardSize >= 1 && wildcardSize <= 3) {\n                replacement = fullYear > 0 ? 'AD' : 'BC';\n              }\n              else if(wildcardSize == 4) {\n                replacement = fullYear > 0 ? 'Anno Domini' : 'Before Christ';\n              }\n              else if(wildcardSize == 5) {\n                replacement = fullYear > 0 ? 'A' : 'B';\n              }\n\n              break;\n\n            case 'Q': // quarter\n              if (wildcardSize == 1 || wildcardSize == 2) {\n                replacement = this.__fillNumber(parseInt(month/4) + 1, wildcardSize);\n              }\n              if(wildcardSize == 3) {\n                replacement = 'Q' + (parseInt(month/4) + 1);\n              }\n\n              break;\n\n            case 'q': // quarter stand alone\n              if (wildcardSize == 1 || wildcardSize == 2) {\n                replacement = this.__fillNumber(parseInt(month/4) + 1, wildcardSize);\n              }\n              if(wildcardSize == 3) {\n                replacement = 'Q' + (parseInt(month/4) + 1);\n              }\n\n              break;\n\n            case 'D': // Day in year (e.g. 189)\n              replacement = this.__fillNumber(this.__getDayInYear(date), wildcardSize);\n              break;\n\n            case 'd': // Day in month\n              replacement = this.__fillNumber(dayOfMonth, wildcardSize);\n              break;\n\n            case 'w': // Week in year (e.g. 27)\n              replacement = this.__fillNumber(this.__getWeekInYear(date), wildcardSize);\n              break;\n\n            case 'W': // Week in year (e.g. 27)\n              replacement = this.__getWeekInMonth(date);\n              break;\n\n            case 'E': // Day in week\n              if (wildcardSize >= 1 && wildcardSize <= 3) {\n                replacement = qx.locale.Date.getDayName(\"abbreviated\", dayOfWeek, locale, \"format\", true);\n              } else if (wildcardSize == 4) {\n                replacement = qx.locale.Date.getDayName(\"wide\", dayOfWeek, locale, \"format\", true);\n              } else if (wildcardSize == 5) {\n                replacement = qx.locale.Date.getDayName(\"narrow\", dayOfWeek, locale, \"format\", true);\n              }\n\n              break;\n\n            case 'e': // Day in week\n              var startOfWeek = qx.locale.Date.getWeekStart(locale);\n              // the index is 1 based\n              var localeDayOfWeek = 1 + ((dayOfWeek - startOfWeek >=0) ? (dayOfWeek - startOfWeek) : 7 + (dayOfWeek-startOfWeek));\n              if (wildcardSize >= 1 && wildcardSize <= 2) {\n                replacement = this.__fillNumber(localeDayOfWeek, wildcardSize);\n              } else if (wildcardSize == 3) {\n                replacement = qx.locale.Date.getDayName(\"abbreviated\", dayOfWeek, locale, \"format\", true);\n              } else if (wildcardSize == 4) {\n                replacement = qx.locale.Date.getDayName(\"wide\", dayOfWeek, locale, \"format\", true);\n              } else if (wildcardSize == 5) {\n                replacement = qx.locale.Date.getDayName(\"narrow\", dayOfWeek, locale, \"format\", true);\n              }\n\n              break;\n\n            case 'c': // Stand-alone local day in week\n              var startOfWeek = qx.locale.Date.getWeekStart(locale);\n              // the index is 1 based\n              var localeDayOfWeek = 1 + ((dayOfWeek - startOfWeek >=0) ? (dayOfWeek - startOfWeek) : 7 + (dayOfWeek-startOfWeek));\n              if (wildcardSize == 1) {\n                replacement = ''+localeDayOfWeek;\n              } else if (wildcardSize == 3) {\n                replacement = qx.locale.Date.getDayName(\"abbreviated\", dayOfWeek, locale, \"stand-alone\", true);\n              } else if (wildcardSize == 4) {\n                replacement = qx.locale.Date.getDayName(\"wide\", dayOfWeek, locale, \"stand-alone\", true);\n              } else if (wildcardSize == 5) {\n                replacement = qx.locale.Date.getDayName(\"narrow\", dayOfWeek, locale, \"stand-alone\", true);\n              }\n\n              break;\n\n            case 'M': // Month\n              if (wildcardSize == 1 || wildcardSize == 2) {\n                replacement = this.__fillNumber(month + 1, wildcardSize);\n              } else if (wildcardSize == 3) {\n                replacement = qx.locale.Date.getMonthName(\"abbreviated\", month, locale, \"format\", true);\n              } else if (wildcardSize == 4) {\n                replacement = qx.locale.Date.getMonthName(\"wide\", month, locale, \"format\", true);\n              } else if (wildcardSize == 5) {\n                replacement = qx.locale.Date.getMonthName(\"narrow\", month, locale, \"format\", true);\n\n              }\n\n              break;\n\n            case 'L': // Stand-alone month\n              if (wildcardSize == 1 || wildcardSize == 2) {\n                replacement = this.__fillNumber(month + 1, wildcardSize);\n              } else if (wildcardSize == 3) {\n                replacement = qx.locale.Date.getMonthName(\"abbreviated\", month, locale, \"stand-alone\", true);\n              } else if (wildcardSize == 4) {\n                replacement = qx.locale.Date.getMonthName(\"wide\", month, locale, \"stand-alone\", true);\n              } else if (wildcardSize == 5) {\n                replacement = qx.locale.Date.getMonthName(\"narrow\", month, locale, \"stand-alone\", true);\n              }\n\n              break;\n\n            case 'a': // am/pm marker\n              // NOTE: 0:00 is am, 12:00 is pm\n              replacement = (hours < 12) ? qx.locale.Date.getAmMarker(locale) : qx.locale.Date.getPmMarker(locale);\n              break;\n\n            case 'H': // Hour in day (0-23)\n              replacement = this.__fillNumber(hours, wildcardSize);\n              break;\n\n            case 'k': // Hour in day (1-24)\n              replacement = this.__fillNumber((hours == 0) ? 24 : hours, wildcardSize);\n              break;\n\n            case 'K': // Hour in am/pm (0-11)\n              replacement = this.__fillNumber(hours % 12, wildcardSize);\n              break;\n\n            case 'h': // Hour in am/pm (1-12)\n              replacement = this.__fillNumber(((hours % 12) == 0) ? 12 : (hours % 12), wildcardSize);\n              break;\n\n            case 'm': // Minute in hour\n              replacement = this.__fillNumber(minutes, wildcardSize);\n              break;\n\n            case 's': // Second in minute\n              replacement = this.__fillNumber(seconds, wildcardSize);\n              break;\n\n            case 'S': // Fractional second\n              replacement = this.__fillNumber(ms, 3);\n              if (wildcardSize < replacement.length) {\n                replacement = replacement.substr(0, wildcardSize);\n              } else {\n                while (wildcardSize > replacement.length) {\n                  // if needed, fill the remaining wildcard length with trailing zeros\n                  replacement += \"0\";\n                }\n              }\n              break;\n\n            case 'z': // Time zone\n              if (wildcardSize >= 1 && wildcardSize <= 4)\n              {\n                replacement =\n                \"GMT\" +\n                ((timezoneSign > 0) ? \"-\" : \"+\") +\n                this.__fillNumber(Math.abs(timezoneHours), 2) +\n                \":\" + this.__fillNumber(timezoneMinutes, 2);\n              }\n\n              break;\n\n            case 'Z': // RFC 822 time zone\n              if (wildcardSize >= 1 && wildcardSize <= 3)\n              {\n              replacement =\n                ((timezoneSign > 0) ? \"-\" : \"+\") +\n                this.__fillNumber(Math.abs(timezoneHours), 2) +\n                this.__fillNumber(timezoneMinutes, 2);\n              }\n              else\n              {\n                replacement =\n                \"GMT\" +\n                ((timezoneSign > 0) ? \"-\" : \"+\") +\n                this.__fillNumber(Math.abs(timezoneHours), 2) +\n                \":\" + this.__fillNumber(timezoneMinutes, 2);\n              }\n              break;\n          }\n\n          output += replacement;\n        }\n      }\n\n      return output;\n    },\n\n\n    /**\n     * Parses a date.\n     *\n     * @param dateStr {String} the date to parse.\n     * @return {Date} the parsed date.\n     * @throws {Error} If the format is not well formed or if the date string does not\n     *       match to the format.\n     */\n    parse : function(dateStr)\n    {\n      this.__initParseFeed();\n\n      // Apply the regex\n      var hit = this.__parseFeed.regex.exec(dateStr);\n\n      if (hit == null) {\n        throw new Error(\"Date string '\" + dateStr + \"' does not match the date format: \" + this.__format);\n      }\n\n      // Apply the rules\n      var dateValues =\n      {\n        era         : 1,\n        year        : 1970,\n        quarter     : 1,\n        month       : 0,\n        day         : 1,\n        dayOfYear   : 1,\n        hour        : 0,\n        ispm        : false,\n        weekDay     : 4,\n        weekYear    : 1970,\n        weekOfMonth : 1,\n        weekOfYear  : 1,\n        min         : 0,\n        sec         : 0,\n        ms          : 0\n      };\n\n      var currGroup = 1;\n      var applyWeekYearAfterRule = false;\n      var applyDayOfYearAfterRule = false;\n\n      for (var i=0; i<this.__parseFeed.usedRules.length; i++)\n      {\n        var rule = this.__parseFeed.usedRules[i];\n\n        var value = hit[currGroup];\n\n        if (rule.field != null) {\n          dateValues[rule.field] = parseInt(value, 10);\n        } else {\n          rule.manipulator(dateValues, value, rule.pattern);\n        }\n\n        if(rule.pattern == \"Y+\")\n        {\n          var yearRuleApplied = false;\n          for(var k=0; k<this.__parseFeed.usedRules.length; k++) {\n            if(this.__parseFeed.usedRules[k].pattern == 'y+'){\n              yearRuleApplied = true;\n              break;\n            }\n          }\n          if(!yearRuleApplied) {\n            applyWeekYearAfterRule = true;\n          }\n        }\n\n        if(rule.pattern.indexOf(\"D\") != -1)\n        {\n          var dayRuleApplied = false;\n          for(var k=0; k<this.__parseFeed.usedRules.length; k++) {\n            if(this.__parseFeed.usedRules[k].pattern.indexOf(\"d\") != -1){\n              dayRuleApplied = true;\n              break;\n            }\n          }\n          if(!dayRuleApplied) {\n            applyDayOfYearAfterRule = true;\n          }\n        }\n\n        currGroup += (rule.groups == null) ? 1 : rule.groups;\n      }\n      if(applyWeekYearAfterRule) {\n        dateValues.year = this.__getYearFromWeekYearAndMonth(dateValues.weekYear,dateValues.month,dateValues.day);\n      }\n\n      if(applyDayOfYearAfterRule)\n      {\n        var dayAndMonth = this.__getMonthAndDayFromDayOfYear(dateValues.dayOfYear, dateValues.year);\n        dateValues.month = dayAndMonth.month;\n        dateValues.day = dayAndMonth.day;\n      }\n\n      if(dateValues.era < 0 && (dateValues.year * dateValues.era < 0)) {\n        dateValues.year = dateValues.year * dateValues.era;\n      }\n\n      var date = new Date(dateValues.year, dateValues.month, dateValues.day, (dateValues.ispm) ? (dateValues.hour + 12) : dateValues.hour, dateValues.min, dateValues.sec, dateValues.ms);\n\n      if(this.__UTC) {\n        date = new Date(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds(),date.getUTCMilliseconds());\n      }\n\n      if (dateValues.month != date.getMonth() || dateValues.year != date.getFullYear()) {\n        throw new Error(\"Error parsing date '\" + dateStr + \"': the value for day or month is too large\");\n      }\n\n      return date;\n    },\n\n\n    /**\n     * Helper method for {@link #format()} and {@link #parse()}.\n     * Parses the date format.\n     *\n     */\n    __initFormatTree : function()\n    {\n      if (this.__formatTree != null) {\n        return;\n      }\n\n      this.__formatTree = [];\n\n      var currWildcardChar;\n      var currWildcardSize = 0;\n      var currLiteral = \"\";\n      var format = this.__format;\n\n      var state = \"default\";\n\n      var i = 0;\n\n      while (i < format.length)\n      {\n        var currChar = format.charAt(i);\n\n        switch(state)\n        {\n          case \"quoted_literal\":\n            // We are now inside a quoted literal\n            // Check whether the current character is an escaped \"'\" character\n            if (currChar == \"'\")\n            {\n              if (i + 1 >= format.length)\n              {\n\n                // this is the last character\n                i++;\n\n                break;\n              }\n\n              var lookAhead = format.charAt(i + 1);\n\n              if (lookAhead == \"'\")\n              {\n                currLiteral += currChar;\n                i++;\n              }\n              else\n              {\n\n                // quoted literal ends\n                i++;\n\n                state = \"unkown\";\n              }\n            }\n            else\n            {\n              currLiteral += currChar;\n              i++;\n            }\n\n            break;\n\n          case \"wildcard\":\n            // Check whether the currChar belongs to that wildcard\n            if (currChar == currWildcardChar)\n            {\n              // It does -> Raise the size\n              currWildcardSize++;\n\n              i++;\n            }\n            else\n            {\n              // It does not -> The current wildcard is done\n              this.__formatTree.push(\n              {\n                type      : \"wildcard\",\n                character : currWildcardChar,\n                size      : currWildcardSize\n              });\n\n              currWildcardChar = null;\n              currWildcardSize = 0;\n              state = \"default\";\n            }\n\n            break;\n\n          default:\n            // We are not (any more) in a wildcard or quoted literal -> Check what's starting here\n            if ((currChar >= 'a' && currChar <= 'z') || (currChar >= 'A' && currChar <= 'Z'))\n            {\n              // This is a letter -> All letters are wildcards\n              // Start a new wildcard\n              currWildcardChar = currChar;\n              state = \"wildcard\";\n            }\n            else if (currChar == \"'\")\n            {\n              if (i + 1 >= format.length)\n              {\n                // this is the last character\n                currLiteral += currChar;\n                i++;\n                break;\n              }\n\n              var lookAhead = format.charAt(i + 1);\n\n              if (lookAhead == \"'\")\n              {\n                currLiteral += currChar;\n                i++;\n              }\n\n              i++;\n              state = \"quoted_literal\";\n            }\n            else\n            {\n              state = \"default\";\n            }\n\n            if (state != \"default\")\n            {\n              // Add the literal\n              if (currLiteral.length > 0)\n              {\n                this.__formatTree.push(\n                {\n                  type : \"literal\",\n                  text : currLiteral\n                });\n\n                currLiteral = \"\";\n              }\n            }\n            else\n            {\n              // This is an unquoted literal -> Add it to the current literal\n              currLiteral += currChar;\n              i++;\n            }\n\n            break;\n        }\n      }\n\n      // Add the last wildcard or literal\n      if (currWildcardChar != null)\n      {\n        this.__formatTree.push(\n        {\n          type      : \"wildcard\",\n          character : currWildcardChar,\n          size      : currWildcardSize\n        });\n      }\n      else if (currLiteral.length > 0)\n      {\n        this.__formatTree.push(\n        {\n          type : \"literal\",\n          text : currLiteral\n        });\n      }\n    },\n\n\n    /**\n     * Initializes the parse feed.\n     *\n     * The parse contains everything needed for parsing: The regular expression\n     * (in compiled and uncompiled form) and the used rules.\n     *\n     * @throws {Error} If the date format is malformed.\n     */\n    __initParseFeed : function()\n    {\n      if (this.__parseFeed != null)\n      {\n        // We already have the parse feed\n        return;\n      }\n\n      var format = this.__format;\n\n      // Initialize the rules\n      this.__initParseRules();\n      this.__initFormatTree();\n\n      // Get the used rules and construct the regex pattern\n      var usedRules = [];\n      var pattern = \"^\";\n\n      for (var atomIdx=0; atomIdx<this.__formatTree.length; atomIdx++)\n      {\n        var currAtom = this.__formatTree[atomIdx];\n\n        if (currAtom.type == \"literal\") {\n          pattern += qx.lang.String.escapeRegexpChars(currAtom.text);\n        }\n        else\n        {\n          // This is a wildcard\n          var wildcardChar = currAtom.character;\n          var wildcardSize = currAtom.size;\n\n          // Get the rule for this wildcard\n          var wildcardRule;\n\n          for (var ruleIdx=0; ruleIdx<this.__parseRules.length; ruleIdx++)\n          {\n            var rule = this.__parseRules[ruleIdx];\n\n            if ( this.__isRuleForWildcard(rule,wildcardChar,wildcardSize))\n            {\n              // We found the right rule for the wildcard\n              wildcardRule = rule;\n              break;\n            }\n          }\n\n          // Check the rule\n          if (wildcardRule == null)\n          {\n            // We have no rule for that wildcard -> Malformed date format\n            var wildcardStr = \"\";\n\n            for (var i=0; i<wildcardSize; i++) {\n              wildcardStr += wildcardChar;\n            }\n\n            throw new Error(\"Malformed date format: \" + format + \". Wildcard \" + wildcardStr + \" is not supported\");\n          }\n          else\n          {\n            // Add the rule to the pattern\n            usedRules.push(wildcardRule);\n            pattern += wildcardRule.regex;\n          }\n        }\n      }\n\n      pattern += \"$\";\n\n      // Create the regex\n      var regex;\n\n      try {\n        regex = new RegExp(pattern);\n      } catch(exc) {\n        throw new Error(\"Malformed date format: \" + format);\n      }\n\n      // Create the this.__parseFeed\n      this.__parseFeed =\n      {\n        regex       : regex,\n        \"usedRules\" : usedRules,\n        pattern     : pattern\n      };\n    },\n\n    /**\n     * Checks whether the rule matches the wildcard or not.\n     * @param rule {Object} the rule we try to match with the wildcard\n     * @param wildcardChar {String} the character in the wildcard\n     * @param wildcardSize {Integer} the number of  wildcardChar characters in the wildcard\n     * @return {Boolean} if the rule matches or not\n     */\n    __isRuleForWildcard : function(rule, wildcardChar, wildcardSize)\n    {\n      if(wildcardChar==='y' && rule.pattern==='y+')\n      {\n        rule.regex = rule.regexFunc(wildcardSize);\n        return true;\n      }\n      else if(wildcardChar==='Y' && rule.pattern==='Y+')\n      {\n        rule.regex = rule.regexFunc(wildcardSize);\n        return true;\n      }\n      else\n      {\n        return wildcardChar == rule.pattern.charAt(0) && wildcardSize == rule.pattern.length;\n      }\n    },\n    /**\n     * Initializes the static parse rules.\n     *\n     */\n    __initParseRules : function()\n    {\n      var DateFormat = qx.util.format.DateFormat;\n      var LString = qx.lang.String;\n\n      if (this.__parseRules != null)\n      {\n        // The parse rules are already initialized\n        return ;\n      }\n\n      var rules = this.__parseRules = [];\n\n      var amMarker = qx.locale.Date.getAmMarker(this.getLocale()).toString() || DateFormat.AM_MARKER;\n      var pmMarker = qx.locale.Date.getPmMarker(this.getLocale()).toString() || DateFormat.PM_MARKER;\n      var locale = this.getLocale();\n\n      var yearManipulator = function(dateValues, value)\n      {\n        value = parseInt(value, 10);\n\n        if(value >= 0)\n        {\n          if (value < DateFormat.ASSUME_YEAR_2000_THRESHOLD) {\n            value += 2000;\n          } else if (value < 100) {\n            value += 1900;\n          }\n        }\n\n        dateValues.year = value;\n      };\n\n      var weekYearManipulator = function(dateValues, value)\n      {\n        value = parseInt(value, 10);\n\n        if(value >= 0)\n        {\n          if (value < DateFormat.ASSUME_YEAR_2000_THRESHOLD) {\n            value += 2000;\n          } else if (value < 100) {\n            value += 1900;\n          }\n        }\n\n        dateValues.weekYear = value;\n      };\n\n      var monthManipulator = function(dateValues, value) {\n        dateValues.month = parseInt(value, 10) - 1;\n      };\n\n      var localWeekDayManipulator = function(dateValues, value) {\n        var startOfWeek = qx.locale.Date.getWeekStart(locale);\n        var dayOfWeek =  (parseInt(value,10) - 1 + startOfWeek) <= 6 ? parseInt(value,10) - 1 + startOfWeek : (parseInt(value,10) - 1 + startOfWeek) -7;\n        dateValues.weekDay = dayOfWeek;\n      };\n\n      var ampmManipulator = function(dateValues, value) {\n        var pmMarker = qx.locale.Date.getPmMarker(locale).toString() || DateFormat.PM_MARKER;\n        dateValues.ispm = (value == pmMarker);\n      };\n\n      var noZeroHourManipulator = function(dateValues, value) {\n        dateValues.hour = parseInt(value, 10) % 24;\n      };\n\n      var noZeroAmPmHourManipulator = function(dateValues, value) {\n        dateValues.hour = parseInt(value, 10) % 12;\n      };\n\n      var ignoreManipulator = function(dateValues, value) {\n        return;\n      };\n\n      var narrowEraNames = ['A', 'B'];\n      var narrowEraNameManipulator = function(dateValues, value) {\n        dateValues.era = value == 'A' ? 1 : -1;\n      };\n\n      var abbrevEraNames = ['AD', 'BC'];\n      var abbrevEraNameManipulator = function(dateValues, value) {\n        dateValues.era = value == 'AD' ? 1 : -1;\n      };\n\n      var fullEraNames = ['Anno Domini', 'Before Christ'];\n      var fullEraNameManipulator = function(dateValues, value) {\n        dateValues.era = value == 'Anno Domini' ? 1 : -1;\n      };\n\n      var abbrevQuarterNames = ['Q1','Q2','Q3','Q4'];\n      var abbrevQuarterManipulator = function(dateValues, value) {\n        dateValues.quarter = abbrevQuarterNames.indexOf(value);\n      };\n\n      var fullQuarterNames = ['1st quarter','2nd quarter','3rd quarter','4th quarter'];\n      var fullQuarterManipulator = function(dateValues, value) {\n        dateValues.quarter = fullQuarterNames.indexOf(value);\n      };\n\n      var cache = {};\n\n      var dateNamesManipulator = function(pattern){\n        var monthPatternLetters = ['L','M'];\n        var dayPatternLetters = ['c', 'e', 'E'];\n        var firstLetterInPattern = pattern.charAt(0);\n        var isMonth = monthPatternLetters.indexOf(firstLetterInPattern)>=0;\n\n        var getContext = function() {\n          var letters = isMonth ? monthPatternLetters : dayPatternLetters;\n          var context = firstLetterInPattern === letters[0] ? \"stand-alone\" : \"format\" ;\n          var patternLength = pattern.length;\n          var lengthName = 'abbreviated';\n          switch(patternLength)\n          {\n            case 4:\n              lengthName = 'wide';\n              break;\n            case 5:\n              lengthName = 'narrow';\n              break;\n            default:\n              lengthName = 'abbreviated';\n          }\n          return [context, lengthName];\n        };\n\n        if(!cache[pattern])\n        {\n          cache[pattern] = {};\n          var context = getContext();\n          var func = isMonth ? qx.locale.Date.getMonthNames : qx.locale.Date.getDayNames;\n          var names = func.call(qx.locale.Date, context[1], locale, context[0], true);\n          for(var i=0, l=names.length; i<l; i++)\n          {\n            names[i] = LString.escapeRegexpChars(names[i].toString());\n          }\n          cache[pattern].data = names;\n          cache[pattern].func = function(dateValues, value)\n          {\n            value = LString.escapeRegexpChars(value);\n            dateValues[isMonth ? 'month' : 'weekDay'] = names.indexOf(value);\n          };\n        }\n\n        return cache[pattern];\n      };\n\n      // Unsupported: F (Day of week in month)\n\n      rules.push(\n      {\n        pattern     : \"y+\",\n        regexFunc       : function(yNumber)\n          {\n            var regex = \"(-*\";\n            for(var i=0;i<yNumber;i++)\n            {\n              regex += \"\\\\d\";\n              if(i===yNumber-1 && i!==1) {\n                regex += \"+?\";\n              }\n            }\n            regex += \")\";\n            return regex;\n          },\n        manipulator : yearManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"Y+\",\n        regexFunc       : function(yNumber)\n          {\n            var regex = \"(-*\";\n            for(var i=0;i<yNumber;i++)\n            {\n              regex += \"\\\\d\";\n              if(i===yNumber-1) {\n                regex += \"+?\";\n              }\n            }\n            regex += \")\";\n            return regex;\n          },\n        manipulator : weekYearManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"G\",\n        regex       : \"(\" + abbrevEraNames.join(\"|\") + \")\",\n        manipulator : abbrevEraNameManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"GG\",\n        regex       : \"(\" + abbrevEraNames.join(\"|\") + \")\",\n        manipulator : abbrevEraNameManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"GGG\",\n        regex       : \"(\" + abbrevEraNames.join(\"|\") + \")\",\n        manipulator : abbrevEraNameManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"GGGG\",\n        regex       : \"(\" + fullEraNames.join(\"|\") + \")\",\n        manipulator : fullEraNameManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"GGGGG\",\n        regex       : \"(\" + narrowEraNames.join(\"|\") + \")\",\n        manipulator : narrowEraNameManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"Q\",\n        regex       : \"(\\\\d\\\\d*?)\",\n        field : \"quarter\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"QQ\",\n        regex       : \"(\\\\d\\\\d?)\",\n        field : \"quarter\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"QQQ\",\n        regex       : \"(\" + abbrevQuarterNames.join(\"|\") + \")\",\n        manipulator : abbrevQuarterManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"QQQQ\",\n        regex       : \"(\" + fullQuarterNames.join(\"|\") + \")\",\n        manipulator : fullQuarterManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"q\",\n        regex       : \"(\\\\d\\\\d*?)\",\n        field : \"quarter\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"qq\",\n        regex       : \"(\\\\d\\\\d?)\",\n        field : \"quarter\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"qqq\",\n        regex       : \"(\" + abbrevQuarterNames.join(\"|\") + \")\",\n        manipulator : abbrevQuarterManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"qqqq\",\n        regex       : \"(\" + fullQuarterNames.join(\"|\") + \")\",\n        manipulator : fullQuarterManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"M\",\n        regex       : \"(\\\\d\\\\d*?)\",\n        manipulator : monthManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"MM\",\n        regex       : \"(\\\\d\\\\d?)\",\n        manipulator : monthManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"MMM\",\n        regex       : \"(\" + dateNamesManipulator(\"MMM\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"MMM\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"MMMM\",\n        regex       : \"(\" + dateNamesManipulator(\"MMMM\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"MMMM\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"MMMMM\",\n        regex       : \"(\" + dateNamesManipulator(\"MMMMM\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"MMMMM\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"L\",\n        regex       : \"(\\\\d\\\\d*?)\",\n        manipulator : monthManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"LL\",\n        regex       : \"(\\\\d\\\\d?)\",\n        manipulator : monthManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"LLL\",\n        regex       : \"(\" + dateNamesManipulator(\"LLL\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"LLL\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"LLLL\",\n        regex       : \"(\" + dateNamesManipulator(\"LLLL\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"LLLL\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"LLLLL\",\n        regex       : \"(\" + dateNamesManipulator(\"LLLLL\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"LLLLL\").func\n      });\n\n      rules.push(\n      {\n        pattern : \"dd\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"day\"\n      });\n\n      rules.push(\n      {\n        pattern : \"d\",\n        regex   : \"(\\\\d\\\\d*?)\",\n        field   : \"day\"\n      });\n\n      rules.push(\n      {\n        pattern : \"D\",\n        regex   : \"(\\\\d?)\",\n        field   : \"dayOfYear\"\n      });\n\n      rules.push(\n      {\n        pattern : \"DD\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"dayOfYear\"\n      });\n\n      rules.push(\n      {\n        pattern : \"DDD\",\n        regex   : \"(\\\\d\\\\d\\\\d?)\",\n        field   : \"dayOfYear\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"E\",\n        regex       : \"(\" + dateNamesManipulator(\"E\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"E\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"EE\",\n        regex       : \"(\" + dateNamesManipulator(\"EE\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"EE\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"EEE\",\n        regex       : \"(\" + dateNamesManipulator(\"EEE\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"EEE\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"EEEE\",\n        regex       : \"(\" + dateNamesManipulator(\"EEEE\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"EEEE\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"EEEEE\",\n        regex       : \"(\" + dateNamesManipulator(\"EEEEE\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"EEEEE\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"e\",\n        regex       : \"(\\\\d?)\",\n        manipulator : localWeekDayManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"ee\",\n        regex       : \"(\\\\d\\\\d?)\",\n        manipulator : localWeekDayManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"eee\",\n        regex       : \"(\" + dateNamesManipulator(\"eee\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"eee\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"eeee\",\n        regex       : \"(\" + dateNamesManipulator(\"eeee\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"eeee\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"eeeee\",\n        regex       : \"(\" + dateNamesManipulator(\"eeeee\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"eeeee\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"c\",\n        regex       : \"\\\\d?\",\n        manipulator : localWeekDayManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"ccc\",\n        regex       : \"(\" + dateNamesManipulator(\"ccc\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"ccc\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"cccc\",\n        regex       : \"(\" + dateNamesManipulator(\"cccc\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"cccc\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"ccccc\",\n        regex       : \"(\" + dateNamesManipulator(\"ccccc\").data.join(\"|\") + \")\",\n        manipulator : dateNamesManipulator(\"ccccc\").func\n      });\n\n      rules.push(\n      {\n        pattern     : \"a\",\n        regex       : \"(\" + amMarker + \"|\" + pmMarker + \")\",\n        manipulator : ampmManipulator\n      });\n\n      rules.push(\n      {\n        pattern : \"W\",\n        regex   : \"(\\\\d?)\",\n        field   : \"weekOfMonth\"\n      });\n\n      rules.push(\n      {\n        pattern : \"w\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"weekOfYear\"\n      });\n\n      rules.push(\n      {\n        pattern : \"ww\",\n        regex   : \"(\\\\d\\\\d)\",\n        field   : \"weekOfYear\"\n      });\n\n      rules.push(\n      {\n        pattern : \"HH\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"hour\"\n      });\n\n      rules.push(\n      {\n        pattern : \"H\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"hour\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"kk\",\n        regex       : \"(\\\\d\\\\d?)\",\n        manipulator : noZeroHourManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"k\",\n        regex       : \"(\\\\d\\\\d?)\",\n        manipulator : noZeroHourManipulator\n      });\n\n      rules.push(\n      {\n        pattern : \"KK\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"hour\"\n      });\n\n      rules.push(\n      {\n        pattern : \"K\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"hour\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"hh\",\n        regex       : \"(\\\\d\\\\d?)\",\n        manipulator : noZeroAmPmHourManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"h\",\n        regex       : \"(\\\\d\\\\d?)\",\n        manipulator : noZeroAmPmHourManipulator\n      });\n\n      rules.push(\n      {\n        pattern : \"mm\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"min\"\n      });\n\n      rules.push(\n      {\n        pattern : \"m\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"min\"\n      });\n\n      rules.push(\n      {\n        pattern : \"ss\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"sec\"\n      });\n\n      rules.push(\n      {\n        pattern : \"s\",\n        regex   : \"(\\\\d\\\\d?)\",\n        field   : \"sec\"\n      });\n\n      rules.push(\n      {\n        pattern : \"SSS\",\n        regex   : \"(\\\\d\\\\d?\\\\d?)\",\n        field   : \"ms\"\n      });\n\n      rules.push(\n      {\n        pattern : \"SS\",\n        regex   : \"(\\\\d\\\\d?\\\\d?)\",\n        field   : \"ms\"\n      });\n\n      rules.push(\n      {\n        pattern : \"S\",\n        regex   : \"(\\\\d\\\\d?\\\\d?)\",\n        field   : \"ms\"\n      });\n\n      rules.push(\n      {\n        pattern     : \"Z\",\n        regex       : \"([\\\\+\\\\-]\\\\d\\\\d\\\\d\\\\d)\",\n        manipulator : ignoreManipulator\n      });\n\n      rules.push(\n      {\n        pattern     : \"z\",\n        regex       : \"(GMT[\\\\+\\\\-]\\\\d\\\\d:\\\\d\\\\d)\",\n        manipulator : ignoreManipulator\n      });\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Alexander Steitz (aback)\n\n************************************************************************ */\n\n\n\n/**\n * Low-level Range API which is used together with the low-level Selection API.\n * This is especially useful whenever a developer want to work on text level,\n * e.g. for an editor.\n */\nqx.Bootstrap.define(\"qx.bom.Range\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * Returns the range object of the given node.\n     *\n     * @signature function(node)\n     * @param node {Node} node to get the range of\n     * @return {Range} valid range of given selection\n     */\n    get : qx.core.Environment.select(\"html.selection\",\n    {\n      \"selection\" : function(node)\n      {\n        // check for the type of the given node\n        // for legacy IE the nodes input, textarea, button and body\n        // have access to own TextRange objects. Everything else is\n        // gathered via the selection object.\n        if (qx.dom.Node.isElement(node))\n        {\n          switch(node.nodeName.toLowerCase())\n          {\n            case \"input\":\n\n              switch(node.type)\n              {\n                case \"text\":\n                case \"password\":\n                case \"hidden\":\n                case \"button\":\n                case \"reset\":\n                case \"file\":\n                case \"submit\":\n                  return node.createTextRange();\n\n                default:\n                  return qx.bom.Selection.getSelectionObject(qx.dom.Node.getDocument(node)).createRange();\n              }\n            break;\n\n            case \"textarea\":\n            case \"body\":\n            case \"button\":\n              return node.createTextRange();\n\n            default:\n              return qx.bom.Selection.getSelectionObject(qx.dom.Node.getDocument(node)).createRange();\n          }\n        }\n        else\n        {\n          if (node == null) {\n            node = window;\n          }\n\n          // need to pass the document node to work with multi-documents\n          return qx.bom.Selection.getSelectionObject(qx.dom.Node.getDocument(node)).createRange();\n        }\n      },\n\n      // suitable for gecko, opera and webkit\n      \"default\" : function(node)\n      {\n        var doc = qx.dom.Node.getDocument(node);\n\n        // get the selection object of the corresponding document\n        var sel = qx.bom.Selection.getSelectionObject(doc);\n\n        if (sel.rangeCount > 0)\n        {\n          return sel.getRangeAt(0);\n        }\n        else\n        {\n          return doc.createRange();\n        }\n      }\n    })\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Adrian Olaru (adrianolaru)\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * Cross-Browser Split\n     http://blog.stevenlevithan.com/archives/cross-browser-split\n     Version 1.0.1\n\n     Copyright:\n       (c) 2006-2007, Steven Levithan <http://stevenlevithan.com>\n\n     License:\n       MIT: http://www.opensource.org/licenses/mit-license.php\n\n     Authors:\n       * Steven Levithan\n\n************************************************************************ */\n\n/**\n * Implements an ECMA-compliant, uniform cross-browser split method\n */\nqx.Bootstrap.define(\"qx.util.StringSplit\",\n{\n  statics :\n  {\n    /**\n     * ECMA-compliant, uniform cross-browser split method\n     *\n     * @param str {String} Incoming string to split\n     * @param separator {RegExp} Specifies the character to use for separating the string.\n     *   The separator is treated as a string or a  regular expression. If separator is\n     *   omitted, the array returned contains one element consisting of the entire string.\n     * @param limit {Integer?} Integer specifying a limit on the number of splits to be found.\n     * @return {String[]} split string\n     */\n    split : function (str, separator, limit)\n    {\n      // if `separator` is not a regex, use the native `split`\n      if (Object.prototype.toString.call(separator) !== \"[object RegExp]\") {\n        return String.prototype.split.call(str, separator, limit);\n      }\n\n      var output = [],\n          lastLastIndex = 0,\n          flags = (separator.ignoreCase ? \"i\" : \"\") +\n                  (separator.multiline  ? \"m\" : \"\") +\n                  (separator.sticky     ? \"y\" : \"\"),\n          separator = RegExp(separator.source, flags + \"g\"), // make `global` and avoid `lastIndex` issues by working with a copy\n          separator2, match, lastIndex, lastLength,\n          compliantExecNpcg = /()??/.exec(\"\")[1] === undefined; // NPCG: nonparticipating capturing group\n\n      str = str + \"\"; // type conversion\n\n      if (!compliantExecNpcg) {\n        separator2 = RegExp(\"^\" + separator.source + \"$(?!\\\\s)\", flags); // doesn't need /g or /y, but they don't hurt\n      }\n\n      /* behavior for `limit`: if it's...\n      - `undefined`: no limit.\n      - `NaN` or zero: return an empty array.\n      - a positive number: use `Math.floor(limit)`.\n      - a negative number: no limit.\n      - other: type-convert, then use the above rules. */\n      if (limit === undefined || +limit < 0) {\n        limit = Infinity;\n      } else {\n        limit = Math.floor(+limit);\n        if (!limit) {\n          return [];\n        }\n      }\n\n      while (match = separator.exec(str))\n      {\n        lastIndex = match.index + match[0].length; // `separator.lastIndex` is not reliable cross-browser\n\n        if (lastIndex > lastLastIndex) {\n          output.push(str.slice(lastLastIndex, match.index));\n\n          // fix browsers whose `exec` methods don't consistently return `undefined` for nonparticipating capturing groups\n          if (!compliantExecNpcg && match.length > 1)\n          {\n            match[0].replace(separator2, function () {\n              for (var i = 1; i < arguments.length - 2; i++)\n              {\n                if (arguments[i] === undefined) {\n                  match[i] = undefined;\n                }\n              }\n            });\n          }\n\n          if (match.length > 1 && match.index < str.length) {\n            Array.prototype.push.apply(output, match.slice(1));\n          }\n\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n\n          if (output.length >= limit) {\n            break;\n          }\n        }\n\n        if (separator.lastIndex === match.index) {\n          separator.lastIndex++; // avoid an infinite loop\n        }\n      }\n\n      if (lastLastIndex === str.length)\n      {\n        if (lastLength || !separator.test(\"\")) {\n          output.push(\"\");\n        }\n      } else {\n        output.push(str.slice(lastLastIndex));\n      }\n\n      return output.length > limit ? output.slice(0, limit) : output;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Connects the widgets to the browser DOM events.\n */\nqx.Class.define(\"qx.ui.core.EventHandler\",\n{\n  extend : qx.core.Object,\n  implement : qx.event.IEventHandler,\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    this.__manager = qx.event.Registration.getManager(window);\n  },\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_FIRST,\n\n    /** @type {Map} Supported event types. Identical to events map of qx.ui.core.Widget */\n    SUPPORTED_TYPES :\n    {\n      // mouse events\n      mousemove : 1,\n      mouseover : 1,\n      mouseout : 1,\n      mousedown : 1,\n      mouseup : 1,\n      click : 1,\n      auxclick : 1,\n      dblclick : 1,\n      contextmenu : 1,\n      mousewheel : 1,\n\n      // key events\n      keyup : 1,\n      keydown : 1,\n      keypress : 1,\n      keyinput : 1,\n\n      // mouse capture\n      capture : 1,\n      losecapture : 1,\n\n      // focus events\n      focusin : 1,\n      focusout : 1,\n      focus : 1,\n      blur : 1,\n      activate : 1,\n      deactivate : 1,\n\n      // appear events\n      appear : 1,\n      disappear : 1,\n\n      // drag drop events\n      dragstart : 1,\n      dragend : 1,\n      dragover : 1,\n      dragleave : 1,\n      drop : 1,\n      drag : 1,\n      dragchange : 1,\n      droprequest : 1,\n\n      // touch events\n      touchstart : 1,\n      touchend : 1,\n      touchmove : 1,\n      touchcancel : 1,\n\n      // gestures\n      tap : 1,\n      longtap : 1,\n      swipe : 1,\n      dbltap : 1,\n      track : 1,\n      trackend : 1,\n      trackstart : 1,\n      pinch : 1,\n      rotate : 1,\n      roll : 1,\n\n      // pointer events\n      pointermove : 1,\n      pointerover : 1,\n      pointerout : 1,\n      pointerdown : 1,\n      pointerup : 1,\n      pointercancel : 1\n    },\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : false\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __manager : null,\n\n\n    /**\n     * @type {Map} Supported focus event types\n     *\n     * @lint ignoreReferenceField(__focusEvents)\n     */\n    __focusEvents :\n    {\n      focusin : 1,\n      focusout : 1,\n      focus : 1,\n      blur : 1\n    },\n\n\n    /**\n     * @type {Map} Map of events which should be fired independently from being disabled\n     *\n     * @lint ignoreReferenceField(__ignoreDisabled)\n     */\n    __ignoreDisabled :\n    {\n      // mouse events\n      mouseover : 1,\n      mouseout : 1,\n\n      // appear events\n      appear : 1,\n      disappear : 1\n    },\n\n\n    // interface implementation\n    canHandleEvent : function(target, type) {\n      return target instanceof qx.ui.core.Widget;\n    },\n\n\n    /**\n     * Dispatches a DOM event on a widget.\n     *\n     * @param domEvent {qx.event.type.Event} The event object to dispatch.\n     */\n    _dispatchEvent : function(domEvent)\n    {\n      // EVENT TARGET\n      var domTarget = domEvent.getTarget();\n\n      var widgetTarget = qx.ui.core.Widget.getWidgetByElement(domTarget);\n      var targetChanged = false;\n      while (widgetTarget && widgetTarget.isAnonymous())\n      {\n        var targetChanged = true;\n        widgetTarget = widgetTarget.getLayoutParent();\n      }\n\n      // don't activate anonymous widgets!\n      if (widgetTarget && targetChanged && domEvent.getType() == \"activate\") {\n        widgetTarget.getContentElement().activate();\n      }\n\n\n      // Correcting target for focus events\n      if (this.__focusEvents[domEvent.getType()])\n      {\n        widgetTarget = widgetTarget && widgetTarget.getFocusTarget();\n\n        // Whether nothing is returned\n        if (!widgetTarget) {\n          return;\n        }\n      }\n\n\n      // EVENT RELATED TARGET\n      if (domEvent.getRelatedTarget)\n      {\n        var domRelatedTarget = domEvent.getRelatedTarget();\n\n        var widgetRelatedTarget = qx.ui.core.Widget.getWidgetByElement(domRelatedTarget);\n        while (widgetRelatedTarget && widgetRelatedTarget.isAnonymous()) {\n          widgetRelatedTarget = widgetRelatedTarget.getLayoutParent();\n        }\n\n        if (widgetRelatedTarget)\n        {\n          // Correcting target for focus events\n          if (this.__focusEvents[domEvent.getType()]) {\n            widgetRelatedTarget = widgetRelatedTarget.getFocusTarget();\n          }\n\n          // If target and related target are identical ignore the event\n          if (widgetRelatedTarget === widgetTarget) {\n            return;\n          }\n        }\n      }\n\n\n      // EVENT CURRENT TARGET\n      var currentTarget = domEvent.getCurrentTarget();\n\n\n      var currentWidget = qx.ui.core.Widget.getWidgetByElement(currentTarget);\n      if (!currentWidget || currentWidget.isAnonymous()) {\n        return;\n      }\n\n      // Correcting target for focus events\n      if (this.__focusEvents[domEvent.getType()]) {\n        currentWidget = currentWidget.getFocusTarget();\n      }\n\n      // Ignore most events in the disabled state.\n      var type = domEvent.getType();\n      if (!currentWidget || !(currentWidget.isEnabled() || this.__ignoreDisabled[type])) {\n        return;\n      }\n\n\n      // PROCESS LISTENERS\n\n      // Load listeners\n      var capture = domEvent.getEventPhase() == qx.event.type.Event.CAPTURING_PHASE;\n      var listeners = this.__manager.getListeners(currentWidget, type, capture);\n\n      if (domEvent.getEventPhase() == qx.event.type.Event.AT_TARGET) {\n        if (!listeners) {\n          listeners = [];\n        }\n        var otherListeners = this.__manager.getListeners(currentWidget, type, !capture);\n        if (otherListeners) {\n          listeners = listeners.concat(otherListeners);\n        }\n      }\n\n      if (!listeners || listeners.length === 0) {\n        return;\n      }\n\n      // Create cloned event with correct target\n      var widgetEvent = qx.event.Pool.getInstance().getObject(domEvent.constructor);\n      domEvent.clone(widgetEvent);\n\n      widgetEvent.setTarget(widgetTarget);\n      widgetEvent.setRelatedTarget(widgetRelatedTarget||null);\n      widgetEvent.setCurrentTarget(currentWidget);\n\n      // Keep original target of DOM event, otherwise map it to the original\n      var orig = domEvent.getOriginalTarget();\n      if (orig)\n      {\n        var widgetOriginalTarget = qx.ui.core.Widget.getWidgetByElement(orig);\n        while (widgetOriginalTarget && widgetOriginalTarget.isAnonymous()) {\n          widgetOriginalTarget = widgetOriginalTarget.getLayoutParent();\n        }\n\n        widgetEvent.setOriginalTarget(widgetOriginalTarget);\n      }\n      else\n      {\n        widgetEvent.setOriginalTarget(domTarget);\n      }\n\n      // Dispatch it on all listeners\n      var tracker = {};\n      qx.event.Utils.then(tracker, function() {\n        return qx.event.Utils.series(listeners, function(listener) {\n          var context = listener.context || currentWidget;\n          return listener.handler.call(context, widgetEvent);\n        });\n      });\n\n      // Synchronize propagation stopped/prevent default property\n      qx.event.Utils.then(tracker, function() {\n        if (widgetEvent.getPropagationStopped()) {\n          domEvent.stopPropagation();\n        }\n\n        if (widgetEvent.getDefaultPrevented()) {\n          domEvent.preventDefault();\n        }\n      });\n\n      return qx.event.Utils.then(tracker, function() {\n        qx.event.Pool.getInstance().poolObject(widgetEvent);\n      });\n    },\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture)\n    {\n      var elem;\n\n      if (type === \"focus\" || type === \"blur\") {\n        elem = target.getFocusElement();\n      } else {\n        elem = target.getContentElement();\n      }\n\n      if (elem) {\n        elem.addListener(type, this._dispatchEvent, this, capture);\n      }\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture)\n    {\n      var elem;\n\n      if (type === \"focus\" || type === \"blur\") {\n        elem = target.getFocusElement();\n      } else {\n        elem = target.getContentElement();\n      }\n\n      if (elem) {\n        elem.removeListener(type, this._dispatchEvent, this, capture);\n      }\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function() {\n    this.__manager = null;\n  },\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * This class provides capture event support at DOM level.\n */\nqx.Class.define(\"qx.event.handler.Capture\",\n{\n  extend : qx.core.Object,\n  implement : qx.event.IEventHandler,\n\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES :\n    {\n      capture : true,\n      losecapture : true\n    },\n\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE,\n\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type) {},\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    }\n  },\n\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Event handler, which supports drag events on DOM elements.\n *\n * NOTE: Instances of this class must be disposed of after use\n *\n * @require(qx.event.handler.Gesture)\n * @require(qx.event.handler.Keyboard)\n * @require(qx.event.handler.Capture)\n */\nqx.Class.define(\"qx.event.handler.DragDrop\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.event.IEventHandler, qx.core.IDisposable ],\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager)\n  {\n    this.base(arguments);\n\n    // Define shorthands\n    this.__manager = manager;\n    this.__root = manager.getWindow().document.documentElement;\n\n    // Initialize listener\n    this.__manager.addListener(this.__root, \"longtap\", this._onLongtap, this);\n    this.__manager.addListener(this.__root, \"pointerdown\", this._onPointerdown, this, true);\n\n    qx.event.Registration.addListener(window, \"blur\", this._onWindowBlur, this);\n\n    // Initialize data structures\n    this.__rebuildStructures();\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES :\n    {\n      dragstart : 1,\n      dragend : 1,\n      dragover : 1,\n      dragleave : 1,\n      drop : 1,\n      drag : 1,\n      dragchange : 1,\n      droprequest : 1\n    },\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true,\n\n    /**\n     * Array of strings holding the names of the allowed mouse buttons\n     * for Drag & Drop. The default is \"left\" but could be extended with\n     * \"middle\" or \"right\"\n     */\n    ALLOWED_BUTTONS: [\"left\"],\n\n\n    /**\n     * The distance needed to change the mouse position before a drag session start.\n     */\n    MIN_DRAG_DISTANCE : 5\n  },\n\n\n  properties : {\n    /**\n     * Widget instance of the drag & drop cursor. If non is given, the default\n     * {@link qx.ui.core.DragDropCursor} will be used.\n     */\n    cursor : {\n      check : \"qx.ui.core.Widget\",\n      nullable : true,\n      init : null\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __manager : null,\n    __root : null,\n    __dropTarget : null,\n    __dragTarget : null,\n    __types : null,\n    __actions : null,\n    __keys : null,\n    __cache : null,\n    __currentType : null,\n    __currentAction : null,\n    __sessionActive : false,\n    __validDrop : false,\n    __validAction : false,\n    __dragTargetWidget : null,\n    __startConfig : null,\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type) {},\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PUBLIC METHODS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Registers a supported type\n     *\n     * @param type {String} The type to add\n     */\n    addType : function(type) {\n      this.__types[type] = true;\n    },\n\n    /**\n     * Registers a supported action. One of <code>move</code>,\n     * <code>copy</code> or <code>alias</code>.\n     *\n     * @param action {String} The action to add\n     */\n    addAction : function(action) {\n      this.__actions[action] = true;\n    },\n\n\n    /**\n     * Whether the current drag target supports the given type\n     *\n     * @param type {String} Any type\n     * @return {Boolean} Whether the type is supported\n     */\n    supportsType : function(type) {\n      return !!this.__types[type];\n    },\n\n\n    /**\n     * Whether the current drag target supports the given action\n     *\n     * @param type {String} Any type\n     * @return {Boolean} Whether the action is supported\n     */\n    supportsAction : function(type) {\n      return !!this.__actions[type];\n    },\n\n    /**\n     * Whether the current drop target allows the current drag target.\n     *\n     * @param isAllowed {Boolean} False if a drop should be disallowed\n     */\n    setDropAllowed : function(isAllowed) {\n      this.__validDrop = isAllowed;\n      this.__detectAction();\n    },\n\n    /**\n     * Returns the data of the given type during the <code>drop</code> event\n     * on the drop target. This method fires a <code>droprequest</code> at\n     * the drag target which should be answered by calls to {@link #addData}.\n     *\n     * Note that this is a synchronous method and if any of the drag and drop\n     * events handlers are implemented using Promises, this may fail; @see\n     * `getDataAsync`.\n     *\n     * @param type {String} Any supported type\n     * @return {var} The result data in a promise\n     */\n    getData : function(type)\n    {\n      if (!this.__validDrop || !this.__dropTarget) {\n        throw new Error(\"This method must not be used outside the drop event listener!\");\n      }\n\n      if (!this.__types[type]) {\n        throw new Error(\"Unsupported data type: \" + type + \"!\");\n      }\n\n      if (!this.__cache[type])\n      {\n        this.__currentType = type;\n        this.__fireEvent(\"droprequest\", this.__dragTarget, this.__dropTarget, false, false);\n      }\n\n      if (!this.__cache[type]) {\n        throw new Error(\"Please use a droprequest listener to the drag source to fill the manager with data!\");\n      }\n\n      return this.__cache[type] || null;\n    },\n\n\n    /**\n     * Returns the data of the given type during the <code>drop</code> event\n     * on the drop target. This method fires a <code>droprequest</code> at\n     * the drag target which should be answered by calls to {@link #addData}.\n     *\n     * @param type {String} Any supported type\n     * @return {qx.Promise} The result data in a promise\n     */\n    getDataAsync : function(type)\n    {\n      if (!this.__validDrop || !this.__dropTarget) {\n        throw new Error(\"This method must not be used outside the drop event listener!\");\n      }\n\n      if (!this.__types[type]) {\n        throw new Error(\"Unsupported data type: \" + type + \"!\");\n      }\n\n      var tracker = {};\n      var self = this;\n      if (!this.__cache[type]) {\n        qx.event.Utils.then(tracker, function () {\n          self.__currentType = type;\n          return self.__fireEvent(\"droprequest\", self.__dragTarget, self.__dropTarget, false);\n        });\n      }\n\n      return qx.event.Utils.then(tracker, function () {\n        if (!this.__cache[type]) {\n          throw new Error(\"Please use a droprequest listener to the drag source to fill the manager with data!\");\n        }\n\n        return this.__cache[type] || null;\n      });\n    },\n\n\n    /**\n     * Returns the currently selected action (by user keyboard modifiers)\n     *\n     * @return {String} One of <code>move</code>, <code>copy</code> or\n     *    <code>alias</code>\n     */\n    getCurrentAction : function() {\n      this.__detectAction();\n      return this.__currentAction;\n    },\n\n\n    /**\n     * Returns the currently selected action (by user keyboard modifiers)\n     *\n     * @return {qx.Promise|String} One of <code>move</code>, <code>copy</code> or\n     *    <code>alias</code>\n     */\n    getCurrentActionAsync : qx.core.Environment.select(\"qx.promise\", {\n      \"true\": function() {\n      var self = this;\n\n      return qx.Promise.resolve(self.__detectAction())\n        .then(function() {\n          return self.__currentAction;\n        });\n      },\n      \"false\": function () {\n        throw new Error(this.classname + \".getCurrentActionAsync not supported because qx.promise==false\");\n      }\n    }),\n\n\n    /**\n     * Returns the widget which has been the target of the drag start.\n     * @return {qx.ui.core.Widget} The widget on which the drag started.\n     */\n    getDragTarget : function() {\n      return this.__dragTargetWidget;\n    },\n\n\n    /**\n     * Adds data of the given type to the internal storage. The data\n     * is available until the <code>dragend</code> event is fired.\n     *\n     * @param type {String} Any valid type\n     * @param data {var} Any data to store\n     */\n    addData : function(type, data) {\n      this.__cache[type] = data;\n    },\n\n\n    /**\n     * Returns the type which was requested last.\n     *\n     * @return {String} The last requested data type\n     */\n    getCurrentType : function() {\n      return this.__currentType;\n    },\n\n\n    /**\n     * Returns if a drag session is currently active\n     *\n     * @return {Boolean} active drag session\n     */\n    isSessionActive : function() {\n      return this.__sessionActive;\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      INTERNAL UTILS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Rebuilds the internal data storage used during a drag&drop session\n     */\n    __rebuildStructures : function()\n    {\n      this.__types = {};\n      this.__actions = {};\n      this.__keys = {};\n      this.__cache = {};\n    },\n\n\n    /**\n     * Detects the current action and stores it under the private\n     * field <code>__currentAction</code>. Also fires the event\n     * <code>dragchange</code> on every modification.\n     *\n     * @return {qx.Promise|null}\n     */\n    __detectAction : function()\n    {\n      if (this.__dragTarget == null) {\n        if (qx.core.Environment.get(\"qx.promise\")) {\n          return qx.Promise.reject();\n        } else {\n          return null;\n        }\n      }\n\n      var actions = this.__actions;\n      var keys = this.__keys;\n      var current = null;\n\n      if (this.__validDrop)\n      {\n        if (keys.Shift && keys.Control && actions.alias) {\n          current = \"alias\";\n        } else if (keys.Shift && keys.Alt && actions.copy) {\n          current = \"copy\";\n        } else if (keys.Shift && actions.move) {\n          current = \"move\";\n        } else if (keys.Alt && actions.alias) {\n          current = \"alias\";\n        } else if (keys.Control && actions.copy) {\n          current = \"copy\";\n        } else if (actions.move) {\n          current = \"move\";\n        } else if (actions.copy) {\n          current = \"copy\";\n        } else if (actions.alias) {\n          current = \"alias\";\n        }\n      }\n\n      var self = this;\n      var tracker = {};\n      var old = this.__currentAction;\n      if (current != old) {\n        if (this.__dropTarget) {\n          qx.event.Utils.catch(function () {\n            self.__validAction = false;\n            current = null;\n          });\n          qx.event.Utils.then(tracker, function () {\n            self.__currentAction = current;\n            return self.__fireEvent(\"dragchange\", self.__dropTarget, self.__dragTarget, true);\n          });\n          qx.event.Utils.then(tracker, function (validAction) {\n            self.__validAction = validAction;\n            if (!validAction) {\n              current = null;\n            }\n          });\n        }\n      }\n\n      return qx.event.Utils.then(tracker, function() {\n        if (current != old) {\n          self.__currentAction = current;\n          return self.__fireEvent(\"dragchange\", self.__dragTarget, self.__dropTarget, false);\n        }\n      });\n    },\n\n\n    /**\n     * Wrapper for {@link qx.event.Registration#fireEvent} for drag&drop events\n     * needed in this class.\n     *\n     * @param type {String} Event type\n     * @param target {Object} Target to fire on\n     * @param relatedTarget {Object} Related target, i.e. drag or drop target\n     *    depending on the drag event\n     * @param cancelable {Boolean} Whether the event is cancelable\n     * @param original {qx.event.type.Pointer} Original pointer event\n     * @return {qx.Promise|Boolean} <code>true</code> if the event's default behavior was\n     * not prevented\n     */\n    __fireEvent : function(type, target, relatedTarget, cancelable, original, async)\n    {\n      var Registration = qx.event.Registration;\n      var dragEvent = Registration.createEvent(type, qx.event.type.Drag, [ cancelable, original ]);\n\n      if (target !== relatedTarget) {\n        dragEvent.setRelatedTarget(relatedTarget);\n      }\n\n      var result = Registration.dispatchEvent(target, dragEvent);\n      if (qx.core.Environment.get(\"qx.promise\")) {\n        if (async === undefined || async) {\n          return qx.Promise.resolve(result)\n            .then(function() {\n              return !dragEvent.getDefaultPrevented();\n            });\n        } else {\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            if (result instanceof qx.Promise) {\n              this.error(\"DragDrop event \\\"\" + type + \"\\\" returned a promise but a synchronous event was required, drag and drop may not work as expected (consider using getDataAsync)\");\n            }\n          }\n          return result;\n        }\n      } else {\n        return result;\n      }\n    },\n\n\n    /**\n     * Finds next draggable parent of the given element. Maybe the element itself as well.\n     *\n     * Looks for the attribute <code>qxDraggable</code> with the value <code>on</code>.\n     *\n     * @param elem {Element} The element to query\n     * @return {Element} The next parent element which is draggable. May also be <code>null</code>\n     */\n    __findDraggable : function(elem)\n    {\n      while (elem && elem.nodeType == 1)\n      {\n        if (elem.getAttribute(\"qxDraggable\") == \"on\") {\n          return elem;\n        }\n\n        elem = elem.parentNode;\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Finds next droppable parent of the given element. Maybe the element itself as well.\n     *\n     * Looks for the attribute <code>qxDroppable</code> with the value <code>on</code>.\n     *\n     * @param elem {Element} The element to query\n     * @return {Element} The next parent element which is droppable. May also be <code>null</code>\n     */\n    __findDroppable : function(elem)\n    {\n      while (elem && elem.nodeType == 1)\n      {\n        if (elem.getAttribute(\"qxDroppable\") == \"on\") {\n          return elem;\n        }\n\n        elem = elem.parentNode;\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Cleans up a drag&drop session when <code>dragstart</code> was fired before.\n     *\n     * @return {qx.Promise?} promise, if one was created by event handlers\n     */\n    clearSession : function()\n    {\n      //this.debug(\"clearSession\");\n\n      // Deregister from root events\n      this.__manager.removeListener(this.__root, \"pointermove\", this._onPointermove, this);\n      this.__manager.removeListener(this.__root, \"pointerup\", this._onPointerup, this, true);\n\n      this.__manager.removeListener(this.__root, \"keydown\", this._onKeyDown, this, true);\n      this.__manager.removeListener(this.__root, \"keyup\", this._onKeyUp, this, true);\n      this.__manager.removeListener(this.__root, \"keypress\", this._onKeyPress, this, true);\n      this.__manager.removeListener(this.__root, \"roll\", this._onRoll, this, true);\n\n      var tracker = {};\n      var self = this;\n\n      // Fire dragend event\n      if (this.__dragTarget) {\n        qx.event.Utils.then(tracker, function() {\n          return self.__fireEvent(\"dragend\", self.__dragTarget, self.__dropTarget, false);\n        });\n      }\n\n      return qx.event.Utils.then(tracker, function() {\n        // Cleanup\n        self.__validDrop = false;\n        self.__dropTarget = null;\n        if (self.__dragTargetWidget) {\n          self.__dragTargetWidget.removeState(\"drag\");\n          self.__dragTargetWidget = null;\n        }\n\n        // Clear init\n        //self.debug(\"Clearing drag target\");\n        self.__dragTarget = null;\n        self.__sessionActive = false;\n        self.__startConfig = null;\n        self.__rebuildStructures();\n      });\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Handler for long tap which takes care of starting the drag & drop session for\n     * touch interactions.\n     * @param e {qx.event.type.Tap} The longtap event.\n     */\n    _onLongtap : function(e) {\n      // only for touch\n      if (e.getPointerType() != \"touch\") {\n        return;\n      }\n      // prevent scrolling\n      this.__manager.addListener(this.__root, \"roll\", this._onRoll, this, true);\n      return this._start(e);\n    },\n\n\n    /**\n     * Helper to start the drag & drop session. It is responsible for firing the\n     * dragstart event and attaching the key listener.\n     * @param e {qx.event.type.Pointer} Either a longtap or pointermove event.\n     *\n     * @return {Boolean} Returns <code>false</code> if drag session should be\n     * canceled.\n     */\n    _start : function(e) {\n      // only for primary pointer and allowed buttons\n      var isButtonOk = qx.event.handler.DragDrop.ALLOWED_BUTTONS.indexOf(e.getButton()) !== -1;\n      if (!e.isPrimary() || !isButtonOk) {\n        return false;\n      }\n\n      // start target can be none as the drag & drop handler might\n      // be created after the first start event\n      var target = this.__startConfig ? this.__startConfig.target : e.getTarget();\n      var draggable = this.__findDraggable(target);\n      if (draggable) {\n        // This is the source target\n        //this.debug(\"Setting dragtarget = \" + draggable);\n        this.__dragTarget = draggable;\n\n        var widgetOriginalTarget = qx.ui.core.Widget.getWidgetByElement(this.__startConfig.original);\n        while (widgetOriginalTarget && widgetOriginalTarget.isAnonymous()) {\n          widgetOriginalTarget = widgetOriginalTarget.getLayoutParent();\n        }\n        if (widgetOriginalTarget) {\n          this.__dragTargetWidget = widgetOriginalTarget;\n          widgetOriginalTarget.addState(\"drag\");\n        }\n\n        // fire cancelable dragstart\n        var self = this;\n        var tracker = {};\n        qx.event.Utils.catch(function() {\n          //self.debug(\"dragstart FAILED, setting __sessionActive=false\");\n          self.__sessionActive = false;\n        });\n        qx.event.Utils.then(tracker, function() {\n          return self.__fireEvent(\"dragstart\", self.__dragTarget, self.__dropTarget, true, e);\n        });\n        return qx.event.Utils.then(tracker, function(validAction) {\n          if (!validAction) {\n            return;\n          }\n          //self.debug(\"dragstart ok, setting __sessionActive=true\")\n          self.__manager.addListener(self.__root, \"keydown\", self._onKeyDown, self, true);\n          self.__manager.addListener(self.__root, \"keyup\", self._onKeyUp, self, true);\n          self.__manager.addListener(self.__root, \"keypress\", self._onKeyPress, self, true);\n          self.__sessionActive = true;\n        });\n      }\n    },\n\n\n    /**\n     * Event handler for the pointerdown event which stores the initial targets and the coordinates.\n     * @param e {qx.event.type.Pointer} The pointerdown event.\n     */\n    _onPointerdown : function(e) {\n      if (e.isPrimary()) {\n        this.__startConfig = {\n          target: e.getTarget(),\n          original: e.getOriginalTarget(),\n          left : e.getDocumentLeft(),\n          top : e.getDocumentTop()\n        };\n\n        this.__manager.addListener(this.__root, \"pointermove\", this._onPointermove, this);\n        this.__manager.addListener(this.__root, \"pointerup\", this._onPointerup, this, true);\n      }\n    },\n\n\n    /**\n     * Event handler for the pointermove event which starts the drag session and\n     * is responsible for firing the drag, dragover and dragleave event.\n     * @param e {qx.event.type.Pointer} The pointermove event.\n     */\n    _onPointermove : function(e) {\n      // only allow drag & drop for primary pointer\n      if (!e.isPrimary()) {\n        return;\n      }\n\n      //this.debug(\"_onPointermove: start\");\n\n      var self = this;\n      var tracker = {};\n\n      qx.event.Utils.catch(function() {\n        return self.clearSession();\n      });\n\n      // start the drag session for mouse\n      if (!self.__sessionActive && e.getPointerType() == \"mouse\") {\n        var delta = self._getDelta(e);\n        // if the mouse moved a bit in any direction\n        var distance = qx.event.handler.DragDrop.MIN_DRAG_DISTANCE;\n        if (delta && (Math.abs(delta.x) > distance || Math.abs(delta.y) > distance)) {\n          //self.debug(\"_onPointermove: outside min drag distance\");\n          qx.event.Utils.then(tracker, function() {\n            return self._start(e);\n          });\n        }\n      }\n\n      return qx.event.Utils.then(tracker, function() {\n        // check if the session has been activated\n        if (!self.__sessionActive) {\n          //self.debug(\"not active\");\n          return;\n        }\n\n        var tracker = {};\n        qx.event.Utils.then(tracker, function() {\n          //self.debug(\"active, firing drag\");\n          return self.__fireEvent(\"drag\", self.__dragTarget, self.__dropTarget, true, e);\n        });\n        qx.event.Utils.then(tracker, function(validAction) {\n          if (!validAction) {\n            this.clearSession();\n          }\n\n          //self.debug(\"drag\");\n          // find current hovered droppable\n          var el = e.getTarget();\n          if (self.__startConfig.target === el) {\n            // on touch devices the native events return wrong elements as target (its always the element where the dragging started)\n            el = e.getNativeEvent().view.document.elementFromPoint(e.getDocumentLeft(), e.getDocumentTop());\n          }\n          var cursor = self.getCursor();\n          if (!cursor) {\n            cursor = qx.ui.core.DragDropCursor.getInstance();\n          }\n          var cursorEl = cursor.getContentElement().getDomElement();\n          if (cursorEl && (el === cursorEl || cursorEl.contains(el))) {\n            var display = qx.bom.element.Style.get(cursorEl, \"display\");\n            // get the cursor out of the way\n            qx.bom.element.Style.set(cursorEl, \"display\", \"none\");\n            el = e.getNativeEvent().view.document.elementFromPoint(e.getDocumentLeft(), e.getDocumentTop());\n            qx.bom.element.Style.set(cursorEl, \"display\", display);\n          }\n\n          if (el !== cursorEl) {\n            var droppable = self.__findDroppable(el);\n\n            // new drop target detected\n            if (droppable && droppable != self.__dropTarget) {\n              var dropLeaveTarget = self.__dropTarget;\n              \n              self.__validDrop = true; // initial value should be true\n              self.__dropTarget = droppable;\n\n              var innerTracker = {};\n              qx.event.Utils.catch(innerTracker, function () {\n                self.__dropTarget = null;\n                self.__validDrop = false;\n              });\n              \n              // fire dragleave for previous drop target\n              if (dropLeaveTarget) {\n                qx.event.Utils.then(innerTracker, function () {\n                  return self.__fireEvent(\"dragleave\", dropLeaveTarget, self.__dragTarget, false, e);\n                });\n              }\n              \n              qx.event.Utils.then(innerTracker, function () {\n                return self.__fireEvent(\"dragover\", droppable, self.__dragTarget, true, e);\n              });\n              \n              return qx.event.Utils.then(innerTracker, function (validDrop) {\n                self.__validDrop = validDrop;\n              });\n            }\n\n            // only previous drop target\n            else if (!droppable && self.__dropTarget) {\n              var innerTracker = {};\n              qx.event.Utils.then(innerTracker, function () {\n                return self.__fireEvent(\"dragleave\", self.__dropTarget, self.__dragTarget, false, e);\n              });\n              return qx.event.Utils.then(innerTracker, function () {\n                self.__dropTarget = null;\n                self.__validDrop = false;\n\n                return self.__detectAction();\n              });\n            }\n          }\n        });\n        return qx.event.Utils.then(tracker, function() {\n          // Reevaluate current action\n          var keys = self.__keys;\n          keys.Control = e.isCtrlPressed();\n          keys.Shift = e.isShiftPressed();\n          keys.Alt = e.isAltPressed();\n          return self.__detectAction();\n        });\n      });\n\n    },\n\n\n    /**\n     * Helper function to compute the delta between current cursor position from given event\n     * and the stored coordinates at {@link #_onPointerdown}.\n     *\n     * @param e {qx.event.type.Pointer} The pointer event\n     *\n     * @return {Map} containing the deltaX as x, and deltaY as y.\n     */\n    _getDelta : function(e)\n    {\n      if (!this.__startConfig) {\n        return null;\n      }\n\n      var deltaX = e.getDocumentLeft() - this.__startConfig.left;\n      var deltaY = e.getDocumentTop() - this.__startConfig.top;\n\n      return {\n        \"x\": deltaX,\n        \"y\": deltaY\n      };\n    },\n\n\n    /**\n     * Handler for the pointerup event which is responsible fore firing the drop event.\n     * @param e {qx.event.type.Pointer} The pointerup event\n     */\n    _onPointerup : function(e) {\n      if (!e.isPrimary()) {\n        return;\n      }\n\n      var tracker = {};\n      var self = this;\n\n      // Fire drop event in success case\n      if (this.__validDrop && this.__validAction) {\n        qx.event.Utils.then(tracker, function() {\n          return self.__fireEvent(\"drop\", self.__dropTarget, self.__dragTarget, false, e);\n        });\n      }\n\n      return qx.event.Utils.then(tracker, function() {\n        // Stop event\n        if (e.getTarget() == self.__dragTarget) {\n          e.stopPropagation();\n        }\n\n        // Clean up\n        return self.clearSession();\n      });\n    },\n\n\n    /**\n     * Roll listener to stop scrolling on touch devices.\n     * @param e {qx.event.type.Roll} The roll event.\n     */\n    _onRoll : function(e) {\n      e.stop();\n    },\n\n\n    /**\n     * Event listener for window's <code>blur</code> event\n     *\n     * @param e {qx.event.type.Event} Event object\n     */\n    _onWindowBlur : function(e) {\n      return this.clearSession();\n    },\n\n\n    /**\n     * Event listener for root's <code>keydown</code> event\n     *\n     * @param e {qx.event.type.KeySequence} Event object\n     */\n    _onKeyDown : function(e) {\n      var iden = e.getKeyIdentifier();\n      switch(iden)\n      {\n        case \"Alt\":\n        case \"Control\":\n        case \"Shift\":\n          if (!this.__keys[iden])\n          {\n            this.__keys[iden] = true;\n            return this.__detectAction();\n          }\n      }\n    },\n\n\n    /**\n     * Event listener for root's <code>keyup</code> event\n     *\n     * @param e {qx.event.type.KeySequence} Event object\n     */\n    _onKeyUp : function(e) {\n      var iden = e.getKeyIdentifier();\n      switch(iden)\n      {\n        case \"Alt\":\n        case \"Control\":\n        case \"Shift\":\n          if (this.__keys[iden])\n          {\n            this.__keys[iden] = false;\n            return this.__detectAction();\n          }\n      }\n    },\n\n\n    /**\n     * Event listener for root's <code>keypress</code> event\n     *\n     * @param e {qx.event.type.KeySequence} Event object\n     */\n    _onKeyPress : function(e) {\n      var iden = e.getKeyIdentifier();\n      switch(iden)\n      {\n        case \"Escape\":\n          return this.clearSession();\n      }\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    qx.event.Registration.removeListener(window, \"blur\", this._onWindowBlur, this);\n\n    // Clear fields\n    this.__dragTarget = this.__dropTarget = this.__manager = this.__root =\n      this.__types = this.__actions = this.__keys = this.__cache = null;\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * A helper class for accessing the property system directly.\n *\n * This class is rather to be used internally. For all regular usage of the\n * property system the default API should be sufficient.\n */\nqx.Class.define(\"qx.util.PropertyUtil\",\n{\n  statics :\n  {\n    /**\n     * Get the property map of the given class\n     *\n     * @param clazz {Class} a qooxdoo class\n     * @return {Map} A properties map as defined in {@link qx.Class#define}\n     *   including the properties of included mixins and not including refined\n     *   properties.\n     */\n    getProperties : function(clazz) {\n      return clazz.$$properties;\n    },\n\n\n    /**\n     * Get the property map of the given class including the properties of all\n     * superclasses!\n     *\n     * @param clazz {Class} a qooxdoo class\n     * @return {Map} The properties map as defined in {@link qx.Class#define}\n     *   including the properties of included mixins of the current class and\n     *   all superclasses.\n     */\n    getAllProperties : function(clazz)\n    {\n\n      var properties = {};\n      var superclass = clazz;\n      // go threw the class hierarchy\n      while (superclass != qx.core.Object) {\n        var currentProperties = this.getProperties(superclass);\n        for (var property in currentProperties) {\n          properties[property] = currentProperties[property];\n        }\n        superclass = superclass.superclass;\n      }\n      return properties;\n    },\n\n\n\n    /*\n    -------------------------------------------------------------------------\n      USER VALUES\n    -------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the user value of the given property\n     *\n     * @param object {Object} The object to access\n     * @param propertyName {String} The name of the property\n     * @return {var} The user value\n     */\n    getUserValue : function(object, propertyName) {\n      return object[\"$$user_\" + propertyName];\n    },\n\n    /**\n    * Sets the user value of the given property\n    *\n    * @param object {Object} The object to access\n    * @param propertyName {String} The name of the property\n    * @param value {var} The value to set\n    */\n    setUserValue : function(object, propertyName, value) {\n      object[\"$$user_\" + propertyName] = value;\n    },\n\n    /**\n    * Deletes the user value of the given property\n    *\n    * @param object {Object} The object to access\n    * @param propertyName {String} The name of the property\n    */\n    deleteUserValue : function(object, propertyName) {\n      delete(object[\"$$user_\" + propertyName]);\n    },\n\n\n    /*\n    -------------------------------------------------------------------------\n      INIT VALUES\n    -------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the init value of the given property\n     *\n     * @param object {Object} The object to access\n     * @param propertyName {String} The name of the property\n     * @return {var} The init value\n     */\n    getInitValue : function(object, propertyName) {\n      return object[\"$$init_\" + propertyName];\n    },\n\n    /**\n    * Sets the init value of the given property\n    *\n    * @param object {Object} The object to access\n    * @param propertyName {String} The name of the property\n    * @param value {var} The value to set\n    */\n    setInitValue : function(object, propertyName, value) {\n      object[\"$$init_\" + propertyName] = value;\n    },\n\n    /**\n    * Deletes the init value of the given property\n    *\n    * @param object {Object} The object to access\n    * @param propertyName {String} The name of the property\n    */\n    deleteInitValue : function(object, propertyName) {\n      delete(object[\"$$init_\" + propertyName]);\n    },\n\n\n    /*\n    -------------------------------------------------------------------------\n      THEME VALUES\n    -------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the theme value of the given property\n     *\n     * @param object {Object} The object to access\n     * @param propertyName {String} The name of the property\n     * @return {var} The theme value\n     */\n    getThemeValue : function(object, propertyName) {\n      return object[\"$$theme_\" + propertyName];\n    },\n\n    /**\n    * Sets the theme value of the given property\n    *\n    * @param object {Object} The object to access\n    * @param propertyName {String} The name of the property\n    * @param value {var} The value to set\n    */\n    setThemeValue : function(object, propertyName, value) {\n      object[\"$$theme_\" + propertyName] = value;\n    },\n\n    /**\n    * Deletes the theme value of the given property\n    *\n    * @param object {Object} The object to access\n    * @param propertyName {String} The name of the property\n    */\n    deleteThemeValue : function(object, propertyName) {\n      delete(object[\"$$theme_\" + propertyName]);\n    },\n\n\n    /*\n    -------------------------------------------------------------------------\n      THEMED PROPERTY\n    -------------------------------------------------------------------------\n    */\n\n    /**\n     * Sets a themed property\n     *\n     * @param object {Object} The object to access\n     * @param propertyName {String} The name of the property\n    * @param value {var} The value to set\n     */\n    setThemed : function(object, propertyName, value)\n    {\n      var styler = qx.core.Property.$$method.setThemed;\n      object[styler[propertyName]](value);\n    },\n\n    /**\n    * Resets a themed property\n    *\n    * @param object {Object} The object to access\n    * @param propertyName {String} The name of the property\n    */\n    resetThemed : function(object, propertyName)\n    {\n      var unstyler = qx.core.Property.$$method.resetThemed;\n      object[unstyler[propertyName]]();\n    }\n  }\n});","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * The layout queue manages all widgets, which need a recalculation of their\n * layout. The {@link #flush} method computes the layout of all queued widgets\n * and their dependent widgets.\n */\nqx.Class.define(\"qx.ui.core.queue.Layout\",\n{\n  statics :\n  {\n    /** @type {Map} This contains all the queued widgets for the next flush. */\n    __queue : {},\n\n\n    /** Nesting level cache **/\n    __nesting : {},\n\n\n    /**\n     * Clears the widget from the internal queue. Normally only used\n     * during interims disposes of one or a few widgets.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to clear\n     */\n    remove : function(widget) {\n      delete this.__queue[widget.toHashCode()];\n    },\n\n\n    /**\n     * Mark a widget's layout as invalid and add its layout root to\n     * the queue.\n     *\n     * Should only be used by {@link qx.ui.core.Widget}.\n     *\n     * @param widget {qx.ui.core.Widget} Widget to add.\n     */\n    add : function(widget)\n    {\n      this.__queue[widget.toHashCode()] = widget;\n      qx.ui.core.queue.Manager.scheduleFlush(\"layout\");\n    },\n\n    /**\n    * Check whether the queue has scheduled changes for a widget.\n    * Note that the layout parent can have changes scheduled that\n    * affect the children widgets.\n    *\n    * @param widget {qx.ui.core.Widget} Widget to check.\n    * @return {Boolean} Whether the widget given has layout changes queued.\n    */\n    isScheduled : function(widget) {\n      return !!this.__queue[widget.toHashCode()];\n    },\n\n    /**\n     * Update the layout of all widgets, which layout is marked as invalid.\n     *\n     * This is used exclusively by the {@link qx.ui.core.queue.Manager}.\n     *\n     */\n    flush : function()\n    {\n      // get sorted widgets to (re-)layout\n      var queue = this.__getSortedQueue();\n\n      // iterate in reversed order to process widgets with the smallest nesting\n      // level first because these may affect the inner lying children\n      for (var i=queue.length-1; i>=0; i--)\n      {\n        var widget = queue[i];\n\n        // continue if a relayout of one of the root's parents has made the\n        // layout valid\n        if (widget.hasValidLayout()) {\n          continue;\n        }\n\n        // overflow areas or qx.ui.root.*\n        if (widget.isRootWidget() && !widget.hasUserBounds())\n        {\n          // This is a real root widget. Set its size to its preferred size.\n          var hint = widget.getSizeHint();\n          widget.renderLayout(0, 0, hint.width, hint.height);\n        }\n        else\n        {\n          // This is an inner item of layout changes. Do a relayout of its\n          // children without changing its position and size.\n          var bounds = widget.getBounds();\n          widget.renderLayout(bounds.left, bounds.top, bounds.width, bounds.height);\n        }\n      }\n    },\n\n\n    /**\n     * Get the widget's nesting level. Top level widgets have a nesting level\n     * of <code>0</code>.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to query.\n     * @return {Integer} The nesting level\n     */\n    getNestingLevel : function(widget)\n    {\n      var cache = this.__nesting;\n      var level = 0;\n      var parent = widget;\n\n      // Detecting level\n      while (true)\n      {\n        if (cache[parent.toHashCode()] != null)\n        {\n          level += cache[parent.toHashCode()];\n          break;\n        }\n\n        if (!parent.$$parent) {\n          break;\n        }\n\n        parent = parent.$$parent;\n        level += 1;\n      }\n\n      // Update the processed hierarchy (runs from inner to outer)\n      var leveldown = level;\n      while (widget && widget !== parent)\n      {\n        cache[widget.toHashCode()] = leveldown--;\n        widget = widget.$$parent;\n      }\n\n      return level;\n    },\n\n\n    /**\n     * Group widget by their nesting level.\n     *\n     * @return {Map[]} A sparse array. Each entry of the array contains a widget\n     *     map with all widgets of the same level as the array index.\n     */\n    __getLevelGroupedWidgets : function()\n    {\n      var VisibilityQueue = qx.ui.core.queue.Visibility;\n\n      // clear cache\n      this.__nesting = {};\n\n      // sparse level array\n      var levels = [];\n      var queue = this.__queue;\n      var widget, level;\n\n      for (var hash in queue)\n      {\n        widget = queue[hash];\n\n        if (VisibilityQueue.isVisible(widget))\n        {\n          level = this.getNestingLevel(widget);\n\n          // create hierarchy\n          if (!levels[level]) {\n            levels[level] = {};\n          }\n\n          // store widget in level map\n          levels[level][hash] = widget;\n\n          // remove widget from layout queue\n          delete queue[hash];\n        }\n      }\n\n      return levels;\n    },\n\n\n    /**\n     * Compute all layout roots of the given widgets. Layout roots are either\n     * root widgets or widgets, which preferred size has not changed by the\n     * layout changes of its children.\n     *\n     * This function returns the roots ordered by their nesting factors. The\n     * layout with the largest nesting level comes first.\n     *\n     * @return {qx.ui.core.Widget[]} Ordered list or layout roots.\n     */\n    __getSortedQueue : function()\n    {\n      var sortedQueue = [];\n      var levels = this.__getLevelGroupedWidgets();\n\n      for (var level=levels.length-1; level>=0; level--)\n      {\n        // Ignore empty levels (levels is an sparse array)\n        if (!levels[level]) {\n          continue;\n        }\n\n        for (var hash in levels[level])\n        {\n          var widget = levels[level][hash];\n\n          // This is a real layout root. Add it directly to the list\n          if (level == 0 || widget.isRootWidget() || widget.hasUserBounds())\n          {\n            sortedQueue.push(widget);\n            widget.invalidateLayoutCache();\n            continue;\n          }\n\n          // compare old size hint to new size hint\n          var oldSizeHint = widget.getSizeHint(false);\n\n          if (oldSizeHint)\n          {\n            widget.invalidateLayoutCache();\n            var newSizeHint = widget.getSizeHint();\n\n            var hintChanged = (\n              !widget.getBounds() ||\n              oldSizeHint.minWidth !== newSizeHint.minWidth ||\n              oldSizeHint.width !== newSizeHint.width ||\n              oldSizeHint.maxWidth !== newSizeHint.maxWidth ||\n              oldSizeHint.minHeight !== newSizeHint.minHeight ||\n              oldSizeHint.height !== newSizeHint.height ||\n              oldSizeHint.maxHeight !== newSizeHint.maxHeight\n            );\n          }\n          else\n          {\n            hintChanged = true;\n          }\n\n          if (hintChanged)\n          {\n            // Since the level is > 0, the widget must\n            // have a parent != null.\n            var parent = widget.getLayoutParent();\n            if (!levels[level-1]) {\n              levels[level-1] = {};\n            }\n\n            levels[level-1][parent.toHashCode()] = parent;\n          }\n          else\n          {\n            // this is an internal layout root since its own preferred size\n            // has not changed.\n            sortedQueue.push(widget);\n          }\n        }\n      }\n\n      return sortedQueue;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Keeps data about the visibility of all widgets. Updates the internal\n * tree when widgets are added, removed or modify their visibility.\n */\nqx.Class.define(\"qx.ui.core.queue.Visibility\",\n{\n  statics :\n  {\n    /** @type {Array} This contains all the queued widgets for the next flush. */\n    __queue : [],\n    \n    /** @type {Map} map of widgets by hash code which are in the queue */\n    __lookup : {},\n\n\n    /** @type {Map} Maps hash codes to visibility */\n    __data : {},\n\n\n    /**\n     * Clears the cached data of the given widget. Normally only used\n     * during interims disposes of one or a few widgets.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to clear\n     */\n    remove : function(widget)\n    {\n    \tif (this.__lookup[widget.toHashCode()]) {\n\t      delete this.__lookup[widget.toHashCode()];\n\t      qx.lang.Array.remove(this.__queue, widget);\n    \t}\n      delete this.__data[widget.toHashCode()];\n    },\n\n\n    /**\n     * Whether the given widget is visible.\n     *\n     * Please note that the information given by this method is queued and may not be accurate\n     * until the next queue flush happens.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to query\n     * @return {Boolean} Whether the widget is visible\n     */\n    isVisible : function(widget) {\n      return this.__data[widget.toHashCode()] || false;\n    },\n\n\n    /**\n     * Computes the visibility for the given widget\n     *\n     * @param widget {qx.ui.core.Widget} The widget to update\n     * @return {Boolean} Whether the widget is visible\n     */\n    __computeVisible : function(widget)\n    {\n      var data = this.__data;\n      var hash = widget.toHashCode();\n      var visible;\n\n      // Respect local value\n      if (widget.isExcluded())\n      {\n        visible = false;\n      }\n      else\n      {\n        // Parent hierarchy\n        var parent = widget.$$parent;\n        if (parent) {\n          visible = this.__computeVisible(parent);\n        } else {\n          visible = widget.isRootWidget();\n        }\n      }\n\n      return data[hash] = visible;\n    },\n\n\n    /**\n     * Adds a widget to the queue.\n     *\n     * Should only be used by {@link qx.ui.core.Widget}.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to add.\n     */\n    add : function(widget)\n    {\n      if (this.__lookup[widget.toHashCode()]) {\n        return;\n      }\n\n      this.__queue.unshift(widget);\n      this.__lookup[widget.toHashCode()] = widget;\n      qx.ui.core.queue.Manager.scheduleFlush(\"visibility\");\n    },\n\n\n    /**\n     * Flushes the visibility queue.\n     *\n     * This is used exclusively by the {@link qx.ui.core.queue.Manager}.\n     */\n    flush : function()\n    {\n      // Dispose all registered objects\n      var queue = this.__queue;\n      var data = this.__data;\n\n      // Dynamically add children to queue\n      // Only respect already known widgets because otherwise the children\n      // are also already in the queue (added on their own)\n      for (var i = queue.length - 1; i >= 0; i--)\n      {\n        var hash = queue[i].toHashCode();\n        if (data[hash] != null) {\n          // recursive method call which adds widgets to the queue so be\n          // careful with that one (performance critical)\n          queue[i].addChildrenToQueue(queue);\n        }\n      }\n\n      // Cache old data, clear current data\n      // Do this before starting with recomputation because\n      // new data may also be added by related widgets and not\n      // only the widget itself.\n      var oldData = {};\n      for (var i = queue.length - 1; i >= 0; i--)\n      {\n        var hash = queue[i].toHashCode();\n        oldData[hash] = data[hash];\n        data[hash] = null;\n      }\n\n      // Finally recompute\n      for (var i = queue.length - 1; i >= 0; i--)\n      {\n        var widget = queue[i];\n        var hash = widget.toHashCode();\n        queue.splice(i, 1);\n\n        // Only update when not already updated by another widget\n        if (data[hash] == null) {\n          this.__computeVisible(widget);\n        }\n\n        // Check for updates required to the appearance.\n        // Hint: Invisible widgets are ignored inside appearance flush\n        if (data[hash] && data[hash] != oldData[hash]) {\n          widget.checkAppearanceNeeds();\n        }\n      }\n\n      // Recreate the array is cheaper compared to keep a sparse array over time\n      this.__queue = [];\n      this.__lookup = {};\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Base class for all layout managers.\n *\n * Custom layout manager must derive from\n * this class and implement the methods {@link #invalidateLayoutCache},\n * {@link #renderLayout} and {@link #getSizeHint}.\n */\nqx.Class.define(\"qx.ui.layout.Abstract\",\n{\n  type : \"abstract\",\n  extend : qx.core.Object,\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /** @type {Map} The cached size hint */\n    __sizeHint : null,\n\n    /** @type {Boolean} Whether the children cache is valid. This field is protected\n     *    because sub classes must be able to access it quickly.\n     */\n    _invalidChildrenCache : null,\n\n    /** @type {qx.ui.core.Widget} The connected widget */\n    __widget : null,\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      LAYOUT INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Invalidate all layout relevant caches. Automatically deletes the size hint.\n     *\n     * @abstract\n     */\n    invalidateLayoutCache : function() {\n      this.__sizeHint = null;\n    },\n\n\n    /**\n     * Applies the children layout.\n     *\n     * @abstract\n     * @param availWidth {Integer} Final width available for the content (in pixel)\n     * @param availHeight {Integer} Final height available for the content (in pixel)\n     * @param padding {Map} Map containing the padding values. Keys:\n     * <code>top</code>, <code>bottom</code>, <code>left</code>, <code>right</code>\n     */\n    renderLayout : function(availWidth, availHeight, padding) {\n      this.warn(\"Missing renderLayout() implementation!\");\n    },\n\n\n    /**\n     * Computes the layout dimensions and possible ranges of these.\n     *\n     * @return {Map|null} The map with the preferred width/height and the allowed\n     *   minimum and maximum values in cases where shrinking or growing\n     *   is required. Can also return <code>null</code> when this detection\n     *   is not supported by the layout.\n     */\n    getSizeHint : function()\n    {\n      if (this.__sizeHint) {\n        return this.__sizeHint;\n      }\n\n      return this.__sizeHint = this._computeSizeHint();\n    },\n\n\n    /**\n     * Whether the layout manager supports height for width.\n     *\n     * @return {Boolean} Whether the layout manager supports height for width\n     */\n    hasHeightForWidth : function() {\n      return false;\n    },\n\n\n    /**\n     * If layout wants to trade height for width it has to implement this\n     * method and return the preferred height if it is resized to\n     * the given width. This function returns <code>null</code> if the item\n     * do not support height for width.\n     *\n     * @param width {Integer} The computed width\n     * @return {Integer} The desired height\n     */\n    getHeightForWidth : function(width)\n    {\n      this.warn(\"Missing getHeightForWidth() implementation!\");\n      return null;\n    },\n\n\n    /**\n     * This computes the size hint of the layout and returns it.\n     *\n     * @abstract\n     * @return {Map} The size hint.\n     */\n    _computeSizeHint : function() {\n      return null;\n    },\n\n\n    /**\n     * This method is called, on each child \"add\" and \"remove\" action and\n     * whenever the layout data of a child is changed. The method should be used\n     * to clear any children relevant cached data.\n     *\n     */\n    invalidateChildrenCache : function() {\n      this._invalidChildrenCache = true;\n    },\n\n\n    /**\n     * Verifies the value of a layout property.\n     *\n     * Note: This method is only available in the debug builds.\n     *\n     * @signature function(item, name, value)\n     * @param item {Object} The affected layout item\n     * @param name {Object} Name of the layout property\n     * @param value {Object} Value of the layout property\n     */\n    verifyLayoutProperty : qx.core.Environment.select(\"qx.debug\",\n    {\n      \"true\" : function(item, name, value) {\n        // empty implementation\n      },\n\n      \"false\" : null\n    }),\n\n\n    /**\n     * Remove all currently visible separators\n     */\n    _clearSeparators : function()\n    {\n      // It may be that the widget do not implement clearSeparators which is especially true\n      // when it do not inherit from LayoutItem.\n      var widget = this.__widget;\n      if (widget instanceof qx.ui.core.LayoutItem) {\n        widget.clearSeparators();\n      }\n    },\n\n\n    /**\n     * Renders a separator between two children\n     *\n     * @param separator {String|qx.ui.decoration.IDecorator} The separator to render\n     * @param bounds {Map} Contains the left and top coordinate and the width and height\n     *    of the separator to render.\n     */\n    _renderSeparator : function(separator, bounds) {\n      this.__widget.renderSeparator(separator, bounds);\n    },\n\n\n    /**\n     * This method is called by the widget to connect the widget with the layout.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to connect to.\n     */\n    connectToWidget : function(widget)\n    {\n      if (widget && this.__widget) {\n        throw new Error(\"It is not possible to manually set the connected widget.\");\n      }\n\n      this.__widget = widget;\n\n      // Invalidate cache\n      this.invalidateChildrenCache();\n    },\n\n    /**\n     * Return the widget that is this layout is responsible for.\n     *\n     * @return {qx.ui.core.Widget} The widget connected to this layout.\n     */\n    _getWidget : function()\n    {\n      return this.__widget;\n    },\n\n    /**\n     * Indicate that the layout has layout changed and propagate this information\n     * up the widget hierarchy.\n     *\n     * Also a generic property apply method for all layout relevant properties.\n     */\n    _applyLayoutChange : function()\n    {\n      if (this.__widget) {\n        this.__widget.scheduleLayoutUpdate();\n      }\n    },\n\n\n    /**\n     * Returns the list of all layout relevant children.\n     *\n     * @return {Array} List of layout relevant children.\n     */\n    _getLayoutChildren : function() {\n      return this.__widget.getLayoutChildren();\n    }\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCT\n  *****************************************************************************\n  */\n\n  destruct : function() {\n    this.__widget = this.__sizeHint = null;\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Manager for decoration themes\n * \n * NOTE: Instances of this class must be disposed of after use\n *\n */\nqx.Class.define(\"qx.theme.manager.Decoration\",\n{\n  type : \"singleton\",\n  extend : qx.core.Object,\n  implement : [ qx.core.IDisposable ],\n\n\n  statics :\n  {\n    /** The prefix for all created CSS classes*/\n    CSS_CLASSNAME_PREFIX : \"qx-\"\n  },\n\n\n\n  construct : function() {\n    this.base(arguments);\n    this.__rules = [];\n    this.__legacyIe = (qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n      qx.core.Environment.get(\"browser.documentmode\") < 9);\n  },\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /** Selected decoration theme */\n    theme :\n    {\n      check : \"Theme\",\n      nullable : true,\n      apply : \"_applyTheme\",\n      event : \"changeTheme\"\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __dynamic : null,\n    __rules : null,\n    __legacyIe : false,\n\n\n    /**\n     * Returns the name which will be / is used as css class name.\n     * @param value {String|qx.ui.decoration.IDecorator} The decorator string or instance.\n     * @return {String} The css class name.\n     */\n    getCssClassName : function(value) {\n      var prefix = qx.theme.manager.Decoration.CSS_CLASSNAME_PREFIX;\n      if (qx.lang.Type.isString(value)) {\n        return prefix + value;\n      } else {\n        return prefix + value.toHashCode();\n      }\n    },\n\n\n    /**\n     * Adds a css class to the global stylesheet for the given decorator.\n     * This includes resolving the decorator if it's a string.\n     * @param value {String|qx.ui.decoration.IDecorator} The decorator string or instance.\n     * @return {String} the css class name.\n     */\n    addCssClass : function(value) {\n      var sheet = qx.ui.style.Stylesheet.getInstance();\n\n      var instance = value;\n\n      value = this.getCssClassName(value);\n      var selector = \".\" + value;\n\n      if (sheet.hasRule(selector)) {\n        return value;\n      }\n\n      if (qx.lang.Type.isString(instance)) {\n        instance = this.resolve(instance);\n      }\n\n      if (!instance) {\n        throw new Error(\"Unable to resolve decorator '\" + value + \"'.\");\n      }\n\n      // create and add a CSS rule\n      var css = \"\";\n      var styles = instance.getStyles(true);\n      \n      // Sort the styles so that more specific styles come after the group styles, \n      // eg background-color comes after background. The sort order is alphabetical\n      // so that short cut rules come before actual\n      Object.keys(styles).sort().forEach(function(key) {\n        // if we find a map value, use it as pseudo class\n        if (qx.Bootstrap.isObject(styles[key])) {\n          var innerCss = \"\";\n          var innerStyles = styles[key];\n          var inner = false;\n          for (var innerKey in innerStyles) {\n            inner = true;\n            innerCss += innerKey + \":\" + innerStyles[innerKey] + \";\";\n          }\n          var innerSelector = this.__legacyIe ? selector :\n            selector + (inner ? \":\" : \"\");\n          this.__rules.push(innerSelector + key);\n          sheet.addRule(innerSelector + key, innerCss);\n          return;\n        }\n        css += key + \":\" + styles[key] + \";\";\n      }, this);\n\n      if (css) {\n        sheet.addRule(selector, css);\n        this.__rules.push(selector);\n      }\n\n      return value;\n    },\n\n\n    /**\n     * Removes all previously by {@link #addCssClass} created CSS rule from\n     * the global stylesheet.\n     */\n    removeAllCssClasses : function()\n    {\n      // remove old rules\n      for (var i=0; i < this.__rules.length; i++) {\n        var selector = this.__rules[i];\n        qx.ui.style.Stylesheet.getInstance().removeRule(selector);\n      };\n      this.__rules = [];\n    },\n\n\n    /**\n     * Returns the dynamically interpreted result for the incoming value\n     *\n     * @param value {String} dynamically interpreted idenfier\n     * @return {var} return the (translated) result of the incoming value\n     */\n    resolve : function(value)\n    {\n      if (!value) {\n        return null;\n      }\n\n      if (typeof value === \"object\") {\n        return value;\n      }\n\n      var cache = this.__dynamic;\n      if (!cache) {\n        cache = this.__dynamic = {};\n      }\n\n      var resolved = cache[value];\n      if (resolved) {\n        return resolved;\n      }\n\n      var theme = this.getTheme();\n      if (!theme) {\n        return null;\n      }\n\n      if(!theme.decorations[value]) {\n        return null;\n      }\n      \n      // create an empty decorator\n      var decorator = new qx.ui.decoration.Decorator();\n\n      // handle recursive decorator includes\n      var recurseDecoratorInclude = function(currentEntry, name) {\n        // follow the include chain to the topmost decorator entry\n        if(currentEntry.include && theme.decorations[currentEntry.include]) {\n          recurseDecoratorInclude(theme.decorations[currentEntry.include], currentEntry.include);\n        }\n\n        // apply styles from the included decorator, \n        // overwriting existing values.\n        if (currentEntry.style) {\n          decorator.set(currentEntry.style);\n        }\n      };\n\n      // start with the current decorator entry\n      recurseDecoratorInclude(theme.decorations[value], value);\n\n      cache[value] = decorator;\n      \n      return cache[value];\n    },\n\n\n    /**\n     * Whether the given value is valid for being used in a property\n     * with the 'check' configured to 'Decorator'.\n     *\n     * @param value {var} Incoming value\n     * @return {Boolean} Whether the value is valid for being used in a Decorator property\n     */\n    isValidPropertyValue : function(value)\n    {\n      if (typeof value === \"string\") {\n        return this.isDynamic(value);\n      }\n      else if (typeof value === \"object\")\n      {\n        var clazz = value.constructor;\n        return qx.Class.hasInterface(clazz, qx.ui.decoration.IDecorator);\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Whether a value is interpreted dynamically\n     *\n     * @param value {String} dynamically interpreted identifier\n     * @return {Boolean} returns <code>true</code> if the value is interpreted dynamically\n     */\n    isDynamic : function(value)\n    {\n      if (!value) {\n        return false;\n      }\n\n      var theme = this.getTheme();\n      if (!theme) {\n        return false;\n      }\n\n      return !!theme.decorations[value];\n    },\n\n\n    /**\n     * Whether the given decorator is cached\n     *\n     * @param decorator {String|qx.ui.decoration.IDecorator} The decorator to check\n     * @return {Boolean} <code>true</code> if the decorator is cached\n     * @internal\n     */\n    isCached : function(decorator)\n    {\n      return !this.__dynamic ? false :\n        qx.lang.Object.contains(this.__dynamic, decorator);\n    },\n\n\n    // property apply\n    _applyTheme : function(value, old)\n    {\n      var aliasManager = qx.util.AliasManager.getInstance();\n\n      // remove old rules\n      this.removeAllCssClasses();\n\n      if (old)\n      {\n        for (var alias in old.aliases) {\n          aliasManager.remove(alias);\n        }\n      }\n\n      if (value)\n      {\n        for (var alias in value.aliases) {\n          aliasManager.add(alias, value.aliases[alias]);\n        }\n      }\n\n      this._disposeMap(\"__dynamic\");\n      this.__dynamic = {};\n    },\n\n\n    /**\n     * Clears internal caches and removes all previously created CSS classes.\n     */\n    clear : function()\n    {\n      // remove aliases\n      var aliasManager = qx.util.AliasManager.getInstance();\n\n      var theme = this.getTheme();\n      if (!aliasManager.isDisposed() && theme && theme.alias) {\n        for (var alias in theme.aliases) {\n          aliasManager.remove(alias, theme.aliases[alias]);\n        }\n      }\n\n      // remove old rules\n      this.removeAllCssClasses();\n\n      this._disposeMap(\"__dynamic\");\n      this.__dynamic = {};\n    },\n\n\n    /**\n     * Refreshes all decorator by clearing internal caches and re applying\n     * aliases.\n     */\n    refresh : function()\n    {\n      this.clear();\n\n      var aliasManager = qx.util.AliasManager.getInstance();\n      var theme = this.getTheme();\n      if (theme && theme.alias) {\n        for (var alias in theme.aliases) {\n          aliasManager.add(alias, theme.aliases[alias]);\n        }\n      }\n    }\n  },\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function() {\n    this.clear();\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * This class performs the auto flush of all layout relevant queues.\n *\n * @require(qx.event.handler.UserAction)\n */\nqx.Class.define(\"qx.ui.core.queue.Manager\",\n{\n  statics :\n  {\n    /** @type {Boolean} Whether a flush was scheduled */\n    __scheduled : false,\n\n    /** @type {Boolean} true, if the flush should not be executed */\n    __canceled : false,\n\n    /** @type {Map} Internal data structure for the current job list */\n    __jobs : {},\n\n\n    /** @type {Integer} Counts how often a flush failed due to exceptions */\n    __retries : 0,\n\n    /** @type {Integer} Maximum number of flush retries */\n    MAX_RETRIES : 10,\n\n\n    /**\n     * Schedule a deferred flush of all queues.\n     *\n     * @param job {String} The job, which should be performed. Valid values are\n     *     <code>layout</code>, <code>decoration</code> and <code>element</code>.\n     */\n    scheduleFlush : function(job)\n    {\n      // Sometimes not executed in context, fix this\n      var self = qx.ui.core.queue.Manager;\n\n      self.__jobs[job] = true;\n\n      if (!self.__scheduled)\n      {\n        self.__canceled = false;\n\n        qx.bom.AnimationFrame.request(function() {\n          if (self.__canceled) {\n            self.__canceled = false;\n            return;\n          }\n          self.flush();\n        }, self);\n        self.__scheduled = true;\n      }\n    },\n\n\n    /**\n     * Flush all layout queues in the correct order. This function is called\n     * deferred if {@link #scheduleFlush} is called.\n     *\n     */\n    flush : function()\n    {\n      // Sometimes not executed in context, fix this\n      var self = qx.ui.core.queue.Manager;\n\n      // Stop when already executed\n      if (self.__inFlush) {\n        return;\n      }\n\n      self.__inFlush = true;\n\n      // Cancel timeout if called manually\n      self.__canceled = true;\n\n      var jobs = self.__jobs;\n\n      self.__executeAndRescheduleOnError(function()\n      {\n        // Process jobs\n        while (jobs.visibility || jobs.widget || jobs.appearance || jobs.layout || jobs.element)\n        {\n          // No else blocks here because each flush can influence the following flushes!\n          if (jobs.widget)\n          {\n            delete jobs.widget;\n\n            if (qx.core.Environment.get(\"qx.debug.ui.queue\")) {\n              try {\n                qx.ui.core.queue.Widget.flush();\n              } catch (e) {\n                qx.log.Logger.error(qx.ui.core.queue.Widget, \"Error in the 'Widget' queue:\" + e, e);\n              }\n            } else {\n              qx.ui.core.queue.Widget.flush();\n            }\n          }\n\n          if (jobs.visibility)\n          {\n            delete jobs.visibility;\n\n            if (qx.core.Environment.get(\"qx.debug.ui.queue\")) {\n              try {\n                qx.ui.core.queue.Visibility.flush();\n              } catch (e) {\n                qx.log.Logger.error(qx.ui.core.queue.Visibility, \"Error in the 'Visibility' queue:\" + e, e);\n              }\n            } else {\n              qx.ui.core.queue.Visibility.flush();\n            }\n          }\n\n          if (jobs.appearance)\n          {\n            delete jobs.appearance;\n\n            if (qx.core.Environment.get(\"qx.debug.ui.queue\")) {\n              try {\n                qx.ui.core.queue.Appearance.flush();\n              } catch (e) {\n                qx.log.Logger.error(qx.ui.core.queue.Appearance, \"Error in the 'Appearance' queue:\" + e, e);\n              }\n            } else {\n              qx.ui.core.queue.Appearance.flush();\n            }\n          }\n\n          // Defer layout as long as possible\n          if (jobs.widget || jobs.visibility || jobs.appearance) {\n            continue;\n          }\n\n          if (jobs.layout)\n          {\n            delete jobs.layout;\n\n            if (qx.core.Environment.get(\"qx.debug.ui.queue\")) {\n              try {\n                qx.ui.core.queue.Layout.flush();\n              } catch (e) {\n                qx.log.Logger.error(qx.ui.core.queue.Layout, \"Error in the 'Layout' queue:\" + e, e);\n              }\n            } else {\n              qx.ui.core.queue.Layout.flush();\n            }\n          }\n\n          // Defer element as long as possible\n          if (jobs.widget || jobs.visibility || jobs.appearance || jobs.layout) {\n            continue;\n          }\n\n          if (jobs.element)\n          {\n            delete jobs.element;\n            qx.html.Element.flush();\n          }\n        }\n      }, function() {\n        self.__scheduled = false;\n      });\n\n      self.__executeAndRescheduleOnError(function()\n      {\n        if (jobs.dispose)\n        {\n          delete jobs.dispose;\n\n          if (qx.core.Environment.get(\"qx.debug.ui.queue\")) {\n            try {\n              qx.ui.core.queue.Dispose.flush();\n            } catch (e) {\n              qx.log.Logger.error(\"Error in the 'Dispose' queue:\" + e);\n            }\n          } else {\n            qx.ui.core.queue.Dispose.flush();\n          }\n        }\n      }, function() {\n        // Clear flag\n        self.__inFlush = false;\n      });\n\n      // flush succeeded successfully. Reset retries\n      self.__retries = 0;\n    },\n\n\n    /**\n     * Executes the callback code. If the callback throws an error the current\n     * flush is cleaned up and rescheduled. The finally code is called after the\n     * callback even if it has thrown an exception.\n     *\n     * @signature function(callback, finallyCode)\n     * @param callback {Function} the callback function\n     * @param finallyCode {Function} function to be called in the finally block\n     */\n    __executeAndRescheduleOnError : qx.core.Environment.select(\"qx.debug\",\n    {\n      \"true\" : function(callback, finallyCode)\n      {\n        callback();\n        finallyCode();\n      },\n\n\n      \"false\" : function(callback, finallyCode)\n      {\n        var self = qx.ui.core.queue.Manager;\n\n        try\n        {\n          callback();\n        }\n        catch (e)\n        {\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            qx.log.Logger.error(\n              \"Error while layout flush: \" + e + \"\\n\" +\n              \"Stack trace: \\n\" +\n              qx.dev.StackTrace.getStackTraceFromError(e)\n            );\n          }\n          self.__scheduled = false;\n          self.__inFlush = false;\n          self.__retries += 1;\n\n          if (self.__retries <= self.MAX_RETRIES) {\n            self.scheduleFlush();\n          } else {\n            throw new Error(\n              \"Fatal Error: Flush terminated \" + (self.__retries-1) + \" times in a row\" +\n              \" due to exceptions in user code. The application has to be reloaded!\"\n            );\n          }\n\n          throw e;\n        }\n        finally\n        {\n          finallyCode();\n        }\n      }\n    }),\n\n\n    /**\n     * Handler used on touch devices to prevent the queue from manipulating\n     * the dom during the touch - mouse - ... event sequence. Usually, iOS\n     * devices fire a click event 300ms after the touchend event. So using\n     * 500ms should be a good value to be on the save side. This is necessary\n     * due to the fact that the event chain is stopped if a manipulation in\n     * the DOM is done.\n     *\n     * @param e {qx.event.type.Data} The user action data event.\n     */\n    __onUserAction : function(e)\n    {\n      qx.ui.core.queue.Manager.flush();\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCT\n  *****************************************************************************\n  */\n\n  defer : function(statics)\n  {\n    // Replace default scheduler for HTML element with local one.\n    // This is quite a hack, but allows us to force other flushes\n    // before the HTML element flush.\n    qx.html.Element._scheduleFlush = statics.scheduleFlush;\n\n    // Register to user action\n    qx.event.Registration.addListener(window, \"useraction\",\n      qx.core.Environment.get(\"event.touch\") ?\n        statics.__onUserAction : statics.flush\n    );\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2011-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n/**\n * CSS/Style property manipulation module\n * @group (Core)\n */\nqx.Bootstrap.define(\"qx.module.Css\", {\n  statics: {\n    /**\n     * INTERNAL\n     *\n     * Returns the rendered height of the first element in the collection.\n     * @attach {qxWeb}\n     * @param force {Boolean?false} When true also get the height of a <em>non displayed</em> element\n     * @return {Number} The first item's rendered height\n     */\n    _getHeight : function(force) {\n      var elem = this[0];\n\n      if (elem) {\n        if (qx.dom.Node.isElement(elem)) {\n\n          var elementHeight;\n          if (force) {\n            var stylesToSwap = {\n              display : \"block\",\n              position : \"absolute\",\n              visibility : \"hidden\"\n            };\n            elementHeight = qx.module.Css.__swap(elem, stylesToSwap, \"_getHeight\", this);\n          } else {\n            elementHeight = qx.bom.element.Dimension.getHeight(elem);\n          }\n\n          return elementHeight;\n        } else if (qx.dom.Node.isDocument(elem)) {\n          return qx.bom.Document.getHeight(qx.dom.Node.getWindow(elem));\n        } else if (qx.dom.Node.isWindow(elem)) {\n          return qx.bom.Viewport.getHeight(elem);\n        }\n      }\n\n      return null;\n    },\n\n\n    /**\n     * INTERNAL\n     *\n     * Returns the rendered width of the first element in the collection\n     * @attach {qxWeb}\n     * @param force {Boolean?false} When true also get the width of a <em>non displayed</em> element\n     * @return {Number} The first item's rendered width\n     */\n    _getWidth : function(force) {\n      var elem = this[0];\n\n      if (elem) {\n        if (qx.dom.Node.isElement(elem)) {\n\n          var elementWidth;\n          if (force) {\n            var stylesToSwap = {\n              display : \"block\",\n              position : \"absolute\",\n              visibility : \"hidden\"\n            };\n            elementWidth = qx.module.Css.__swap(elem, stylesToSwap, \"_getWidth\", this);\n          } else {\n            elementWidth = qx.bom.element.Dimension.getWidth(elem);\n          }\n\n          return elementWidth;\n        } else if (qx.dom.Node.isDocument(elem)) {\n          return qx.bom.Document.getWidth(qx.dom.Node.getWindow(elem));\n        } else if (qx.dom.Node.isWindow(elem)) {\n          return qx.bom.Viewport.getWidth(elem);\n        }\n      }\n\n      return null;\n    },\n\n\n    /**\n     * INTERNAL\n     *\n     * Returns the content height of the first element in the collection.\n     * This is the maximum height the element can use, excluding borders,\n     * margins, padding or scroll bars.\n     * @attach {qxWeb}\n     * @param force {Boolean?false} When true also get the content height of a <em>non displayed</em> element\n     * @return {Number} Computed content height\n     */\n    _getContentHeight : function(force)\n    {\n      var obj = this[0];\n      if (qx.dom.Node.isElement(obj)) {\n\n        var contentHeight;\n        if (force) {\n          var stylesToSwap = {\n            position: \"absolute\",\n            visibility: \"hidden\",\n            display: \"block\"\n          };\n          contentHeight = qx.module.Css.__swap(obj, stylesToSwap, \"_getContentHeight\", this);\n        } else {\n          contentHeight = qx.bom.element.Dimension.getContentHeight(obj);\n        }\n\n        return contentHeight;\n      }\n\n      return null;\n    },\n\n\n    /**\n     * INTERNAL\n     *\n     * Returns the content width of the first element in the collection.\n     * This is the maximum width the element can use, excluding borders,\n     * margins, padding or scroll bars.\n     * @attach {qxWeb}\n     * @param force {Boolean?false} When true also get the content width of a <em>non displayed</em> element\n     * @return {Number} Computed content width\n     */\n    _getContentWidth : function(force)\n    {\n      var obj = this[0];\n      if (qx.dom.Node.isElement(obj)) {\n\n        var contentWidth;\n        if (force) {\n          var stylesToSwap = {\n            position: \"absolute\",\n            visibility: \"hidden\",\n            display: \"block\"\n          };\n          contentWidth = qx.module.Css.__swap(obj, stylesToSwap, \"_getContentWidth\", this);\n        } else {\n          contentWidth = qx.bom.element.Dimension.getContentWidth(obj);\n        }\n\n        return contentWidth;\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Maps HTML elements to their default \"display\" style values.\n     */\n    __displayDefaults : {},\n\n\n    /**\n     * Attempts tp determine the default \"display\" style value for\n     * elements with the given tag name.\n     *\n     * @param tagName {String} Tag name\n     * @param  doc {Document?} Document element. Default: The current document\n     * @return {String} The default \"display\" value, e.g. <code>inline</code>\n     * or <code>block</code>\n     */\n    __getDisplayDefault : function(tagName, doc)\n    {\n      var defaults = qx.module.Css.__displayDefaults;\n      if (!defaults[tagName]) {\n        var docu = doc || document;\n        var tempEl = qxWeb(docu.createElement(tagName)).appendTo(doc.body);\n        defaults[tagName] = tempEl.getStyle(\"display\");\n        tempEl.remove();\n      }\n\n      return defaults[tagName] || \"\";\n    },\n\n\n    /**\n     * Swaps the given styles of the element and execute the callback\n     * before the original values are restored.\n     *\n     * Finally returns the return value of the callback.\n     *\n     * @param element {Element} the DOM element to operate on\n     * @param styles {Map} the styles to swap\n     * @param methodName {String} the callback functions name\n     * @param context {Object} the context in which the callback should be called\n     * @return {Object} the return value of the callback\n     */\n    __swap : function(element, styles, methodName, context)\n    {\n      // get the current values\n      var currentValues = {};\n      for (var styleProperty in styles) {\n        currentValues[styleProperty] = element.style[styleProperty];\n        element.style[styleProperty] = styles[styleProperty];\n      }\n\n      var value = context[methodName]();\n\n      for (var styleProperty in currentValues) {\n        element.style[styleProperty] = currentValues[styleProperty];\n      }\n\n      return value;\n    },\n\n\n    /**\n     * Includes a Stylesheet file\n     *\n     * @attachStatic {qxWeb}\n     * @param uri {String} The stylesheet's URI\n     * @param doc {Document?} Document to modify\n     */\n    includeStylesheet : function(uri, doc) {\n      qx.bom.Stylesheet.includeFile(uri, doc);\n    }\n  },\n\n\n  members :\n  {\n    /**\n     * Returns the rendered height of the first element in the collection.\n     * @attach {qxWeb}\n     * @param force {Boolean?false} When true also get the height of a <em>non displayed</em> element\n     * @return {Number} The first item's rendered height\n     */\n    getHeight : function(force) {\n      return this._getHeight(force);\n    },\n\n\n    /**\n     * Returns the rendered width of the first element in the collection\n     * @attach {qxWeb}\n     * @param force {Boolean?false} When true also get the width of a <em>non displayed</em> element\n     * @return {Number} The first item's rendered width\n     */\n    getWidth : function(force) {\n      return this._getWidth(force);\n    },\n\n    /**\n     * Returns the content height of the first element in the collection.\n     * This is the maximum height the element can use, excluding borders,\n     * margins, padding or scroll bars.\n     * @attach {qxWeb}\n     * @param force {Boolean?false} When true also get the content height of a <em>non displayed</em> element\n     * @return {Number} Computed content height\n     */\n    getContentHeight : function(force) {\n      return this._getContentHeight(force);\n    },\n\n    /**\n     * Returns the content width of the first element in the collection.\n     * This is the maximum width the element can use, excluding borders,\n     * margins, padding or scroll bars.\n     * @attach {qxWeb}\n     * @param force {Boolean?false} When true also get the content width of a <em>non displayed</em> element\n     * @return {Number} Computed content width\n     */\n    getContentWidth : function(force) {\n      return this._getContentWidth(force);\n    },\n\n    /**\n     * Shows any elements with \"display: none\" in the collection. If an element\n     * was hidden by using the {@link #hide} method, its previous\n     * \"display\" style value will be re-applied. Otherwise, the\n     * default \"display\" value for the element type will be applied.\n     *\n     * @attach {qxWeb}\n     * @return {qxWeb} The collection for chaining\n     */\n    show : function() {\n      this._forEachElementWrapped(function(item) {\n        var currentVal = item.getStyle(\"display\");\n        var prevVal = item[0].$$qPrevDisp;\n        var newVal;\n        if (currentVal == \"none\") {\n          if (prevVal && prevVal != \"none\") {\n            newVal = prevVal;\n          }\n          else {\n            var doc = qxWeb.getDocument(item[0]);\n            newVal = qx.module.Css.__getDisplayDefault(item[0].tagName, doc);\n          }\n          item.setStyle(\"display\", newVal);\n          item[0].$$qPrevDisp = \"none\";\n        }\n      });\n\n      return this;\n    },\n\n\n    /**\n     * Hides all elements in the collection by setting their \"display\"\n     * style to \"none\". The previous value is stored so it can be re-applied\n     * when {@link #show} is called.\n     *\n     * @attach {qxWeb}\n     * @return {qxWeb} The collection for chaining\n     */\n    hide : function() {\n      this._forEachElementWrapped(function(item) {\n        var prevStyle = item.getStyle(\"display\");\n        if (prevStyle !== \"none\") {\n          item[0].$$qPrevDisp = prevStyle;\n          item.setStyle(\"display\", \"none\");\n        }\n      });\n\n      return this;\n    },\n\n\n    /**\n     * Returns the distance between the first element in the collection and its\n     * offset parent\n     *\n     * @attach {qxWeb}\n     * @return {Map} a map with the keys <code>left</code> and <code>top</code>\n     * containing the distance between the elements\n     */\n    getPosition : function()\n    {\n      var obj = this[0];\n      if (qx.dom.Node.isElement(obj)) {\n        return qx.bom.element.Location.getPosition(obj);\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Returns the computed location of the given element in the context of the\n     * document dimensions.\n     *\n     * Supported modes:\n     *\n     * * <code>margin</code>: Calculate from the margin box of the element (bigger than the visual appearance: including margins of given element)\n     * * <code>box</code>: Calculates the offset box of the element (default, uses the same size as visible)\n     * * <code>border</code>: Calculate the border box (useful to align to border edges of two elements).\n     * * <code>scroll</code>: Calculate the scroll box (relevant for absolute positioned content).\n     * * <code>padding</code>: Calculate the padding box (relevant for static/relative positioned content).\n     *\n     * @attach {qxWeb}\n     * @param mode {String?box} A supported option. See comment above.\n     * @return {Map} A map with the keys <code>left</code>, <code>top</code>,\n     * <code>right</code> and <code>bottom</code> which contains the distance\n     * of the element relative to the document.\n     */\n    getOffset : function(mode) {\n      var elem = this[0];\n\n      if (elem && qx.dom.Node.isElement(elem)) {\n        return qx.bom.element.Location.get(elem, mode);\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Modifies the given style property on all elements in the collection.\n     *\n     * @attach {qxWeb}\n     * @param name {String} Name of the style property to modify\n     * @param value {var} The value to apply\n     * @return {qxWeb} The collection for chaining\n     */\n    setStyle : function(name, value) {\n      if (/\\w-\\w/.test(name)) {\n        name = qx.lang.String.camelCase(name);\n      }\n      this._forEachElement(function(item) {\n        qx.bom.element.Style.set(item, name, value);\n      });\n      return this;\n    },\n\n\n    /**\n     * Returns the value of the given style property for the first item in the\n     * collection.\n     *\n     * @attach {qxWeb}\n     * @param name {String} Style property name\n     * @return {var} Style property value\n     */\n    getStyle : function(name) {\n      if (this[0] && qx.dom.Node.isElement(this[0])) {\n        if (/\\w-\\w/.test(name)) {\n          name = qx.lang.String.camelCase(name);\n        }\n        return qx.bom.element.Style.get(this[0], name);\n      }\n      return null;\n    },\n\n\n    /**\n     * Sets multiple style properties for each item in the collection.\n     *\n     * @attach {qxWeb}\n     * @param styles {Map} A map of style property name/value pairs\n     * @return {qxWeb} The collection for chaining\n     */\n    setStyles : function(styles) {\n      for (var name in styles) {\n        this.setStyle(name, styles[name]);\n      }\n      return this;\n    },\n\n\n    /**\n     * Returns the values of multiple style properties for each item in the\n     * collection\n     *\n     * @attach {qxWeb}\n     * @param names {String[]} List of style property names\n     * @return {Map} Map of style property name/value pairs\n     */\n    getStyles : function(names) {\n      var styles = {};\n      for (var i=0; i < names.length; i++) {\n        styles[names[i]] = this.getStyle(names[i]);\n      }\n      return styles;\n    },\n\n\n    /**\n     * Adds a class name to each element in the collection\n     *\n     * @attach {qxWeb}\n     * @param name {String} Class name\n     * @return {qxWeb} The collection for chaining\n     */\n    addClass : function(name) {\n      this._forEachElement(function(item) {\n        qx.bom.element.Class.add(item, name);\n      });\n      return this;\n    },\n\n\n    /**\n     * Adds multiple class names to each element in the collection\n     *\n     * @attach {qxWeb}\n     * @param names {String[]} List of class names to add\n     * @return {qxWeb} The collection for chaining\n     */\n    addClasses : function(names) {\n      this._forEachElement(function(item) {\n        qx.bom.element.Class.addClasses(item, names);\n      });\n      return this;\n    },\n\n\n    /**\n     * Removes a class name from each element in the collection\n     *\n     * @attach {qxWeb}\n     * @param name {String} The class name to remove\n     * @return {qxWeb} The collection for chaining\n     */\n    removeClass : function(name) {\n      this._forEachElement(function(item) {\n        qx.bom.element.Class.remove(item, name);\n      });\n      return this;\n    },\n\n\n    /**\n     * Removes multiple class names from each element in the collection.\n     * Use {@link qx.module.Attribute#removeAttribute} to remove all classes.\n     *\n     * @attach {qxWeb}\n     * @param names {String[]} List of class names to remove\n     * @return {qxWeb} The collection for chaining\n     */\n    removeClasses : function(names) {\n      this._forEachElement(function(item) {\n        qx.bom.element.Class.removeClasses(item, names);\n      });\n      return this;\n    },\n\n\n    /**\n     * Checks if the first element in the collection has the given class name\n     *\n     * @attach {qxWeb}\n     * @param name {String} Class name to check for\n     * @return {Boolean} <code>true</code> if the first item has the given class name\n     */\n    hasClass : function(name) {\n      if (!this[0] || !qx.dom.Node.isElement(this[0])) {\n        return false;\n      }\n      return qx.bom.element.Class.has(this[0], name);\n    },\n\n\n    /**\n     * Returns the class name of the first element in the collection\n     *\n     * @attach {qxWeb}\n     * @return {String} Class name\n     */\n    getClass : function() {\n      if (!this[0] || !qx.dom.Node.isElement(this[0])) {\n        return \"\";\n      }\n      return qx.bom.element.Class.get(this[0]);\n    },\n\n\n    /**\n     * Toggles the given class name on each item in the collection\n     *\n     * @attach {qxWeb}\n     * @param name {String} Class name\n     * @return {qxWeb} The collection for chaining\n     */\n    toggleClass : function(name) {\n      var bCls = qx.bom.element.Class;\n      this._forEachElement(function(item) {\n        bCls.has(item, name) ?\n          bCls.remove(item, name) :\n          bCls.add(item, name);\n      });\n      return this;\n    },\n\n\n    /**\n     * Toggles the given list of class names on each item in the collection\n     *\n     * @attach {qxWeb}\n     * @param names {String[]} Class names\n     * @return {qxWeb} The collection for chaining\n     */\n    toggleClasses : function(names) {\n      for (var i=0,l=names.length; i<l; i++) {\n        this.toggleClass(names[i]);\n      }\n      return this;\n    },\n\n\n    /**\n     * Replaces a class name on each element in the collection\n     *\n     * @attach {qxWeb}\n     * @param oldName {String} Class name to remove\n     * @param newName {String} Class name to add\n     * @return {qxWeb} The collection for chaining\n     */\n    replaceClass : function(oldName, newName) {\n      this._forEachElement(function(item) {\n        qx.bom.element.Class.replace(item, oldName, newName);\n      });\n      return this;\n    }\n  },\n\n\n  defer : function(statics) {\n    qxWeb.$attachAll(this);\n    // manually attach private method which is ignored by attachAll\n    qxWeb.$attach({\n      \"_getWidth\" : statics._getWidth,\n      \"_getHeight\" : statics._getHeight,\n      \"_getContentHeight\" : statics._getContentHeight,\n      \"_getContentWidth\" : statics._getContentWidth\n    });\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n   ======================================================================\n\n   This class uses ideas and code snippets presented at\n   http://webreflection.blogspot.com/2008/05/habemus-array-unlocked-length-in-ie8.html\n   http://webreflection.blogspot.com/2008/05/stack-and-arrayobject-how-to-create.html\n\n   Author:\n     Andrea Giammarchi\n\n   License:\n     MIT: http://www.opensource.org/licenses/mit-license.php\n\n   ======================================================================\n\n   This class uses documentation of the native Array methods from the MDC\n   documentation of Mozilla.\n\n   License:\n     CC Attribution-Sharealike License:\n     http://creativecommons.org/licenses/by-sa/2.5/\n\n************************************************************************ */\n\n/**\n * This class is the common superclass for most array classes in\n * qooxdoo. It supports all of the shiny 1.6 JavaScript array features\n * like <code>forEach</code> and <code>map</code>.\n *\n * This class may be instantiated instead of the native Array if\n * one wants to work with a feature-unified Array instead of the native\n * one. This class uses native features whereever possible but fills\n * all missing implementations with custom ones.\n *\n * Through the ability to extend from this class one could add even\n * more utility features on top of it.\n *\n * @require(qx.bom.client.Engine)\n * @require(qx.lang.normalize.Array)\n */\nqx.Bootstrap.define(\"qx.type.BaseArray\",\n{\n  extend : Array,\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Creates a new Array with the given length or the listed elements.\n   *\n   * <pre class=\"javascript\">\n   * var arr1 = new qx.type.BaseArray(arrayLength);\n   * var arr2 = new qx.type.BaseArray(item0, item1, ..., itemN);\n   * </pre>\n   *\n   * * <code>arrayLength</code>: The initial length of the array. You can access\n   * this value using the length property. If the value specified is not a\n   * number, an array of length 1 is created, with the first element having\n   * the specified value. The maximum length allowed for an\n   * array is 2^32-1, i.e. 4,294,967,295.\n   * * <code>itemN</code>:  A value for the element in that position in the\n   * array. When this form is used, the array is initialized with the specified\n   * values as its elements, and the array's length property is set to the\n   * number of arguments.\n   *\n   * @param length_or_items {Integer|var?null} The initial length of the array\n   *        OR an argument list of values.\n   */\n  construct : function(length_or_items) {},\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /**\n     * Converts a base array to a native Array\n     *\n     * @signature function()\n     * @return {Array} The native array\n     */\n    toArray : null,\n\n    /**\n     * Returns the current number of items stored in the Array\n     *\n     * @signature function()\n     * @return {Integer} number of items\n     */\n    valueOf : null,\n\n    /**\n     * Removes the last element from an array and returns that element.\n     *\n     * This method modifies the array.\n     *\n     * @signature function()\n     * @return {var} The last element of the array.\n     */\n    pop : null,\n\n    /**\n     * Adds one or more elements to the end of an array and returns the new length of the array.\n     *\n     * This method modifies the array.\n     *\n     * @signature function(varargs)\n     * @param varargs {var} The elements to add to the end of the array.\n     * @return {Integer} The new array's length\n     */\n    push : null,\n\n    /**\n     * Reverses the order of the elements of an array -- the first becomes the last, and the last becomes the first.\n     *\n     * This method modifies the array.\n     *\n     * @signature function()\n     * @return {Array} Returns the modified array (works in place)\n     */\n    reverse : null,\n\n    /**\n     * Removes the first element from an array and returns that element.\n     *\n     * This method modifies the array.\n     *\n     * @signature function()\n     * @return {var} The first element of the array.\n     */\n    shift : null,\n\n    /**\n     * Sorts the elements of an array.\n     *\n     * This method modifies the array.\n     *\n     * @signature function(compareFunction)\n     * @param compareFunction {Function?null} Specifies a function that defines the sort order. If omitted,\n     *   the array is sorted lexicographically (in dictionary order) according to the string conversion of each element.\n     * @return {Array} Returns the modified array (works in place)\n     */\n    sort : null,\n\n    /**\n     * Adds and/or removes elements from an array.\n     *\n     * @signature function(index, howMany, varargs)\n     * @param index {Integer} Index at which to start changing the array. If negative, will begin\n     *   that many elements from the end.\n     * @param howMany {Integer} An integer indicating the number of old array elements to remove.\n     *   If <code>howMany</code> is 0, no elements are removed. In this case, you should specify\n     *   at least one new element.\n     * @param varargs {var?null} The elements to add to the array. If you don't specify any elements,\n     *   splice simply removes elements from the array.\n     * @return {qx.type.BaseArray} New array with the removed elements.\n     */\n    splice : null,\n\n    /**\n     * Adds one or more elements to the front of an array and returns the new length of the array.\n     *\n     * This method modifies the array.\n     *\n     * @signature function(varargs)\n     * @param varargs {var} The elements to add to the front of the array.\n     * @return {Integer} The new array's length\n     */\n    unshift : null,\n\n    /**\n     * Returns a new array comprised of this array joined with other array(s) and/or value(s).\n     *\n     * This method does not modify the array and returns a modified copy of the original.\n     *\n     * @signature function(varargs)\n     * @param varargs {Array|var} Arrays and/or values to concatenate to the resulting array.\n     * @return {qx.type.BaseArray} New array built of the given arrays or values.\n     */\n    concat : null,\n\n    /**\n     * Joins all elements of an array into a string.\n     *\n     * @signature function(separator)\n     * @param separator {String} Specifies a string to separate each element of the array. The separator is\n     *   converted to a string if necessary. If omitted, the array elements are separated with a comma.\n     * @return {String} The stringified values of all elements divided by the given separator.\n     */\n    join : null,\n\n    /**\n     * Extracts a section of an array and returns a new array.\n     *\n     * @signature function(begin, end)\n     * @param begin {Integer} Zero-based index at which to begin extraction. As a negative index, start indicates\n     *   an offset from the end of the sequence. slice(-2) extracts the second-to-last element and the last element\n     *   in the sequence.\n     * @param end {Integer?length} Zero-based index at which to end extraction. slice extracts up to but not including end.\n     *   <code>slice(1,4)</code> extracts the second element through the fourth element (elements indexed 1, 2, and 3).\n     *   As a negative index, end indicates an offset from the end of the sequence. slice(2,-1) extracts the third element through the second-to-last element in the sequence.\n     *   If end is omitted, slice extracts to the end of the sequence.\n     * @return {qx.type.BaseArray} An new array which contains a copy of the given region.\n     */\n    slice : null,\n\n    /**\n     * Returns a string representing the array and its elements. Overrides the Object.prototype.toString method.\n     *\n     * @signature function()\n     * @return {String} The string representation of the array.\n     */\n    toString : null,\n\n    /**\n     * Returns the first (least) index of an element within the array equal to the specified value, or -1 if none is found.\n     *\n     * @signature function(searchElement, fromIndex)\n     * @param searchElement {var} Element to locate in the array.\n     * @param fromIndex {Integer?0} The index at which to begin the search. Defaults to 0, i.e. the\n     *   whole array will be searched. If the index is greater than or equal to the length of the\n     *   array, -1 is returned, i.e. the array will not be searched. If negative, it is taken as\n     *   the offset from the end of the array. Note that even when the index is negative, the array\n     *   is still searched from front to back. If the calculated index is less than 0, the whole\n     *   array will be searched.\n     * @return {Integer} The index of the given element\n     */\n    indexOf : null,\n\n    /**\n     * Returns the last (greatest) index of an element within the array equal to the specified value, or -1 if none is found.\n     *\n     * @signature function(searchElement, fromIndex)\n     * @param searchElement {var} Element to locate in the array.\n     * @param fromIndex {Integer?length} The index at which to start searching backwards. Defaults to\n     *   the array's length, i.e. the whole array will be searched. If the index is greater than\n     *   or equal to the length of the array, the whole array will be searched. If negative, it\n     *   is taken as the offset from the end of the array. Note that even when the index is\n     *   negative, the array is still searched from back to front. If the calculated index is\n     *   less than 0, -1 is returned, i.e. the array will not be searched.\n     * @return {Integer} The index of the given element\n     */\n    lastIndexOf : null,\n\n    /**\n     * Executes a provided function once per array element.\n     *\n     * <code>forEach</code> executes the provided function (<code>callback</code>) once for each\n     * element present in the array.  <code>callback</code> is invoked only for indexes of the array\n     * which have assigned values; it is not invoked for indexes which have been deleted or which\n     * have never been assigned values.\n     *\n     * <code>callback</code> is invoked with three arguments: the value of the element, the index\n     * of the element, and the Array object being traversed.\n     *\n     * If a <code>obj</code> parameter is provided to <code>forEach</code>, it will be used\n     * as the <code>this</code> for each invocation of the <code>callback</code>.  If it is not\n     * provided, or is <code>null</code>, the global object associated with <code>callback</code>\n     * is used instead.\n     *\n     * <code>forEach</code> does not mutate the array on which it is called.\n     *\n     * The range of elements processed by <code>forEach</code> is set before the first invocation of\n     * <code>callback</code>.  Elements which are appended to the array after the call to\n     * <code>forEach</code> begins will not be visited by <code>callback</code>. If existing elements\n     * of the array are changed, or deleted, their value as passed to <code>callback</code> will be\n     * the value at the time <code>forEach</code> visits them; elements that are deleted are not visited.\n     *\n     * @signature function(callback, obj)\n     * @param callback {Function} Function to execute for each element.\n     * @param obj {Object} Object to use as this when executing callback.\n     */\n    forEach : null,\n\n    /**\n     * Creates a new array with all elements that pass the test implemented by the provided\n     * function.\n     *\n     * <code>filter</code> calls a provided <code>callback</code> function once for each\n     * element in an array, and constructs a new array of all the values for which\n     * <code>callback</code> returns a true value.  <code>callback</code> is invoked only\n     * for indexes of the array which have assigned values; it is not invoked for indexes\n     * which have been deleted or which have never been assigned values.  Array elements which\n     * do not pass the <code>callback</code> test are simply skipped, and are not included\n     * in the new array.\n     *\n     * <code>callback</code> is invoked with three arguments: the value of the element, the\n     * index of the element, and the Array object being traversed.\n     *\n     * If a <code>obj</code> parameter is provided to <code>filter</code>, it will\n     * be used as the <code>this</code> for each invocation of the <code>callback</code>.\n     * If it is not provided, or is <code>null</code>, the global object associated with\n     * <code>callback</code> is used instead.\n     *\n     * <code>filter</code> does not mutate the array on which it is called. The range of\n     * elements processed by <code>filter</code> is set before the first invocation of\n     * <code>callback</code>. Elements which are appended to the array after the call to\n     * <code>filter</code> begins will not be visited by <code>callback</code>. If existing\n     * elements of the array are changed, or deleted, their value as passed to <code>callback</code>\n     * will be the value at the time <code>filter</code> visits them; elements that are deleted\n     * are not visited.\n     *\n     * @signature function(callback, obj)\n     * @param callback {Function} Function to test each element of the array.\n     * @param obj {Object} Object to use as <code>this</code> when executing <code>callback</code>.\n     * @return {qx.type.BaseArray} The newly created array with all matching elements\n     */\n    filter : null,\n\n    /**\n     * Creates a new array with the results of calling a provided function on every element in this array.\n     *\n     * <code>map</code> calls a provided <code>callback</code> function once for each element in an array,\n     * in order, and constructs a new array from the results.  <code>callback</code> is invoked only for\n     * indexes of the array which have assigned values; it is not invoked for indexes which have been\n     * deleted or which have never been assigned values.\n     *\n     * <code>callback</code> is invoked with three arguments: the value of the element, the index of the\n     * element, and the Array object being traversed.\n     *\n     * If a <code>obj</code> parameter is provided to <code>map</code>, it will be used as the\n     * <code>this</code> for each invocation of the <code>callback</code>. If it is not provided, or is\n     * <code>null</code>, the global object associated with <code>callback</code> is used instead.\n     *\n     * <code>map</code> does not mutate the array on which it is called.\n     *\n     * The range of elements processed by <code>map</code> is set before the first invocation of\n     * <code>callback</code>. Elements which are appended to the array after the call to <code>map</code>\n     * begins will not be visited by <code>callback</code>.  If existing elements of the array are changed,\n     * or deleted, their value as passed to <code>callback</code> will be the value at the time\n     * <code>map</code> visits them; elements that are deleted are not visited.\n     *\n     * @signature function(callback, obj)\n     * @param callback {Function} Function produce an element of the new Array from an element of the current one.\n     * @param obj {Object} Object to use as <code>this</code> when executing <code>callback</code>.\n     * @return {qx.type.BaseArray} A new array which contains the return values of every item executed through the given function\n     */\n    map : null,\n\n    /**\n     * Tests whether some element in the array passes the test implemented by the provided function.\n     *\n     * <code>some</code> executes the <code>callback</code> function once for each element present in\n     * the array until it finds one where <code>callback</code> returns a true value. If such an element\n     * is found, <code>some</code> immediately returns <code>true</code>. Otherwise, <code>some</code>\n     * returns <code>false</code>. <code>callback</code> is invoked only for indexes of the array which\n     * have assigned values; it is not invoked for indexes which have been deleted or which have never\n     * been assigned values.\n     *\n     * <code>callback</code> is invoked with three arguments: the value of the element, the index of the\n     * element, and the Array object being traversed.\n     *\n     * If a <code>obj</code> parameter is provided to <code>some</code>, it will be used as the\n     * <code>this</code> for each invocation of the <code>callback</code>. If it is not provided, or is\n     * <code>null</code>, the global object associated with <code>callback</code> is used instead.\n     *\n     * <code>some</code> does not mutate the array on which it is called.\n     *\n     * The range of elements processed by <code>some</code> is set before the first invocation of\n     * <code>callback</code>.  Elements that are appended to the array after the call to <code>some</code>\n     * begins will not be visited by <code>callback</code>. If an existing, unvisited element of the array\n     * is changed by <code>callback</code>, its value passed to the visiting <code>callback</code> will\n     * be the value at the time that <code>some</code> visits that element's index; elements that are\n     * deleted are not visited.\n     *\n     * @signature function(callback, obj)\n     * @param callback {Function} Function to test for each element.\n     * @param obj {Object} Object to use as <code>this</code> when executing <code>callback</code>.\n     * @return {Boolean} Whether at least one elements passed the test\n     */\n    some : null,\n\n    /**\n     * Tests whether all elements in the array pass the test implemented by the provided function.\n     *\n     * <code>every</code> executes the provided <code>callback</code> function once for each element\n     * present in the array until it finds one where <code>callback</code> returns a false value. If\n     * such an element is found, the <code>every</code> method immediately returns <code>false</code>.\n     * Otherwise, if <code>callback</code> returned a true value for all elements, <code>every</code>\n     * will return <code>true</code>.  <code>callback</code> is invoked only for indexes of the array\n     * which have assigned values; it is not invoked for indexes which have been deleted or which have\n     * never been assigned values.\n     *\n     * <code>callback</code> is invoked with three arguments: the value of the element, the index of\n     * the element, and the Array object being traversed.\n     *\n     * If a <code>obj</code> parameter is provided to <code>every</code>, it will be used as\n     * the <code>this</code> for each invocation of the <code>callback</code>. If it is not provided,\n     * or is <code>null</code>, the global object associated with <code>callback</code> is used instead.\n     *\n     * <code>every</code> does not mutate the array on which it is called. The range of elements processed\n     * by <code>every</code> is set before the first invocation of <code>callback</code>. Elements which\n     * are appended to the array after the call to <code>every</code> begins will not be visited by\n     * <code>callback</code>.  If existing elements of the array are changed, their value as passed\n     * to <code>callback</code> will be the value at the time <code>every</code> visits them; elements\n     * that are deleted are not visited.\n     *\n     * @signature function(callback, obj)\n     * @param callback {Function} Function to test for each element.\n     * @param obj {Object} Object to use as <code>this</code> when executing <code>callback</code>.\n     * @return {Boolean} Whether all elements passed the test\n     */\n    every : null\n  }\n});\n\n(function() {\n\nfunction createStackConstructor(stack)\n{\n  // In IE don't inherit from Array but use an empty object as prototype\n  // and copy the methods from Array\n  if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\"))\n  {\n    Stack.prototype = {\n      length : 0,\n      $$isArray : true\n    };\n\n    var args = \"pop.push.reverse.shift.sort.splice.unshift.join.slice\".split(\".\");\n\n    for (var length = args.length; length;) {\n      Stack.prototype[args[--length]] = Array.prototype[args[length]];\n    }\n  };\n\n  // Remember Array's slice method\n  var slice = Array.prototype.slice;\n\n  // Fix \"concat\" method\n  Stack.prototype.concat = function()\n  {\n    var constructor = this.slice(0);\n\n    for (var i=0, length=arguments.length; i<length; i++)\n    {\n      var copy;\n\n      if (arguments[i] instanceof Stack) {\n        copy = slice.call(arguments[i], 0);\n      } else if (arguments[i] instanceof Array) {\n        copy = arguments[i];\n      } else {\n        copy = [arguments[i]];\n      }\n\n      constructor.push.apply(constructor, copy);\n    }\n\n    return constructor;\n  };\n\n  // Fix \"toString\" method\n  Stack.prototype.toString = function(){\n    return slice.call(this, 0).toString();\n  };\n\n  // Fix \"toLocaleString\"\n  Stack.prototype.toLocaleString = function() {\n    return slice.call(this, 0).toLocaleString();\n  };\n\n  // Fix constructor\n  Stack.prototype.constructor = Stack;\n\n\n  // Add JS 1.6 Array features\n  Stack.prototype.indexOf = Array.prototype.indexOf;\n  Stack.prototype.lastIndexOf = Array.prototype.lastIndexOf;\n  Stack.prototype.forEach = Array.prototype.forEach;\n  Stack.prototype.some = Array.prototype.some;\n  Stack.prototype.every = Array.prototype.every;\n\n  var filter = Array.prototype.filter;\n  var map = Array.prototype.map;\n\n\n  // Fix methods which generates a new instance\n  // to return an instance of the same class\n  Stack.prototype.filter = function()\n  {\n    var ret = new this.constructor;\n    ret.push.apply(ret, filter.apply(this, arguments));\n    return ret;\n  };\n\n  Stack.prototype.map = function()\n  {\n    var ret = new this.constructor;\n    ret.push.apply(ret, map.apply(this, arguments));\n    return ret;\n  };\n\n  Stack.prototype.slice = function()\n  {\n    var ret = new this.constructor;\n    ret.push.apply(ret, Array.prototype.slice.apply(this, arguments));\n    return ret;\n  };\n\n  Stack.prototype.splice = function()\n  {\n    var ret = new this.constructor;\n    ret.push.apply(ret, Array.prototype.splice.apply(this, arguments));\n    return ret;\n  };\n\n  // Add new \"toArray\" method for convert a base array to a native Array\n  Stack.prototype.toArray = function() {\n    return Array.prototype.slice.call(this, 0);\n  };\n\n  // Add valueOf() to return the length\n  Stack.prototype.valueOf = function(){\n    return this.length;\n  };\n\n  // Return final class\n  return Stack;\n}\n\n\nfunction Stack(length)\n{\n  if(arguments.length === 1 && typeof length === \"number\") {\n    this.length = -1 < length && length === length >> .5 ? length : this.push(length);\n  } else if(arguments.length) {\n    this.push.apply(this, arguments);\n  }\n};\n\nfunction PseudoArray(){};\nPseudoArray.prototype = [];\nStack.prototype = new PseudoArray;\nStack.prototype.length = 0;\n\nqx.type.BaseArray = createStackConstructor(Stack);\n\n})();\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n\n/**\n * The Core module's responsibility is to query the DOM for elements and offer\n * these elements as a collection. The Core module itself does not offer any methods to\n * work with the collection. These methods are added by the other included modules,\n * such as Manipulating or Attributes.\n *\n * Core also provides the plugin API which allows modules to attach either\n * static functions to the global <code>q</code> object or define methods on the\n * collection it returns.\n *\n * By default, the core module is assigned to a global module named <code>q</code>.\n * In case <code>q</code> is already defined, the name <code>qxWeb</code>\n * is used instead.\n *\n * For further details, take a look at the documentation in the\n * <a href='http://manual.qooxdoo.org/${qxversion}/pages/website.html' target='_blank'>user manual</a>.\n *\n * @ignore(q)\n *\n * @group (Core)\n */\nqx.Bootstrap.define(\"qxWeb\", {\n  extend : qx.type.BaseArray,\n  statics : {\n    // internal storage for all initializers\n    __init : [],\n\n    // internal reference to the used qx namespace\n    $$qx : qx,\n\n    /**\n     * Internal helper to initialize collections.\n     *\n     * @param arg {var} An array of Elements which will\n     *   be initialized as {@link q}. All items in the array which are not\n     *   either a window object, a DOM element node or a DOM document node will\n     *   be ignored.\n     * @param clazz {Class} The class of the new collection.\n     * @return {q} A new initialized collection.\n     */\n    $init : function(arg, clazz) {\n      // restore widget instance\n      if (arg.length && arg.length == 1 && arg[0] && arg[0].$widget instanceof qxWeb) {\n        return arg[0].$widget;\n      }\n\n      var clean = [];\n      for (var i = 0; i < arg.length; i++) {\n        // check for node or window object\n        var isNode = !!(arg[i] && (arg[i].nodeType === 1 ||\n          arg[i].nodeType === 9 || arg[i].nodeType === 11));\n        if (isNode) {\n          clean.push(arg[i]);\n          continue;\n        }\n        var isWindow = !!(arg[i] && arg[i].history && arg[i].location && arg[i].document);\n        if (isWindow) {\n          clean.push(arg[i]);\n        }\n      }\n\n      if (arg[0] && arg[0].getAttribute && arg[0].getAttribute(\"data-qx-class\") && clean.length < 2) {\n        clazz = qx.Bootstrap.getByName(arg[0].getAttribute(\"data-qx-class\")) || clazz;\n      }\n\n      var col = qx.lang.Array.cast(clean, clazz);\n      for (var i=0; i < qxWeb.__init.length; i++) {\n        qxWeb.__init[i].call(col);\n      }\n\n      return col;\n    },\n\n\n    /**\n     * This is an API for module development and can be used to attach new methods\n     * to {@link q}.\n     *\n     * @param module {Map} A map containing the methods to attach.\n     * @param override {Boolean?false} Force to override\n     */\n    $attach : function(module, override) {\n      for (var name in module) {\n        if (qxWeb.prototype[name] != undefined && Array.prototype[name] == undefined && override !== true) {\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            throw new Error(\"Method '\" + name + \"' already available.\");\n          }\n        } else {\n          qxWeb.prototype[name] = module[name];\n        }\n      }\n    },\n\n\n    /**\n     * This is an API for module development and can be used to attach new methods\n     * to {@link q}.\n     *\n     * @param module {Map} A map containing the methods to attach.\n     * @param override {Boolean?false} Force to override\n     */\n    $attachStatic : function(module, override) {\n      for (var name in module) {\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          if (qxWeb[name] != undefined && override !== true) {\n            throw new Error(\"Method '\" + name + \"' already available as static method.\");\n          }\n        }\n        qxWeb[name] = module[name];\n      }\n    },\n\n    /**\n     * This is an API for module development and can be used to attach new methods\n     * to {@link q} during runtime according to the following conventions:\n     *\n     * Public members of the module are attached to the collection similar to\n     * <code>qxWeb.$attach</code>. Members beginning with '$' or '_' are ignored.\n     *\n     * Statics of the module are attached to {@link q} similar to\n     * <code>qxWeb.$attachStatic</code>. Statics beginning with '$' or '_', as well as constants\n     * (all upper case) and some qooxdoo-internal statics of the module are ignored.\n     *\n     *\n     * If more fine-grained control outside if these conventions is needed,\n     * simply use <code>qxWeb.$attach</code> or <code>qxWeb$attachStatic</code>.\n     *\n     * @param clazz {Object} the qooxdoo class definition calling this method.\n     * @param staticsNamespace {String?undefined} Specifies the namespace under which statics are attached to {@link q}.\n     */\n    $attachAll : function(clazz, staticsNamespace) {\n      // members\n      for (var name in clazz.members) {\n        if (name.indexOf(\"$\") !== 0 && name.indexOf(\"_\") !== 0)\n        qxWeb.prototype[name] = clazz.members[name];\n      }\n\n      // statics\n      var destination;\n      if (staticsNamespace != null) {\n        qxWeb[staticsNamespace] = qxWeb[staticsNamespace] || {};\n        destination = qxWeb[staticsNamespace];\n      } else {\n        destination = qxWeb;\n      }\n\n      for (var name in clazz.statics) {\n        if (name.indexOf(\"$\") !== 0 && name.indexOf(\"_\") !== 0 && name !== \"name\" && name !== \"basename\" &&\n            name !== \"classname\" && name !== \"toString\" && name !== name.toUpperCase())\n        destination[name] = clazz.statics[name];\n      }\n    },\n\n\n    /**\n     * This is an API for module development and can be used to attach new initialization\n     * methods to {@link q} which will be called when a new collection is\n     * created.\n     *\n     * @param init {Function} The initialization method for a module.\n     */\n    $attachInit : function(init) {\n      this.__init.push(init);\n    },\n\n\n    /**\n     * Define a new class using the qooxdoo class system.\n     *\n     * @param name {String?} Name of the class. If null, the class will not be\n     *   attached to a namespace.\n     * @param config {Map ? null} Class definition structure. The configuration map has the following keys:\n     *     <table>\n     *       <thead>\n     *         <tr><th>Name</th><th>Type</th><th>Description</th></tr>\n     *       </thead>\n     *       <tr><td>extend</td><td>Class</td><td>The super class the current class inherits from.</td></tr>\n     *       <tr><td>construct</td><td>Function</td><td>The constructor of the class.</td></tr>\n     *       <tr><td>statics</td><td>Map</td><td>Map of static values / functions of the class.</td></tr>\n     *       <tr><td>members</td><td>Map</td><td>Map of instance members of the class.</td></tr>\n     *       <tr><td>defer</td><td>Function</td><td>Function that is called at the end of\n     *          processing the class declaration.</td></tr>\n     *     </table>\n     *\n     * <strong>Important hint:</strong> Please do not initialize reference types\n     * (<code>Object</code> or <code>Array</code>) directly inside the <strong>members</strong> section.\n     * Only list and initialize it with <code>null</code>. Initialize your reference type inside the\n     * <code>construct</code>. Check out one of the samples below to get the idea.\n     * @return {Function} The defined class.\n     */\n    define : function(name, config) {\n      if (config == undefined) {\n        config = name;\n        name = null;\n      }\n      return qx.Bootstrap.define.call(qx.Bootstrap, name, config);\n    }\n  },\n\n\n  /**\n   * Primary usage:\n   * Accepts a selector string and returns a collection of found items. The optional context\n   * element can be used to reduce the amount of found elements to children of the\n   * context element. If the context object is a collection, its first item is used.\n   *\n   * Secondary usage:\n   * Creates a collection from an existing DOM element, document node or window object\n   * (or an Array containing any such objects)\n   *\n   * <a href=\"http://sizzlejs.com/\" target=\"_blank\">Sizzle</a> is used as selector engine.\n   * Check out the <a href=\"https://github.com/jquery/sizzle/wiki/Sizzle-Home\" target=\"_blank\">documentation</a>\n   * for more details.\n   *\n   * @param selector {String|Element|Document|Window|Array} Valid selector (CSS3 + extensions),\n   *   window object, DOM element/document or Array of DOM Elements.\n   * @param context {Element|q} Only the children of this element are considered.\n   * @return {q} A collection of DOM elements.\n   */\n  construct : function(selector, context) {\n    if (!selector && this instanceof qxWeb) {\n      return this;\n    }\n\n    if (!selector) {\n      selector = [];\n    }\n    else if (qx.Bootstrap.isString(selector)) {\n      if (context instanceof qxWeb && context.length != 0) {\n        context = context[0];\n      }\n      if (context instanceof qxWeb) {\n        selector = [];\n      } else {\n        selector = qx.bom.Selector.query(selector, context);\n      }\n    }\n    else if ((selector.nodeType === 1 || selector.nodeType === 9 ||\n      selector.nodeType === 11) ||\n      (selector.history && selector.location && selector.document))\n    {\n      selector = [selector];\n    }\n    return qxWeb.$init(selector, qxWeb);\n  },\n\n\n  members : {\n    /**\n     * Gets a new collection containing only those elements that passed the\n     * given filter. This can be either a selector expression or a filter\n     * function.\n     *\n     * @param selector {String|Function} Selector expression or filter function\n     * @return {q} New collection containing the elements that passed the filter\n     */\n    filter : function(selector) {\n      if (qx.lang.Type.isFunction(selector)) {\n        return qxWeb.$init(Array.prototype.filter.call(this, selector), this.constructor);\n      }\n      return qxWeb.$init(qx.bom.Selector.matches(selector, this), this.constructor);\n    },\n\n\n    /**\n     * Recreates a collection which is free of all duplicate elements from the original.\n     *\n     * @return {q} Returns a copy with no duplicates\n     */\n    unique : function() {\n      var unique = qx.lang.Array.unique(this);\n      return qxWeb.$init(unique, this.constructor);\n    },\n\n\n    /**\n     * Returns a copy of the collection within the given range.\n     *\n     * @param begin {Number} The index to begin.\n     * @param end {Number?} The index to end.\n     * @return {q} A new collection containing a slice of the original collection.\n     */\n    slice : function(begin, end) {\n      // Old IEs return an empty array if the second argument is undefined\n      // check 'end' explicit for \"undefined\" [BUG #7322]\n      if (end !== undefined) {\n        return qxWeb.$init(Array.prototype.slice.call(this, begin, end), this.constructor);\n      }\n      return qxWeb.$init(Array.prototype.slice.call(this, begin), this.constructor);\n    },\n\n\n    /**\n     * Removes the given number of items and returns the removed items as a new collection.\n     * This method can also add items. Take a look at the\n     * <a href='https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/splice' target='_blank'>documentation of MDN</a> for more details.\n     *\n     * @param index {Number} The index to begin.\n     * @param howMany {Number} the amount of items to remove.\n     * @param varargs {var} As many items as you want to add.\n     * @return {q} A new collection containing the removed items.\n     */\n    splice : function(index , howMany, varargs) {\n      return qxWeb.$init(Array.prototype.splice.apply(this, arguments), this.constructor);\n    },\n\n\n    /**\n     * Returns a new collection containing the modified elements. For more details, check out the\n     * <a href='https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/map' target='_blank'>MDN documentation</a>.\n     *\n     * @param callback {Function} Function which produces the new element.\n     * @param thisarg {var} Context of the callback.\n     * @return {q} New collection containing the elements that passed the filter\n     */\n    map : function(callback, thisarg) {\n      return qxWeb.$init(Array.prototype.map.apply(this, arguments), qxWeb);\n    },\n\n\n    /**\n     * Returns a copy of the collection including the given elements.\n     *\n     * @param varargs {var} As many items as you want to add.\n     * @return {q} A new collection containing all items.\n     */\n    concat : function(varargs) {\n      var clone = Array.prototype.slice.call(this, 0);\n      for (var i=0; i < arguments.length; i++) {\n        if (arguments[i] instanceof qxWeb) {\n          clone = clone.concat(Array.prototype.slice.call(arguments[i], 0));\n        } else {\n          clone.push(arguments[i]);\n        }\n      }\n      return qxWeb.$init(clone, this.constructor);\n    },\n\n\n    /**\n     * Returns the index of the given element within the current\n     * collection or -1 if the element is not in the collection\n     * @param elem {Element|Element[]|qxWeb} Element or collection of elements\n     * @param fromIndex {Integer} The index to start the search at\n     * @return {Number} The element's index\n     */\n    indexOf : function(elem, fromIndex) {\n      if (!elem) {\n        return -1;\n      }\n\n      if (!fromIndex) {\n        fromIndex = 0;\n      }\n\n      if (typeof fromIndex !== \"number\") {\n        return -1;\n      }\n\n      if (fromIndex < 0) {\n        fromIndex = this.length + fromIndex;\n        if (fromIndex < 0) {\n          fromIndex = 0;\n        }\n      }\n\n      if (qx.lang.Type.isArray(elem)) {\n        elem = elem[0];\n      }\n\n      for (var i = fromIndex, l = this.length; i<l; i++) {\n        if (this[i] === elem) {\n          return i;\n        }\n      }\n\n      return -1;\n    },\n\n\n    /**\n     * Calls the browser's native debugger to easily allow debugging within\n     * chained calls.\n     *\n     * Unlike the <a href=\"#.logThis\">logThis</a> method this implementation blocks the further processing.\n     *\n     * @return {q} The collection for chaining\n     * @ignore(debugger)\n     */\n    debug : function() {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        debugger;\n      }\n      return this;\n    },\n\n\n    /**\n     * Logs information about the current collection, its DOM elements and the\n     * length. Very useful during development to easily check the current state of\n     * your collection and avoid common pitfalls like an empty collection.\n     *\n     * Unlike the <a href=\"#.debug\">debug</a> method this implementation works non-blocking.\n     *\n     * @return {q} The collection for chaining\n     *\n     */\n    logThis : function() {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n\n        // loop over the collection elements to make sure we get the current content\n        // of the collection and not the reference values later (they might change depending on\n        // manipulation of the collection)\n        var elements = [];\n        this.forEach(function(item) {\n          elements.push(item);\n        });\n\n        var length = this.length;\n\n        console.group(\"*** Collection infos ***\");\n        console.info(\"Length:\", length);\n        console.info(\"Elements:\", elements);\n        console.info(\"Instance:\", this);\n        console.groupEnd();\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Calls a function for each DOM element  or document fragment in the\n     * collection. This is used for DOM manipulations which can't be\n     * applied to document nodes or window objects.\n     *\n     * @param func {Function} Callback function. Will be called with three arguments:\n     * The element, the element's index within the collection and the collection itself.\n     * @param ctx {Object} The context for the callback function (default: The collection)\n     * @return {q} The collection for chaining\n     */\n    _forEachElement : function(func, ctx) {\n      for (var i=0, l=this.length; i<l; i++) {\n        if (this[i] && (this[i].nodeType === 1 || this[i].nodeType === 11)) {\n          func.apply(ctx || this, [this[i], i, this]);\n        }\n      }\n      return this;\n    },\n\n\n    /**\n     * Calls a function for each DOM element node in the collection. Each node is wrapped\n     * in a collection before the function is called.\n     *\n     * @param func {Function} Callback function. Will be called with three arguments:\n     * The element wrappend in a collection, the element's index within the collection and\n     * the collection itself.\n     * @param ctx {Object} The context for the callback function (default: The collection)\n     * @return {q} The collection for chaining\n     */\n    _forEachElementWrapped : function(func, ctx) {\n      this._forEachElement(function(item, idx, arr) {\n        func.apply(this, [qxWeb(item), idx, arr]);\n      }, ctx);\n      return this;\n    }\n  },\n\n  /**\n   * @ignore(q)\n   */\n  defer : function(statics) {\n    if (window.q == undefined) {\n      window.q = statics;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2008-2010 Sebastian Werner, http://sebastian-werner.net\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n     * Andreas Ecker (ecker)\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * Sizzle CSS Selector Engine - v2.3.0\n\n     Homepage:\n       http://sizzlejs.com/\n\n     Documentation:\n       https://github.com/jquery/sizzle/wiki/Sizzle-Documentation\n\n     Discussion:\n       https://groups.google.com/forum/#!forum/sizzlejs\n\n     Code:\n       https://github.com/jquery/sizzle\n\n     Copyright:\n       (c) 2009, 2013 jQuery Foundation and other contributors\n\n     License:\n       MIT: http://www.opensource.org/licenses/mit-license.php\n\n   ----------------------------------------------------------------------\n\n    Copyright 2013 jQuery Foundation and other contributors\n    http://jquery.com/\n\n    Permission is hereby granted, free of charge, to any person obtaining\n    a copy of this software and associated documentation files (the\n    \"Software\"), to deal in the Software without restriction, including\n    without limitation the rights to use, copy, modify, merge, publish,\n    distribute, sublicense, and/or sell copies of the Software, and to\n    permit persons to whom the Software is furnished to do so, subject to\n    the following conditions:\n\n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n    MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n    LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n    OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n    WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n   ----------------------------------------------------------------------\n\n    Version:\n       v2.3.0\n       commit  8d56cba3212f6722a0b47330143d329d7297277e\n\n************************************************************************ */\n\n/**\n * The selector engine supports virtually all CSS 3 Selectors  – this even\n * includes some parts that are infrequently implemented such as escaped\n * selectors (<code>.foo\\\\+bar</code>), Unicode selectors, and results returned\n * in document order. There are a few notable exceptions to the CSS 3 selector\n * support:\n *\n * * <code>:root</code>\n * * <code>:target</code>\n * * <code>:nth-last-child</code>\n * * <code>:nth-of-type</code>\n * * <code>:nth-last-of-type</code>\n * * <code>:first-of-type</code>\n * * <code>:last-of-type</code>\n * * <code>:only-of-type</code>\n * * <code>:lang()</code>\n *\n * In addition to the CSS 3 Selectors the engine supports the following\n * additional selectors or conventions.\n *\n * *Changes*\n *\n * * <code>:not(a.b)</code>: Supports non-simple selectors in <code>:not()</code> (most browsers only support <code>:not(a)</code>, for example).\n * * <code>:not(div > p)</code>: Supports full selectors in <code>:not()</code>.\n * * <code>:not(div, p)</code>: Supports multiple selectors in <code>:not()</code>.\n * * <code>[NAME=VALUE]</code>: Doesn't require quotes around the specified value in an attribute selector.\n *\n * *Additions*\n *\n * * <code>[NAME!=VALUE]</code>: Finds all elements whose <code>NAME</code> attribute doesn't match the specified value. Is equivalent to doing <code>:not([NAME=VALUE])</code>.\n * * <code>:contains(TEXT)</code>: Finds all elements whose textual context contains the word <code>TEXT</code> (case sensitive).\n * * <code>:header</code>: Finds all elements that are a header element (h1, h2, h3, h4, h5, h6).\n * * <code>:parent</code>: Finds all elements that contains another element.\n *\n * *Positional Selector Additions*\n *\n * * <code>:first</code>/</code>:last</code>: Finds the first or last matching element on the page. (e.g. <code>div:first</code> would find the first div on the page, in document order)\n * * <code>:even</code>/<code>:odd</code>: Finds every other element on the page (counting begins at 0, so <code>:even</code> would match the first element).\n * * <code>:eq</code>/<code>:nth</code>: Finds the Nth element on the page (e.g. <code>:eq(5)</code> finds the 6th element on the page).\n * * <code>:lt</code>/<code>:gt</code>: Finds all elements at positions less than or greater than the specified positions.\n *\n * *Form Selector Additions*\n *\n * * <code>:input</code>: Finds all input elements (includes textareas, selects, and buttons).\n * * <code>:text</code>, <code>:checkbox</code>, <code>:file</code>, <code>:password</code>, <code>:submit</code>, <code>:image</code>, <code>:reset</code>, <code>:button</code>: Finds the input element with the specified input type (<code>:button</code> also finds button elements).\n *\n * Based on Sizzle by John Resig, see:\n *\n * * http://sizzlejs.com/\n *\n * For further usage details also have a look at the wiki page at:\n *\n * * https://github.com/jquery/sizzle/wiki/Sizzle-Home\n */\nqx.Bootstrap.define(\"qx.bom.Selector\", {\n  statics: {\n    /**\n     * Queries the document for the given selector. Supports all CSS3 selectors\n     * plus some extensions as mentioned in the class description.\n     *\n     * @signature function(selector, context)\n     * @param selector {String} Valid selector (CSS3 + extensions)\n     * @param context {Element} Context element (result elements must be children of this element)\n     * @return {Array} Matching elements\n     */\n    query: null,\n\n    /**\n     * Returns an reduced array which only contains the elements from the given\n     * array which matches the given selector\n     *\n     * @signature function(selector, set)\n     * @param selector {String} Selector to filter given set\n     * @param set {Array} List to filter according to given selector\n     * @return {Array} New array containing matching elements\n     */\n    matches: null\n  }\n});\n\n\n/**\n * Below is the original Sizzle code. Snapshot date is mentioned in the head of\n * this file.\n * @lint ignoreUnused(j, rnot, rendsWithNot)\n */\n\n/*!\n * Sizzle CSS Selector Engine v2.3.0\n * https://sizzlejs.com/\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2016-01-04\n */\n(function( window ) {\n\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + 1 * new Date(),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// Instance methods\n\thasOwn = ({}).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpush_native = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\t// Use a stripped-down indexOf as it's faster than native\n\t// https://jsperf.com/thor-indexof-vs-for/5\n\tindexOf = function( list, elem ) {\n\t\tvar i = 0,\n\t\t\tlen = list.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( list[i] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\n\t// http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\n\tidentifier = \"(?:\\\\\\\\.|[\\\\w-]|[^\\0-\\\\xa0])+\",\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" + whitespace +\n\t\t\"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace + \"*\" ),\n\n\trattributeQuotes = new RegExp( \"=\" + whitespace + \"*([^\\\\]'\\\"]*?)\" + whitespace + \"*\\\\]\", \"g\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + identifier + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" + whitespace +\n\t\t\t\"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace +\n\t\t\t\"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace + \"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" +\n\t\t\twhitespace + \"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\([\\\\da-f]{1,6}\" + whitespace + \"?|(\" + whitespace + \")|.)\", \"ig\" ),\n\tfunescape = function( _, escaped, escapedWhitespace ) {\n\t\tvar high = \"0x\" + escaped - 0x10000;\n\t\t// NaN means non-codepoint\n\t\t// Support: Firefox<24\n\t\t// Workaround erroneous numeric interpretation of +\"0x\"\n\t\treturn high !== high || escapedWhitespace ?\n\t\t\tescaped :\n\t\t\thigh < 0 ?\n\t\t\t\t// BMP codepoint\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\t// Supplemental Plane codepoint (surrogate pair)\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// CSS string/identifier serialization\n\t// https://drafts.csswg.org/cssom/#common-serializing-idioms\n\trcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g,\n\tfcssescape = function( ch, asCodePoint ) {\n\t\tif ( asCodePoint ) {\n\n\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\treturn \"\\uFFFD\";\n\t\t\t}\n\n\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t}\n\n\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\treturn \"\\\\\" + ch;\n\t},\n\n\t// Used for iframes\n\t// See setDocument()\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tdisabledAncestor = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true;\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t(arr = slice.call( preferredDoc.childNodes )),\n\t\tpreferredDoc.childNodes\n\t);\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpush_native.apply( target, slice.call(els) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( (target[j++] = els[i++]) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\n\t\tif ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {\n\t\t\tsetDocument( context );\n\t\t}\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( (m = match[1]) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( (elem = context.getElementById( m )) ) {\n\n\t\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && (elem = newContext.getElementById( m )) &&\n\t\t\t\t\t\t\tcontains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[2] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( (m = match[3]) && support.getElementsByClassName &&\n\t\t\t\t\tcontext.getElementsByClassName ) {\n\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( support.qsa &&\n\t\t\t\t!compilerCache[ selector + \" \" ] &&\n\t\t\t\t(!rbuggyQSA || !rbuggyQSA.test( selector )) ) {\n\n\t\t\t\tif ( nodeType !== 1 ) {\n\t\t\t\t\tnewContext = context;\n\t\t\t\t\tnewSelector = selector;\n\n\t\t\t\t// qSA looks outside Element context, which is not what we want\n\t\t\t\t// Thanks to Andrew Dupont for this workaround technique\n\t\t\t\t// Support: IE <=8\n\t\t\t\t// Exclude object elements\n\t\t\t\t} else if ( context.nodeName.toLowerCase() !== \"object\" ) {\n\n\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\tif ( (nid = context.getAttribute( \"id\" )) ) {\n\t\t\t\t\t\tnid = nid.replace( rcssescape, fcssescape );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontext.setAttribute( \"id\", (nid = expando) );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[i] = \"#\" + nid + \" \" + toSelector( groups[i] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\t\t\t\t}\n\n\t\t\t\tif ( newSelector ) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @return {function} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn (cache[ key + \" \" ] = value);\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param fn {Function} The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param fn {Function} Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement(\"fieldset\");\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param attrs {String} Pipe-separated list of attributes\n * @param handler {Function} The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split(\"|\"),\n\t\ti = arr.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[i] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param a {Element}\n * @param b {Element}\n * @return {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\ta.sourceIndex - b.sourceIndex;\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( (cur = cur.nextSibling) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param type {String}\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param type {String}\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn (name === \"input\" || name === \"button\") && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param disabled {Boolean} true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\t// Known :disabled false positives:\n\t// IE: *[disabled]:not(button, input, select, textarea, optgroup, option, menuitem, fieldset)\n\t// not IE: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Check form elements and option elements for explicit disabling\n\t\treturn \"label\" in elem && elem.disabled === disabled ||\n\t\t\t\"form\" in elem && elem.disabled === disabled ||\n\n\t\t\t// Check non-disabled form elements for fieldset[disabled] ancestors\n\t\t\t\"form\" in elem && elem.disabled === false && (\n\t\t\t\t// Support: IE6-11+\n\t\t\t\t// Ancestry is covered for us\n\t\t\t\telem.isDisabled === disabled ||\n\n\t\t\t\t// Otherwise, assume any non-<option> under fieldset[disabled] is disabled\n\t\t\t\t/* jshint -W018 */\n\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\t(\"label\" in elem || !disabledAncestor( elem )) !== disabled\n\t\t\t);\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param fn {Function}\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction(function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction(function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ (j = matchIndexes[i]) ] ) {\n\t\t\t\t\tseed[j] = !(matches[j] = seed[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param context {Element|Object}\n * @return {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param elem {Element|Object} An element or a document\n * @return {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\t// documentElement is verified for cases where it doesn't yet exist\n\t// (such as loading iframes in IE - #4833)\n\tvar documentElement = elem && (elem.ownerDocument || elem).documentElement;\n\treturn documentElement ? documentElement.nodeName !== \"HTML\" : false;\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param doc {Element|Object} An element or document object to use to set the document\n * @return {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare, subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\tif ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocElem = document.documentElement;\n\tdocumentIsHTML = !isXML( document );\n\n\t// Support: IE 9-11, Edge\n\t// Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\n\tif ( preferredDoc !== document &&\n\t\t(subWindow = document.defaultView) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 11, Edge\n\t\tif ( subWindow.addEventListener ) {\n\t\t\tsubWindow.addEventListener( \"unload\", unloadHandler, false );\n\n\t\t// Support: IE 9 - 10 only\n\t\t} else if ( subWindow.attachEvent ) {\n\t\t\tsubWindow.attachEvent( \"onunload\", unloadHandler );\n\t\t}\n\t}\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties\n\t// (excepting IE8 booleans)\n\tsupport.attributes = assert(function( el ) {\n\t\tel.className = \"i\";\n\t\treturn !el.getAttribute(\"className\");\n\t});\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert(function( el ) {\n\t\tel.appendChild( document.createComment(\"\") );\n\t\treturn !el.getElementsByTagName(\"*\").length;\n\t});\n\n\t// Support: IE<9\n\tsupport.getElementsByClassName = rnative.test( document.getElementsByClassName );\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert(function( el ) {\n\t\tdocElem.appendChild( el ).id = expando;\n\t\treturn !document.getElementsByName || !document.getElementsByName( expando ).length;\n\t});\n\n\t// ID find and filter\n\tif ( support.getById ) {\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar m = context.getElementById( id );\n\t\t\t\treturn m ? [ m ] : [];\n\t\t\t}\n\t\t};\n\t\tExpr.filter[\"ID\"] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute(\"id\") === attrId;\n\t\t\t};\n\t\t};\n\t} else {\n\t\t// Support: IE6/7\n\t\t// getElementById is not reliable as a find shortcut\n\t\tdelete Expr.find[\"ID\"];\n\n\t\tExpr.filter[\"ID\"] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode(\"id\");\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[\"TAG\"] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t\t// DocumentFragment nodes don't have gEBTN\n\t\t\t} else if ( support.qsa ) {\n\t\t\t\treturn context.querySelectorAll( tag );\n\t\t\t}\n\t\t} :\n\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\t\t\t\t// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( (elem = results[i++]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[\"CLASS\"] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See https://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( (support.qsa = rnative.test( document.querySelectorAll )) ) {\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert(function( el ) {\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// https://bugs.jquery.com/ticket/12359\n\t\t\tdocElem.appendChild( el ).innerHTML = \"<a id='\" + expando + \"'></a>\" +\n\t\t\t\t\"<select id='\" + expando + \"-\\r\\\\' msallowcapture=''>\" +\n\t\t\t\t\"<option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( el.querySelectorAll(\"[msallowcapture^='']\").length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !el.querySelectorAll(\"[selected]\").length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\n\t\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\t\trbuggyQSA.push(\"~=\");\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !el.querySelectorAll(\":checked\").length ) {\n\t\t\t\trbuggyQSA.push(\":checked\");\n\t\t\t}\n\n\t\t\t// Support: Safari 8+, iOS 8+\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\t\trbuggyQSA.push(\".#.+[+~]\");\n\t\t\t}\n\t\t});\n\n\t\tassert(function( el ) {\n\t\t\tel.innerHTML = \"<a href='' disabled='disabled'></a>\" +\n\t\t\t\t\"<select disabled='disabled'><option/></select>\";\n\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = document.createElement(\"input\");\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( el.querySelectorAll(\"[name=d]\").length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( el.querySelectorAll(\":enabled\").length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: IE9-11+\n\t\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t\tdocElem.appendChild( el ).disabled = true;\n\t\t\tif ( el.querySelectorAll(\":disabled\").length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tel.querySelectorAll(\"*,:x\");\n\t\t\trbuggyQSA.push(\",.*:\");\n\t\t});\n\t}\n\n\tif ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector) )) ) {\n\n\t\tassert(function( el ) {\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( el, \"*\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( el, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t});\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join(\"|\") );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join(\"|\") );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully self-exclusive\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t));\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( (b = b.parentNode) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\tcompare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\tif ( a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif ( b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\t\t\treturn a === document ? -1 :\n\t\t\t\tb === document ? 1 :\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[i] === bp[i] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[i], bp[i] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\tap[i] === preferredDoc ? -1 :\n\t\t\tbp[i] === preferredDoc ? 1 :\n\t\t\t0;\n\t};\n\n\treturn document;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\t// Make sure that attribute selectors are quoted\n\texpr = expr.replace( rattributeQuotes, \"='$1']\" );\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t!compilerCache[ expr + \" \" ] &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch (e) {}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\t// Set document vars if needed\n\tif ( ( context.ownerDocument || context ) !== document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t(val = elem.getAttributeNode(name)) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.escape = function( sel ) {\n\treturn (sel + \"\").replace( rcssescape, fcssescape );\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param results {ArrayLike}\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( (elem = results[i++]) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param elem {Array|Element}\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( (node = elem[i++]) ) {\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[1] = match[1].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[3] = ( match[3] || match[4] || match[5] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[2] === \"~=\" ) {\n\t\t\t\tmatch[3] = \" \" + match[3] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[1] = match[1].toLowerCase();\n\n\t\t\tif ( match[1].slice( 0, 3 ) === \"nth\" ) {\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[3] ) {\n\t\t\t\t\tSizzle.error( match[0] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === \"even\" || match[3] === \"odd\" ) );\n\t\t\t\tmatch[5] = +( ( match[7] + match[8] ) || match[3] === \"odd\" );\n\n\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[3] ) {\n\t\t\t\tSizzle.error( match[0] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[6] && match[2];\n\n\t\t\tif ( matchExpr[\"CHILD\"].test( match[0] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[3] ) {\n\t\t\t\tmatch[2] = match[4] || match[5] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t(excess = tokenize( unquoted, true )) &&\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t(excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[0] = match[0].slice( 0, excess );\n\t\t\t\tmatch[2] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() { return true; } :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t(pattern = new RegExp( \"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\" )) &&\n\t\t\t\tclassCache( className, function( elem ) {\n\t\t\t\t\treturn pattern.test( typeof elem.className === \"string\" && elem.className || typeof elem.getAttribute !== \"undefined\" && elem.getAttribute(\"class\") || \"\" );\n\t\t\t\t});\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tvar cache, uniqueCache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( (node = node[ dir ]) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\n\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\tnode = parent;\n\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction(function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf( seed, matched[i] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[i] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction(function( selector ) {\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction(function( seed, matches, context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = unmatched[i]) ) {\n\t\t\t\t\t\t\tseed[i] = !(matches[i] = elem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}) :\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tinput[0] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\t\t\t\t\t// Don't keep the element (issue #299)\n\t\t\t\t\tinput[0] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t}),\n\n\t\t\"has\": markFunction(function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t}),\n\n\t\t\"contains\": markFunction(function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t}),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test(lang || \"\") ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( (elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute(\"xml:lang\") || elem.getAttribute(\"lang\")) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( (elem = elem.parentNode) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": createDisabledPseudo( false ),\n\t\t\"disabled\": createDisabledPseudo( true ),\n\n\t\t\"checked\": function( elem ) {\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn (nodeName === \"input\" && !!elem.checked) || (nodeName === \"option\" && !!elem.selected);\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[\"empty\"]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( (attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo(function() {\n\t\t\treturn [ 0 ];\n\t\t}),\n\n\t\t\"last\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t}),\n\n\t\t\"eq\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t}),\n\n\t\t\"even\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"odd\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"lt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"gt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t})\n\t}\n};\n\nExpr.pseudos[\"nth\"] = Expr.pseudos[\"eq\"];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || (match = rcomma.exec( soFar )) ) {\n\t\t\tif ( match ) {\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[0].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( (tokens = []) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( (match = rcombinators.exec( soFar )) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push({\n\t\t\t\tvalue: matched,\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[0].replace( rtrim, \" \" )\n\t\t\t});\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||\n\t\t\t\t(match = preFilters[ type ]( match ))) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push({\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t});\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[i].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, uniqueCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || (elem[ expando ] = {});\n\n\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\tuniqueCache = outerCache[ elem.uniqueID ] || (outerCache[ elem.uniqueID ] = {});\n\n\t\t\t\t\t\tif ( skip && skip === elem.nodeName.toLowerCase() ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( (oldCache = uniqueCache[ key ]) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn (newCache[ 2 ] = oldCache[ 2 ]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\tuniqueCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[i]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[0];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[i], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (elem = unmatched[i]) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction(function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts( selector || \"*\", context.nodeType ? [ context ] : context, [] ),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( (elem = temp[i]) ) {\n\t\t\t\t\tmatcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = matcherOut[i]) ) {\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( (matcherIn[i] = elem) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, (matcherOut = []), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( (elem = matcherOut[i]) &&\n\t\t\t\t\t\t(temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {\n\n\t\t\t\t\t\tseed[temp] = !(results[temp] = elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[0].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[\" \"],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\tvar ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t(checkContext = context).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\t\t\t// Avoid hanging onto element (issue #299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (matcher = Expr.relative[ tokens[i].type ]) ) {\n\t\t\tmatchers = [ addCombinator(elementMatcher( matchers ), matcher) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[j].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\t\ttokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" })\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( (tokens = tokens.slice( j )) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[\"TAG\"]( \"*\", outermost ),\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\t\t\t\toutermostContext = context === document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && (elem = elems[i]) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\tif ( !context && elem.ownerDocument !== document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( (matcher = elementMatchers[j++]) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( (elem = !matcher && elem) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( (matcher = setMatchers[j++]) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !(unmatched[i] || setMatched[i]) ) {\n\t\t\t\t\t\t\t\tsetMatched[i] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[i] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param selector {String|Function} A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param context {Element}\n * @param results {Array}\n * @param seed {Array} A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( (selector = compiled.selector || selector) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[0] = match[0].slice( 0 );\n\t\tif ( tokens.length > 2 && (token = tokens[0]).type === \"ID\" &&\n\t\t\t\tsupport.getById && context.nodeType === 9 && documentIsHTML &&\n\t\t\t\tExpr.relative[ tokens[1].type ] ) {\n\n\t\t\tcontext = ( Expr.find[\"ID\"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[\"needsContext\"].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[i];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ (type = token.type) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( (find = Expr.find[ type ]) ) {\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( (seed = find(\n\t\t\t\t\ttoken.matches[0].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context\n\t\t\t\t)) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split(\"\").sort( sortOrder ).join(\"\") === expando;\n\n// Support: Chrome 14-35+\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert(function( el ) {\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement(\"fieldset\") ) & 1;\n});\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert(function( el ) {\n\tel.innerHTML = \"<a href='#'></a>\";\n\treturn el.firstChild.getAttribute(\"href\") === \"#\" ;\n}) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert(function( el ) {\n\tel.innerHTML = \"<input/>\";\n\tel.firstChild.setAttribute( \"value\", \"\" );\n\treturn el.firstChild.getAttribute( \"value\" ) === \"\";\n}) ) {\n\taddHandle( \"value\", function( elem, name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert(function( el ) {\n\treturn el.getAttribute(\"disabled\") == null;\n}) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t\t(val = elem.getAttributeNode( name )) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\tnull;\n\t\t}\n\t});\n}\n\n// EXPOSE qooxdoo variant\nqx.bom.Selector.query = function(selector, context) {\n  return Sizzle(selector, context);\n};\n\nqx.bom.Selector.matches = function(selector, set) {\n  return Sizzle(selector, null, null, set);\n};\n// EXPOSE qooxdoo variant\n\n})( window );\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Adds JavaScript features that may not be supported by all clients.\n *\n * @require(qx.lang.normalize.Function)\n * @require(qx.lang.normalize.String)\n * @require(qx.lang.normalize.Date)\n * @require(qx.lang.normalize.Array)\n * @require(qx.lang.normalize.Error)\n * @require(qx.lang.normalize.Object)\n * @require(qx.lang.normalize.Number)\n *\n * @group (Polyfill)\n */\nqx.Bootstrap.define(\"qx.module.Polyfill\", {});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n/**\n * Module for querying information about the environment / runtime.\n * It adds a static key <code>env</code> to qxWeb and offers the given methods.\n *\n * The following values are predefined:\n *\n * * <code>browser.name</code> : The name of the browser\n * * <code>browser.version</code> : The version of the browser\n * * <code>browser.quirksmode</code>  : <code>true</code> if the browser is in quirksmode\n * * <code>browser.documentmode</code> : The document mode of the browser\n *\n * * <code>device.name</code> : The name of the device e.g. <code>iPad</code>.\n * * <code>device.type</code> : Either <code>desktop</code>, <code>tablet</code> or <code>mobile</code>.\n *\n * * <code>engine.name</code> : The name of the browser engine\n * * <code>engine.version</code> : The version of the browser engine\n *\n * * <code>event.touch</code> : Checks if touch events are supported\n * * <code>event.mspointer</code> : Checks if MSPointer events are available\n * @group (Core)\n */\nqx.Bootstrap.define(\"qx.module.Environment\", {\n  statics :\n  {\n    /**\n     * Get the value stored for the given key.\n     *\n     * @attachStatic {qxWeb, env.get}\n     * @param key {String} The key to check for.\n     * @return {var} The value stored for the given key.\n     * @lint environmentNonLiteralKey(key)\n     */\n    get : function(key) {\n      return qx.core.Environment.get(key);\n    },\n\n    /**\n     * Adds a new environment setting which can be queried via {@link #get}.\n     * @param key {String} The key to store the value for.\n     *\n     * @attachStatic {qxWeb, env.add}\n     * @param value {var} The value to store.\n     * @return {qxWeb} The collection for chaining.\n     */\n    add : function(key, value) {\n      qx.core.Environment.add(key, value);\n      return this;\n    }\n  },\n\n\n  defer : function(statics) {\n    // make sure the desired keys are available (browser.* and engine.*)\n    qx.core.Environment.get(\"browser.name\");\n    qx.core.Environment.get(\"browser.version\");\n    qx.core.Environment.get(\"browser.quirksmode\");\n    qx.core.Environment.get(\"browser.documentmode\");\n\n    qx.core.Environment.get(\"engine.name\");\n    qx.core.Environment.get(\"engine.version\");\n\n    qx.core.Environment.get(\"device.name\");\n    qx.core.Environment.get(\"device.type\");\n\n    qx.core.Environment.get(\"event.touch\");\n    qx.core.Environment.get(\"event.mspointer\");\n\n    qxWeb.$attachAll(this, \"env\");\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2011-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Support for native and custom events.\n *\n * @require(qx.module.Polyfill)\n * @require(qx.module.Environment)\n * @use(qx.module.event.PointerHandler)\n * @group (Core)\n */\nqx.Bootstrap.define(\"qx.module.Event\", {\n  statics :\n  {\n    /**\n     * Event normalization registry\n     *\n     * @internal\n     */\n    __normalizations : {},\n\n    /**\n     * Registry of event hooks\n     * @internal\n     */\n    __hooks : {\n      on : {},\n      off : {}\n    },\n\n\n\n    __isReady : false,\n\n\n    /**\n     * Executes the given function once the document is ready.\n     *\n     * @attachStatic {qxWeb}\n     * @param callback {Function} callback function\n     */\n    ready : function(callback) {\n      // DOM is already ready\n      if (document.readyState === \"complete\") {\n        window.setTimeout(callback, 1);\n        return;\n      }\n\n      // listen for the load event so the callback is executed no matter what\n      var onWindowLoad = function()\n      {\n        qx.module.Event.__isReady = true;\n        callback();\n      };\n\n      qxWeb(window).on(\"load\", onWindowLoad);\n\n      var wrappedCallback = function() {\n        qxWeb(window).off(\"load\", onWindowLoad);\n        callback();\n      };\n\n      // Listen for DOMContentLoaded event if available (no way to reliably detect\n      // support)\n      if (qxWeb.env.get(\"engine.name\") !== \"mshtml\" || qxWeb.env.get(\"browser.documentmode\") > 8) {\n        qx.bom.Event.addNativeListener(document, \"DOMContentLoaded\", wrappedCallback);\n      }\n      else {\n        // Continually check to see if the document is ready\n        var timer = function() {\n          // onWindowLoad already executed\n          if (qx.module.Event.__isReady) {\n            return;\n          }\n          try {\n            // If DOMContentLoaded is unavailable, use the trick by Diego Perini\n            // http://javascript.nwbox.com/IEContentLoaded/\n            document.documentElement.doScroll(\"left\");\n            if (document.body) {\n              wrappedCallback();\n            }\n          }\n          catch(error) {\n            window.setTimeout(timer, 100);\n          }\n        };\n\n        timer();\n      }\n    },\n\n\n    /**\n     * Registers a normalization function for the given event types. Listener\n     * callbacks for these types will be called with the return value of the\n     * normalization function instead of the regular event object.\n     *\n     * The normalizer will be called with two arguments: The original event\n     * object and the element on which the event was triggered\n     *\n     * @attachStatic {qxWeb, $registerEventNormalization}\n     * @param types {String[]} List of event types to be normalized. Use an\n     * asterisk (<code>*</code>) to normalize all event types\n     * @param normalizer {Function} Normalizer function\n     */\n    $registerEventNormalization : function(types, normalizer)\n    {\n      if (!qx.lang.Type.isArray(types)) {\n        types = [types];\n      }\n      var registry = qx.module.Event.__normalizations;\n      for (var i=0,l=types.length; i<l; i++) {\n        var type = types[i];\n        if (qx.lang.Type.isFunction(normalizer)) {\n          if (!registry[type]) {\n            registry[type] = [];\n          }\n          registry[type].push(normalizer);\n        }\n      }\n    },\n\n\n    /**\n     * Unregisters a normalization function from the given event types.\n     *\n     * @attachStatic {qxWeb, $unregisterEventNormalization}\n     * @param types {String[]} List of event types\n     * @param normalizer {Function} Normalizer function\n     */\n    $unregisterEventNormalization : function(types, normalizer)\n    {\n      if (!qx.lang.Type.isArray(types)) {\n        types = [types];\n      }\n      var registry = qx.module.Event.__normalizations;\n      for (var i=0,l=types.length; i<l; i++) {\n        var type = types[i];\n        if (registry[type]) {\n          qx.lang.Array.remove(registry[type], normalizer);\n        }\n      }\n    },\n\n\n    /**\n     * Returns all registered event normalizers\n     *\n     * @attachStatic {qxWeb, $getEventNormalizationRegistry}\n     * @return {Map} Map of event types/normalizer functions\n     */\n    $getEventNormalizationRegistry : function()\n    {\n      return qx.module.Event.__normalizations;\n    },\n\n\n    /**\n     * Registers an event hook for the given event types.\n     *\n     * @attachStatic {qxWeb, $registerEventHook}\n     * @param types {String[]} List of event types\n     * @param registerHook {Function} Hook function to be called on event registration\n     * @param unregisterHook {Function?} Hook function to be called on event deregistration\n     * @internal\n     */\n    $registerEventHook : function(types, registerHook, unregisterHook)\n    {\n      if (!qx.lang.Type.isArray(types)) {\n        types = [types];\n      }\n      var onHooks = qx.module.Event.__hooks.on;\n      for (var i=0,l=types.length; i<l; i++) {\n        var type = types[i];\n        if (qx.lang.Type.isFunction(registerHook)) {\n          if (!onHooks[type]) {\n            onHooks[type] = [];\n          }\n          onHooks[type].push(registerHook);\n        }\n      }\n      if (!unregisterHook) {\n        return;\n      }\n      var offHooks = qx.module.Event.__hooks.off;\n      for (var i=0,l=types.length; i<l; i++) {\n        var type = types[i];\n        if (qx.lang.Type.isFunction(unregisterHook)) {\n          if (!offHooks[type]) {\n            offHooks[type] = [];\n          }\n          offHooks[type].push(unregisterHook);\n        }\n      }\n    },\n\n\n    /**\n     * Unregisters a hook from the given event types.\n     *\n     * @attachStatic {qxWeb, $unregisterEventHooks}\n     * @param types {String[]} List of event types\n     * @param registerHook {Function} Hook function to be called on event registration\n     * @param unregisterHook {Function?} Hook function to be called on event deregistration\n     * @internal\n     */\n    $unregisterEventHook : function(types, registerHook, unregisterHook)\n    {\n      if (!qx.lang.Type.isArray(types)) {\n        types = [types];\n      }\n      var onHooks = qx.module.Event.__hooks.on;\n      for (var i=0,l=types.length; i<l; i++) {\n        var type = types[i];\n        if (onHooks[type]) {\n          qx.lang.Array.remove(onHooks[type], registerHook);\n        }\n      }\n      if (!unregisterHook) {\n        return;\n      }\n      var offHooks = qx.module.Event.__hooks.off;\n      for (var i=0,l=types.length; i<l; i++) {\n        var type = types[i];\n        if (offHooks[type]) {\n          qx.lang.Array.remove(offHooks[type], unregisterHook);\n        }\n      }\n    },\n\n\n    /**\n     * Returns all registered event hooks\n     *\n     * @attachStatic {qxWeb, $getEventHookRegistry}\n     * @return {Map} Map of event types/registration hook functions\n     * @internal\n     */\n    $getEventHookRegistry : function()\n    {\n      return qx.module.Event.__hooks;\n    }\n  },\n\n\n  members :\n  {\n    /**\n     * Registers a listener for the given event type on each item in the\n     * collection. This can be either native or custom events.\n     *\n     * @attach {qxWeb}\n     * @param type {String} Type of the event to listen for\n     * @param listener {Function} Listener callback\n     * @param context {Object?} Context the callback function will be executed in.\n     * Default: The element on which the listener was registered\n     * @param useCapture {Boolean?} Attach the listener to the capturing\n     * phase if true\n     * @return {qxWeb} The collection for chaining\n     */\n    on : function(type, listener, context, useCapture) {\n      for (var i=0; i < this.length; i++) {\n        var el = this[i];\n        var ctx = context || qxWeb(el);\n\n        // call hooks\n        var hooks = qx.module.Event.__hooks.on;\n        // generic\n        var typeHooks = hooks[\"*\"] || [];\n        // type specific\n        if (hooks[type]) {\n          typeHooks = typeHooks.concat(hooks[type]);\n        }\n        for (var j=0, m=typeHooks.length; j<m; j++) {\n          typeHooks[j](el, type, listener, context);\n        }\n\n        var bound = function(el, event) {\n          // apply normalizations\n          var registry = qx.module.Event.__normalizations;\n          // generic\n          var normalizations = registry[\"*\"] || [];\n          // type specific\n          if (registry[type]) {\n            normalizations = normalizations.concat(registry[type]);\n          }\n\n          for (var x=0, y=normalizations.length; x<y; x++) {\n            event = normalizations[x](event, el, type);\n          }\n          // call original listener with normalized event\n          listener.apply(this, [event]);\n        }.bind(ctx, el);\n        bound.original = listener;\n\n        // add native listener\n        qx.bom.Event.addNativeListener(el, type, bound, useCapture);\n\n        // create an emitter if necessary\n        if (!el.$$emitter) {\n          el.$$emitter = new qx.event.Emitter();\n        }\n\n        el.$$lastlistenerId = el.$$emitter.on(type, bound, ctx);\n        // save the useCapture for removing\n        el.$$emitter.getEntryById(el.$$lastlistenerId).useCapture = !!useCapture;\n\n        if (!el.__listener) {\n          el.__listener = {};\n        }\n        if (!el.__listener[type]) {\n          el.__listener[type] = {};\n        }\n        el.__listener[type][el.$$lastlistenerId] = bound;\n\n        if (!context) {\n          // store a reference to the dynamically created context so we know\n          // what to check for when removing the listener\n          if (!el.__ctx) {\n            el.__ctx = {};\n          }\n          el.__ctx[el.$$lastlistenerId] = ctx;\n        }\n      }\n      return this;\n    },\n\n\n    /**\n     * Unregisters event listeners for the given type from each element in the\n     * collection.\n     *\n     * @attach {qxWeb}\n     * @param type {String} Type of the event\n     * @param listener {Function} Listener callback\n     * @param context {Object?} Listener callback context\n     * @param useCapture {Boolean?} Attach the listener to the capturing\n     * phase if true\n     * @return {qxWeb} The collection for chaining\n     */\n    off : function(type, listener, context, useCapture) {\n      var removeAll = (listener === null && context === null);\n\n      for (var j=0; j < this.length; j++) {\n        var el = this[j];\n\n        // continue if no listeners are available\n        if (!el.__listener) {\n          continue;\n        }\n\n        var types = [];\n        if (type !== null) {\n          types.push(type);\n        } else {\n          // no type specified, remove all listeners\n          for (var listenerType in el.__listener) {\n            types.push(listenerType);\n          }\n        }\n\n        for (var i=0, l=types.length; i<l; i++) {\n          for (var id in el.__listener[types[i]]) {\n            var storedListener = el.__listener[types[i]][id];\n            if (removeAll || storedListener == listener || storedListener.original == listener) {\n              // get the stored context\n              var hasStoredContext = typeof el.__ctx !== \"undefined\" && el.__ctx[id];\n              var storedContext;\n              if (!context && hasStoredContext) {\n                storedContext = el.__ctx[id];\n              }\n              // remove the listener from the emitter\n              var result = el.$$emitter.off(types[i], storedListener, storedContext || context);\n\n              // check if it's a bound listener which means it was a native event\n              if (removeAll || storedListener.original == listener) {\n                // remove the native listener\n                qx.bom.Event.removeNativeListener(el, types[i], storedListener, useCapture);\n              }\n\n              // BUG #9184\n              // only if the emitter was successfully removed also delete the key in the data structure\n              if (result !== null) {\n                delete el.__listener[types[i]][id];\n              }\n\n              if (hasStoredContext) {\n                delete el.__ctx[id];\n              }\n            }\n          }\n\n          // call hooks\n          var hooks = qx.module.Event.__hooks.off;\n          // generic\n          var typeHooks = hooks[\"*\"] || [];\n          // type specific\n          if (hooks[type]) {\n            typeHooks = typeHooks.concat(hooks[type]);\n          }\n          for (var k=0, m=typeHooks.length; k<m; k++) {\n            typeHooks[k](el, type, listener, context);\n          }\n        }\n\n      }\n\n      return this;\n    },\n\n    /**\n     * Removes all event listeners (or all listeners for a given type) from the\n     * collection.\n     *\n     * @attach {qxWeb}\n     * @param type {String?} Event type. All listeners will be removed if this is undefined.\n     * @return {qxWeb} The collection for chaining\n     */\n    allOff : function(type) {\n      return this.off(type || null, null, null);\n    },\n\n    /**\n     * Removes the listener with the given id.\n     * @param id {Number} The id of the listener to remove\n     * @return {qxWeb} The collection for chaining.\n     */\n    offById : function(id) {\n      var entry = this[0].$$emitter.getEntryById(id);\n      return this.off(entry.name, entry.listener.original, entry.ctx, entry.useCapture);\n    },\n\n    /**\n     * Fire an event of the given type.\n     *\n     * @attach {qxWeb}\n     * @param type {String} Event type\n     * @param data {var?} Optional data that will be passed to the listener\n     * callback function.\n     * @return {qxWeb} The collection for chaining\n     */\n    emit : function(type, data) {\n      for (var j=0; j < this.length; j++) {\n        var el = this[j];\n        if (el.$$emitter) {\n          el.$$emitter.emit(type, data);\n        }\n      }\n      return this;\n    },\n\n\n    /**\n     * Attaches a listener for the given event that will be executed only once.\n     *\n     * @attach {qxWeb}\n     * @param type {String} Type of the event to listen for\n     * @param listener {Function} Listener callback\n     * @param context {Object?} Context the callback function will be executed in.\n     * Default: The element on which the listener was registered\n     * @return {qxWeb} The collection for chaining\n     */\n    once : function(type, listener, context) {\n      var self = this;\n      var wrappedListener = function(data) {\n        self.off(type, wrappedListener, context);\n        listener.call(this, data);\n      };\n      this.on(type, wrappedListener, context);\n      return this;\n    },\n\n\n    /**\n     * Checks if one or more listeners for the given event type are attached to\n     * the first element in the collection.\n     *\n     * *Important:* Make sure you are handing in the *identical* context object to get\n     * the correct result. Especially when using a collection instance this is a common pitfall.\n     *\n     * @attach {qxWeb}\n     * @param type {String} Event type, e.g. <code>mousedown</code>\n     * @param listener {Function?} Event listener to check for.\n     * @param context {Object?} Context object listener to check for.\n     * @return {Boolean} <code>true</code> if one or more listeners are attached\n     */\n    hasListener : function(type, listener, context) {\n      if (!this[0] || !this[0].$$emitter ||\n        !this[0].$$emitter.getListeners()[type])\n      {\n        return false;\n      }\n\n      if (listener) {\n        var attachedListeners = this[0].$$emitter.getListeners()[type];\n        for (var i = 0; i < attachedListeners.length; i++) {\n          var hasListener = false;\n          if (attachedListeners[i].listener == listener) {\n            hasListener = true;\n          }\n          if (attachedListeners[i].listener.original &&\n              attachedListeners[i].listener.original == listener) {\n            hasListener =  true;\n          }\n\n          if (hasListener) {\n            if (context !== undefined) {\n              if (attachedListeners[i].ctx === context) {\n                return true;\n              }\n            } else {\n              return true;\n            }\n          }\n        }\n        return false;\n      }\n      return this[0].$$emitter.getListeners()[type].length > 0;\n    },\n\n\n    /**\n     * Copies any event listeners that are attached to the elements in the\n     * collection to the provided target element\n     *\n     * @internal\n     * @param target {Element} Element to attach the copied listeners to\n     */\n    copyEventsTo : function(target) {\n      // Copy both arrays to make sure the original collections are not manipulated.\n      // If e.g. the 'target' array contains a DOM node with child nodes we run into\n      // problems because the 'target' array is flattened within this method.\n      var source = this.concat();\n      var targetCopy = target.concat();\n\n      // get all children of source and target\n      for (var i = source.length - 1; i >= 0; i--) {\n        var descendants = source[i].getElementsByTagName(\"*\");\n        for (var j=0; j < descendants.length; j++) {\n          source.push(descendants[j]);\n        }\n      }\n\n      for (var i = targetCopy.length -1; i >= 0; i--) {\n        var descendants = targetCopy[i].getElementsByTagName(\"*\");\n        for (var j=0; j < descendants.length; j++) {\n          targetCopy.push(descendants[j]);\n        }\n      }\n      // make sure no emitter object has been copied\n      targetCopy.forEach(function(el) {\n        el.$$emitter = null;\n      });\n\n      for (var i=0; i < source.length; i++) {\n        var el = source[i];\n        if (!el.$$emitter) {\n          continue;\n        }\n        var storage = el.$$emitter.getListeners();\n        for (var name in storage) {\n          for (var j = storage[name].length - 1; j >= 0; j--) {\n            var listener = storage[name][j].listener;\n            if (listener.original) {\n              listener = listener.original;\n            }\n            qxWeb(targetCopy[i]).on(name, listener, storage[name][j].ctx);\n          }\n        }\n      }\n    },\n\n\n\n    /**\n     * Bind one or two callbacks to the collection.\n     * If only the first callback is defined the collection\n     * does react on 'pointerover' only.\n     *\n     * @attach {qxWeb}\n     *\n     * @param callbackIn {Function} callback when hovering over\n     * @param callbackOut {Function?} callback when hovering out\n     * @return {qxWeb} The collection for chaining\n     */\n    hover : function(callbackIn, callbackOut) {\n\n      this.on(\"pointerover\", callbackIn, this);\n\n      if (qx.lang.Type.isFunction(callbackOut)) {\n        this.on(\"pointerout\", callbackOut, this);\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Adds a listener for the given type and checks if the target fulfills the selector check.\n     * If the check is successful the callback is executed with the target and event as arguments.\n     *\n     * @attach{qxWeb}\n     *\n     * @param eventType {String} name of the event to watch out for (attached to the document object)\n     * @param target {String|Element|Element[]|qxWeb} Selector expression, DOM element,\n     * Array of DOM elements or collection\n     * @param callback {Function} function to call if the selector matches.\n     * The callback will get the target as qxWeb collection and the event as arguments\n     * @param context {Object?} optional context object to call the callback\n     * @return {qxWeb} The collection for chaining\n     */\n    onMatchTarget : function(eventType, target, callback, context) {\n\n      context = context !== undefined ? context : this;\n\n      var listener = function(e){\n\n        var eventTarget = qxWeb(e.getTarget());\n        if (eventTarget.is(target)) {\n          callback.call(context, eventTarget, qxWeb.object.clone(e));\n        } else {\n          var targetToMatch = typeof target == \"string\" ? this.find(target) : qxWeb(target);\n          for(var i = 0, l = targetToMatch.length; i < l; i++) {\n            if(eventTarget.isChildOf(qxWeb(targetToMatch[i]))) {\n              callback.call(context, eventTarget, qxWeb.object.clone(e));\n              break;\n            }\n          }\n        }\n      };\n\n      // make sure to store the infos for 'offMatchTarget' at each element of the collection\n      // to be able to remove the listener separately\n      this.forEach(function(el) {\n        var matchTarget = {\n          type : eventType,\n          listener : listener,\n          callback : callback,\n          context : context\n        };\n\n        if (!el.$$matchTargetInfo) {\n          el.$$matchTargetInfo = [];\n        }\n        el.$$matchTargetInfo.push(matchTarget);\n      });\n\n      this.on(eventType, listener);\n\n      return this;\n    },\n\n\n    /**\n     * Removes a listener for the given type and selector check.\n     *\n     * @attach{qxWeb}\n     *\n     * @param eventType {String} name of the event to remove for\n     * @param target {String|Element|Element[]|qxWeb} Selector expression, DOM element,\n     * Array of DOM elements or collection\n     * @param callback {Function} function to remove\n     * @param context {Object?} optional context object to remove\n     * @return {qxWeb} The collection for chaining\n     */\n    offMatchTarget : function(eventType, target, callback, context) {\n\n      context = context !== undefined ? context : this;\n\n      this.forEach(function(el) {\n\n        if (el.$$matchTargetInfo && qxWeb.type.get(el.$$matchTargetInfo) == \"Array\") {\n\n          var infos = el.$$matchTargetInfo;\n\n          for (var i=infos.length - 1; i>=0; i--) {\n\n            var entry = infos[i];\n            if (entry.type == eventType &&\n                entry.callback == callback &&\n                entry.context == context) {\n\n              this.off(eventType, entry.listener);\n              infos.splice(i, 1);\n            }\n\n          }\n\n          if (infos.length === 0) {\n            el.$$matchTargetInfo = null;\n          }\n        }\n      }, this);\n\n      return this;\n    }\n  },\n\n\n  defer : function(statics) {\n    qxWeb.$attachAll(this);\n    // manually attach internal $-methods as they are ignored by the previous method-call\n    qxWeb.$attachStatic({\n      \"$registerEventNormalization\" : statics.$registerEventNormalization,\n      \"$unregisterEventNormalization\" : statics.$unregisterEventNormalization,\n      \"$getEventNormalizationRegistry\" : statics.$getEventNormalizationRegistry,\n      \"$registerEventHook\" : statics.$registerEventHook,\n      \"$unregisterEventHook\" : statics.$unregisterEventHook,\n      \"$getEventHookRegistry\" : statics.$getEventHookRegistry\n    });\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * TODOC\n *\n * @require(qx.module.Event)\n *\n * @group (Event_Normalization)\n */\nqx.Bootstrap.define(\"qx.module.event.PointerHandler\", {\n\n  statics :\n  {\n    /**\n     * List of events that require a pointer handler\n     */\n    TYPES : [\n      \"pointermove\",\n      \"pointerover\",\n      \"pointerout\",\n      \"pointerdown\",\n      \"pointerup\",\n      \"pointercancel\",\n\n      \"gesturebegin\",\n      \"gesturemove\",\n      \"gesturefinish\",\n      \"gesturecancel\"\n    ],\n\n    /**\n     * Creates a pointer handler for the given element when a pointer event listener\n     * is attached to it\n     *\n     * @param element {Element} DOM element\n     * @param type {String} event type\n     */\n    register : function(element, type) {\n      if (!element.$$pointerHandler) {\n\n        if (!qx.core.Environment.get(\"event.dispatchevent\")) {\n          if (!element.$$emitter) {\n            element.$$emitter = new qx.event.Emitter();\n          }\n        }\n\n        element.$$pointerHandler = new qx.event.handler.PointerCore(element, element.$$emitter);\n      }\n    },\n\n\n    /**\n     * Removes the pointer event handler from the element if there are no more\n     * pointer event listeners attached to it\n     * @param element {Element} DOM element\n     */\n    unregister : function(element) {\n      // check if there are any registered listeners left\n      if (element.$$pointerHandler) {\n        // in a standalone or in-line application the pointer handler of\n        // document will be qx.event.handler.Pointer, do not dispose that handler.\n        // see constructor of qx.event.handler.Pointer\n        if (element.$$pointerHandler.classname === \"qx.event.handler.Pointer\") {\n          return;\n        }\n\n        var listeners = element.$$emitter.getListeners();\n        for (var type in listeners) {\n          if (qx.module.event.PointerHandler.TYPES.indexOf(type) !== -1) {\n            if (listeners[type].length > 0) {\n              return;\n            }\n          }\n        }\n\n        // no more listeners, get rid of the handler\n        element.$$pointerHandler.dispose();\n        element.$$pointerHandler = undefined;\n      }\n    }\n  },\n\n  defer : function(statics) {\n    qxWeb.$registerEventHook(statics.TYPES, statics.register, statics.unregister);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n\n/**\n * Cross browser animation layer. It uses feature detection to check if CSS\n * animations are available and ready to use. If not, a JavaScript-based\n * fallback will be used.\n *\n * @require(qx.module.Css)\n * @require(qx.module.Event)\n * @require(qx.module.Environment)\n */\nqx.Bootstrap.define(\"qx.module.Animation\", {\n  events : {\n    /** Fired when an animation starts. */\n    \"animationStart\" : undefined,\n\n    /** Fired when an animation has ended one iteration. */\n    \"animationIteration\" : undefined,\n\n    /** Fired when an animation has ended. */\n    \"animationEnd\" : undefined\n  },\n\n  statics :\n  {\n    /**\n     * Animation description used in {@link #fadeOut}.\n     */\n    _fadeOut : {duration: 700, timing: \"ease-out\", keep: 100, keyFrames : {\n      0: {opacity: 1},\n      100: {opacity: 0, display: \"none\"}\n    }},\n\n\n    /**\n     * Animation description used in {@link #fadeIn}.\n     */\n    _fadeIn : {duration: 700, timing: \"ease-in\", keep: 100, keyFrames : {\n      0: {opacity: 0},\n      100: {opacity: 1}\n    }},\n\n\n    /**\n     * Animation execute either regular or reversed direction.\n     * @param desc {Map} The animation\"s description.\n     * @param duration {Number?} The duration in milliseconds of the animation,\n     *   which will override the duration given in the description.\n     * @param reverse {Boolean} <code>true</code>, if the animation should be reversed\n     */\n    _animate : function(desc, duration, reverse) {\n      this._forEachElement(function(el, i) {\n        // stop all running animations\n        if (el.$$animation) {\n          el.$$animation.stop();\n        }\n\n        var handle;\n        if (reverse) {\n          handle = qx.bom.element.Animation.animateReverse(el, desc, duration);\n        } else {\n          handle = qx.bom.element.Animation.animate(el, desc, duration);\n        }\n\n        var self = this;\n        // only register for the first element\n        if (i == 0) {\n          handle.on(\"start\", function() {\n            self.emit(\"animationStart\");\n          }, handle);\n\n          handle.on(\"iteration\", function() {\n            self.emit(\"animationIteration\");\n          }, handle);\n        }\n\n        handle.on(\"end\", function() {\n          for (var i=0; i < self.length; i++) {\n            if (self[i].$$animation) {\n              return;\n            }\n          }\n          self.emit(\"animationEnd\");\n        }, el);\n      });\n    }\n  },\n\n  members :\n  {\n    /**\n     * Returns the stored animation handles. The handles are only\n     * available while an animation is running.\n     *\n     * @internal\n     * @return {Array} An array of animation handles.\n     */\n    getAnimationHandles : function() {\n      var animationHandles = [];\n      for (var i=0; i < this.length; i++) {\n        animationHandles[i] = this[i].$$animation;\n      }\n      return animationHandles;\n    },\n\n\n    /**\n     * Starts the animation with the given description.\n     *\n     * *duration* is the time in milliseconds one animation cycle should take.\n     *\n     * *keep* is the key frame to apply at the end of the animation. (optional)\n     *\n     * *keyFrames* is a map of separate frames. Each frame is defined by a\n     *   number which is the percentage value of time in the animation. The value\n     *   is a map itself which holds css properties or transforms\n     *   (Transforms only for CSS Animations).\n     *\n     * *origin* maps to the <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/transform-origin\">transform origin</a>\n     * (Only for CSS animations).\n     *\n     * *repeat* is the amount of time the animation should be run in\n     *   sequence. You can also use \"infinite\".\n     *\n     * *timing* takes one of these predefined values:\n     *   <code>ease</code> | <code>linear</code> | <code>ease-in</code>\n     *   | <code>ease-out</code> | <code>ease-in-out</code> |\n     *   <code>cubic-bezier(&lt;number&gt;, &lt;number&gt;, &lt;number&gt;, &lt;number&gt;)</code>\n     *   (cubic-bezier only available for CSS animations)\n     *\n     * *alternate* defines if every other animation should be run in reverse order.\n     *\n     * *delay* is the time in milliseconds the animation should wait before start.\n     *\n     * @attach {qxWeb}\n     * @param desc {Map} The animation\"s description.\n     * @param duration {Number?} The duration in milliseconds of the animation,\n     *   which will override the duration given in the description.\n     * @return {qxWeb} The collection for chaining.\n     */\n    animate : function(desc, duration) {\n      qx.module.Animation._animate.bind(this)(desc, duration, false);\n      return this;\n    },\n\n\n    /**\n     * Starts an animation in reversed order. For further details, take a look at\n     * the {@link #animate} method.\n     * @attach {qxWeb}\n     * @param desc {Map} The animation\"s description.\n     * @param duration {Number?} The duration in milliseconds of the animation,\n     *   which will override the duration given in the description.\n     * @return {qxWeb} The collection for chaining.\n     */\n    animateReverse : function(desc, duration) {\n      qx.module.Animation._animate.bind(this)(desc, duration, true);\n      return this;\n    },\n\n\n    /**\n     * Manipulates the play state of the animation.\n     * This can be used to continue an animation when paused.\n     * @attach {qxWeb}\n     * @return {qxWeb} The collection for chaining.\n     */\n    play : function() {\n      for (var i=0; i < this.length; i++) {\n        var handle = this[i].$$animation;\n        if (handle) {\n          handle.play();\n        }\n      }\n      return this;\n    },\n\n\n    /**\n     * Manipulates the play state of the animation.\n     * This can be used to pause an animation when running.\n     * @attach {qxWeb}\n     * @return {qxWeb} The collection for chaining.\n     */\n    pause : function() {\n      for (var i=0; i < this.length; i++) {\n        var handle = this[i].$$animation;\n        if (handle) {\n          handle.pause();\n        }\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Stops a running animation.\n     * @attach {qxWeb}\n     * @return {qxWeb} The collection for chaining.\n     */\n    stop : function() {\n      for (var i=0; i < this.length; i++) {\n        var handle = this[i].$$animation;\n        if (handle) {\n          handle.stop();\n        }\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Returns whether an animation is running or not.\n     * @attach {qxWeb}\n     * @return {Boolean} <code>true</code>, if an animation is running.\n     */\n    isPlaying : function() {\n      for (var i=0; i < this.length; i++) {\n        var handle = this[i].$$animation;\n        if (handle && handle.isPlaying()) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Returns whether an animation has ended or not.\n     * @attach {qxWeb}\n     * @return {Boolean} <code>true</code>, if an animation has ended.\n     */\n    isEnded : function() {\n      for (var i=0; i < this.length; i++) {\n        var handle = this[i].$$animation;\n        if (handle && !handle.isEnded()) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n\n\n    /**\n     * Fades in all elements in the collection.\n     * @attach {qxWeb}\n     * @param duration {Number?} The duration in milliseconds.\n     * @return {qxWeb} The collection for chaining.\n     */\n    fadeIn : function(duration) {\n      // remove \"display: none\" style\n      this.setStyle(\"display\", \"\");\n      return this.animate(qx.module.Animation._fadeIn, duration);\n    },\n\n\n    /**\n     * Fades out all elements in the collection.\n     * @attach {qxWeb}\n     * @param duration {Number?} The duration in milliseconds.\n     * @return {qxWeb} The collection for chaining.\n     */\n    fadeOut : function(duration) {\n      return this.animate(qx.module.Animation._fadeOut, duration);\n    }\n  },\n\n\n  defer : function(statics) {\n    qxWeb.$attachAll(this);\n\n\n    /**\n     * End value for opacity style. This value is modified for all browsers which are\n     * 'optimizing' this style value by not setting it (like IE9). This leads to a wrong\n     * end state for the 'fadeIn' animation if a opacity value is set by CSS.\n     */\n    if (qxWeb.env.get(\"browser.name\") === \"ie\" && qxWeb.env.get(\"browser.version\") <= 9) {\n      // has to be fixed using direct access since we cannot store the value as static member.\n      // The 'fadeIn' description is evaluated during class definition\n      statics._fadeIn.keyFrames[100].opacity = 0.99;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * High-performance, high-level DOM element creation and management.\n *\n * Includes support for HTML and style attributes. Elements also have\n * got a powerful children and visibility management.\n *\n * Processes DOM insertion and modification with advanced logic\n * to reduce the real transactions.\n *\n * From the view of the parent you can use the following children management\n * methods:\n * {@link #getChildren}, {@link #indexOf}, {@link #hasChild}, {@link #add},\n * {@link #addAt}, {@link #remove}, {@link #removeAt}, {@link #removeAll}\n *\n * Each child itself also has got some powerful methods to control its\n * position:\n * {@link #getParent}, {@link #free},\n * {@link #insertInto}, {@link #insertBefore}, {@link #insertAfter},\n * {@link #moveTo}, {@link #moveBefore}, {@link #moveAfter},\n *\n * NOTE: Instances of this class must be disposed of after use\n *\n * @require(qx.module.Animation)\n */\nqx.Class.define(\"qx.html.Element\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.core.IDisposable ],\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Creates a new Element\n   *\n   * @param tagName {String?\"div\"} Tag name of the element to create\n   * @param styles {Map?null} optional map of CSS styles, where the key is the name\n   *    of the style and the value is the value to use.\n   * @param attributes {Map?null} optional map of element attributes, where the\n   *    key is the name of the attribute and the value is the value to use.\n   */\n  construct : function(tagName, styles, attributes)\n  {\n    this.base(arguments);\n\n    // {String} Set tag name\n    this.__nodeName = tagName || \"div\";\n\n    this.__styleValues = styles || null;\n    this.__attribValues = attributes || null;\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      STATIC DATA\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {Boolean} If debugging should be enabled */\n    DEBUG : false,\n\n\n    /** @type {Map} Contains the modified {@link qx.html.Element}s. The key is the hash code. */\n    _modified : {},\n\n\n    /** @type {Map} Contains the {@link qx.html.Element}s which should get hidden or visible at the next flush. The key is the hash code. */\n    _visibility : {},\n\n\n    /** @type {Map} Contains the {@link qx.html.Element}s which should scrolled at the next flush */\n    _scroll : {},\n\n\n    /** @type {Array} List of post actions for elements. The key is the action name. The value the {@link qx.html.Element}. */\n    _actions : [],\n\n\n    /**  @type {Map} List of all selections. */\n    __selection : {},\n\n\n    __focusHandler : null,\n\n\n    __mouseCapture : null,\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PUBLIC ELEMENT FLUSH\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Schedule a deferred element queue flush. If the widget subsystem is used\n     * this method gets overwritten by {@link qx.ui.core.queue.Manager}.\n     *\n     * @param job {String} The job descriptor. Should always be <code>\"element\"</code>.\n     */\n    _scheduleFlush : function(job) {\n      qx.html.Element.__deferredCall.schedule();\n    },\n\n\n    /**\n     * Flush the global modified list\n     */\n    flush : function()\n    {\n      var obj;\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (this.DEBUG) {\n          qx.log.Logger.debug(this, \"Flushing elements...\");\n        }\n      }\n\n\n      // blur elements, which will be removed\n      var focusHandler = this.__getFocusHandler();\n      var focusedDomElement = focusHandler.getFocus();\n      if (focusedDomElement && this.__willBecomeInvisible(focusedDomElement)) {\n        focusHandler.blur(focusedDomElement);\n      }\n\n      // decativate elements, which will be removed\n      var activeDomElement = focusHandler.getActive();\n      if (activeDomElement && this.__willBecomeInvisible(activeDomElement)) {\n        qx.bom.Element.deactivate(activeDomElement);\n      }\n\n      // release capture for elements, which will be removed\n      var captureDomElement = this.__getCaptureElement();\n      if (captureDomElement && this.__willBecomeInvisible(captureDomElement)) {\n        qx.bom.Element.releaseCapture(captureDomElement);\n      }\n\n\n      var later = [];\n      var modified = this._modified;\n\n      for (var hc in modified)\n      {\n        obj = modified[hc];\n        // Ignore all hidden elements except iframes\n        // but keep them until they get visible (again)\n        if (obj.__willBeSeeable() || obj.classname == \"qx.html.Iframe\")\n        {\n          // Separately queue rendered elements\n          if (obj.__element && qx.dom.Hierarchy.isRendered(obj.__element)) {\n            later.push(obj);\n          }\n\n          // Flush invisible elements first\n          else\n          {\n            if (qx.core.Environment.get(\"qx.debug\"))\n            {\n              if (this.DEBUG) {\n                obj.debug(\"Flush invisible element\");\n              }\n            }\n\n            obj.__flush();\n          }\n\n          // Cleanup modification list\n          delete modified[hc];\n        }\n      }\n\n      for (var i=0, l=later.length; i<l; i++)\n      {\n        obj = later[i];\n\n        if (qx.core.Environment.get(\"qx.debug\"))\n        {\n          if (this.DEBUG) {\n            obj.debug(\"Flush rendered element\");\n          }\n        }\n\n        obj.__flush();\n      }\n\n\n\n      // Process visibility list\n      var visibility = this._visibility;\n\n      for (var hc in visibility)\n      {\n        obj = visibility[hc];\n\n        var element = obj.__element;\n        if (!element)\n        {\n          delete visibility[hc];\n          continue;\n        }\n\n        if (qx.core.Environment.get(\"qx.debug\"))\n        {\n          if (this.DEBUG) {\n            qx.log.Logger.debug(this, \"Switching visibility to: \" + obj.__visible);\n          }\n        }\n\n        // hiding or showing an object and deleting it right after that may\n        // cause an disposed object in the visibility queue [BUG #3607]\n        if (!obj.$$disposed) {\n          element.style.display = obj.__visible ? \"\" : \"none\";\n          // also hide the element (fixed some rendering problem in IE<8 & IE8 quirks)\n          if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\"))\n          {\n            if (!(document.documentMode >= 8)) {\n              element.style.visibility = obj.__visible ? \"visible\" : \"hidden\";\n            }\n          }\n        }\n\n        delete visibility[hc];\n      }\n\n      // Process scroll list\n      var scroll = this._scroll;\n      for (var hc in scroll)\n      {\n        obj = scroll[hc];\n        var elem = obj.__element;\n\n        if (elem && elem.offsetWidth)\n        {\n          var done = true;\n\n          // ScrollToX\n          if (obj.__lazyScrollX != null)\n          {\n            obj.__element.scrollLeft = obj.__lazyScrollX;\n            delete obj.__lazyScrollX;\n          }\n\n          // ScrollToY\n          if (obj.__lazyScrollY != null)\n          {\n            obj.__element.scrollTop = obj.__lazyScrollY;\n            delete obj.__lazyScrollY;\n          }\n\n          // ScrollIntoViewX\n          var intoViewX = obj.__lazyScrollIntoViewX;\n          if (intoViewX != null)\n          {\n            var child = intoViewX.element.getDomElement();\n\n            if (child && child.offsetWidth)\n            {\n              qx.bom.element.Scroll.intoViewX(child, elem, intoViewX.align);\n              delete obj.__lazyScrollIntoViewX;\n            }\n            else\n            {\n              done = false;\n            }\n          }\n\n          // ScrollIntoViewY\n          var intoViewY = obj.__lazyScrollIntoViewY;\n          if (intoViewY != null)\n          {\n            var child = intoViewY.element.getDomElement();\n\n            if (child && child.offsetWidth)\n            {\n              qx.bom.element.Scroll.intoViewY(child, elem, intoViewY.align);\n              delete obj.__lazyScrollIntoViewY;\n            }\n            else\n            {\n              done = false;\n            }\n          }\n\n          // Clear flag if all things are done\n          // Otherwise wait for the next flush\n          if (done) {\n            delete scroll[hc];\n          }\n        }\n      }\n\n\n      var activityEndActions = {\n        \"releaseCapture\": 1,\n        \"blur\": 1,\n        \"deactivate\": 1\n      };\n\n      // Process action list\n      for (var i=0; i<this._actions.length; i++)\n      {\n        var action = this._actions[i];\n        var element = action.element.__element;\n        if (!element || !activityEndActions[action.type] && !action.element.__willBeSeeable()) {\n          continue;\n        }\n        var args = action.args;\n        args.unshift(element);\n        qx.bom.Element[action.type].apply(qx.bom.Element, args);\n      }\n      this._actions = [];\n\n      // Process selection\n      for (var hc in this.__selection)\n      {\n        var selection = this.__selection[hc];\n        var elem = selection.element.__element;\n        if (elem)\n        {\n          qx.bom.Selection.set(elem, selection.start, selection.end);\n          delete this.__selection[hc];\n        }\n      }\n\n      // Fire appear/disappear events\n      qx.event.handler.Appear.refresh();\n    },\n\n\n    /**\n     * Get the focus handler\n     *\n     * @return {qx.event.handler.Focus} The focus handler\n     */\n    __getFocusHandler : function()\n    {\n      if (!this.__focusHandler)\n      {\n        var eventManager = qx.event.Registration.getManager(window);\n        this.__focusHandler = eventManager.getHandler(qx.event.handler.Focus);\n      }\n      return this.__focusHandler;\n    },\n\n\n    /**\n     * Get the mouse capture element\n     *\n     * @return {Element} The mouse capture DOM element\n     */\n    __getCaptureElement : function()\n    {\n      if (!this.__mouseCapture)\n      {\n        var eventManager = qx.event.Registration.getManager(window);\n        this.__mouseCapture = eventManager.getDispatcher(qx.event.dispatch.MouseCapture);\n      }\n      return this.__mouseCapture.getCaptureElement();\n    },\n\n\n    /**\n     * Whether the given DOM element will become invisible after the flush\n     *\n     * @param domElement {Element} The DOM element to check\n     * @return {Boolean} Whether the element will become invisible\n     */\n    __willBecomeInvisible : function(domElement)\n    {\n      var element = this.fromDomElement(domElement);\n      return element && !element.__willBeSeeable();\n    },\n\n\n    /**\n     * Finds the Widget for a given DOM element\n     *\n     * @param domElement {DOM} the DOM element\n     * @return {qx.ui.core.Widget} the Widget that created the DOM element\n     */\n    fromDomElement: function(domElement) {\n    \tif (qx.core.Environment.get(\"qx.debug\")) {\n    \t\tqx.core.Assert.assertTrue((!domElement.$$element && !domElement.$$elementObject) ||\n    \t\t\t\tdomElement.$$element === domElement.$$elementObject.toHashCode());\n    \t}\n      return domElement.$$elementObject;\n    }\n\n  },\n\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      PROTECTED HELPERS/DATA\n    ---------------------------------------------------------------------------\n    */\n\n    __nodeName : null,\n\n    /** @type {Element} DOM element of this object */\n    __element : null,\n\n    /** @type {qx.ui.core.Widget} the Widget this element is attached to */\n    __widget : null,\n\n    /** @type {Boolean} Marker for always visible root nodes (often the body node) */\n    __root : false,\n\n    /** @type {Boolean} Whether the element should be included in the render result */\n    __included : true,\n\n    /** @type {Boolean} Whether the element should be visible in the render result */\n    __visible : true,\n\n    __lazyScrollIntoViewX : null,\n    __lazyScrollIntoViewY : null,\n\n    __lazyScrollX : null,\n    __lazyScrollY : null,\n\n    __styleJobs : null,\n    __attribJobs : null,\n    __propertyJobs : null,\n\n    __styleValues : null,\n    __attribValues : null,\n    __propertyValues : null,\n    __eventValues : null,\n\n    __children : null,\n    __modifiedChildren : null,\n\n    __parent : null,\n\n    /**\n     * Add the element to the global modification list.\n     *\n     */\n    _scheduleChildrenUpdate : function()\n    {\n      if (this.__modifiedChildren) {\n        return;\n      }\n\n      this.__modifiedChildren = true;\n\n      qx.html.Element._modified[this.toHashCode()] = this;\n      qx.html.Element._scheduleFlush(\"element\");\n    },\n\n\n    /**\n     * Internal helper to generate the DOM element\n     *\n     * @return {Element} DOM element\n     */\n    _createDomElement : function() {\n      return qx.dom.Element.create(this.__nodeName);\n    },\n\n\n    /**\n     * Connects a widget to this element, and to the DOM element in this Element.  They\n     * remain associated until disposed or disconnectWidget is called\n     *\n     * @param widget {qx.ui.core.Widget} the widget\n     */\n    connectWidget: function(widget) {\n    \tif (qx.core.Environment.get(\"qx.debug\")) {\n      \tqx.core.Assert.assertTrue(!this.__widget || this.__widget === widget);\n    \t}\n\n    \tthis.__widget = widget;\n    \tif (this.__element) {\n      \tif (qx.core.Environment.get(\"qx.debug\")) {\n      \t\tqx.core.Assert.assertTrue((!this.__element.$$widget && !this.__element.$$widgetObject) ||\n      \t\t\t\t(this.__element.$$widgetObject === widget && this.__element.$$widget === widget.toHashCode()));\n      \t}\n\n      \tthis.__element.$$widget = widget.toHashCode();\n      \tthis.__element.$$widgetObject = widget;\n    \t}\n\n      if (qx.core.Environment.get(\"module.objectid\")) {\n        this.updateObjectId();\n      }\n    },\n\n\n    /**\n     * Disconnects a widget from this element and the DOM element.  The DOM element remains\n     * untouched, except that it can no longer be used to find the Widget.\n     *\n     * @param widget {qx.ui.core.Widget} the Widget\n     */\n    disconnectWidget: function(widget) {\n    \tif (qx.core.Environment.get(\"qx.debug\")) {\n      \tqx.core.Assert.assertTrue(this.__widget === widget);\n    \t}\n\n    \tdelete this.__widget;\n    \tif (this.__element) {\n      \tif (qx.core.Environment.get(\"qx.debug\")) {\n      \t\tqx.core.Assert.assertTrue((!this.__element.$$widget && !this.__element.$$widgetObject) ||\n      \t\t\t\t(this.__element.$$widgetObject === widget && this.__element.$$widget === widget.toHashCode()));\n      \t}\n\n      \tthis.__element.$$widget = \"\";\n      \tdelete this.__element.$$widgetObject;\n    \t}\n    \t\n      if (qx.core.Environment.get(\"module.objectid\")) {\n        this.updateObjectId();\n      }\n    },\n\n\n    /**\n     * Connects a DOM element to this Element; if this Element is already connected to a Widget\n     * then the Widget is also connected.\n     *\n     * @param domElement {DOM} the DOM element to associate\n     */\n    __connectDomElement: function(domElement) {\n    \tif (qx.core.Environment.get(\"qx.debug\")) {\n    \t\tqx.core.Assert.assertTrue(!this.__element || this.__element === domElement);\n    \t\tqx.core.Assert.assertTrue((domElement.$$elementObject === this && domElement.$$element === this.toHashCode()) ||\n    \t\t\t\t(!domElement.$$elementObject && !domElement.$$element));\n    \t};\n\n    \tthis.__element = domElement;\n    \tdomElement.$$elementObject = this;\n    \tdomElement.$$element = this.toHashCode();\n    \tif (this.__widget) {\n      \tdomElement.$$widget = this.__widget.toHashCode();\n      \tdomElement.$$widgetObject = this.__widget;\n    \t}\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      FLUSH OBJECT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Syncs data of an HtmlElement object to the DOM.\n     *\n     */\n    __flush : function()\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (this.DEBUG) {\n          this.debug(\"Flush: \" + this.getAttribute(\"id\"));\n        }\n      }\n\n      var length;\n      var children = this.__children;\n      if (children)\n      {\n        length = children.length;\n        var child;\n        for (var i=0; i<length; i++)\n        {\n          child = children[i];\n\n          if (child.__visible && child.__included && !child.__element) {\n            child.__flush();\n          }\n        }\n      }\n\n      if (!this.__element)\n      {\n        this.__connectDomElement(this._createDomElement());\n\n        this._copyData(false);\n\n        if (children && length > 0) {\n          this._insertChildren();\n        }\n      }\n      else\n      {\n        this._syncData();\n\n        if (this.__modifiedChildren) {\n          this._syncChildren();\n        }\n      }\n\n      delete this.__modifiedChildren;\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SUPPORT FOR CHILDREN FLUSH\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Append all child nodes to the DOM\n     * element. This function is used when the element is initially\n     * created. After this initial apply {@link #_syncChildren} is used\n     * instead.\n     *\n     */\n    _insertChildren : function()\n    {\n      var children = this.__children;\n      var length = children.length;\n      var child;\n\n      if (length > 2)\n      {\n        var domElement = document.createDocumentFragment();\n        for (var i=0; i<length; i++)\n        {\n          child = children[i];\n          if (child.__element && child.__included) {\n            domElement.appendChild(child.__element);\n          }\n        }\n\n        this.__element.appendChild(domElement);\n      }\n      else\n      {\n        var domElement = this.__element;\n        for (var i=0; i<length; i++)\n        {\n          child = children[i];\n          if (child.__element && child.__included) {\n            domElement.appendChild(child.__element);\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Synchronize internal children hierarchy to the DOM. This is used\n     * for further runtime updates after the element has been created\n     * initially.\n     *\n     */\n    _syncChildren : function()\n    {\n      var dataChildren = this.__children;\n      var dataLength = dataChildren.length;\n      var dataChild;\n      var dataEl;\n\n      var domParent = this.__element;\n      var domChildren = domParent.childNodes;\n      var domPos = 0;\n      var domEl;\n\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        var domOperations = 0;\n      }\n\n      // Remove children from DOM which are excluded or remove first\n      for (var i=domChildren.length-1; i>=0; i--)\n      {\n        domEl = domChildren[i];\n        dataEl = qx.html.Element.fromDomElement(domEl);\n\n        if (!dataEl || !dataEl.__included || dataEl.__parent !== this)\n        {\n          domParent.removeChild(domEl);\n\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            domOperations++;\n          }\n        }\n      }\n\n      // Start from beginning and bring DOM in sync\n      // with the data structure\n      for (var i=0; i<dataLength; i++)\n      {\n        dataChild = dataChildren[i];\n\n        // Only process visible childs\n        if (dataChild.__included)\n        {\n          dataEl = dataChild.__element;\n          domEl = domChildren[domPos];\n\n          if (!dataEl) {\n            continue;\n          }\n\n          // Only do something when out of sync\n          // If the data element is not there it may mean that it is still\n          // marked as visible=false\n          if (dataEl != domEl)\n          {\n            if (domEl) {\n              domParent.insertBefore(dataEl, domEl);\n            } else {\n              domParent.appendChild(dataEl);\n            }\n\n            if (qx.core.Environment.get(\"qx.debug\")) {\n              domOperations++;\n            }\n          }\n\n          // Increase counter\n          domPos++;\n        }\n      }\n\n      // User feedback\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (qx.html.Element.DEBUG) {\n          this.debug(\"Synced DOM with \" + domOperations + \" operations\");\n        }\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SUPPORT FOR ATTRIBUTE/STYLE/EVENT FLUSH\n    ---------------------------------------------------------------------------\n    */\n    \n    updateObjectId: function() {\n      // Copy Object Id\n      if (qx.core.Environment.get(\"module.objectid\")) {\n        var id = null;\n        if (this.__widget && this.__widget.getQxObjectId()) {\n          id = qx.core.Id.getAbsoluteIdOf(this.__widget, true) || null;\n        }\n        this.setAttribute(\"data-qx-object-id\", id, true);\n      }\n    },\n\n    /**\n     * Copies data between the internal representation and the DOM. This\n     * simply copies all the data and only works well directly after\n     * element creation. After this the data must be synced using {@link #_syncData}\n     *\n     * @param fromMarkup {Boolean} Whether the copy should respect styles\n     *   given from markup\n     */\n    _copyData : function(fromMarkup)\n    {\n      var elem = this.__element;\n      \n      // Copy attributes\n      var data = this.__attribValues;\n      if (data)\n      {\n        var Attribute = qx.bom.element.Attribute;\n        for (var key in data) {\n          Attribute.set(elem, key, data[key]);\n        }\n      }\n\n      // Copy styles\n      var data = this.__styleValues;\n      if (data)\n      {\n        var Style = qx.bom.element.Style;\n        if (fromMarkup) {\n          Style.setStyles(elem, data);\n        }\n        else\n        {\n          // Set styles at once which is a lot faster in most browsers\n          // compared to separate modifications of many single style properties.\n          Style.setCss(elem, Style.compile(data));\n        }\n      }\n\n      // Copy properties\n      var data = this.__propertyValues;\n      if (data)\n      {\n        for (var key in data) {\n          this._applyProperty(key, data[key]);\n        }\n      }\n\n      // Attach events\n      var data = this.__eventValues;\n      if (data)\n      {\n        // Import listeners\n        qx.event.Registration.getManager(elem).importListeners(elem, data);\n\n        // Cleanup event map\n        // Events are directly attached through event manager\n        // after initial creation. This differs from the\n        // handling of styles and attributes where queuing happens\n        // through the complete runtime of the application.\n        delete this.__eventValues;\n      }\n    },\n\n\n    /**\n     * Synchronizes data between the internal representation and the DOM. This\n     * is the counterpart of {@link #_copyData} and is used for further updates\n     * after the element has been created.\n     *\n     */\n    _syncData : function()\n    {\n      var elem = this.__element;\n\n      var Attribute = qx.bom.element.Attribute;\n      var Style = qx.bom.element.Style;\n\n      // Sync attributes\n      var jobs = this.__attribJobs;\n      if (jobs)\n      {\n        var data = this.__attribValues;\n        if (data)\n        {\n          var value;\n          for (var key in jobs)\n          {\n            value = data[key];\n\n            if (value !== undefined) {\n              Attribute.set(elem, key, value);\n            } else {\n              Attribute.reset(elem, key);\n            }\n          }\n        }\n\n        this.__attribJobs = null;\n      }\n\n      // Sync styles\n      var jobs = this.__styleJobs;\n      if (jobs)\n      {\n        var data = this.__styleValues;\n        if (data)\n        {\n          var styles = {};\n          for (var key in jobs) {\n            styles[key] = data[key];\n          }\n\n          Style.setStyles(elem, styles);\n        }\n\n        this.__styleJobs = null;\n      }\n\n      // Sync misc\n      var jobs = this.__propertyJobs;\n      if (jobs)\n      {\n        var data = this.__propertyValues;\n        if (data)\n        {\n          var value;\n          for (var key in jobs) {\n            this._applyProperty(key, data[key]);\n          }\n        }\n\n        this.__propertyJobs = null;\n      }\n\n      // Note: Events are directly kept in sync\n    },\n\n\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PRIVATE HELPERS/DATA\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Walk up the internal children hierarchy and\n     * look if one of the children is marked as root.\n     *\n     * This method is quite performance hungry as it\n     * really walks up recursively.\n     * @return {Boolean} <code>true</code> if the element will be seeable\n     */\n    __willBeSeeable : function()\n    {\n      var pa = this;\n\n      // Any chance to cache this information in the parents?\n      while(pa)\n      {\n        if (pa.__root) {\n          return true;\n        }\n\n        if (!pa.__included || !pa.__visible) {\n          return false;\n        }\n\n        pa = pa.__parent;\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Internal helper for all children addition needs\n     *\n     * @param child {var} the element to add\n     * @throws {Error} if the given element is already a child\n     *     of this element\n     */\n    __addChildHelper : function(child)\n    {\n      if (child.__parent === this) {\n        throw new Error(\"Child is already in: \" + child);\n      }\n\n      if (child.__root) {\n        throw new Error(\"Root elements could not be inserted into other ones.\");\n      }\n\n      // Remove from previous parent\n      if (child.__parent) {\n        child.__parent.remove(child);\n      }\n\n      // Convert to child of this object\n      child.__parent = this;\n\n      // Prepare array\n      if (!this.__children) {\n        this.__children = [];\n      }\n\n      // Schedule children update\n      if (this.__element) {\n        this._scheduleChildrenUpdate();\n      }\n    },\n\n\n    /**\n     * Internal helper for all children removal needs\n     *\n     * @param child {qx.html.Element} the removed element\n     * @throws {Error} if the given element is not a child\n     *     of this element\n     */\n    __removeChildHelper : function(child)\n    {\n      if (child.__parent !== this) {\n        throw new Error(\"Has no child: \" + child);\n      }\n\n      // Schedule children update\n      if (this.__element) {\n        this._scheduleChildrenUpdate();\n      }\n\n      // Remove reference to old parent\n      delete child.__parent;\n    },\n\n\n    /**\n     * Internal helper for all children move needs\n     *\n     * @param child {qx.html.Element} the moved element\n     * @throws {Error} if the given element is not a child\n     *     of this element\n     */\n    __moveChildHelper : function(child)\n    {\n      if (child.__parent !== this) {\n        throw new Error(\"Has no child: \" + child);\n      }\n\n      // Schedule children update\n      if (this.__element) {\n        this._scheduleChildrenUpdate();\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CHILDREN MANAGEMENT (EXECUTED ON THE PARENT)\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns a copy of the internal children structure.\n     *\n     * Please do not modify the array in place. If you need\n     * to work with the data in such a way make yourself\n     * a copy of the data first.\n     *\n     * @return {Array} the children list\n     */\n    getChildren : function() {\n      return this.__children || null;\n    },\n\n\n    /**\n     * Get a child element at the given index\n     *\n     * @param index {Integer} child index\n     * @return {qx.html.Element|null} The child element or <code>null</code> if\n     *     no child is found at that index.\n     */\n    getChild : function(index)\n    {\n      var children = this.__children;\n      return children && children[index] || null;\n    },\n\n\n    /**\n     * Returns whether the element has any child nodes\n     *\n     * @return {Boolean} Whether the element has any child nodes\n     */\n    hasChildren : function()\n    {\n      var children = this.__children;\n      return children && children[0] !== undefined;\n    },\n\n\n    /**\n     * Find the position of the given child\n     *\n     * @param child {qx.html.Element} the child\n     * @return {Integer} returns the position. If the element\n     *     is not a child <code>-1</code> will be returned.\n     */\n    indexOf : function(child)\n    {\n      var children = this.__children;\n      return children ? children.indexOf(child) : -1;\n    },\n\n\n    /**\n     * Whether the given element is a child of this element.\n     *\n     * @param child {qx.html.Element} the child\n     * @return {Boolean} Returns <code>true</code> when the given\n     *    element is a child of this element.\n     */\n    hasChild : function(child)\n    {\n      var children = this.__children;\n      return children && children.indexOf(child) !== -1;\n    },\n\n\n    /**\n     * Append all given children at the end of this element.\n     *\n     * @param varargs {qx.html.Element} elements to insert\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    add : function(varargs)\n    {\n      if (arguments[1])\n      {\n        for (var i=0, l=arguments.length; i<l; i++) {\n          this.__addChildHelper(arguments[i]);\n        }\n\n        this.__children.push.apply(this.__children, arguments);\n      }\n      else\n      {\n        this.__addChildHelper(varargs);\n        this.__children.push(varargs);\n      }\n\n      // Chaining support\n      return this;\n    },\n\n\n    /**\n     * Inserts a new element into this element at the given position.\n     *\n     * @param child {qx.html.Element} the element to insert\n     * @param index {Integer} the index (starts at 0 for the\n     *     first child) to insert (the index of the following\n     *     children will be increased by one)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    addAt : function(child, index)\n    {\n      this.__addChildHelper(child);\n      qx.lang.Array.insertAt(this.__children, child, index);\n\n      // Chaining support\n      return this;\n    },\n\n\n    /**\n     * Removes all given children\n     *\n     * @param childs {qx.html.Element} children to remove\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    remove : function(childs)\n    {\n      var children = this.__children;\n      if (!children) {\n        return this;\n      }\n\n      if (arguments[1])\n      {\n        var child;\n        for (var i=0, l=arguments.length; i<l; i++)\n        {\n          child = arguments[i];\n\n          this.__removeChildHelper(child);\n          qx.lang.Array.remove(children, child);\n        }\n      }\n      else\n      {\n        this.__removeChildHelper(childs);\n        qx.lang.Array.remove(children, childs);\n      }\n\n      // Chaining support\n      return this;\n    },\n\n\n    /**\n     * Removes the child at the given index\n     *\n     * @param index {Integer} the position of the\n     *     child (starts at 0 for the first child)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    removeAt : function(index)\n    {\n      var children = this.__children;\n      if (!children) {\n        throw new Error(\"Has no children!\");\n      }\n\n      var child = children[index];\n      if (!child) {\n        throw new Error(\"Has no child at this position!\");\n      }\n\n      this.__removeChildHelper(child);\n      qx.lang.Array.removeAt(this.__children, index);\n\n      // Chaining support\n      return this;\n    },\n\n\n    /**\n     * Remove all children from this element.\n     *\n     * @return {qx.html.Element} A reference to this.\n     */\n    removeAll : function()\n    {\n      var children = this.__children;\n      if (children)\n      {\n        for (var i=0, l=children.length; i<l; i++) {\n          this.__removeChildHelper(children[i]);\n        }\n\n        // Clear array\n        children.length = 0;\n      }\n\n      // Chaining support\n      return this;\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CHILDREN MANAGEMENT (EXECUTED ON THE CHILD)\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the parent of this element.\n     *\n     * @return {qx.html.Element|null} The parent of this element\n     */\n    getParent : function() {\n      return this.__parent || null;\n    },\n\n\n    /**\n     * Insert self into the given parent. Normally appends self to the end,\n     * but optionally a position can be defined. With index <code>0</code> it\n     * will be inserted at the begin.\n     *\n     * @param parent {qx.html.Element} The new parent of this element\n     * @param index {Integer?null} Optional position\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    insertInto : function(parent, index)\n    {\n      parent.__addChildHelper(this);\n\n      if (index == null) {\n        parent.__children.push(this);\n      } else {\n        qx.lang.Array.insertAt(this.__children, this, index);\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Insert self before the given (related) element\n     *\n     * @param rel {qx.html.Element} the related element\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    insertBefore : function(rel)\n    {\n      var parent = rel.__parent;\n\n      parent.__addChildHelper(this);\n      qx.lang.Array.insertBefore(parent.__children, this, rel);\n\n      return this;\n    },\n\n\n    /**\n     * Insert self after the given (related) element\n     *\n     * @param rel {qx.html.Element} the related element\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    insertAfter : function(rel)\n    {\n      var parent = rel.__parent;\n\n      parent.__addChildHelper(this);\n      qx.lang.Array.insertAfter(parent.__children, this, rel);\n\n      return this;\n    },\n\n\n    /**\n     * Move self to the given index in the current parent.\n     *\n     * @param index {Integer} the index (starts at 0 for the first child)\n     * @return {qx.html.Element} this object (for chaining support)\n     * @throws {Error} when the given element is not child\n     *      of this element.\n     */\n    moveTo : function(index)\n    {\n      var parent = this.__parent;\n\n      parent.__moveChildHelper(this);\n\n      var oldIndex = parent.__children.indexOf(this);\n\n      if (oldIndex === index) {\n        throw new Error(\"Could not move to same index!\");\n      } else if (oldIndex < index) {\n        index--;\n      }\n\n      qx.lang.Array.removeAt(parent.__children, oldIndex);\n      qx.lang.Array.insertAt(parent.__children, this, index);\n\n      return this;\n    },\n\n\n    /**\n     * Move self before the given (related) child.\n     *\n     * @param rel {qx.html.Element} the related child\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    moveBefore : function(rel)\n    {\n      var parent = this.__parent;\n      return this.moveTo(parent.__children.indexOf(rel));\n    },\n\n\n    /**\n     * Move self after the given (related) child.\n     *\n     * @param rel {qx.html.Element} the related child\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    moveAfter : function(rel)\n    {\n      var parent = this.__parent;\n      return this.moveTo(parent.__children.indexOf(rel) + 1);\n    },\n\n\n    /**\n     * Remove self from the current parent.\n     *\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    free : function()\n    {\n      var parent = this.__parent;\n      if (!parent) {\n        throw new Error(\"Has no parent to remove from.\");\n      }\n\n      if (!parent.__children) {\n        return this;\n      }\n\n      parent.__removeChildHelper(this);\n      qx.lang.Array.remove(parent.__children, this);\n\n      return this;\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      DOM ELEMENT ACCESS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the DOM element (if created). Please use this with caution.\n     * It is better to make all changes to the object itself using the public\n     * API rather than to the underlying DOM element.\n     *\n     * @return {Element|null} The DOM element node, if available.\n     */\n    getDomElement : function() {\n      return this.__element || null;\n    },\n\n\n    /**\n     * Returns the nodeName of the DOM element.\n     *\n     * @return {String} The node name\n     */\n    getNodeName : function() {\n      return this.__nodeName;\n    },\n\n    /**\n     * Sets the nodeName of the DOM element.\n     *\n     * @param name {String} The node name\n     */\n    setNodeName : function(name) {\n      this.__nodeName = name;\n    },\n\n    /**\n     * Sets the element's root flag, which indicates\n     * whether the element should be a root element or not.\n     * @param root {Boolean} The root flag.\n     */\n    setRoot : function(root) {\n      this.__root = root;\n    },\n\n    /**\n     * Uses existing markup for this element. This is mainly used\n     * to insert pre-built markup blocks into the element hierarchy.\n     *\n     * @param html {String} HTML markup with one root element\n     *   which is used as the main element for this instance.\n     * @return {Element} The created DOM element\n     */\n    useMarkup : function(html)\n    {\n      if (this.__element) {\n        throw new Error(\"Could not overwrite existing element!\");\n      }\n\n      // Prepare extraction\n      // We have a IE specific issue with \"Unknown error\" messages\n      // when we try to use the same DOM node again. I am not sure\n      // why this happens. Would be a good performance improvement,\n      // but does not seem to work.\n      if (qx.core.Environment.get(\"engine.name\") == \"mshtml\") {\n        var helper = document.createElement(\"div\");\n      } else {\n        var helper = qx.dom.Element.getHelperElement();\n      }\n\n      // Extract first element\n      helper.innerHTML = html;\n      this.useElement(helper.firstChild);\n\n      return this.__element;\n    },\n\n\n    /**\n     * Uses an existing element instead of creating one. This may be interesting\n     * when the DOM element is directly needed to add content etc.\n     *\n     * @param elem {Element} Element to reuse\n     */\n    useElement : function(elem)\n    {\n      if (this.__element) {\n        throw new Error(\"Could not overwrite existing element!\");\n      }\n\n      // Use incoming element\n      this.__connectDomElement(elem);\n\n      // Copy currently existing data over to element\n      this._copyData(true);\n    },\n\n\n    /**\n     * Whether the element is focusable (or will be when created)\n     *\n     * @return {Boolean} <code>true</code> when the element is focusable.\n     */\n    isFocusable : function()\n    {\n      var tabIndex = this.getAttribute(\"tabIndex\");\n      if (tabIndex >= 1) {\n        return true;\n      }\n\n      var focusable = qx.event.handler.Focus.FOCUSABLE_ELEMENTS;\n      if (tabIndex >= 0 && focusable[this.__nodeName]) {\n        return true;\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Set whether the element is selectable. It uses the qooxdoo attribute\n     * qxSelectable with the values 'on' or 'off'.\n     * In webkit, a special css property will be used (-webkit-user-select).\n     *\n     * @param value {Boolean} True, if the element should be selectable.\n     */\n    setSelectable : function(value)\n    {\n      this.setAttribute(\"qxSelectable\", value ? \"on\" : \"off\");\n      var userSelect = qx.core.Environment.get(\"css.userselect\");\n      if (userSelect) {\n        this.setStyle(userSelect, value ? \"text\" :\n          qx.core.Environment.get(\"css.userselect.none\"));\n      }\n    },\n\n\n    /**\n     * Whether the element is natively focusable (or will be when created)\n     *\n     * This ignores the configured tabIndex.\n     *\n     * @return {Boolean} <code>true</code> when the element is focusable.\n     */\n    isNativelyFocusable : function() {\n      return !!qx.event.handler.Focus.FOCUSABLE_ELEMENTS[this.__nodeName];\n    },\n\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EXCLUDE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Marks the element as included which means it will be moved into\n     * the DOM again and synced with the internal data representation.\n     *\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    include : function()\n    {\n      if (this.__included) {\n        return this;\n      }\n\n      delete this.__included;\n\n      if (this.__parent) {\n        this.__parent._scheduleChildrenUpdate();\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Marks the element as excluded which means it will be removed\n     * from the DOM and ignored for updates until it gets included again.\n     *\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    exclude : function()\n    {\n      if (!this.__included) {\n        return this;\n      }\n\n      this.__included = false;\n\n      if (this.__parent) {\n        this.__parent._scheduleChildrenUpdate();\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Whether the element is part of the DOM\n     *\n     * @return {Boolean} Whether the element is part of the DOM.\n     */\n    isIncluded : function() {\n      return this.__included === true;\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      ANIMATION SUPPORT\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Fades in the element.\n     * @param duration {Number} Time in ms.\n     * @return {qx.bom.element.AnimationHandle} The animation handle to react for\n     *   the fade animation.\n     */\n    fadeIn : function(duration) {\n      var col = qxWeb(this.__element);\n      if (col.isPlaying()) {\n        col.stop();\n      }\n      // create the element right away\n      if (!this.__element) {\n        this.__flush();\n        col.push(this.__element);\n      }\n      if (this.__element) {\n        col.fadeIn(duration).once(\"animationEnd\", function() {\n          this.show();\n          qx.html.Element.flush();\n        }, this);\n        return col.getAnimationHandles()[0];\n      }\n    },\n\n\n    /**\n     * Fades out the element.\n     * @param duration {Number} Time in ms.\n     * @return {qx.bom.element.AnimationHandle} The animation handle to react for\n     *   the fade animation.\n     */\n    fadeOut : function(duration) {\n      var col = qxWeb(this.__element);\n      if (col.isPlaying()) {\n        col.stop();\n      }\n\n      if (this.__element) {\n        col.fadeOut(duration).once(\"animationEnd\", function() {\n          this.hide();\n          qx.html.Element.flush();\n        }, this);\n        return col.getAnimationHandles()[0];\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      VISIBILITY SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Marks the element as visible which means that a previously applied\n     * CSS style of display=none gets removed and the element will inserted\n     * into the DOM, when this had not already happened before.\n     *\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    show : function()\n    {\n      if (this.__visible) {\n        return this;\n      }\n\n      if (this.__element)\n      {\n        qx.html.Element._visibility[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n\n      // Must be sure that the element gets included into the DOM.\n      if (this.__parent) {\n        this.__parent._scheduleChildrenUpdate();\n      }\n\n      delete this.__visible;\n      return this;\n    },\n\n\n    /**\n     * Marks the element as hidden which means it will kept in DOM (if it\n     * is already there, but configured hidden using a CSS style of display=none).\n     *\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    hide : function()\n    {\n      if (!this.__visible) {\n        return this;\n      }\n\n      if (this.__element)\n      {\n        qx.html.Element._visibility[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n\n      this.__visible = false;\n      return this;\n    },\n\n\n    /**\n     * Whether the element is visible.\n     *\n     * Please note: This does not control the visibility or parent inclusion recursively.\n     *\n     * @return {Boolean} Returns <code>true</code> when the element is configured\n     *   to be visible.\n     */\n    isVisible : function() {\n      return this.__visible === true;\n    },\n\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SCROLL SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Scrolls the given child element into view. Only scrolls children.\n     * Do not influence elements on top of this element.\n     *\n     * If the element is currently invisible it gets scrolled automatically\n     * at the next time it is visible again (queued).\n     *\n     * @param elem {qx.html.Element} The element to scroll into the viewport.\n     * @param align {String?null} Alignment of the element. Allowed values:\n     *   <code>left</code> or <code>right</code>. Could also be null.\n     *   Without a given alignment the method tries to scroll the widget\n     *   with the minimum effort needed.\n     * @param direct {Boolean?true} Whether the execution should be made\n     *   directly when possible\n     */\n    scrollChildIntoViewX : function(elem, align, direct)\n    {\n      var thisEl = this.__element;\n      var childEl = elem.getDomElement();\n\n      if (direct !== false && thisEl && thisEl.offsetWidth && childEl && childEl.offsetWidth)\n      {\n        qx.bom.element.Scroll.intoViewX(childEl, thisEl, align);\n      }\n      else\n      {\n        this.__lazyScrollIntoViewX =\n        {\n          element : elem,\n          align : align\n        };\n\n        qx.html.Element._scroll[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n\n      delete this.__lazyScrollX;\n    },\n\n\n    /**\n     * Scrolls the given child element into view. Only scrolls children.\n     * Do not influence elements on top of this element.\n     *\n     * If the element is currently invisible it gets scrolled automatically\n     * at the next time it is visible again (queued).\n     *\n     * @param elem {qx.html.Element} The element to scroll into the viewport.\n     * @param align {String?null} Alignment of the element. Allowed values:\n     *   <code>top</code> or <code>bottom</code>. Could also be null.\n     *   Without a given alignment the method tries to scroll the widget\n     *   with the minimum effort needed.\n     * @param direct {Boolean?true} Whether the execution should be made\n     *   directly when possible\n     */\n    scrollChildIntoViewY : function(elem, align, direct)\n    {\n      var thisEl = this.__element;\n      var childEl = elem.getDomElement();\n\n      if (direct !== false && thisEl && thisEl.offsetWidth && childEl && childEl.offsetWidth)\n      {\n        qx.bom.element.Scroll.intoViewY(childEl, thisEl, align);\n      }\n      else\n      {\n        this.__lazyScrollIntoViewY =\n        {\n          element : elem,\n          align : align\n        };\n\n        qx.html.Element._scroll[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n\n      delete this.__lazyScrollY;\n    },\n\n\n    /**\n     * Scrolls the element to the given left position.\n     *\n     * @param x {Integer} Horizontal scroll position\n     * @param lazy {Boolean?false} Whether the scrolling should be performed\n     *    during element flush.\n     */\n    scrollToX : function(x, lazy)\n    {\n      var thisEl = this.__element;\n      if (lazy !== true && thisEl && thisEl.offsetWidth)\n      {\n        thisEl.scrollLeft = x;\n        delete this.__lazyScrollX;\n      }\n      else\n      {\n        this.__lazyScrollX = x;\n        qx.html.Element._scroll[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n\n      delete this.__lazyScrollIntoViewX;\n    },\n\n\n    /**\n     * Get the horizontal scroll position.\n     *\n     * @return {Integer} Horizontal scroll position\n     */\n    getScrollX : function()\n    {\n      var thisEl = this.__element;\n      if (thisEl) {\n        return thisEl.scrollLeft;\n      }\n\n      return this.__lazyScrollX || 0;\n    },\n\n\n    /**\n     * Scrolls the element to the given top position.\n     *\n     * @param y {Integer} Vertical scroll position\n     * @param lazy {Boolean?false} Whether the scrolling should be performed\n     *    during element flush.\n     */\n    scrollToY : function(y, lazy)\n    {\n      var thisEl = this.__element;\n      if (lazy !== true && thisEl && thisEl.offsetWidth)\n      {\n        thisEl.scrollTop = y;\n        delete this.__lazyScrollY;\n      }\n      else\n      {\n        this.__lazyScrollY = y;\n        qx.html.Element._scroll[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n\n      delete this.__lazyScrollIntoViewY;\n    },\n\n\n    /**\n     * Get the vertical scroll position.\n     *\n     * @return {Integer} Vertical scroll position\n     */\n    getScrollY : function()\n    {\n      var thisEl = this.__element;\n      if (thisEl) {\n        return thisEl.scrollTop;\n      }\n\n      return this.__lazyScrollY || 0;\n    },\n\n\n    /**\n     * Disables browser-native scrolling\n     */\n    disableScrolling : function()\n    {\n      this.enableScrolling();\n      this.scrollToX(0);\n      this.scrollToY(0);\n      this.addListener(\"scroll\", this.__onScroll, this);\n    },\n\n\n    /**\n     * Re-enables browser-native scrolling\n     */\n    enableScrolling : function() {\n      this.removeListener(\"scroll\", this.__onScroll, this);\n    },\n\n\n    __inScroll : null,\n\n    /**\n     * Handler for the scroll-event\n     *\n     * @param e {qx.event.type.Native} scroll-event\n     */\n    __onScroll : function(e)\n    {\n      if (!this.__inScroll)\n      {\n        this.__inScroll = true;\n        this.__element.scrollTop = 0;\n        this.__element.scrollLeft = 0;\n        delete this.__inScroll;\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TEXT SELECTION SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Get the selection of the element.\n     *\n     * If the underlaying DOM element is not yet created, this methods returns\n     * a null value.\n     *\n     * @return {String|null}\n     */\n    getTextSelection : function()\n    {\n      var el = this.__element;\n      if (el) {\n        return qx.bom.Selection.get(el);\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Get the length of selection of the element.\n     *\n     * If the underlaying DOM element is not yet created, this methods returns\n     * a null value.\n     *\n     * @return {Integer|null}\n     */\n    getTextSelectionLength : function()\n    {\n      var el = this.__element;\n      if (el) {\n        return qx.bom.Selection.getLength(el);\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Get the start of the selection of the element.\n     *\n     * If the underlaying DOM element is not yet created, this methods returns\n     * a null value.\n     *\n     * @return {Integer|null}\n     */\n    getTextSelectionStart : function()\n    {\n      var el = this.__element;\n      if (el) {\n        return qx.bom.Selection.getStart(el);\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Get the end of the selection of the element.\n     *\n     * If the underlaying DOM element is not yet created, this methods returns\n     * a null value.\n     *\n     * @return {Integer|null}\n     */\n    getTextSelectionEnd : function()\n    {\n      var el = this.__element;\n      if (el) {\n        return qx.bom.Selection.getEnd(el);\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Set the selection of the element with the given start and end value.\n     * If no end value is passed the selection will extend to the end.\n     *\n     * This method only works if the underlying DOM element is already created.\n     *\n     * @param start {Integer} start of the selection (zero based)\n     * @param end {Integer} end of the selection\n     */\n    setTextSelection : function(start, end)\n    {\n      var el = this.__element;\n      if (el) {\n        qx.bom.Selection.set(el, start, end);\n        return;\n      }\n\n      // if element not created, save the selection for flushing\n      qx.html.Element.__selection[this.toHashCode()] = {\n        element : this,\n        start : start,\n        end : end\n      };\n      qx.html.Element._scheduleFlush(\"element\");\n    },\n\n\n    /**\n     * Clears the selection of the element.\n     *\n     * This method only works if the underlying DOM element is already created.\n     *\n     */\n    clearTextSelection : function()\n    {\n      var el = this.__element;\n      if (el) {\n        qx.bom.Selection.clear(el);\n      }\n      delete qx.html.Element.__selection[this.toHashCode()];\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      FOCUS/ACTIVATE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Takes the action to process as argument and queues this action if the\n     * underlying DOM element is not yet created.\n     *\n     * @param action {String} action to queue\n     * @param args {Array} optional list of arguments for the action\n     */\n    __performAction : function(action, args)\n    {\n      var actions = qx.html.Element._actions;\n\n      actions.push({\n        type: action,\n        element: this,\n        args: args || []\n      });\n      qx.html.Element._scheduleFlush(\"element\");\n    },\n\n\n    /**\n     * Focus this element.\n     *\n     * If the underlaying DOM element is not yet created, the\n     * focus is queued for processing after the element creation.\n     *\n     */\n    focus : function() {\n      this.__performAction(\"focus\");\n    },\n\n\n    /**\n     * Mark this element to get blurred on the next flush of the queue\n     *\n     */\n    blur : function() {\n      this.__performAction(\"blur\");\n    },\n\n\n    /**\n     * Mark this element to get activated on the next flush of the queue\n     *\n     */\n    activate : function() {\n      this.__performAction(\"activate\");\n    },\n\n\n    /**\n     * Mark this element to get deactivated on the next flush of the queue\n     *\n     */\n    deactivate : function() {\n      this.__performAction(\"deactivate\");\n    },\n\n\n    /**\n     * Captures all mouse events to this element\n     *\n     * @param containerCapture {Boolean?true} If true all events originating in\n     *   the container are captured. If false events originating in the container\n     *   are not captured.\n     */\n    capture : function(containerCapture) {\n      this.__performAction(\"capture\", [containerCapture !== false]);\n    },\n\n\n    /**\n     * Releases this element from a previous {@link #capture} call\n     */\n    releaseCapture : function() {\n      this.__performAction(\"releaseCapture\");\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      STYLE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Set up the given style attribute\n     *\n     * @param key {String} the name of the style attribute\n     * @param value {var} the value\n     * @param direct {Boolean?false} Whether the value should be applied\n     *    directly (without queuing)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    setStyle : function(key, value, direct)\n    {\n      if (!this.__styleValues) {\n        this.__styleValues = {};\n      }\n\n      if (this.__styleValues[key] == value) {\n        return this;\n      }\n\n      if (value == null) {\n        delete this.__styleValues[key];\n      } else {\n        this.__styleValues[key] = value;\n      }\n\n      // Uncreated elements simply copy all data\n      // on creation. We don't need to remember any\n      // jobs. It is a simple full list copy.\n      if (this.__element)\n      {\n        // Omit queuing in direct mode\n        if (direct)\n        {\n          qx.bom.element.Style.set(this.__element, key, value);\n          return this;\n        }\n\n        // Dynamically create if needed\n        if (!this.__styleJobs) {\n          this.__styleJobs = {};\n        }\n\n        // Store job info\n        this.__styleJobs[key] = true;\n\n        // Register modification\n        qx.html.Element._modified[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Convenience method to modify a set of styles at once.\n     *\n     * @param map {Map} a map where the key is the name of the property\n     *    and the value is the value to use.\n     * @param direct {Boolean?false} Whether the values should be applied\n     *    directly (without queuing)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    setStyles : function(map, direct)\n    {\n      // inline calls to \"set\" because this method is very\n      // performance critical!\n\n      var Style = qx.bom.element.Style;\n\n      if (!this.__styleValues) {\n        this.__styleValues = {};\n      }\n\n      if (this.__element)\n      {\n        // Dynamically create if needed\n        if (!this.__styleJobs) {\n          this.__styleJobs = {};\n        }\n\n        for (var key in map)\n        {\n          var value = map[key];\n          if (this.__styleValues[key] == value) {\n            continue;\n          }\n\n          if (value == null) {\n            delete this.__styleValues[key];\n          } else {\n            this.__styleValues[key] = value;\n          }\n\n          // Omit queuing in direct mode\n          if (direct)\n          {\n            Style.set(this.__element, key, value);\n            continue;\n          }\n\n          // Store job info\n          this.__styleJobs[key] = true;\n        }\n\n        // Register modification\n        qx.html.Element._modified[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n      else\n      {\n        for (var key in map)\n        {\n          var value = map[key];\n          if (this.__styleValues[key] == value) {\n            continue;\n          }\n\n          if (value == null) {\n            delete this.__styleValues[key];\n          } else {\n            this.__styleValues[key] = value;\n          }\n        }\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Removes the given style attribute\n     *\n     * @param key {String} the name of the style attribute\n     * @param direct {Boolean?false} Whether the value should be removed\n     *    directly (without queuing)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    removeStyle : function(key, direct) {\n      this.setStyle(key, null, direct);\n      return this;\n    },\n\n\n    /**\n     * Get the value of the given style attribute.\n     *\n     * @param key {String} name of the style attribute\n     * @return {var} the value of the style attribute\n     */\n    getStyle : function(key) {\n      return this.__styleValues ? this.__styleValues[key] : null;\n    },\n\n\n    /**\n     * Returns a map of all styles. Do not modify the result map!\n     *\n     * @return {Map} All styles or <code>null</code> when none are configured.\n     */\n    getAllStyles : function() {\n      return this.__styleValues || null;\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      ATTRIBUTE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Set up the given attribute\n     *\n     * @param key {String} the name of the attribute\n     * @param value {var} the value\n     * @param direct {Boolean?false} Whether the value should be applied\n     *    directly (without queuing)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    setAttribute : function(key, value, direct)\n    {\n      if (!this.__attribValues) {\n        this.__attribValues = {};\n      }\n\n      if (this.__attribValues[key] == value) {\n        return this;\n      }\n\n      if (value == null) {\n        delete this.__attribValues[key];\n      } else {\n        this.__attribValues[key] = value;\n      }\n\n      // Uncreated elements simply copy all data\n      // on creation. We don't need to remember any\n      // jobs. It is a simple full list copy.\n      if (this.__element)\n      {\n        // Omit queuing in direct mode\n        if (direct)\n        {\n          qx.bom.element.Attribute.set(this.__element, key, value);\n          return this;\n        }\n\n        // Dynamically create if needed\n        if (!this.__attribJobs) {\n          this.__attribJobs = {};\n        }\n\n        // Store job info\n        this.__attribJobs[key] = true;\n\n        // Register modification\n        qx.html.Element._modified[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Convenience method to modify a set of attributes at once.\n     *\n     * @param map {Map} a map where the key is the name of the property\n     *    and the value is the value to use.\n     * @param direct {Boolean?false} Whether the values should be applied\n     *    directly (without queuing)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    setAttributes : function(map, direct)\n    {\n      for (var key in map) {\n        this.setAttribute(key, map[key], direct);\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Removes the given attribute\n     *\n     * @param key {String} the name of the attribute\n     * @param direct {Boolean?false} Whether the value should be removed\n     *    directly (without queuing)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    removeAttribute : function(key, direct) {\n      return this.setAttribute(key, null, direct);\n    },\n\n\n    /**\n     * Get the value of the given attribute.\n     *\n     * @param key {String} name of the attribute\n     * @return {var} the value of the attribute\n     */\n    getAttribute : function(key) {\n      return this.__attribValues ? this.__attribValues[key] : null;\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CSS CLASS SUPPORT\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Adds a css class to the element.\n     * @param name {String} Name of the CSS class.\n     */\n    addClass : function(name) {\n      var value = ((this.getAttribute(\"class\") || \"\") + \" \" + name).trim();\n      this.setAttribute(\"class\", value);\n    },\n\n\n    /**\n     * Removes a CSS class from the current element.\n     * @param name {String} Name of the CSS class.\n     */\n    removeClass : function(name) {\n      var currentClass = this.getAttribute(\"class\");\n      if (currentClass) {\n        this.setAttribute(\"class\", (currentClass.replace(name, \"\")).trim());\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PROPERTY SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Applies a special property with the given value.\n     *\n     * This property apply routine can be easily overwritten and\n     * extended by sub classes to add new low level features which\n     * are not easily possible using styles and attributes.\n     *\n     * @param name {String} Unique property identifier\n     * @param value {var} Any valid value (depends on the property)\n     * @return {qx.html.Element} this object (for chaining support)\n     * @abstract\n     */\n    _applyProperty : function(name, value) {\n      // empty implementation\n    },\n\n\n    /**\n     * Set up the given property.\n     *\n     * @param key {String} the name of the property\n     * @param value {var} the value\n     * @param direct {Boolean?false} Whether the value should be applied\n     *    directly (without queuing)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    _setProperty : function(key, value, direct)\n    {\n      if (!this.__propertyValues) {\n        this.__propertyValues = {};\n      }\n\n      if (this.__propertyValues[key] == value) {\n        return this;\n      }\n\n      if (value == null) {\n        delete this.__propertyValues[key];\n      } else {\n        this.__propertyValues[key] = value;\n      }\n\n      // Uncreated elements simply copy all data\n      // on creation. We don't need to remember any\n      // jobs. It is a simple full list copy.\n      if (this.__element)\n      {\n        // Omit queuing in direct mode\n        if (direct)\n        {\n          this._applyProperty(key, value);\n          return this;\n        }\n\n        // Dynamically create if needed\n        if (!this.__propertyJobs) {\n          this.__propertyJobs = {};\n        }\n\n        // Store job info\n        this.__propertyJobs[key] = true;\n\n        // Register modification\n        qx.html.Element._modified[this.toHashCode()] = this;\n        qx.html.Element._scheduleFlush(\"element\");\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Removes the given misc\n     *\n     * @param key {String} the name of the misc\n     * @param direct {Boolean?false} Whether the value should be removed\n     *    directly (without queuing)\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    _removeProperty : function(key, direct) {\n      return this._setProperty(key, null, direct);\n    },\n\n\n    /**\n     * Get the value of the given misc.\n     *\n     * @param key {String} name of the misc\n     * @return {var} the value of the misc\n     */\n    _getProperty : function(key)\n    {\n      var db = this.__propertyValues;\n      if (!db) {\n        return null;\n      }\n\n      var value = db[key];\n      return value == null ? null : value;\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Adds an event listener to the element.\n     *\n     * @param type {String} Name of the event\n     * @param listener {Function} Function to execute on event\n     * @param self {Object ? null} Reference to the 'this' variable inside\n     *         the event listener. When not given, the corresponding dispatcher\n     *         usually falls back to a default, which is the target\n     *         by convention. Note this is not a strict requirement, i.e.\n     *         custom dispatchers can follow a different strategy.\n     * @param capture {Boolean ? false} Whether capturing should be enabled\n     * @return {var} An opaque id, which can be used to remove the event listener\n     *         using the {@link #removeListenerById} method.\n     */\n    addListener : function(type, listener, self, capture)\n    {\n      if (this.$$disposed) {\n        return null;\n      }\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        var msg = \"Failed to add event listener for type '\" + type + \"'\" +\n          \" to the target '\" + this + \"': \";\n\n        this.assertString(type, msg + \"Invalid event type.\");\n        this.assertFunction(listener, msg + \"Invalid callback function\");\n\n        if (self !== undefined) {\n          this.assertObject(self, \"Invalid context for callback.\");\n        }\n\n        if (capture !== undefined) {\n          this.assertBoolean(capture, \"Invalid capture flag.\");\n        }\n      }\n\n      if (this.__element) {\n        return qx.event.Registration.addListener(this.__element, type, listener, self, capture);\n      }\n\n      if (!this.__eventValues) {\n        this.__eventValues = {};\n      }\n\n      if (capture == null) {\n        capture = false;\n      }\n\n      var unique = qx.event.Manager.getNextUniqueId();\n      var id = type + (capture ? \"|capture|\" : \"|bubble|\") + unique;\n\n      this.__eventValues[id] =\n      {\n        type : type,\n        listener : listener,\n        self : self,\n        capture : capture,\n        unique : unique\n      };\n\n      return id;\n    },\n\n\n    /**\n     * Removes an event listener from the element.\n     *\n     * @param type {String} Name of the event\n     * @param listener {Function} Function to execute on event\n     * @param self {Object} Execution context of given function\n     * @param capture {Boolean ? false} Whether capturing should be enabled\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    removeListener : function(type, listener, self, capture)\n    {\n      if (this.$$disposed) {\n        return null;\n      }\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        var msg = \"Failed to remove event listener for type '\" + type + \"'\" +\n          \" from the target '\" + this + \"': \";\n\n        this.assertString(type, msg + \"Invalid event type.\");\n        this.assertFunction(listener, msg + \"Invalid callback function\");\n\n        if (self !== undefined) {\n          this.assertObject(self, \"Invalid context for callback.\");\n        }\n\n        if (capture !== undefined) {\n          this.assertBoolean(capture, \"Invalid capture flag.\");\n        }\n      }\n\n      if (this.__element)\n      {\n        if (listener.$$wrapped_callback && listener.$$wrapped_callback[type + this.toHashCode()]) {\n          var callback = listener.$$wrapped_callback[type + this.toHashCode()];\n          delete listener.$$wrapped_callback[type + this.toHashCode()];\n          listener = callback;\n        }\n        qx.event.Registration.removeListener(this.__element, type, listener, self, capture);\n      }\n      else\n      {\n        var values = this.__eventValues;\n        var entry;\n\n        if (capture == null) {\n          capture = false;\n        }\n\n        for (var key in values)\n        {\n          entry = values[key];\n\n          // Optimized for performance: Testing references first\n          if (entry.listener === listener && entry.self === self && entry.capture === capture && entry.type === type)\n          {\n            delete values[key];\n            break;\n          }\n        }\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Removes an event listener from an event target by an id returned by\n     * {@link #addListener}\n     *\n     * @param id {var} The id returned by {@link #addListener}\n     * @return {qx.html.Element} this object (for chaining support)\n     */\n    removeListenerById : function(id)\n    {\n      if (this.$$disposed) {\n        return null;\n      }\n\n      if (this.__element) {\n        qx.event.Registration.removeListenerById(this.__element, id);\n      } else {\n        delete this.__eventValues[id];\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Check if there are one or more listeners for an event type.\n     *\n     * @param type {String} name of the event type\n     * @param capture {Boolean ? false} Whether to check for listeners of\n     *         the bubbling or of the capturing phase.\n     * @return {Boolean} Whether the object has a listener of the given type.\n     */\n    hasListener : function(type, capture)\n    {\n      if (this.$$disposed) {\n        return false;\n      }\n\n      if (this.__element) {\n        return qx.event.Registration.hasListener(this.__element, type, capture);\n      }\n\n      var values = this.__eventValues;\n      var entry;\n\n      if (capture == null) {\n        capture = false;\n      }\n\n      for (var key in values)\n      {\n        entry = values[key];\n\n        // Optimized for performance: Testing fast types first\n        if (entry.capture === capture && entry.type === type) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Serializes and returns all event listeners attached to this element\n     * @return {Map[]} an Array containing a map for each listener. The maps\n     * have the following keys:\n     * <ul>\n     *   <li><code>type</code> (String): Event name</li>\n     *   <li><code>handler</code> (Function): Callback function</li>\n     *   <li><code>self</code> (Object): The callback's context</li>\n     *   <li><code>capture</code> (Boolean): If <code>true</code>, the listener is\n     * attached to the capturing phase</li>\n     * </ul>\n     */\n    getListeners : function() {\n      if (this.$$disposed) {\n        return null;\n      }\n\n      if (this.__element) {\n        return qx.event.Registration.getManager(this.__element).serializeListeners(this.__element);\n      }\n\n      var listeners = [];\n      for (var id in this.__eventValues) {\n        var listenerData = this.__eventValues[id];\n        listeners.push({\n          type: listenerData.type,\n          handler: listenerData.listener,\n          self: listenerData.self,\n          capture: listenerData.capture\n        });\n      }\n\n      return listeners;\n    }\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    statics.__deferredCall = new qx.util.DeferredCall(statics.flush, statics);\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCT\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    if (this.toHashCode()) {\n      delete qx.html.Element._modified[this.toHashCode()];\n      delete qx.html.Element._scroll[this.toHashCode()];\n    }\n\n    var el = this.__element;\n    if (el)\n    {\n      qx.event.Registration.getManager(el).removeAllListeners(el);\n      el.$$element = \"\";\n      delete el.$$elementObject;\n      el.$$widget = \"\";\n      delete el.$$widgetObject;\n    }\n\n    if (!qx.core.ObjectRegistry.inShutDown)\n    {\n      var parent = this.__parent;\n      if (parent && !parent.$$disposed) {\n        parent.remove(this);\n      }\n    }\n\n    this._disposeArray(\"__children\");\n\n    this.__attribValues = this.__styleValues = this.__eventValues =\n      this.__propertyValues = this.__attribJobs = this.__styleJobs =\n      this.__propertyJobs = this.__element = this.__parent =\n      this.__lazyScrollIntoViewX = this.__lazyScrollIntoViewY = null;\n  }\n});\n"," /* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Implementation of the Internet Explorer specific event capturing mode for\n * mouse events http://msdn2.microsoft.com/en-us/library/ms536742.aspx.\n *\n * This class is used internally by {@link qx.event.Manager} to do mouse event\n * capturing.\n *\n * @use(qx.event.handler.Focus)\n * @use(qx.event.handler.Window)\n * @use(qx.event.handler.Capture)\n */\nqx.Class.define(\"qx.event.dispatch.MouseCapture\",\n{\n  extend : qx.event.dispatch.AbstractBubbling,\n\n\n  /**\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   * @param registration {qx.event.Registration} The event registration to use\n   */\n  construct : function(manager, registration)\n  {\n    this.base(arguments, manager);\n    this.__window = manager.getWindow();\n    this.__registration = registration;\n\n    manager.addListener(this.__window, \"blur\", this.releaseCapture, this);\n    manager.addListener(this.__window, \"focus\", this.releaseCapture, this);\n    manager.addListener(this.__window, \"scroll\", this.releaseCapture, this);\n  },\n\n\n  statics :\n  {\n    /** @type {Integer} Priority of this dispatcher */\n    PRIORITY : qx.event.Registration.PRIORITY_FIRST\n  },\n\n\n  members:\n  {\n    __registration : null,\n    __captureElement : null,\n    __containerCapture : true,\n    __window : null,\n\n\n    // overridden\n    _getParent : function(target) {\n      return target.parentNode;\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT DISPATCHER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    canDispatchEvent : function(target, event, type)\n    {\n      return !!(\n        this.__captureElement &&\n        this.__captureEvents[type]\n      );\n    },\n\n\n    // overridden\n    dispatchEvent : function(target, event, type)\n    {\n      if (type == \"click\") {\n        event.stopPropagation();\n\n        this.releaseCapture();\n        return;\n      }\n\n      if (\n        this.__containerCapture ||\n        !qx.dom.Hierarchy.contains(this.__captureElement, target)\n      ) {\n        target = this.__captureElement;\n      }\n\n      return this.base(arguments, target, event, type);\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      HELPER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * @lint ignoreReferenceField(__captureEvents)\n     */\n    __captureEvents :\n    {\n      \"mouseup\": 1,\n      \"mousedown\": 1,\n      \"click\": 1,\n      \"dblclick\": 1,\n      \"mousemove\": 1,\n      \"mouseout\": 1,\n      \"mouseover\": 1,\n\n      \"pointerdown\" : 1,\n      \"pointerup\" : 1,\n      \"pointermove\" : 1,\n      \"pointerover\" : 1,\n      \"pointerout\" : 1,\n      \"tap\" : 1,\n      \"dbltap\" : 1\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      USER ACCESS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Set the given element as target for event\n     *\n     * @param element {Element} The element which should capture the mouse events.\n     * @param containerCapture {Boolean?true} If true all events originating in\n     *   the container are captured. IF false events originating in the container\n     *   are not captured.\n     */\n    activateCapture : function(element, containerCapture)\n    {\n      var containerCapture = containerCapture !== false;\n\n      if (\n        this.__captureElement === element &&\n        this.__containerCapture == containerCapture\n      ) {\n        return;\n      }\n\n\n      if (this.__captureElement) {\n        this.releaseCapture();\n      }\n\n      // turn on native mouse capturing if the browser supports it\n      if (this.hasNativeCapture) {\n        this.nativeSetCapture(element, containerCapture);\n        var self = this;\n        var onNativeListener = function()\n        {\n          qx.bom.Event.removeNativeListener(element, \"losecapture\", onNativeListener);\n          self.releaseCapture();\n        };\n        qx.bom.Event.addNativeListener(element, \"losecapture\", onNativeListener);\n      }\n\n      this.__containerCapture = containerCapture;\n      this.__captureElement = element;\n      this.__registration.fireEvent(element, \"capture\", qx.event.type.Event, [true, false]);\n    },\n\n\n    /**\n     * Get the element currently capturing events.\n     *\n     * @return {Element|null} The current capture element. This value may be\n     *    null.\n     */\n    getCaptureElement : function() {\n      return this.__captureElement;\n    },\n\n\n    /**\n     * Stop capturing of mouse events.\n     */\n    releaseCapture : function()\n    {\n      var element = this.__captureElement;\n\n      if (!element) {\n        return;\n      }\n\n      this.__captureElement = null;\n      this.__registration.fireEvent(element, \"losecapture\", qx.event.type.Event, [true, false]);\n\n      // turn off native mouse capturing if the browser supports it\n      this.nativeReleaseCapture(element);\n    },\n\n\n    /** Whether the browser should use native mouse capturing */\n    hasNativeCapture : (qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n      qx.core.Environment.get(\"browser.documentmode\") < 9 ||\n      (parseInt(qx.core.Environment.get(\"os.version\"), 10) > 7 && qx.core.Environment.get(\"browser.documentmode\") > 9)\n    ),\n\n\n    /**\n     * If the browser supports native mouse capturing, sets the mouse capture to\n     * the object that belongs to the current document.\n     *\n     * Please note that under Windows 7 (but not Windows 8), capturing is\n     * not only applied to mouse events as expected, but also to native pointer events.\n     *\n     * @param element {Element} The capture DOM element\n     * @param containerCapture {Boolean?true} If true all events originating in\n     *   the container are captured. If false events originating in the container\n     *   are not captured.\n     * @signature function(element, containerCapture)\n     */\n    nativeSetCapture : qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(element, containerCapture) {\n        element.setCapture(containerCapture !== false);\n      },\n\n      \"default\" : (function() {})\n    }),\n\n\n    /**\n     * If the browser supports native mouse capturing, removes mouse capture\n     * from the object in the current document.\n     *\n     * @param element {Element} The DOM element to release the capture for\n     * @signature function(element)\n     */\n    nativeReleaseCapture : qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(element) {\n        element.releaseCapture();\n      },\n\n      \"default\" : (function() {})\n    })\n  },\n\n\n  defer : function(statics) {\n    qx.event.Registration.addDispatcher(statics);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Jonathan Weiß (jonathan_rass)\n\n   ======================================================================\n\n     This class uses documentation of the native String methods from the MDC\n     documentation of Mozilla.\n\n     License:\n       CC Attribution-Sharealike License:\n       http://creativecommons.org/licenses/by-sa/2.5/\n\n************************************************************************ */\n\n/**\n * This class emulates the built-in JavaScript String class. It can be used as\n * base class for classes, which need to derive from String.\n *\n * Instances of this class can be used in any place a JavaScript string can.\n */\nqx.Class.define(\"qx.type.BaseString\",\n{\n  extend : Object,\n\n  /**\n   * @param txt {String?\"\"} Initialize with this string\n   */\n  construct : function(txt)\n  {\n    var txt = txt || \"\";\n\n    // no base call needed\n\n    this.__txt = txt;\n    this.length = txt.length;\n  },\n\n  members :\n  {\n    $$isString : true,\n    length : 0,\n    __txt : null,\n\n\n    /**\n     * Returns a string representing the specified object.\n     *\n     * The valueOf method of String returns the primitive value of a String\n     * object as a string data type.\n     * This method is usually called internally by JavaScript and not\n     * explicitly in code.\n     *\n     * @return {String} A new string containing the string value.\n     */\n    toString : function() {\n      return this.__txt;\n    },\n\n\n    /**\n     *  Returns the specified character from a string.\n     *\n     * Characters in a string are indexed from left to right. The index of the\n     * first character is 0, and the index of the last character in a string\n     * called stringName is stringName.length - 1. If the index you supply is\n     * out of range, JavaScript returns an empty string.\n     *\n     * @signature function(index)\n     * @param index {Integer} An integer between 0 and 1 less than the length\n     *   of the string.\n     * @return {String} The character.\n     */\n    charAt : null,\n\n\n    /**\n     * Returns the primitive value of a String object.\n     *\n     * The valueOf method of String returns the primitive value of a String\n     * object as a string data type.\n     * This method is usually called internally by JavaScript and not\n     * explicitly in code.\n     *\n     * @signature function()\n     * @return {String} A new string containing the primitive value.\n     */\n    valueOf : null,\n\n\n    /**\n     * Returns a number indicating the Unicode value of the character at the given index.\n     *\n     * @signature function(index)\n     * @param index {Integer} An integer greater than 0 and less than the length\n     *   of the string; if it is not a number, it defaults to 0.\n     * @return {Integer} The number.\n     */\n    charCodeAt : null,\n\n\n    /**\n     * Combines the text of two or more strings and returns a new string.\n     * Changes to the text in one string do not affect the other string.\n     *\n     * @signature function(stringN)\n     * @param stringN {String} One or more strings to be combined.\n     * @return {String} The combined string.\n     */\n    concat : null,\n\n\n    /**\n     * Returns the index within the calling String object of the first\n     * occurrence of the specified value, starting the search at fromIndex,\n     * returns -1 if the value is not found.\n     *\n     * @signature function(index, offset)\n     * @param index {String} A string representing the value to search for.\n     * @param offset {Integer?0} The location within the calling string to start\n     *   the search from. It can be any integer between 0 and the length of the\n     *   string. The default value is 0.\n     * @return {Integer} The index or -1.\n     */\n    indexOf : null,\n\n\n    /**\n     * Returns the index within the calling String object of the last occurrence\n     * of the specified value, or -1 if not found. The calling string is\n     * searched backward, starting at fromIndex.\n     *\n     * @signature function(index, offset)\n     * @param index {String} A string representing the value to search for.\n     * @param offset {Integer?0} The location within the calling string to start\n     *   the search from, indexed from left to right. It can be any integer\n     *   between 0 and the length of the string. The default value is the length\n     *    of the string.\n     * @return {Integer} The index or -1.\n     */\n    lastIndexOf : null,\n\n    /**\n     * Used to retrieve the matches when matching a string against a regular\n     * expression.\n     *\n     * If the regular expression does not include the g flag, returns the same\n     * result as regexp.exec(string). If the regular expression includes the g\n     * flag, the method returns an Array containing all matches.\n     *\n     * @signature function(regexp)\n     * @param regexp {Object} A regular expression object. If a non-RegExp object\n     *  obj is passed, it is implicitly converted to a RegExp by using\n     *   new RegExp(obj).\n     * @return {Object} The matching RegExp object or an array containing all\n     *   matches.\n     */\n    match : null,\n\n    /**\n     * Finds a match between a regular expression and a string, and replaces the\n     * matched substring with a new substring.\n     *\n     * @signature function(regexp, aFunction)\n     * @param regexp {Object} A RegExp object. The match is replaced by the\n     *   return value of parameter #2. Or a String that is to be replaced by\n     *   newSubStr.\n     * @param aFunction {Function} A function to be invoked to create the new\n     *   substring (to put in place of the substring received from parameter\n     *   #1).\n     * @return {String} The new substring.\n     */\n    replace : null,\n\n\n    /**\n     * Executes the search for a match between a regular expression and this\n     * String object.\n     *\n     * If successful, search returns the index of the regular expression inside\n     * the string. Otherwise, it returns -1.\n     *\n     * @signature function(regexp)\n     * @param regexp {Object} A regular expression object. If a non-RegExp object\n     *  obj is passed, it is implicitly converted to a RegExp by using\n     *   new RegExp(obj).\n     * @return {Object} The matching RegExp object or -1.\n     *   matches.\n     */\n    search : null,\n\n    /**\n     * Extracts a section of a string and returns a new string.\n     *\n     * Slice extracts the text from one string and returns a new string. Changes\n     * to the text in one string do not affect the other string.\n     * As a negative index, endSlice indicates an offset from the end of the\n     * string.\n     *\n     * @signature function(beginslice, endSlice)\n     * @param beginslice {Integer} The zero-based index at which to begin\n     *   extraction.\n     * @param endSlice {Integer?null} The zero-based index at which to end\n     *   extraction. If omitted, slice extracts to the end of the string.\n     * @return {String} The extracted string.\n     */\n    slice : null,\n\n    /**\n     * Splits a String object into an array of strings by separating the string\n     * into substrings.\n     *\n     * When found, separator is removed from the string and the substrings are\n     * returned in an array. If separator is omitted, the array contains one\n     * element consisting of the entire string.\n     *\n     * If separator is a regular expression that contains capturing parentheses,\n     * then each time separator is matched the results (including any undefined\n     * results) of the capturing parentheses are spliced into the output array.\n     * However, not all browsers support this capability.\n     *\n     * Note: When the string is empty, split returns an array containing one\n     *\n     * @signature function(separator, limit)\n     * @param separator {String?null} Specifies the character to use for\n     *   separating the string. The separator is treated as a string or a regular\n     *   expression. If separator is omitted, the array returned contains one\n     *   element consisting of the entire string.\n     * @param limit {Integer?null} Integer specifying a limit on the number of\n     *   splits to be found.\n     * @return {Array} The Array containing substrings.\n     */\n    split : null,\n\n   /**\n    * Returns the characters in a string beginning at the specified location\n    * through the specified number of characters.\n    *\n    * Start is a character index. The index of the first character is 0, and the\n    * index of the last character is 1 less than the length of the string. substr\n    *  begins extracting characters at start and collects length characters\n    * (unless it reaches the end of the string first, in which case it will\n    * return fewer).\n    * If start is positive and is greater than or equal to the length of the\n    * string, substr returns an empty string.\n    *\n    * @signature function(start, length)\n    * @param start {Integer} Location at which to begin extracting characters\n    *   (an integer between 0 and one less than the length of the string).\n    * @param length {Integer?null} The number of characters to extract.\n    * @return {String} The substring.\n    */\n    substr : null,\n\n    /**\n     * Returns a subset of a String object.\n     *\n     * substring extracts characters from indexA up to but not including indexB.\n     * In particular:\n     * If indexA equals indexB, substring returns an empty string.\n     * If indexB is omitted, substring extracts characters to the end of the\n     * string.\n     * If either argument is less than 0 or is NaN, it is treated as if it were\n     * 0.\n     * If either argument is greater than stringName.length, it is treated as if\n     * it were stringName.length.\n     * If indexA is larger than indexB, then the effect of substring is as if\n     * the two arguments were swapped; for example, str.substring(1, 0) == str.substring(0, 1).\n     *\n     * @signature function(indexA, indexB)\n     * @param indexA {Integer} An integer between 0 and one less than the\n     *   length of the string.\n     * @param indexB {Integer?null} (optional) An integer between 0 and the\n     *   length of the string.\n     * @return {String} The subset.\n     */\n    substring : null,\n\n    /**\n     * Returns the calling string value converted to lowercase.\n     * The toLowerCase method returns the value of the string converted to\n     * lowercase. toLowerCase does not affect the value of the string itself.\n     *\n     * @signature function()\n     * @return {String} The new string.\n     */\n    toLowerCase : null,\n\n    /**\n     * Returns the calling string value converted to uppercase.\n     * The toUpperCase method returns the value of the string converted to\n     * uppercase. toUpperCase does not affect the value of the string itself.\n     *\n     * @signature function()\n     * @return {String} The new string.\n     */\n    toUpperCase : null,\n\n\n    /**\n     * Return unique hash code of object\n     *\n     * @return {Integer} unique hash code of the object\n     */\n    toHashCode : function() {\n      return qx.core.ObjectRegistry.toHashCode(this);\n    },\n\n\n   /**\n    * The characters within a string are converted to lower case while\n    * respecting the current locale.\n    *\n    * The toLowerCase method returns the value of the string converted to\n    * lowercase. toLowerCase does not affect the value of the string itself.\n    *\n    * @signature function()\n    * @return {String} The new string.\n    */\n    toLocaleLowerCase : null,\n\n   /**\n    * The characters within a string are converted to upper case while\n    * respecting the current locale.\n    * The toUpperCase method returns the value of the string converted to\n    * uppercase. toUpperCase does not affect the value of the string itself.\n    *\n    * @signature function()\n    * @return {String} The new string.\n    */\n    toLocaleUpperCase : null,\n\n    /**\n     * Call the same method of the super class.\n     *\n     * @param args {arguments} the arguments variable of the calling method\n     * @param varags {var} variable number of arguments passed to the overwritten function\n     * @return {var} the return value of the method of the base class.\n     */\n    base : function(args, varags) {\n      return qx.core.Object.prototype.base.apply(this, arguments);\n    }\n\n\n  },\n\n  /*\n   *****************************************************************************\n      DEFER\n   *****************************************************************************\n   */\n\n   defer : function(statics, members)\n   {\n     // add asserts into each debug build\n     if (qx.core.Environment.get(\"qx.debug\")) {\n       qx.Class.include(statics, qx.core.MAssert);\n     }\n\n     var mappedFunctions = [\n       'charAt',\n       'charCodeAt',\n       'concat',\n       'indexOf',\n       'lastIndexOf',\n       'match',\n       'replace',\n       'search',\n       'slice',\n       'split',\n       'substr',\n       'substring',\n       'toLowerCase',\n       'toUpperCase',\n       'toLocaleLowerCase',\n       'toLocaleUpperCase',\n       'trim'\n     ];\n\n     // feature/bug detection:\n     // Some older Firefox version (<2) break if valueOf is overridden\n     members.valueOf = members.toString;\n     if (new statics(\"\").valueOf() == null) {\n       delete members.valueOf;\n     }\n\n     for (var i=0, l=mappedFunctions.length; i<l; i++) {\n       members[mappedFunctions[i]] = String.prototype[mappedFunctions[i]];\n     }\n   }\n\n});","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * This class contains the translation of a message and all information\n * to translate it again into a different language.\n */\nqx.Class.define(\"qx.locale.LocalizedString\",\n{\n  extend : qx.type.BaseString,\n\n  /**\n   * @param translation {String} The translated message\n   * @param messageId {String} The messageId to translate\n   * @param args {Array} list of arguments passed used as values for format strings\n   * @param localized {Boolean} True if the string uses localize instead of translate\n   */\n  construct : function(translation, messageId, args, localized)\n  {\n    this.base(arguments, translation);\n\n    this.__messageId = messageId;\n    this.__localized = !!localized;\n    this.__args = args;\n  },\n\n  members :\n  {\n    __localized : null,\n    __messageId : null,\n    __args : null,\n\n    /**\n     * Get a translation of the string using the current locale.\n     *\n     * @return {qx.locale.LocalizedString|String} This string translated using the current\n     *    locale.\n     */\n    translate : function() {\n      if (this.__localized) {\n        return qx.locale.Manager.getInstance().localize(this.__messageId, this.__args);\n      }\n\n      return qx.locale.Manager.getInstance().translate(this.__messageId, this.__args);\n    },\n\n    /**\n     * Returns the messageId.\n     *\n     * @return {String} The messageId of this localized String\n     */\n    getMessageId : function() {\n      return this.__messageId;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * This class comes with all relevant information regarding\n * the client's selected locale.\n *\n * This class is used by {@link qx.core.Environment} and should not be used\n * directly. Please check its class comment for details how to use it.\n *\n * @internal\n */\nqx.Bootstrap.define(\"qx.bom.client.Locale\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * The name of the system locale e.g. \"de\" when the full locale is \"de_AT\"\n     * @return {String} The current locale\n     * @internal\n     */\n    getLocale : function() {\n      var locale = qx.bom.client.Locale.__getNavigatorLocale();\n\n      var index = locale.indexOf(\"-\");\n      if (index != -1) {\n        locale = locale.substr(0, index);\n      }\n\n      return locale;\n    },\n\n\n    /**\n     * The name of the variant for the system locale e.g. \"at\" when the\n     * full locale is \"de_AT\"\n     *\n     * @return {String} The locales variant.\n     * @internal\n     */\n    getVariant : function() {\n      var locale = qx.bom.client.Locale.__getNavigatorLocale();\n      var variant = \"\";\n\n      var index = locale.indexOf(\"-\");\n\n      if (index != -1) {\n        variant = locale.substr(index + 1);\n      }\n\n      return variant;\n    },\n\n\n    /**\n     * Internal helper for accessing the navigators language.\n     *\n     * @return {String} The language set by the navigator.\n     */\n    __getNavigatorLocale : function()\n    {\n      var locale = (navigator.userLanguage || navigator.language || \"\");\n\n      // Android Bug: Android does not return the system language from the\n      // navigator language before version 4.4.x. Try to parse the language\n      // from the userAgent.\n      // See http://code.google.com/p/android/issues/detail?id=4641\n      if (qx.bom.client.OperatingSystem.getName() == \"android\") {\n        var version = /^(\\d+)\\.(\\d+)(\\..+)?/i.exec(qx.bom.client.OperatingSystem.getVersion());\n        if (qx.lang.Type.isArray(version) && version.length >= 3) {\n          if (parseInt(version[1]) < 4 || (parseInt(version[1]) === 4 && parseInt(version[2]) < 4)) {\n            var match = /(\\w{2})-(\\w{2})/i.exec(navigator.userAgent);\n            if (match) {\n              locale = match[0];\n            }\n          }\n        }\n      }\n\n      return locale.toLowerCase();\n    }\n\n  },\n\n  defer : function(statics) {\n    qx.core.Environment.add(\"locale\", statics.getLocale);\n    qx.core.Environment.add(\"locale.variant\", statics.getVariant);\n    qx.core.Environment.add(\"locale.default\", \"C\");\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * The qx.locale.Manager provides static translation methods (like tr()) and\n * general locale information.\n *\n * @require(qx.event.dispatch.Direct)\n * @require(qx.locale.LocalizedString)\n *\n * @cldr()\n */\n\nqx.Class.define(\"qx.locale.Manager\",\n{\n  type : \"singleton\",\n  extend : qx.core.Object,\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    this.__translations = qx.$$translations || {};\n    this.__locales      = qx.$$locales || {};\n\n    this.initLocale();\n    this.__clientLocale = this.getLocale();\n  },\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * Translate a message\n     *\n     * @param messageId {String} message id (may contain format strings)\n     * @param varargs {Object} variable number of arguments applied to the format string\n     * @return {String | LocalizedString} The translated message or localized string\n     * @see qx.lang.String.format\n     */\n    tr : function(messageId, varargs)\n    {\n      var args = qx.lang.Array.fromArguments(arguments, 1);\n\n      return qx.locale.Manager.getInstance().translate(messageId, args);\n    },\n\n\n    /**\n     * Translate a plural message\n     *\n     * Depending on the third argument the plural or the singular form is chosen.\n     *\n     * @param singularMessageId {String} message id of the singular form (may contain format strings)\n     * @param pluralMessageId {String} message id of the plural form (may contain format strings)\n     * @param count {Integer} singular form if equals 1, otherwise plural\n     * @param varargs {Object} variable number of arguments applied to the format string\n     * @return {String | LocalizedString} The translated message or localized string\n     * @see qx.lang.String.format\n     */\n    trn : function(singularMessageId, pluralMessageId, count, varargs)\n    {\n      var args = qx.lang.Array.fromArguments(arguments);\n      args.splice(0, 3);\n\n      // assumes \"Two forms, singular used for one only\" (seems to be the most common form)\n      // (http://www.gnu.org/software/gettext/manual/html_node/gettext_150.html#Plural-forms)\n      // closely related with bug #745\n      if (count != 1) {\n        return qx.locale.Manager.getInstance().translate(pluralMessageId, args);\n      } else {\n        return qx.locale.Manager.getInstance().translate(singularMessageId, args);\n      }\n    },\n\n\n    /**\n     * Translate a message with translation hint (from developer addressed to translator).\n     *\n     * @param hint {String} hint for the translator of the message. Will be included in the .po file.\n     * @param messageId {String} message id (may contain format strings)\n     * @param varargs {Object} variable number of arguments applied to the format string\n     * @return {String | LocalizedString} The translated message or localized string\n     * @see qx.lang.String.format\n     */\n    trc : function(hint, messageId, varargs)\n    {\n      var args = qx.lang.Array.fromArguments(arguments);\n      args.splice(0, 2);\n\n      return qx.locale.Manager.getInstance().translate(messageId, args);\n    },\n\n    /**\n     * Translate a plural message with translation hint (from developer addressed to translator).\n     *\n     * Depending on the third argument the plural or the singular form is chosen.\n     *\n     * @param hint {String} hint for the translator of the message. Will be included in the .po file.\n     * @param singularMessageId {String} message id of the singular form (may contain format strings)\n     * @param pluralMessageId {String} message id of the plural form (may contain format strings)\n     * @param count {Integer} singular form if equals 1, otherwise plural\n     * @param varargs {Object} variable number of arguments applied to the format string\n     * @return {String | LocalizedString} The translated message or localized string\n     * @see qx.lang.String.format\n     */\n    trnc : function(hint, singularMessageId, pluralMessageId, count, varargs)\n    {\n      var args = qx.lang.Array.fromArguments(arguments);\n      args.splice(0, 4);\n\n      // see trn()\n      if (count != 1) {\n        return qx.locale.Manager.getInstance().translate(pluralMessageId, args);\n      } else {\n        return qx.locale.Manager.getInstance().translate(singularMessageId, args);\n      }\n    },\n\n    /**\n     * Mark the message for translation but return the original message.\n     *\n     * @param messageId {String} the message ID\n     * @return {String} messageId\n     */\n    marktr : function(messageId) {\n      return messageId;\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /** current locale. locale is an language code like de, de_AT, en, en_GB, fr, ... */\n    locale :\n    {\n      check : \"String\",\n      apply : \"_applyLocale\",\n      event : \"changeLocale\",\n      init : (function() { \n        var locale = qx.core.Environment.get(\"locale\");\n        if(!locale || locale === \"\") {\n          return qx.core.Environment.get(\"locale.default\");\n        }\n        var variant = qx.core.Environment.get(\"locale.variant\");\n        if (variant !== \"\") {\n          locale += \"_\" + variant;\n        }\n        return locale; })()\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n\n    __defaultLocale : qx.core.Environment.get(\"locale.default\"),\n    __locale : null,\n    __language : null,\n    __translations : null,\n    __locales : null,\n    __clientLocale : null,\n\n    /**\n     * Get the language code of the current locale\n     *\n     * This is the first part of a locale definition. The language for \"de_DE\" would be \"de\"\n     *\n     * @return {String} language code\n     */\n    getLanguage : function() {\n      return this.__language;\n    },\n\n\n    /**\n     * Get the territory code of the current locale\n     *\n     * This is the second part of a locale definition. The territory for \"de_DE\" would be \"DE\"\n     *\n     * @return {String} territory code\n     */\n    getTerritory : function() {\n      return this.getLocale().split(\"_\")[1] || \"\";\n    },\n\n\n    /**\n     * Return the available application locales\n     *\n     * This corresponds to the LOCALES setting in config.json. Without argument,\n     * it only returns the currently loaded locales, with an argument of true\n     * all locales that went into the build. This is particularly interesting if\n     * locales were generated as dedicated I18N parts, and have to be loaded\n     * explicitly before being available.\n     *\n     * @param includeNonloaded {Boolean?null} include locales not yet loaded\n     * @return {String[]} array of available locales\n     */\n    getAvailableLocales : function(includeNonloaded)\n    {\n      var locales = [];\n\n      for (var locale in this.__locales)\n      {\n        if (locale != this.__defaultLocale) {\n          if (this.__locales[locale] === null && !includeNonloaded) {\n            continue;  // skip not yet loaded locales\n          }\n          locales.push(locale);\n        }\n      }\n\n      return locales;\n    },\n\n\n    /**\n     * Extract the language part from a locale.\n     *\n     * @param locale {String} locale to be used\n     * @return {String} language\n     */\n    __extractLanguage : function(locale)\n    {\n      var language;\n      if (locale == null) {\n        return null;\n      }\n      var pos = locale.indexOf(\"_\");\n\n      if (pos == -1) {\n        language = locale;\n      } else {\n        language = locale.substring(0, pos);\n      }\n\n      return language;\n    },\n\n\n    // property apply\n    _applyLocale : function(value, old)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        if (!(value in this.__locales || value == this.__clientLocale)) {\n          qx.log.Logger.warn(\"Locale: \" + value+\" not available.\");\n        }\n      }\n\n      this.__locale = value;\n      this.__language = this.__extractLanguage(value);\n    },\n\n\n    /**\n     * Add a translation to the translation manager.\n     *\n     * If <code>languageCode</code> already exists, its map will be updated with\n     * <code>translationMap</code> (new keys will be added, existing keys will be\n     * overwritten).\n     *\n     * @param languageCode {String} language code of the translation like <i>de, de_AT, en, en_GB, fr, ...</i>\n     * @param translationMap {Map} mapping of message identifiers to message strings in the target\n     *                             language, e.g. <i>{\"greeting_short\" : \"Hello\"}</i>. Plural forms\n     *                             are separate keys.\n     */\n    addTranslation : function(languageCode, translationMap)\n    {\n      var catalog = this.__translations;\n      if (catalog[languageCode])\n      {\n        for (var key in translationMap) {\n          catalog[languageCode][key] = translationMap[key];\n        }\n      }\n      else\n      {\n        catalog[languageCode] = translationMap;\n      }\n    },\n\n\n    /**\n     * Add a localization to the localization manager.\n     *\n     * If <code>localeCode</code> already exists, its map will be updated with\n     * <code>localeMap</code> (new keys will be added, existing keys will be overwritten).\n     *\n     * @param localeCode {String} locale code of the translation like <i>de, de_AT, en, en_GB, fr, ...</i>\n     * @param localeMap {Map} mapping of locale keys to the target locale values, e.g.\n     *                        <i>{\"cldr_date_format_short\" : \"M/d/yy\"}</i>.\n     */\n    addLocale : function(localeCode, localeMap)\n    {\n      var catalog = this.__locales;\n      if (catalog[localeCode])\n      {\n        for (var key in localeMap) {\n          catalog[localeCode][key] = localeMap[key];\n        }\n      }\n      else\n      {\n        catalog[localeCode] = localeMap;\n      }\n    },\n\n\n    /**\n     * Translate a message using the current locale and apply format string to the arguments.\n     *\n     * Implements the lookup chain locale (e.g. en_US) -> language (e.g. en) ->\n     * default locale (e.g. C). Localizes the arguments if possible and splices\n     * them into the message. If qx.dynlocale is on, returns a {@link\n     * LocalizedString}.\n     *\n     * @param messageId {String} message id (may contain format strings)\n     * @param args {Object[]} array of objects, which are inserted into the format string\n     * @param locale {String ? #locale} locale to be used; if not given, defaults to the value of {@link #locale}\n     * @return {String | LocalizedString} translated message or localized string\n     */\n    translate : function(messageId, args, locale)\n    {\n      var catalog = this.__translations;\n      return this.__lookupAndExpand(catalog, messageId, args, locale);\n    },\n\n    /**\n     * Provide localization (CLDR) data.\n     *\n     * Implements the lookup chain locale (e.g. en_US) -> language (e.g. en) ->\n     * default locale (e.g. C). Localizes the arguments if possible and splices\n     * them into the message. If qx.dynlocale is on, returns a {@link\n     * LocalizedString}.\n     *\n     * @param messageId {String} message id (may contain format strings)\n     * @param args {Object[]} array of objects, which are inserted into the format string\n     * @param locale {String ? #locale} locale to be used; if not given, defaults to the value of {@link #locale}\n     * @return {String | LocalizedString} translated message or localized string\n     */\n    localize : function(messageId, args, locale)\n    {\n      var catalog = this.__locales;\n      return this.__lookupAndExpand(catalog, messageId, args, locale);\n    },\n\n\n    /**\n     * Look up an I18N key in a catalog and expand format strings.\n     *\n     * Implements the lookup chain locale (e.g. en_US) -> language (e.g. en) ->\n     * default locale (e.g. C). Localizes the arguments if possible and splices\n     * them into the message. If qx.dynlocale is on, returns a {@link\n     * LocalizedString}.\n     *\n     * @param catalog {Map} map of I18N keys and their values\n     * @param messageId {String} message id (may contain format strings)\n     * @param args {Object[]} array of objects, which are inserted into the format string\n     * @param locale {String ? #locale} locale to be used; if not given, defaults to the value of {@link #locale}\n     * @return {String | LocalizedString} translated message or localized string\n     */\n    __lookupAndExpand : function(catalog, messageId, args, locale)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.assertObject(catalog);\n        this.assertString(messageId);\n        this.assertArray(args);\n      }\n      var txt;\n\n      if (!catalog) {\n        return messageId;\n      }\n\n      if (locale) {\n        var language = this.__extractLanguage(locale);\n      }\n      else\n      {\n        locale = this.__locale;\n        language = this.__language;\n      }\n\n      // e.g. DE_at\n      if (!txt && catalog[locale]) {\n        txt = catalog[locale][messageId];\n      }\n\n      // e.g. DE\n      if (!txt && catalog[language]) {\n        txt = catalog[language][messageId];\n      }\n\n      // C\n      if (!txt && catalog[this.__defaultLocale]) {\n        txt = catalog[this.__defaultLocale][messageId];\n      }\n\n      if (!txt) {\n        txt = messageId;\n      }\n\n      if (args.length > 0)\n      {\n        var translatedArgs = [];\n        for ( var i = 0; i < args.length; i++)\n        {\n          var arg = args[i];\n          if (arg && arg.translate) {\n            translatedArgs[i] = arg.translate();\n          } else {\n            translatedArgs[i] = arg;\n          }\n        }\n        txt = qx.lang.String.format(txt, translatedArgs);\n      }\n\n      if (qx.core.Environment.get(\"qx.dynlocale\")) {\n        txt = new qx.locale.LocalizedString(txt, messageId, args, catalog === this.__locales);\n      }\n\n      return txt;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * Abstract base class for all managers of themed values.\n */\nqx.Class.define(\"qx.util.ValueManager\",\n{\n  type : \"abstract\",\n  extend : qx.core.Object,\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    // Create empty dynamic map\n    this._dynamic = {};\n  },\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n\n    _dynamic : null,\n\n    /**\n     * Returns the dynamically interpreted result for the incoming value\n     *\n     * @param value {String} dynamically interpreted identifier\n     * @return {var} return the (translated) result of the incoming value\n     */\n    resolveDynamic : function(value) {\n      return this._dynamic[value];\n    },\n\n\n    /**\n     * Whether a value is interpreted dynamically\n     *\n     * @param value {String} dynamically interpreted identifier\n     * @return {Boolean} returns true if the value is interpreted dynamically\n     */\n    isDynamic : function(value) {\n      return !!this._dynamic[value];\n    },\n\n    /**\n     * Returns the dynamically interpreted result for the incoming value,\n     * (if available), otherwise returns the original value\n     * @param value {String} Value to resolve\n     * @return {var} either returns the (translated) result of the incoming\n     * value or the value itself\n     */\n    resolve : function(value)\n    {\n      if (value && this._dynamic[value]) {\n        return this._dynamic[value];\n      }\n\n      return value;\n    },\n\n     /**\n      * Sets the dynamics map.\n      * @param value {Map} The map.\n      */\n    _setDynamic : function(value) {\n      this._dynamic = value;\n    },\n\n    /**\n     * Returns the dynamics map.\n     * @return {Map} The map.\n     */\n    _getDynamic : function() {\n      return this._dynamic;\n    }\n\n  }\n});","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * Manager for color themes\n */\nqx.Class.define(\"qx.theme.manager.Color\",\n{\n  type : \"singleton\",\n  extend : qx.util.ValueManager,\n\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /** the currently selected color theme */\n    theme :\n    {\n      check : \"Theme\",\n      nullable : true,\n      apply : \"_applyTheme\",\n      event : \"changeTheme\"\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n\n    _applyTheme : function(value)\n    {\n      var dest = {};\n\n      if (value) {\n        var colors = value.colors;\n\n        for (var name in colors) {\n          dest[name] = this.__parseColor(colors, name);\n        }\n      }\n\n      this._setDynamic(dest);\n    },\n\n\n    /**\n     * Helper to take a color stored in the theme and returns the string color value.\n     * In most of the times that means it just returns the string stored in the theme.\n     * It additionally checks if its a valid color at all.\n     *\n     * @param colors {Map} The map of color definitions.\n     * @param name {String} The name of the color to check.\n     * @return {String} The resolved color as string.\n     */\n    __parseColor : function(colors, name) {\n      var color = colors[name];\n      if (typeof color === \"string\") {\n        if (!qx.util.ColorUtil.isCssString(color)) {\n          // check for references to in theme colors\n          if (colors[color] != undefined) {\n            return this.__parseColor(colors, color);\n          }\n          throw new Error(\"Could not parse color: \" + color);\n        }\n        return color;\n\n      } else if (color instanceof Array) {\n        return qx.util.ColorUtil.rgbToRgbString(color);\n      }\n\n      throw new Error(\"Could not parse color: \" + color);\n    },\n\n\n    /**\n     * Returns the dynamically interpreted result for the incoming value,\n     * (if available), otherwise returns the original value\n     * @param value {String} Value to resolve\n     * @return {var} either returns the (translated) result of the incoming\n     * value or the value itself\n     */\n    resolve : function(value)\n    {\n      var cache = this._dynamic;\n      var resolved = cache[value];\n\n      if (resolved)\n      {\n        return resolved;\n      }\n\n      // If the font instance is not yet cached create a new one to return\n      // This is true whenever a runtime include occurred (using \"qx.Theme.include\"\n      // or \"qx.Theme.patch\"), since these methods only merging the keys of\n      // the theme and are not updating the cache\n      var theme = this.getTheme();\n      if (theme !== null && theme.colors[value])\n      {\n        return cache[value] = theme.colors[value];\n      }\n\n      return value;\n    },\n\n\n    /**\n     * Whether a value is interpreted dynamically\n     *\n     * @param value {String} dynamically interpreted identifier\n     * @return {Boolean} returns true if the value is interpreted dynamically\n     */\n    isDynamic : function(value) {\n      var cache = this._dynamic;\n\n      if (value && (cache[value] !== undefined))\n      {\n        return true;\n      }\n\n      // If the font instance is not yet cached create a new one to return\n      // This is true whenever a runtime include occurred (using \"qx.Theme.include\"\n      // or \"qx.Theme.patch\"), since these methods only merging the keys of\n      // the theme and are not updating the cache\n      var theme = this.getTheme();\n      if (theme !== null && value && (theme.colors[value] !== undefined))\n      {\n        cache[value] = theme.colors[value];\n        return true;\n      }\n\n      return false;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * The AppearanceQueue registers all widgets which are influences through\n * state changes.\n */\nqx.Class.define(\"qx.ui.core.queue.Appearance\",\n{\n  statics :\n  {\n    /** @type {Array} This contains all the queued widgets for the next flush. */\n    __queue : [],\n    \n    /** @type {Map} map of widgets by hash code which are in the queue */\n    __lookup : {},\n\n\n    /**\n     * Clears the widget from the internal queue. Normally only used\n     * during interims disposes of one or a few widgets.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to clear\n     */\n    remove : function(widget) {\n    \tif (this.__lookup[widget.toHashCode()]) {\n    \t\tqx.lang.Array.remove(this.__queue, widget);\n    \t\tdelete this.__lookup[widget.toHashCode()];\n    \t}\n    },\n\n\n    /**\n     * Adds a widget to the queue.\n     *\n     * Should only be used by {@link qx.ui.core.Widget}.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to add.\n     */\n    add : function(widget)\n    {\n      if (this.__lookup[widget.toHashCode()]) {\n        return;\n      }\n\n      this.__queue.unshift(widget);\n      this.__lookup[widget.toHashCode()] = widget;\n      qx.ui.core.queue.Manager.scheduleFlush(\"appearance\");\n    },\n\n\n    /**\n     * Whether the given widget is already queued\n     *\n     * @param widget {qx.ui.core.Widget} The widget to check\n     * @return {Boolean} <code>true</code> if the widget is queued\n     */\n    has : function(widget) {\n      return !!this.__lookup[widget.toHashCode()];\n    },\n\n\n    /**\n     * Flushes the appearance queue.\n     *\n     * This is used exclusively by the {@link qx.ui.core.queue.Manager}.\n     */\n    flush : function()\n    {\n      var Visibility = qx.ui.core.queue.Visibility;\n\n      var queue = this.__queue;\n      var obj;\n\n      for (var i = queue.length - 1; i >= 0; i--)\n      {\n        // Order is important to allow the same widget to be re-queued directly\n        obj = queue[i];\n        queue.splice(i, 1);\n        delete this.__lookup[obj.toHashCode()]\n\n        // Only apply to currently visible widgets\n        if (Visibility.isVisible(obj)) {\n          obj.syncAppearance();\n        } else {\n          obj.$$stateChanges = true;\n        }\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * Manager for appearance themes\n */\nqx.Class.define(\"qx.theme.manager.Appearance\",\n{\n  type : \"singleton\",\n  extend : qx.core.Object,\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    this.__styleCache = {};\n    this.__aliasMap = {};\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /** Currently used appearance theme */\n    theme :\n    {\n      check : \"Theme\",\n      nullable : true,\n      event : \"changeTheme\",\n      apply : \"_applyTheme\"\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /**\n     * @lint ignoreReferenceField(__defaultStates)\n     */\n    __defaultStates : {},\n    __styleCache : null,\n    __aliasMap : null,\n\n\n    // property apply\n    _applyTheme : function() {\n      // empty the caches\n      this.__aliasMap = {};\n      this.__styleCache = {};\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      THEME HELPER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the appearance entry ID to use\n     * when all aliases etc. are processed.\n     *\n     * @param id {String} ID to resolve.\n     * @param theme {Theme} Theme to use for lookup.\n     * @param defaultId {String} ID for a fallback.\n     * @param chain {Array} The appearance id chain.\n     * @return {String} Resolved ID\n     */\n    __resolveId : function(id, theme, defaultId, chain)\n    {\n      var db = theme.appearances;\n      var entry = db[id];\n\n      if (!entry)\n      {\n        var divider = \"/\";\n        var end = [];\n        var splitted = id.split(divider);\n        var chainCopy = qx.lang.Array.clone(splitted);\n        var alias;\n\n        while (!entry && splitted.length > 0)\n        {\n          end.unshift(splitted.pop());\n          var baseid = splitted.join(divider);\n          entry = db[baseid];\n\n          if (entry)\n          {\n            alias = entry.alias || entry;\n\n            if (typeof alias === \"string\")\n            {\n              var mapped = alias + divider + end.join(divider);\n              return this.__resolveId(mapped, theme, defaultId, chainCopy);\n            }\n          }\n        }\n\n        // check if we find a control fitting in the appearance [BUG #4020]\n        for (var i = 0; i < end.length - 1; i++) {\n          // remove the first id, it has already been checked at startup\n          end.shift();\n          // build a new subid without the former first id\n          var subId = end.join(divider);\n          var resolved = this.__resolveId(subId, theme, null, chainCopy);\n          if (resolved) {\n            return resolved;\n          }\n        }\n\n        // check for the fallback\n        if (defaultId != null) {\n          return this.__resolveId(defaultId, theme, null, chainCopy);\n        }\n\n        // it's safe to output this message here since we can be sure that the return\n        // value is 'null' and something went wrong with the id lookup.\n        if (qx.core.Environment.get(\"qx.debug\"))\n        {\n          if (typeof chain !== \"undefined\") {\n            this.debug(\"Cannot find a matching appearance for '\" + chain.join(\"/\") + \"'.\");\n\n            if (chain.length > 1) {\n              this.info(\"Hint: This may be an issue with nested child controls and a missing alias definition in the appearance theme.\");\n            }\n          }\n        }\n\n        return null;\n      }\n      else if (typeof entry === \"string\")\n      {\n        return this.__resolveId(entry, theme, defaultId, chainCopy);\n      }\n      else if (entry.include && !entry.style)\n      {\n        return this.__resolveId(entry.include, theme, defaultId, chainCopy);\n      }\n\n      return id;\n    },\n\n\n    /**\n     * Get the result of the \"state\" function for a given id and states\n     *\n     * @param id {String} id of the appearance (e.g. \"button\", \"label\", ...)\n     * @param states {Map} hash map defining the set states\n     * @param theme {Theme?} appearance theme\n     * @param defaultId {String} fallback id.\n     * @return {Map} map of widget properties as returned by the \"state\" function\n     */\n    styleFrom : function(id, states, theme, defaultId)\n    {\n      if (!theme) {\n        theme = this.getTheme();\n      }\n\n      // Resolve ID\n      var aliasMap = this.__aliasMap;\n      if(!aliasMap[theme.name]) {\n        aliasMap[theme.name] = {};\n      }\n      var resolved = aliasMap[theme.name][id];\n      if (!resolved) {\n        resolved = aliasMap[theme.name][id] = this.__resolveId(id, theme, defaultId);\n      }\n\n      // Query theme for ID\n      var entry = theme.appearances[resolved];\n      if (!entry)\n      {\n        this.warn(\"Missing appearance: \" + id);\n        return null;\n      }\n\n      // Entries with includes, but without style are automatically merged\n      // by the ID handling in {@link #getEntry}. When there is no style method in the\n      // final object the appearance is empty and null could be returned.\n      if (!entry.style) {\n        return null;\n      }\n\n      // Build an unique cache name from ID and state combination\n      var unique = resolved;\n      if (states)\n      {\n        // Create data fields\n        var bits = entry.$$bits;\n        if (!bits)\n        {\n          bits = entry.$$bits = {};\n          entry.$$length = 0;\n        }\n\n        // Compute sum\n        var sum = 0;\n        for (var state in states)\n        {\n          if (!states[state]) {\n            continue;\n          }\n\n          if (bits[state] == null) {\n            bits[state] = 1<<entry.$$length++;\n          }\n\n          sum += bits[state];\n        }\n\n        // Only append the sum if it is bigger than zero\n        if (sum > 0) {\n          unique += \":\" + sum;\n        }\n      }\n\n      // Using cache if available\n      var cache = this.__styleCache;\n      if (cache[theme.name] && (cache[theme.name][unique] !== undefined)) {\n        return cache[theme.name][unique];\n      }\n\n      // Fallback to default (empty) states map\n      if (!states) {\n        states = this.__defaultStates;\n      }\n\n      // Compile the appearance\n      var result;\n\n      // If an include or base is defined, too, we need to merge the entries\n      if (entry.include || entry.base)\n      {\n\n        // Gather included data\n        var incl;\n        if (entry.include) {\n          incl = this.styleFrom(entry.include, states, theme, defaultId);\n        }\n\n        // This process tries to insert the original data first, and\n        // append the new data later, to higher prioritize the local\n        // data above the included/inherited data. This is especially needed\n        // for property groups or properties which includes other\n        // properties when modified.\n        var local = entry.style(states, incl);\n\n        // Create new map\n        result = {};\n\n        // Copy base data, but exclude overwritten local and included stuff\n        if (entry.base)\n        {\n          var base = this.styleFrom(resolved, states, entry.base, defaultId);\n\n          if (entry.include)\n          {\n            for (var baseIncludeKey in base)\n            {\n              if (!incl.hasOwnProperty(baseIncludeKey) && !local.hasOwnProperty(baseIncludeKey)) {\n                result[baseIncludeKey] = base[baseIncludeKey];\n              }\n            }\n          }\n          else\n          {\n            for (var baseKey in base)\n            {\n              if (!local.hasOwnProperty(baseKey)) {\n                result[baseKey] = base[baseKey];\n              }\n            }\n          }\n        }\n\n        // Copy include data, but exclude overwritten local stuff\n        if (entry.include)\n        {\n          for (var includeKey in incl)\n          {\n            if (!local.hasOwnProperty(includeKey)) {\n              result[includeKey] = incl[includeKey];\n            }\n          }\n        }\n\n        // Append local data\n        for (var localKey in local) {\n          result[localKey] = local[localKey];\n        }\n      }\n      else\n      {\n        result = entry.style(states);\n      }\n\n      // Cache new entry and return\n      if(!cache[theme.name]) {\n        cache[theme.name] = {};\n      }\n       return cache[theme.name][unique] = result || null;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * The image class displays an image file\n *\n * This class supports image clipping, which means that multiple images can be combined\n * into one large image and only the relevant part is shown.\n *\n * *Example*\n *\n * Here is a little example of how to use the widget.\n *\n * <pre class='javascript'>\n *   var image = new qx.ui.basic.Image(\"icon/32/actions/format-justify-left.png\");\n *\n *   this.getRoot().add(image);\n * </pre>\n *\n * This example create a widget to display the image\n * <code>icon/32/actions/format-justify-left.png</code>.\n *\n * *External Documentation*\n *\n * <a href='http://manual.qooxdoo.org/${qxversion}/pages/widget/image.html' target='_blank'>\n * Documentation of this widget in the qooxdoo manual.</a>\n *\n * NOTE: Instances of this class must be disposed of after use\n *\n */\nqx.Class.define(\"qx.ui.basic.Image\",\n{\n  extend : qx.ui.core.Widget,\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param source {String?null} The URL of the image to display.\n   */\n  construct : function(source)\n  {\n    this.__contentElements = {};\n\n    this.base(arguments);\n\n    if (source) {\n      this.setSource(source);\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /** The URL of the image. Setting it will possibly abort loading of current image. */\n    source :\n    {\n      check : \"String\",\n      init : null,\n      nullable : true,\n      event : \"changeSource\",\n      apply : \"_applySource\",\n      themeable : true\n    },\n\n\n    /**\n     * Whether the image should be scaled to the given dimensions\n     *\n     * This is disabled by default because it prevents the usage\n     * of image clipping when enabled.\n     */\n    scale :\n    {\n      check : \"Boolean\",\n      init : false,\n      event : \"changeScale\",\n      themeable : true,\n      apply : \"_applyScale\"\n    },\n\n\n    // overridden\n    appearance :\n    {\n      refine : true,\n      init : \"image\"\n    },\n\n\n    // overridden\n    allowShrinkX :\n    {\n      refine : true,\n      init : false\n    },\n\n\n    // overridden\n    allowShrinkY :\n    {\n      refine : true,\n      init : false\n    },\n\n\n    // overridden\n    allowGrowX :\n    {\n      refine : true,\n      init : false\n    },\n\n\n    // overridden\n    allowGrowY :\n    {\n      refine : true,\n      init : false\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events :\n  {\n    /**\n     * Fired if the image source can not be loaded. This event can only be\n     * fired for the first loading of an unmanaged resource (external image).\n     */\n    loadingFailed : \"qx.event.type.Event\",\n\n\n    /**\n     * Fired if the image has been loaded. This is even true for managed\n     * resources (images known by generator).\n     */\n    loaded : \"qx.event.type.Event\",\n\n\n    /** Fired when the pending request has been aborted. */\n    aborted : \"qx.event.type.Event\"\n  },\n\n\n  statics:\n  {\n    PLACEHOLDER_IMAGE: \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __width : null,\n    __height : null,\n    __mode : null,\n    __contentElements : null,\n    __currentContentElement : null,\n    __wrapper : null,\n    __requestId : 0,\n\n\n    // overridden\n    _onChangeTheme : function() {\n      this.base(arguments);\n      // restyle source (theme change might have changed the resolved url)\n      this._styleSource();\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      WIDGET API\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    getContentElement : function() {\n      return this.__getSuitableContentElement();\n    },\n\n\n    // overridden\n    _createContentElement : function() {\n      return this.__getSuitableContentElement();\n    },\n\n\n    // overridden\n    _getContentHint : function()\n    {\n      return {\n        width : this.__width || 0,\n        height : this.__height || 0\n      };\n    },\n\n    // overridden\n    _applyDecorator : function(value, old) {\n      this.base(arguments, value, old);\n\n      var source = this.getSource();\n      source = qx.util.AliasManager.getInstance().resolve(source);\n      var el = this.getContentElement();\n      if (this.__wrapper) {\n        el = el.getChild(0);\n      }\n      this.__setSource(el, source);\n    },\n\n    // overridden\n    _applyTextColor : function(value)\n    {\n      if (this.__getMode() === \"font\") {\n        var el = this.getContentElement();\n        if (this.__wrapper) {\n          el = el.getChild(0);\n        }\n\n        if (value) {\n          el.setStyle(\"color\", qx.theme.manager.Color.getInstance().resolve(value));\n        } else {\n          el.removeStyle(\"color\");\n        }\n      }\n    },\n\n    // overridden\n    _applyPadding : function(value, old, name)\n    {\n      this.base(arguments, value, old, name);\n\n      var element = this.getContentElement();\n      if (this.__wrapper) {\n        element.getChild(0).setStyles({\n          top: this.getPaddingTop() || 0,\n          left: this.getPaddingLeft() || 0\n        });\n      } else if (this.__getMode() === 'font') {\n        element.setStyles({\n          top: this.getPaddingTop() || 0,\n          left: this.getPaddingLeft() || 0\n        });\n      } else {\n        element.setPadding(\n          this.getPaddingLeft() || 0, this.getPaddingTop() || 0\n        );\n      }\n\n    },\n\n    renderLayout : function(left, top, width, height) {\n      this.base(arguments, left, top, width, height);\n\n      var element = this.getContentElement();\n      if (this.__wrapper) {\n        element.getChild(0).setStyles({\n          width: width - (this.getPaddingLeft() || 0) - (this.getPaddingRight() || 0),\n          height: height - (this.getPaddingTop() || 0) - (this.getPaddingBottom() || 0),\n          top: this.getPaddingTop() || 0,\n          left: this.getPaddingLeft() || 0\n        });\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      IMAGE API\n    ---------------------------------------------------------------------------\n    */\n\n    // property apply, overridden\n    _applyEnabled : function(value, old)\n    {\n      this.base(arguments, value, old);\n\n      if (this.getSource()) {\n        this._styleSource();\n      }\n    },\n\n\n    // property apply\n    _applySource : function(value, old)\n    {\n      // abort loading current image\n      if (old) {\n        if (qx.io.ImageLoader.isLoading(old)) {\n          qx.io.ImageLoader.abort(old);\n        }\n      }\n\n      this._styleSource();\n    },\n\n\n    // property apply\n    _applyScale : function(value) {\n      this._styleSource();\n    },\n\n\n    /**\n     * Remembers the mode to keep track which contentElement is currently in use.\n     * @param mode {String} internal mode (alphaScaled|scaled|nonScaled)\n     */\n    __setMode : function(mode) {\n      this.__mode = mode;\n    },\n\n\n    /**\n     * Returns the current mode if set. Otherwise checks the current source and\n     * the current scaling to determine the current mode.\n     *\n     * @return {String} current internal mode\n     */\n    __getMode : function()\n    {\n      if (this.__mode == null)\n      {\n        var source = this.getSource();\n\n        if (source && qx.lang.String.startsWith(source, \"@\")) {\n          this.__mode = \"font\";\n        }\n\n        var isPng = false;\n        if (source != null) {\n          isPng = source.endsWith(\".png\");\n        }\n\n        if (this.getScale() && isPng && qx.core.Environment.get(\"css.alphaimageloaderneeded\")) {\n          this.__mode = \"alphaScaled\";\n        } else if (this.getScale()) {\n          this.__mode = \"scaled\";\n        } else {\n          this.__mode = \"nonScaled\";\n        }\n      }\n\n      return this.__mode;\n    },\n\n\n    /**\n     * Creates a contentElement suitable for the current mode\n     *\n     * @param mode {String} internal mode\n     * @return {qx.html.Image} suitable image content element\n     */\n    __createSuitableContentElement : function(mode)\n    {\n      var scale;\n      var tagName;\n      var clazz = qx.html.Image;\n\n      switch (mode) {\n        case \"font\":\n          clazz = qx.html.Label;\n          scale = true;\n          tagName = \"div\";\n          break;\n        case \"alphaScaled\":\n          scale = true;\n          tagName = \"div\";\n          break;\n        case \"nonScaled\":\n          scale = false;\n          tagName = \"div\";\n          break;\n        default:\n          scale = true;\n          tagName = \"img\";\n          break;\n      }\n\n      var element = new (clazz)(tagName);\n      element.connectWidget(this);\n      element.setStyles({\n        \"overflowX\": \"hidden\",\n        \"overflowY\": \"hidden\",\n        \"boxSizing\": \"border-box\"\n      });\n\n      if (mode == \"font\") {\n        element.setRich(true);\n      }\n      else {\n        element.setScale(scale);\n\n        if (qx.core.Environment.get(\"css.alphaimageloaderneeded\")) {\n          var wrapper = this.__wrapper = new qx.html.Element(\"div\");\n          element.connectWidget(this);\n          wrapper.setStyle(\"position\", \"absolute\");\n          wrapper.add(element);\n          return wrapper;\n        }\n      }\n\n      return element;\n    },\n\n\n    /**\n     * Returns a contentElement suitable for the current mode\n     *\n     * @return {qx.html.Image} suitable image contentElement\n     */\n    __getSuitableContentElement : function()\n    {\n      if (this.$$disposed) {\n        return null;\n      }\n\n      var mode = this.__getMode();\n\n      if (this.__contentElements[mode] == null) {\n        this.__contentElements[mode] = this.__createSuitableContentElement(mode);\n      }\n\n      var element = this.__contentElements[mode];\n\n      if (!this.__currentContentElement) {\n        this.__currentContentElement = element;\n      }\n\n      return element;\n    },\n\n\n    /**\n     * Applies the source to the clipped image instance or preload\n     * an image to detect sizes and apply it afterwards.\n     *\n     */\n    _styleSource : function()\n    {\n      var AliasManager = qx.util.AliasManager.getInstance();\n      var ResourceManager = qx.util.ResourceManager.getInstance();\n\n      var source = AliasManager.resolve(this.getSource());\n\n      var element = this.getContentElement();\n      if (this.__wrapper) {\n        element = element.getChild(0);\n      }\n\n      if (!source)\n      {\n        this.__resetSource(element);\n        return;\n      }\n\n      this.__checkForContentElementSwitch(source);\n\n      if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\") &&\n        (parseInt(qx.core.Environment.get(\"engine.version\"), 10) < 9 ||\n         qx.core.Environment.get(\"browser.documentmode\") < 9))\n      {\n        var repeat = this.getScale() ? \"scale\" : \"no-repeat\";\n        element.tagNameHint = qx.bom.element.Decoration.getTagName(repeat, source);\n      }\n\n      var contentEl = this.__getContentElement();\n\n      // Detect if the image registry knows this image\n      if (ResourceManager.isFontUri(source)) {\n        this.__setManagedImage(contentEl, source);\n        var color = this.getTextColor();\n        if (qx.lang.Type.isString(color)) {\n          this._applyTextColor(color, null);\n        }\n      }\n      else if (ResourceManager.has(source)) {\n        var highResolutionSource = ResourceManager.findHighResolutionSource(source);\n        if (highResolutionSource) {\n          var imageWidth = ResourceManager.getImageWidth(source);\n          var imageHeight = ResourceManager.getImageHeight(source);\n          this.setWidth(imageWidth);\n          this.setHeight(imageHeight);\n\n          // set background size on current element (div or img)\n          var backgroundSize = imageWidth + \"px, \" + imageHeight + \"px\";\n          this.__currentContentElement.setStyle(\"background-size\", backgroundSize);\n\n          this.setSource(highResolutionSource);\n          source = highResolutionSource;\n        }\n        this.__setManagedImage(contentEl, source);\n        this.__fireLoadEvent();\n      } else if (qx.io.ImageLoader.isLoaded(source)) {\n        this.__setUnmanagedImage(contentEl, source);\n        this.__fireLoadEvent();\n      } else {\n        this.__loadUnmanagedImage(contentEl, source);\n      }\n    },\n\n\n    /**\n     * Helper function, which fires <code>loaded</code> event asynchronously.\n     * It emulates native <code>loaded</code> event of an image object. This\n     * helper will be called, if you try to load a managed image or an\n     * previously loaded unmanaged image.\n     */\n    __fireLoadEvent : function()\n    {\n      this.__requestId++;\n      qx.bom.AnimationFrame.request(function(rId){\n        // prevent firing of the event if source changed in the meantime\n        if (rId === this.__requestId) {\n          this.fireEvent(\"loaded\");\n        } else {\n          this.fireEvent(\"aborted\");\n        }\n      }.bind(this, this.__requestId));\n    },\n\n\n    /**\n     * Returns the content element.\n     * @return {qx.html.Image} content element\n     */\n    __getContentElement : function()\n    {\n      var contentEl = this.__currentContentElement;\n      if (this.__wrapper) {\n        contentEl = contentEl.getChild(0);\n      }\n\n      return contentEl;\n    },\n\n\n    /**\n     * Checks if the current content element is capable to display the image\n     * with the current settings (scaling, alpha PNG)\n     *\n     * @param source {String} source of the image\n     */\n    __checkForContentElementSwitch : qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(source)\n      {\n        var alphaImageLoader = qx.core.Environment.get(\"css.alphaimageloaderneeded\");\n        var isPng = source.endsWith(\".png\");\n        var isFont = source.startsWith(\"@\");\n\n        if (isFont) {\n          this.__setMode(\"font\");\n        } else if (alphaImageLoader && isPng)\n        {\n          if (this.getScale() && this.__getMode() != \"alphaScaled\") {\n            this.__setMode(\"alphaScaled\");\n          } else if (!this.getScale() && this.__getMode() != \"nonScaled\") {\n            this.__setMode(\"nonScaled\");\n          }\n        }\n        else\n        {\n          if (this.getScale() && this.__getMode() != \"scaled\") {\n            this.__setMode(\"scaled\");\n          } else if (!this.getScale() && this.__getMode() != \"nonScaled\") {\n            this.__setMode(\"nonScaled\");\n          }\n        }\n\n        this.__checkForContentElementReplacement(this.__getSuitableContentElement());\n      },\n\n      \"default\" : function(source)\n      {\n        var isFont = source && qx.lang.String.startsWith(source, \"@\");\n\n        if (isFont) {\n          this.__setMode(\"font\");\n        } else if (this.getScale() && this.__getMode() != \"scaled\") {\n          this.__setMode(\"scaled\");\n        } else if (!this.getScale() && this.__getMode() != \"nonScaled\") {\n          this.__setMode(\"nonScaled\");\n        }\n\n        this.__checkForContentElementReplacement(this.__getSuitableContentElement());\n      }\n    }),\n\n\n    /**\n     * Checks the current child and replaces it if necessary\n     *\n     * @param elementToAdd {qx.html.Image} content element to add\n     */\n    __checkForContentElementReplacement : function(elementToAdd)\n    {\n      var currentContentElement = this.__currentContentElement;\n\n      if (currentContentElement != elementToAdd)\n      {\n        if (currentContentElement != null)\n        {\n          var pixel = \"px\";\n          var styles = {};\n\n          //inherit styles from current element\n          var currentStyles = currentContentElement.getAllStyles();\n          if(currentStyles) {\n            for(var prop in currentStyles) {\n                styles[prop] = currentStyles[prop];\n            }\n          }\n\n          // Don't transfer background image when switching from image to icon font\n          if (this.__getMode() === \"font\") {\n            delete styles.backgroundImage;\n          }\n\n          // Copy dimension and location of the current content element\n          var bounds = this.getBounds();\n          if (bounds != null)\n          {\n            styles.width = bounds.width + pixel;\n            styles.height = bounds.height + pixel;\n          }\n\n          var insets = this.getInsets();\n          styles.left = parseInt(currentContentElement.getStyle(\"left\") || insets.left) + pixel;\n          styles.top = parseInt(currentContentElement.getStyle(\"top\") || insets.top) + pixel;\n\n          styles.zIndex = 10;\n\n          var newEl = this.__wrapper ? elementToAdd.getChild(0) : elementToAdd;\n          newEl.setStyles(styles, true);\n          newEl.setSelectable(this.getSelectable());\n\n          if (!currentContentElement.isVisible()) {\n            elementToAdd.hide();\n          } else if (!elementToAdd.isVisible()) {\n            elementToAdd.show();\n          }\n\n          if (!currentContentElement.isIncluded()) {\n            elementToAdd.exclude();\n          } else if (!elementToAdd.isIncluded()) {\n            elementToAdd.include();\n          }\n\n          var container = currentContentElement.getParent();\n\n          if (container) {\n            var index = container.getChildren().indexOf(currentContentElement);\n            container.removeAt(index);\n            container.addAt(elementToAdd, index);\n          }\n          // force re-application of source so __setSource is called again\n          var hint = newEl.getNodeName();\n          if (newEl.setSource) {\n            newEl.setSource(null);\n          }\n          else {\n            newEl.setValue(\"\");\n          }\n          var currentEl = this.__getContentElement();\n          newEl.tagNameHint = hint;\n          newEl.setAttribute(\"class\", currentEl.getAttribute(\"class\"));\n\n          // Flush elements to make sure the DOM elements are created.\n          qx.html.Element.flush();\n          var currentDomEl = currentEl.getDomElement();\n          var newDomEl = elementToAdd.getDomElement();\n\n          // copy event listeners\n          var listeners = currentContentElement.getListeners() || [];\n          listeners.forEach(function(listenerData) {\n            elementToAdd.addListener(listenerData.type, listenerData.handler, listenerData.self, listenerData.capture);\n          });\n\n          if (currentDomEl && newDomEl) {\n            // Switch the DOM elements' hash codes. This is required for the event\n            // layer to work [BUG #7447]\n            var currentHash = currentDomEl.$$hash;\n            currentDomEl.$$hash = newDomEl.$$hash;\n            newDomEl.$$hash = currentHash;\n          }\n\n          this.__currentContentElement = elementToAdd;\n        }\n      }\n    },\n\n\n    /**\n     * Use the ResourceManager to set a managed image\n     *\n     * @param el {Element} image DOM element\n     * @param source {String} source path\n     */\n    __setManagedImage : function(el, source)\n    {\n      var ResourceManager = qx.util.ResourceManager.getInstance();\n      var isFont = ResourceManager.isFontUri(source);\n\n      // Try to find a disabled image in registry\n      if (!this.getEnabled())\n      {\n        var disabled = source.replace(/\\.([a-z]+)$/, \"-disabled.$1\");\n        if (!isFont && ResourceManager.has(disabled))\n        {\n          source = disabled;\n          this.addState(\"replacement\");\n        }\n        else\n        {\n          this.removeState(\"replacement\");\n        }\n      }\n\n      // Optimize case for enabled changes when no disabled image was found\n      if (!isFont && el.getSource() === source) {\n        return;\n      }\n\n      // Special case for non resource manager handled font icons\n      if (isFont) {\n\n        // Don't use scale if size is set via postfix\n        if (this.getScale() && parseInt(source.split(\"/\")[2], 10)) {\n          this.setScale(false);\n        }\n\n        // Adjust size if scaling is applied\n        var width;\n        var height;\n        if (this.getScale()) {\n          var hint = this.getSizeHint();\n          width = this.getWidth() || hint.width;\n          height = this.getHeight() || hint.height;\n        }\n        else {\n          var font = qx.theme.manager.Font.getInstance().resolve(source.match(/@([^/]+)/)[1]);\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            this.assertObject(font, \"Virtual image source contains unkown font descriptor\");\n          }\n          var size = parseInt(source.split(\"/\")[2] || font.getSize(), 10);\n          width = ResourceManager.getImageWidth(source) || size;\n          height = ResourceManager.getImageHeight(source) || size;\n        }\n\n        this.__updateContentHint(width, height);\n        this.__setSource(el, source);\n\n\n        // Apply source\n      }\n      else {\n        // Apply source\n        this.__setSource(el, source);\n\n        // Compare with old sizes and relayout if necessary\n        this.__updateContentHint(\n          ResourceManager.getImageWidth(source),\n          ResourceManager.getImageHeight(source)\n        );\n      }\n    },\n\n    _applyDimension : function()\n    {\n      this.base(arguments);\n\n      var isFont = this.getSource() && qx.lang.String.startsWith(this.getSource(), \"@\");\n      if (isFont) {\n        var el = this.getContentElement();\n        if (el) {\n          if (this.getScale()) {\n            var hint = this.getSizeHint();\n            var width = this.getWidth() || hint.width || 40;\n            var height = this.getHeight() || hint.height || 40;\n            el.setStyle(\"fontSize\", (width > height ? height : width) + \"px\");\n          }\n          else {\n            var font = qx.theme.manager.Font.getInstance().resolve(this.getSource().match(/@([^/]+)/)[1]);\n            el.setStyle(\"fontSize\", font.getSize() + \"px\");\n          }\n        }\n      }\n    },\n\n    /**\n     * Use the infos of the ImageLoader to set an unmanaged image\n     *\n     * @param el {Element} image DOM element\n     * @param source {String} source path\n     */\n    __setUnmanagedImage : function(el, source)\n    {\n      var ImageLoader = qx.io.ImageLoader;\n\n      // Apply source\n      this.__setSource(el, source);\n\n      // Compare with old sizes and relayout if necessary\n      var width = ImageLoader.getWidth(source);\n      var height = ImageLoader.getHeight(source);\n      this.__updateContentHint(width, height);\n    },\n\n\n    /**\n     * Use the ImageLoader to load an unmanaged image\n     *\n     * @param el {Element} image DOM element\n     * @param source {String} source path\n     */\n    __loadUnmanagedImage : function(el, source)\n    {\n      var ImageLoader = qx.io.ImageLoader;\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        // loading external images via HTTP/HTTPS is a common usecase, as is\n        // using data URLs.\n        var sourceLC = source.toLowerCase();\n        if (!sourceLC.startsWith(\"http\") &&\n            !sourceLC.startsWith(\"data:image/\"))\n        {\n          var self = this.self(arguments);\n\n          if (!self.__warned) {\n            self.__warned = {};\n          }\n\n          if (!self.__warned[source])\n          {\n            this.debug(\"try to load an unmanaged relative image: \" + source);\n            self.__warned[source] = true;\n          }\n        }\n      }\n\n      // only try to load the image if it not already failed\n      if(!ImageLoader.isFailed(source)) {\n        ImageLoader.load(source, this.__loaderCallback, this);\n      } else {\n        this.__resetSource(el);\n      }\n    },\n\n    /**\n     * Reset source displayed by the DOM element.\n     *\n     * @param el {Element} image DOM element\n     */\n    __resetSource : function(el)\n    {\n      if (el != null) {\n        if (el instanceof qx.html.Image) {\n          el.resetSource();\n        }\n        else {\n          el.resetValue();\n        }\n      }\n    },\n\n    /**\n     * Combines the decorator's image styles with our own image to make sure\n     * gradient and backgroundImage decorators work on Images.\n     *\n     * @param el {Element} image DOM element\n     * @param source {String} source path\n     */\n    __setSource: function (el, source) {\n      var isFont = source && qx.lang.String.startsWith(source, \"@\");\n\n      if (isFont) {\n        var sparts = source.split(\"/\");\n        var fontSource = source;\n        if (sparts.length > 2) {\n          fontSource = sparts[0] + \"/\" + sparts[1];\n        }\n\n\n        var ResourceManager = qx.util.ResourceManager.getInstance();\n        var font = qx.theme.manager.Font.getInstance().resolve(source.match(/@([^/]+)/)[1]);\n        var fontStyles = qx.lang.Object.clone(font.getStyles());\n        delete fontStyles.color;\n        el.setStyles(fontStyles);\n        el.setStyle(\"font\");\n        el.setStyle(\"display\", \"table-cell\");\n        el.setStyle(\"verticalAlign\", \"middle\");\n        el.setStyle(\"textAlign\", \"center\");\n\n        if (this.getScale()) {\n          el.setStyle(\"fontSize\", (this.__width > this.__height ? this.__height : this.__width) + \"px\");\n        }\n        else {\n          var size = parseInt(sparts[2] || qx.theme.manager.Font.getInstance().resolve(source.match(/@([^/]+)/)[1]).getSize());\n          el.setStyle(\"fontSize\", size + \"px\");\n        }\n\n        var resource = ResourceManager.getData(fontSource);\n        if (resource) {\n          el.setValue(String.fromCharCode(resource[2]));\n        }\n        else {\n          var charCode = parseInt(qx.theme.manager.Font.getInstance().resolve(source.match(/@([^/]+)\\/(.*)$/)[2]), 16);\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            this.assertNumber(charCode, \"Font source needs either a glyph name or the unicode number in hex\");\n          }\n          el.setValue(String.fromCharCode(charCode));\n        }\n\n        return;\n      }\n      else if (el.getNodeName() == \"div\") {\n\n        // checks if a decorator already set.\n        // In this case we have to merge background styles\n        var decorator = qx.theme.manager.Decoration.getInstance().resolve(this.getDecorator());\n        if (decorator) {\n          var hasGradient = (decorator.getStartColor() && decorator.getEndColor());\n          var hasBackground = decorator.getBackgroundImage();\n          if (hasGradient || hasBackground) {\n            var repeat = this.getScale() ? \"scale\" : \"no-repeat\";\n\n            // get the style attributes for the given source\n            var attr = qx.bom.element.Decoration.getAttributes(source, repeat);\n            // get the background image(s) defined by the decorator\n            var decoratorStyle = decorator.getStyles(true);\n\n            var combinedStyles = {\n              \"backgroundImage\": attr.style.backgroundImage,\n              \"backgroundPosition\": (attr.style.backgroundPosition || \"0 0\"),\n              \"backgroundRepeat\": (attr.style.backgroundRepeat || \"no-repeat\")\n            };\n\n            if (hasBackground) {\n              combinedStyles[\"backgroundPosition\"] += \",\" + decoratorStyle[\"background-position\"] || \"0 0\";\n              combinedStyles[\"backgroundRepeat\"] += \", \" + decorator.getBackgroundRepeat();\n            }\n\n            if (hasGradient) {\n              combinedStyles[\"backgroundPosition\"] += \", 0 0\";\n              combinedStyles[\"backgroundRepeat\"] += \", no-repeat\";\n            }\n\n            combinedStyles[\"backgroundImage\"] += \",\" + (decoratorStyle[\"background-image\"] || decoratorStyle[\"background\"]);\n\n            // apply combined background images\n            el.setStyles(combinedStyles);\n\n            return;\n          }\n        } else {\n          // force re-apply to remove old decorator styles\n          if (el.setSource){\n            el.setSource(null);\n          }\n        }\n      }\n      if (el.setSource){\n        el.setSource(source);\n      }\n    },\n\n    /**\n     * Event handler fired after the preloader has finished loading the icon\n     *\n     * @param source {String} Image source which was loaded\n     * @param imageInfo {Map} Dimensions of the loaded image\n     */\n    __loaderCallback : function(source, imageInfo)\n    {\n      // Ignore the callback on already disposed images\n      if (this.$$disposed === true) {\n        return;\n      }\n\n      // Ignore when the source has already been modified\n      if (source !== qx.util.AliasManager.getInstance().resolve(this.getSource())) {\n        this.fireEvent(\"aborted\");\n        return;\n      }\n\n      /// Output a warning if the image could not loaded and quit\n      if (imageInfo.failed) {\n        this.warn(\"Image could not be loaded: \" + source);\n        this.fireEvent(\"loadingFailed\");\n      } else if (imageInfo.aborted) {\n        this.fireEvent(\"aborted\");\n        return;\n      } else {\n        this.fireEvent(\"loaded\");\n      }\n\n      // Update image\n      this.__setUnmanagedImage(this.__getContentElement(), source);\n    },\n\n\n    /**\n     * Updates the content hint when the image size has been changed\n     *\n     * @param width {Integer} width of the image\n     * @param height {Integer} height of the image\n     */\n    __updateContentHint : function(width, height)\n    {\n      // Compare with old sizes and relayout if necessary\n      if (width !== this.__width || height !== this.__height)\n      {\n        this.__width = width;\n        this.__height = height;\n\n        qx.ui.core.queue.Layout.add(this);\n      }\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function() {\n    for (var mode in this.__contentElements) {\n      if (this.__contentElements.hasOwnProperty(mode)) {\n        this.__contentElements[mode].disconnectWidget(this);\n      }\n    }\n\n    delete this.__currentContentElement;\n    if (this.__wrapper) {\n      delete this.__wrapper;\n    }\n\n    this._disposeMap(\"__contentElements\");\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Martin Wittemann (martinwittemann)\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n/**\n * Methods to place popup like widgets to other widgets, points,\n * pointer event coordinates, etc.\n */\nqx.Mixin.define(\"qx.ui.core.MPlacement\",\n{\n\n  statics : {\n    __visible : null,\n    __direction : \"left\",\n\n    /**\n     * Set the always visible element. If an element is set, the\n     * {@link #moveTo} method takes care of every move and tries not to cover\n     * the given element with a movable widget like a popup or context menu.\n     *\n     * @param elem {qx.ui.core.Widget} The widget which should always be visible.\n     */\n    setVisibleElement : function(elem) {\n      this.__visible = elem;\n    },\n\n    /**\n     * Returns the given always visible element. See {@link #setVisibleElement}\n     * for more details.\n     *\n     * @return {qx.ui.core.Widget|null} The given widget.\n     */\n    getVisibleElement : function() {\n      return this.__visible;\n    },\n\n    /**\n     * Set the move direction for an element which hides always visible element.\n     * The value has only an effect when the {@link #setVisibleElement} is set.\n     *\n     * @param direction {String} The direction <code>left</code> or <code>top</code>.\n     */\n    setMoveDirection : function(direction)\n    {\n      if (direction === \"top\" || direction === \"left\") {\n        this.__direction = direction;\n      } else {\n        throw new Error(\"Invalid value for the parameter 'direction' \" +\n          \"[qx.ui.core.MPlacement.setMoveDirection()], the value was '\" + direction + \"' \" +\n          \"but 'top' or 'left' are allowed.\");\n      }\n    },\n\n    /**\n     * Returns the move direction for an element which hides always visible element.\n     * See {@link #setMoveDirection} for more details.\n     *\n     * @return {String} The move direction.\n     */\n    getMoveDirection : function() {\n      return this.__direction;\n    }\n  },\n\n\n  properties :\n  {\n    /**\n     * Position of the aligned object in relation to the opener.\n     *\n     * Please note than changes to this property are only applied\n     * when re-aligning the widget.\n     *\n     * The first part of the value is the edge to attach to. The second\n     * part the alignment of the orthogonal edge after the widget\n     * has been attached.\n     *\n     * The default value \"bottom-left\" for example means that the\n     * widget should be shown directly under the given target and\n     * then should be aligned to be left edge:\n     *\n     * <pre>\n     * +--------+\n     * | target |\n     * +--------+\n     * +-------------+\n     * |   widget    |\n     * +-------------+\n     * </pre>\n     */\n    position :\n    {\n      check :\n      [\n        \"top-left\", \"top-center\", \"top-right\",\n        \"bottom-left\", \"bottom-center\", \"bottom-right\",\n        \"left-top\", \"left-middle\", \"left-bottom\",\n        \"right-top\", \"right-middle\", \"right-bottom\"\n      ],\n      init : \"bottom-left\",\n      themeable : true\n    },\n\n    /**\n     * Whether the widget should be placed relative to an other widget or to\n     * the pointer.\n     */\n    placeMethod :\n    {\n      check : [\"widget\", \"pointer\"],\n      init : \"pointer\",\n      themeable: true\n    },\n\n    /** Whether the widget should moved using DOM methods. */\n    domMove :\n    {\n      check : \"Boolean\",\n      init : false\n    },\n\n    /**\n     * Selects the algorithm to place the widget horizontally. <code>direct</code>\n     * uses {@link qx.util.placement.DirectAxis}, <code>keep-align</code>\n     * uses {@link qx.util.placement.KeepAlignAxis} and <code>best-fit</code>\n     * uses {@link qx.util.placement.BestFitAxis}.\n     */\n    placementModeX :\n    {\n      check : [\"direct\", \"keep-align\", \"best-fit\"],\n      init : \"keep-align\",\n      themeable : true\n    },\n\n    /**\n     * Selects the algorithm to place the widget vertically. <code>direct</code>\n     * uses {@link qx.util.placement.DirectAxis}, <code>keep-align</code>\n     * uses {@link qx.util.placement.KeepAlignAxis} and <code>best-fit</code>\n     * uses {@link qx.util.placement.BestFitAxis}.\n     */\n    placementModeY :\n    {\n      check : [\"direct\", \"keep-align\", \"best-fit\"],\n      init : \"keep-align\",\n      themeable : true\n    },\n\n    /** Left offset of the pointer (in pixel) */\n    offsetLeft :\n    {\n      check : \"Integer\",\n      init : 0,\n      themeable : true\n    },\n\n    /** Top offset of the pointer (in pixel) */\n    offsetTop :\n    {\n      check : \"Integer\",\n      init : 0,\n      themeable : true\n    },\n\n    /** Right offset of the pointer (in pixel) */\n    offsetRight :\n    {\n      check : \"Integer\",\n      init : 0,\n      themeable : true\n    },\n\n    /** Bottom offset of the pointer (in pixel) */\n    offsetBottom :\n    {\n      check : \"Integer\",\n      init : 0,\n      themeable : true\n    },\n\n    /** Offsets in one group */\n    offset :\n    {\n      group : [ \"offsetTop\", \"offsetRight\", \"offsetBottom\", \"offsetLeft\" ],\n      mode  : \"shorthand\",\n      themeable : true\n    }\n  },\n\n\n  members :\n  {\n    __ptwLiveUpdater : null,\n    __ptwLiveDisappearListener : null,\n    __ptwLiveUpdateDisappearListener : null,\n\n\n    /**\n     * Returns the location data like {qx.bom.element.Location#get} does,\n     * but does not rely on DOM elements coordinates to be rendered. Instead,\n     * this method works with the available layout data available in the moment\n     * when it is executed.\n     * This works best when called in some type of <code>resize</code> or\n     * <code>move</code> event which are supported by all widgets out of the\n     * box.\n     *\n     * @param widget {qx.ui.core.Widget} Any widget\n     * @return {Map|null} Returns a map with <code>left</code>, <code>top</code>,\n     *   <code>right</code> and <code>bottom</code> which contains the distance\n     *   of the widget relative coords the document.\n     */\n    getLayoutLocation : function(widget)\n    {\n      // Use post-layout dimensions\n      // which do not rely on the final rendered DOM element\n      var insets, bounds, left, top;\n\n      // Add bounds of the widget itself\n      bounds = widget.getBounds();\n\n      if (!bounds) {\n        return null;\n      }\n\n      left = bounds.left;\n      top = bounds.top;\n\n      // Keep size to protect it for loop\n      var size = bounds;\n\n      // Now loop up with parents until reaching the root\n      widget = widget.getLayoutParent();\n      while (widget && !widget.isRootWidget())\n      {\n        // Add coordinates\n        bounds = widget.getBounds();\n        left += bounds.left;\n        top += bounds.top;\n\n        // Add insets\n        insets = widget.getInsets();\n        left += insets.left;\n        top += insets.top;\n\n        // Next parent\n        widget = widget.getLayoutParent();\n      }\n\n      // Add the rendered location of the root widget\n      if (widget && widget.isRootWidget())\n      {\n        var rootCoords = widget.getContentLocation();\n        if (rootCoords)\n        {\n          left += rootCoords.left;\n          top += rootCoords.top;\n        }\n      }\n\n      // Build location data\n      return {\n        left : left,\n        top : top,\n        right : left + size.width,\n        bottom : top + size.height\n      };\n    },\n\n\n    /**\n     * Sets the position. Uses low-level, high-performance DOM\n     * methods when the property {@link #domMove} is enabled.\n     * Checks if an always visible element is set and moves the widget to not\n     * overlay the always visible widget if possible. The algorithm tries to\n     * move the widget as far left as necessary but not of the screen.\n     * ({@link #setVisibleElement})\n     *\n     * @param left {Integer} The left position\n     * @param top {Integer} The top position\n     */\n    moveTo : function(left, top)\n    {\n      var visible = qx.ui.core.MPlacement.getVisibleElement();\n\n      // if we have an always visible element\n      if (visible) {\n\n        var bounds = this.getBounds();\n        var elemLocation = visible.getContentLocation();\n\n        // if we have bounds for both elements\n        if (bounds && elemLocation) {\n          var bottom = top + bounds.height;\n          var right = left + bounds.width;\n\n          // horizontal placement wrong\n          // each number is for the upcomming check (huge element is\n          // the always visible, eleme prefixed)\n          //     | 3 |\n          //   ---------\n          //   | |---| |\n          //   |       |\n          // --|-|   |-|--\n          // 1 | |   | | 2\n          // --|-|   |-|--\n          //   |       |\n          //   | |---| |\n          //   ---------\n          //     | 4 |\n          if (\n            (right > elemLocation.left && left < elemLocation.right) &&\n            (bottom > elemLocation.top && top < elemLocation.bottom)\n          ) {\n            var direction = qx.ui.core.MPlacement.getMoveDirection();\n\n            if (direction === \"left\") {\n              left = Math.max(elemLocation.left - bounds.width, 0);\n            } else {\n              top = Math.max(elemLocation.top - bounds.height, 0);\n            }\n          }\n        }\n      }\n\n      if (this.getDomMove()) {\n        this.setDomPosition(left, top);\n      } else {\n        this.setLayoutProperties({left: left, top: top});\n      }\n    },\n\n\n    /**\n     * Places the widget to another (at least laid out) widget. The DOM\n     * element is not needed, but the bounds are needed to compute the\n     * location of the widget to align to.\n     *\n     * @param target {qx.ui.core.Widget} Target coords align coords\n     * @param liveupdate {Boolean} Flag indicating if the position of the\n     * widget should be checked and corrected automatically.\n     * @return {Boolean} true if the widget was successfully placed\n     */\n    placeToWidget : function(target, liveupdate)\n    {\n\n      // Use the idle event to make sure that the widget's position gets\n      // updated automatically (e.g. the widget gets scrolled).\n      if (liveupdate)\n      {\n        this.__cleanupFromLastPlaceToWidgetLiveUpdate();\n\n        // Bind target and livupdate to placeToWidget\n        this.__ptwLiveUpdater = qx.lang.Function.bind(this.placeToWidget, this, target, false);\n\n        qx.event.Idle.getInstance().addListener(\"interval\", this.__ptwLiveUpdater);\n\n        // Remove the listener when the element disappears.\n        this.__ptwLiveUpdateDisappearListener = function()\n        {\n          this.__cleanupFromLastPlaceToWidgetLiveUpdate();\n        };\n\n        this.addListener(\"disappear\", this.__ptwLiveUpdateDisappearListener, this);\n\n      }\n\n      var coords = target.getContentLocation() || this.getLayoutLocation(target);\n\n      if(coords != null) {\n        this._place(coords);\n        return true;\n      } else {\n        return false;\n      }\n    },\n\n\n    /**\n     * Removes all resources allocated by the last run of placeToWidget with liveupdate=true\n     */\n    __cleanupFromLastPlaceToWidgetLiveUpdate : function()\n    {\n      if (this.__ptwLiveUpdater)\n      {\n        qx.event.Idle.getInstance().removeListener(\"interval\", this.__ptwLiveUpdater);\n        this.__ptwLiveUpdater = null;\n      }\n\n      if (this.__ptwLiveUpdateDisappearListener){\n        this.removeListener(\"disappear\", this.__ptwLiveUpdateDisappearListener, this);\n        this.__ptwLiveUpdateDisappearListener = null;\n      }\n\n    },\n\n\n    /**\n     * Places the widget to the pointer position.\n     *\n     * @param event {qx.event.type.Pointer} Pointer event to align to\n     */\n    placeToPointer : function(event)\n    {\n      var left = Math.round(event.getDocumentLeft());\n      var top = Math.round(event.getDocumentTop());\n\n      var coords =\n      {\n        left: left,\n        top: top,\n        right: left,\n        bottom: top\n      };\n\n      this._place(coords);\n    },\n\n\n    /**\n     * Places the widget to any (rendered) DOM element.\n     *\n     * @param elem {Element} DOM element to align to\n     * @param liveupdate {Boolean} Flag indicating if the position of the\n     * widget should be checked and corrected automatically.\n     */\n    placeToElement : function(elem, liveupdate)\n    {\n      var location = qx.bom.element.Location.get(elem);\n      var coords =\n      {\n        left: location.left,\n        top: location.top,\n        right: location.left + elem.offsetWidth,\n        bottom: location.top + elem.offsetHeight\n      };\n\n      // Use the idle event to make sure that the widget's position gets\n      // updated automatically (e.g. the widget gets scrolled).\n      if (liveupdate)\n      {\n        // Bind target and livupdate to placeToWidget\n        this.__ptwLiveUpdater = qx.lang.Function.bind(this.placeToElement, this, elem, false);\n\n        qx.event.Idle.getInstance().addListener(\"interval\", this.__ptwLiveUpdater);\n\n        // Remove the listener when the element disappears.\n        this.addListener(\"disappear\", function()\n        {\n          if (this.__ptwLiveUpdater)\n          {\n            qx.event.Idle.getInstance().removeListener(\"interval\", this.__ptwLiveUpdater);\n            this.__ptwLiveUpdater = null;\n          }\n        }, this);\n      }\n\n      this._place(coords);\n    },\n\n\n    /**\n     * Places the widget in relation to the given point\n     *\n     * @param point {Map} Coordinate of any point with the keys <code>left</code>\n     *   and <code>top</code>.\n     */\n    placeToPoint : function(point)\n    {\n      var coords =\n      {\n        left: point.left,\n        top: point.top,\n        right: point.left,\n        bottom: point.top\n      };\n\n      this._place(coords);\n    },\n\n\n    /**\n     * Returns the placement offsets as a map\n     *\n     * @return {Map} The placement offsets\n     */\n    _getPlacementOffsets : function()\n    {\n      return {\n        left : this.getOffsetLeft(),\n        top : this.getOffsetTop(),\n        right : this.getOffsetRight(),\n        bottom : this.getOffsetBottom()\n      };\n    },\n\n\n    /**\n     * Get the size of the object to place. The callback will be called with\n     * the size as first argument. This methods works asynchronously.\n     *\n     * The size of the object to place is the size of the widget. If a widget\n     * including this mixin needs a different size it can implement the method\n     * <code>_computePlacementSize</code>, which returns the size.\n     *\n     *  @param callback {Function} This function will be called with the size as\n     *    first argument\n     */\n    __getPlacementSize : function(callback)\n    {\n      var size = null;\n\n      if (this._computePlacementSize) {\n        var size = this._computePlacementSize();\n      } else if (this.isVisible()) {\n        var size = this.getBounds();\n      }\n\n      if (size == null)\n      {\n        this.addListenerOnce(\"appear\", function() {\n          this.__getPlacementSize(callback);\n        }, this);\n      } else {\n        callback.call(this, size);\n      }\n    },\n\n\n    /**\n     * Internal method to read specific this properties and\n     * apply the results to the this afterwards.\n     *\n     * @param coords {Map} Location of the object to align the this to. This map\n     *   should have the keys <code>left</code>, <code>top</code>, <code>right</code>\n     *   and <code>bottom</code>.\n     */\n    _place : function(coords)\n    {\n      this.__getPlacementSize(function(size)\n      {\n        var result = qx.util.placement.Placement.compute(\n          size,\n          this.getLayoutParent().getBounds(),\n          coords,\n          this._getPlacementOffsets(),\n          this.getPosition(),\n          this.getPlacementModeX(),\n          this.getPlacementModeY()\n        );\n\n        // state handling for tooltips e.g.\n        this.removeState(\"placementLeft\");\n        this.removeState(\"placementRight\");\n        this.addState(coords.left < result.left ? \"placementRight\" : \"placementLeft\");\n\n        this.moveTo(result.left, result.top);\n      });\n    }\n  },\n\n\n  destruct : function()\n  {\n    this.__cleanupFromLastPlaceToWidgetLiveUpdate();\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * This widget is used as feedback widget in drag and drop actions.\n */\nqx.Class.define(\"qx.ui.core.DragDropCursor\",\n{\n  extend : qx.ui.basic.Image,\n  include : qx.ui.core.MPlacement,\n  type : \"singleton\",\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    // Put above other stuff\n    this.setZIndex(1e8);\n\n    // Move using DOM\n    this.setDomMove(true);\n\n    // Automatically add to root\n    var root = this.getApplicationRoot();\n    root.add(this, { left: -1000, top: - 1000 });\n  },\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    appearance :\n    {\n      refine : true,\n      init : \"dragdrop-cursor\"\n    },\n\n    /** The current drag&drop action */\n    action :\n    {\n      check : [ \"alias\", \"copy\", \"move\" ],\n      apply : \"_applyAction\",\n      nullable : true\n    }\n  },\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  members :\n  {\n    // property apply\n    _applyAction : function(value, old)\n    {\n      if (old) {\n        this.removeState(old);\n      }\n\n      if (value) {\n        this.addState(value);\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * jQuery Dimension Plugin\n       http://jquery.com/\n       Version 1.1.3\n\n     Copyright:\n       (c) 2007, Paul Bakaus & Brandon Aaron\n\n     License:\n       MIT: http://www.opensource.org/licenses/mit-license.php\n\n     Authors:\n       Paul Bakaus\n       Brandon Aaron\n\n************************************************************************ */\n\n/**\n * Query the location of an arbitrary DOM element in relation to its top\n * level body element. Works in all major browsers:\n *\n * * Mozilla 1.5 + 2.0\n * * Internet Explorer 6.0 + 7.0 (both standard & quirks mode)\n * * Opera 9.2\n * * Safari 3.0 beta\n *\n * @ignore(SVGElement)\n */\nqx.Bootstrap.define(\"qx.bom.element.Location\",\n{\n  statics :\n  {\n    /**\n     * Queries a style property for the given element\n     *\n     * @param elem {Element} DOM element to query\n     * @param style {String} Style property\n     * @return {String} Value of given style property\n     */\n    __style : function(elem, style) {\n      return qx.bom.element.Style.get(elem, style, qx.bom.element.Style.COMPUTED_MODE, false);\n    },\n\n\n    /**\n     * Queries a style property for the given element and parses it to an integer value\n     *\n     * @param elem {Element} DOM element to query\n     * @param style {String} Style property\n     * @return {Integer} Value of given style property\n     */\n    __num : function(elem, style) {\n      return parseInt(qx.bom.element.Style.get(elem, style, qx.bom.element.Style.COMPUTED_MODE, false), 10) || 0;\n    },\n\n\n    /**\n     * Computes the scroll offset of the given element relative to the document\n     * <code>body</code>.\n     *\n     * @param elem {Element} DOM element to query\n     * @return {Map} Map which contains the <code>left</code> and <code>top</code> scroll offsets\n     */\n    __computeScroll : function(elem)\n    {\n      var left = 0, top = 0;\n      // Find window\n      var win = qx.dom.Node.getWindow(elem);\n\n      left -= qx.bom.Viewport.getScrollLeft(win);\n      top -= qx.bom.Viewport.getScrollTop(win);\n\n      return {\n        left : left,\n        top : top\n      };\n    },\n\n\n    /**\n     * Computes the offset of the given element relative to the document\n     * <code>body</code>.\n     *\n     * @param elem {Element} DOM element to query\n     * @return {Map} Map which contains the <code>left</code> and <code>top</code> offsets\n     */\n    __computeBody : qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(elem)\n      {\n        // Find body element\n        var doc = qx.dom.Node.getDocument(elem);\n        var body = doc.body;\n\n        var left = 0;\n        var top = 0;\n\n        left -= body.clientLeft + doc.documentElement.clientLeft;\n        top -= body.clientTop + doc.documentElement.clientTop;\n\n        if (!qx.core.Environment.get(\"browser.quirksmode\"))\n        {\n          left += this.__num(body, \"borderLeftWidth\");\n          top += this.__num(body, \"borderTopWidth\");\n        }\n\n        return {\n          left : left,\n          top : top\n        };\n      },\n\n      \"webkit\" : function(elem)\n      {\n        // Find body element\n        var doc = qx.dom.Node.getDocument(elem);\n        var body = doc.body;\n\n        // Start with the offset\n        var left = body.offsetLeft;\n        var top = body.offsetTop;\n\n        return {\n          left : left,\n          top : top\n        };\n      },\n\n      \"gecko\" : function(elem)\n      {\n        // Find body element\n        var body = qx.dom.Node.getDocument(elem).body;\n\n        // Start with the offset\n        var left = body.offsetLeft;\n        var top = body.offsetTop;\n\n        // Correct substracted border (only in content-box mode)\n        if (qx.bom.element.BoxSizing.get(body) !== \"border-box\")\n        {\n          left += this.__num(body, \"borderLeftWidth\");\n          top += this.__num(body, \"borderTopWidth\");\n        }\n\n        return {\n          left : left,\n          top : top\n        };\n      },\n\n\n      // At the moment only correctly supported by Opera\n      \"default\" : function(elem)\n      {\n        // Find body element\n        var body = qx.dom.Node.getDocument(elem).body;\n\n        // Start with the offset\n        var left = body.offsetLeft;\n        var top = body.offsetTop;\n\n        return {\n          left : left,\n          top : top\n        };\n      }\n    }),\n\n\n    /**\n     * Computes the sum of all offsets of the given element node.\n     *\n     * @signature function(elem)\n     * @param elem {Element} DOM element to query\n     * @return {Map} Map which contains the <code>left</code> and <code>top</code> offsets\n     */\n    __computeOffset : function(elem)\n    {\n      var rect = elem.getBoundingClientRect();\n\n      // Firefox 3.0 alpha 6 (gecko 1.9) returns floating point numbers\n      // use Math.round() to round them to style compatible numbers\n      // MSHTML returns integer numbers\n      return {\n        left : Math.round(rect.left),\n        top : Math.round(rect.top)\n      };\n    },\n\n\n    /**\n     * Computes the location of the given element in context of\n     * the document dimensions.\n     *\n     * Supported modes:\n     *\n     * * <code>margin</code>: Calculate from the margin box of the element (bigger than the visual appearance: including margins of given element)\n     * * <code>box</code>: Calculates the offset box of the element (default, uses the same size as visible)\n     * * <code>border</code>: Calculate the border box (useful to align to border edges of two elements).\n     * * <code>scroll</code>: Calculate the scroll box (relevant for absolute positioned content).\n     * * <code>padding</code>: Calculate the padding box (relevant for static/relative positioned content).\n     *\n     * @param elem {Element} DOM element to query\n     * @param mode {String?box} A supported option. See comment above.\n     * @return {Map} Returns a map with <code>left</code>, <code>top</code>,\n     *   <code>right</code> and <code>bottom</code> which contains the distance\n     *   of the element relative to the document.\n     */\n    get : function(elem, mode)\n    {\n      if (elem.tagName == \"BODY\")\n      {\n        var location = this.__getBodyLocation(elem);\n        var left = location.left;\n        var top = location.top;\n      }\n      else\n      {\n        var body = this.__computeBody(elem);\n        var offset = this.__computeOffset(elem);\n        // Reduce by viewport scrolling.\n        // Hint: getBoundingClientRect returns the location of the\n        // element in relation to the viewport which includes\n        // the scrolling\n        var scroll = this.__computeScroll(elem);\n\n        var left = offset.left + body.left - scroll.left;\n        var top = offset.top + body.top - scroll.top;\n      }\n\n      var elementWidth;\n      var elementHeight;\n      if (elem instanceof SVGElement) {\n        var rect = elem.getBoundingClientRect();\n        elementWidth = rect.width;\n        elementHeight = rect.height;\n      }\n      else {\n        elementWidth = elem.offsetWidth;\n        elementHeight = elem.offsetHeight;\n      }\n\n      var right = left + elementWidth;\n      var bottom = top + elementHeight;\n\n      if (mode)\n      {\n        // In this modes we want the size as seen from a child what means that we want the full width/height\n        // which may be higher than the outer width/height when the element has scrollbars.\n        if (mode == \"padding\" || mode == \"scroll\")\n        {\n          var overX = qx.bom.element.Style.get(elem, \"overflowX\");\n          if (overX == \"scroll\" || overX == \"auto\") {\n            right += elem.scrollWidth - elementWidth + this.__num(elem, \"borderLeftWidth\") + this.__num(elem, \"borderRightWidth\");\n          }\n\n          var overY = qx.bom.element.Style.get(elem, \"overflowY\");\n          if (overY == \"scroll\" || overY == \"auto\") {\n            bottom += elem.scrollHeight - elementHeight + this.__num(elem, \"borderTopWidth\") + this.__num(elem, \"borderBottomWidth\");\n          }\n        }\n\n        switch(mode)\n        {\n          case \"padding\":\n            left += this.__num(elem, \"paddingLeft\");\n            top += this.__num(elem, \"paddingTop\");\n            right -= this.__num(elem, \"paddingRight\");\n            bottom -= this.__num(elem, \"paddingBottom\");\n            // no break here\n\n          case \"scroll\":\n            left -= elem.scrollLeft;\n            top -= elem.scrollTop;\n            right -= elem.scrollLeft;\n            bottom -= elem.scrollTop;\n            // no break here\n\n          case \"border\":\n            left += this.__num(elem, \"borderLeftWidth\");\n            top += this.__num(elem, \"borderTopWidth\");\n            right -= this.__num(elem, \"borderRightWidth\");\n            bottom -= this.__num(elem, \"borderBottomWidth\");\n            break;\n\n          case \"margin\":\n            left -= this.__num(elem, \"marginLeft\");\n            top -= this.__num(elem, \"marginTop\");\n            right += this.__num(elem, \"marginRight\");\n            bottom += this.__num(elem, \"marginBottom\");\n            break;\n        }\n      }\n\n      return {\n        left : left,\n        top : top,\n        right : right,\n        bottom : bottom\n      };\n    },\n\n\n    /**\n     * Get the location of the body element relative to the document.\n     * @param body {Element} The body element.\n     * @return {Map} map with the keys <code>left</code> and <code>top</code>\n     */\n    __getBodyLocation : function(body)\n    {\n      var top = body.offsetTop;\n      var left = body.offsetLeft;\n\n      top += this.__num(body, \"marginTop\");\n      left += this.__num(body, \"marginLeft\");\n\n      if (qx.core.Environment.get(\"engine.name\") === \"gecko\") {\n        top += this.__num(body, \"borderLeftWidth\");\n        left +=this.__num(body, \"borderTopWidth\");\n      }\n\n      return {left: left, top: top};\n    },\n\n\n    /**\n     * Computes the location of the given element in context of\n     * the document dimensions. For supported modes please\n     * have a look at the {@link qx.bom.element.Location#get} method.\n     *\n     * @param elem {Element} DOM element to query\n     * @param mode {String} A supported option. See comment above.\n     * @return {Integer} The left distance\n     *   of the element relative to the document.\n     */\n    getLeft : function(elem, mode) {\n      return this.get(elem, mode).left;\n    },\n\n\n    /**\n     * Computes the location of the given element in context of\n     * the document dimensions. For supported modes please\n     * have a look at the {@link qx.bom.element.Location#get} method.\n     *\n     * @param elem {Element} DOM element to query\n     * @param mode {String} A supported option. See comment above.\n     * @return {Integer} The top distance\n     *   of the element relative to the document.\n     */\n    getTop : function(elem, mode) {\n      return this.get(elem, mode).top;\n    },\n\n\n    /**\n     * Computes the location of the given element in context of\n     * the document dimensions. For supported modes please\n     * have a look at the {@link qx.bom.element.Location#get} method.\n     *\n     * @param elem {Element} DOM element to query\n     * @param mode {String} A supported option. See comment above.\n     * @return {Integer} The right distance\n     *   of the element relative to the document.\n     */\n    getRight : function(elem, mode) {\n      return this.get(elem, mode).right;\n    },\n\n\n    /**\n     * Computes the location of the given element in context of\n     * the document dimensions. For supported modes please\n     * have a look at the {@link qx.bom.element.Location#get} method.\n     *\n     * @param elem {Element} DOM element to query\n     * @param mode {String} A supported option. See comment above.\n     * @return {Integer} The bottom distance\n     *   of the element relative to the document.\n     */\n    getBottom : function(elem, mode) {\n      return this.get(elem, mode).bottom;\n    },\n\n\n    /**\n     * Returns the distance between two DOM elements. For supported modes please\n     * have a look at the {@link qx.bom.element.Location#get} method.\n     *\n     * @param elem1 {Element} First element\n     * @param elem2 {Element} Second element\n     * @param mode1 {String?null} Mode for first element\n     * @param mode2 {String?null} Mode for second element\n     * @return {Map} Returns a map with <code>left</code> and <code>top</code>\n     *   which contains the distance of the elements from each other.\n     */\n    getRelative : function(elem1, elem2, mode1, mode2)\n    {\n      var loc1 = this.get(elem1, mode1);\n      var loc2 = this.get(elem2, mode2);\n\n      return {\n        left : loc1.left - loc2.left,\n        top : loc1.top - loc2.top,\n        right : loc1.right - loc2.right,\n        bottom : loc1.bottom - loc2.bottom\n      };\n    },\n\n\n    /**\n     * Returns the distance between the given element to its offset parent.\n     *\n     * @param elem {Element} DOM element to query\n     * @return {Map} Returns a map with <code>left</code> and <code>top</code>\n     *   which contains the distance of the elements from each other.\n     */\n    getPosition: function(elem) {\n      return this.getRelative(elem, this.getOffsetParent(elem));\n    },\n\n\n    /**\n     * Detects the offset parent of the given element\n     *\n     * @param element {Element} Element to query for offset parent\n     * @return {Element} Detected offset parent\n     */\n    getOffsetParent : function(element)\n    {\n      // Ther is no offsetParent for SVG elements\n      if (element instanceof SVGElement) {\n        return document.body;\n      }\n\n      var offsetParent = element.offsetParent || document.body;\n      var Style = qx.bom.element.Style;\n\n      while (offsetParent && (!/^body|html$/i.test(offsetParent.tagName) && Style.get(offsetParent, \"position\") === \"static\")) {\n        offsetParent = offsetParent.offsetParent;\n      }\n\n      return offsetParent;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * The DisposeQueue registers all widgets which are should be disposed.\n * This queue makes it possible to remove widgets from the DOM using\n * the layout and element queues and dispose them afterwards.\n */\nqx.Class.define(\"qx.ui.core.queue.Dispose\",\n{\n  statics :\n  {\n    /** @type {Array} This contains all the queued widgets for the next flush. */\n    __queue : [],\n\n\n    /**\n     * Adds a widget to the queue.\n     *\n     * Should only be used by {@link qx.ui.core.Widget}.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to add.\n     */\n    add : function(widget)\n    {\n      var queue = this.__queue;\n      if (queue.includes(widget)) {\n        return;\n      }\n\n      queue.unshift(widget);\n      qx.ui.core.queue.Manager.scheduleFlush(\"dispose\");\n    },\n\n\n    /**\n     * Whether the dispose queue is empty\n     * @return {Boolean}\n     * @internal\n     */\n    isEmpty : function()\n    {\n      return this.__queue.length == 0;\n    },\n\n\n    /**\n     * Flushes the dispose queue.\n     *\n     * This is used exclusively by the {@link qx.ui.core.queue.Manager}.\n     */\n    flush : function()\n    {\n      // Dispose all registered objects\n      var queue = this.__queue;\n      for (var i = queue.length - 1; i >= 0; i--)\n      {\n        var widget = queue[i];\n        queue.splice(i, 1);\n        widget.dispose();\n      }\n\n      // Empty check\n      if (queue.length != 0) {\n        return;\n      }\n\n      // Recreate the array is cheaper compared to keep a sparse array over time\n      this.__queue = [];\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n     * Mustafa Sak (msak)\n\n************************************************************************ */\n\n/**\n * The widget queue handles the deferred computation of certain widget properties.\n * It is used e.g. for the tree to update the indentation of tree nodes.\n *\n * This queue calls the method {@link qx.ui.core.Widget#syncWidget} of each\n * queued widget before the layout queues are processed.\n */\nqx.Class.define(\"qx.ui.core.queue.Widget\",\n{\n  statics :\n  {\n    /** @type {Array} This contains all the queued widgets for the next flush. */\n    __queue : [],\n\n\n    /**\n     * @type {Object} This contains a map of widgets hash ($$hash) and their\n     * corresponding map of jobs.\n     */\n    __jobs : {},\n\n\n    /**\n     * Clears given job of a widget from the internal queue. If no jobs left, the\n     * widget will be removed completely from queue. If job param is <code>null</code>\n     * or <code>undefined</code> widget will be removed completely from queue.\n     * Normally only used during interims disposes of one or a few widgets.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to clear\n     * @param job {String?} Job identifier. If not used, it will be converted to\n     * \"$$default\".\n     */\n    remove : function(widget, job)\n    {\n      var queue = this.__queue;\n\n      if (!queue.includes(widget)) {\n        return;\n      }\n\n      var hash = widget.toHashCode();\n\n      // remove widget and all corresponding jobs, if job param is not given.\n      if(job == null) {\n         qx.lang.Array.remove(queue, widget);\n         delete this.__jobs[hash];\n         return;\n      }\n\n      if (this.__jobs[hash])\n      {\n        delete this.__jobs[hash][job];\n\n        if(qx.lang.Object.getLength(this.__jobs[hash]) == 0) {\n          qx.lang.Array.remove(queue, widget);\n        }\n      }\n    },\n\n\n    /**\n     * Adds a widget to the queue. The second param can be used to identify\n     * several jobs. You can add one job at once, which will be returned as\n     * an map at flushing on method {@link qx.ui.core.Widget#syncWidget}.\n     *\n     * @param widget {qx.ui.core.Widget} The widget to add.\n     * @param job {String?} Job identifier. If not used, it will be converted to\n     * \"$$default\".\n     */\n    add : function(widget, job)\n    {\n      var queue = this.__queue;\n      //add widget if not containing\n      if (!queue.includes(widget)){\n        queue.unshift(widget);\n      }\n\n      //add job\n      if (job == null) {\n        job = \"$$default\";\n      }\n      var hash = widget.toHashCode();\n      if (!this.__jobs[hash]) {\n        this.__jobs[hash] = {};\n      }\n      this.__jobs[hash][job] = true;\n\n      qx.ui.core.queue.Manager.scheduleFlush(\"widget\");\n    },\n\n\n    /**\n     * Flushes the widget queue.\n     *\n     * This is used exclusively by the {@link qx.ui.core.queue.Manager}.\n     */\n    flush : function()\n    {\n      // Process all registered widgets\n      var queue = this.__queue;\n      var obj, jobs;\n      for (var i = queue.length - 1 ; i >= 0; i--)\n      {\n        // Order is important to allow the same widget to be requeued directly\n        obj = queue[i];\n        jobs = this.__jobs[obj.toHashCode()];\n\n        queue.splice(i, 1);\n        obj.syncWidget(jobs);\n      }\n\n      // Empty check\n      if (queue.length != 0) {\n        return;\n      }\n\n      // Recreate the array is cheaper compared to keep a sparse array over time\n      this.__queue = [];\n      this.__jobs = {};\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * Manager for font themes\n * \n * NOTE: Instances of this class must be disposed of after use\n *\n * @ignore(qx.$$fontBootstrap)\n */\nqx.Class.define(\"qx.theme.manager.Font\",\n{\n  type : \"singleton\",\n  extend : qx.util.ValueManager,\n  implement : [ qx.core.IDisposable ],\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    // Grab bootstrap info\n    if (qx.$$fontBootstrap) {\n      this._manifestFonts = qx.$$fontBootstrap;\n      delete qx.$$fontBootstrap;\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /** the currently selected font theme */\n    theme :\n    {\n      check : \"Theme\",\n      nullable : true,\n      apply : \"_applyTheme\",\n      event : \"changeTheme\"\n    }\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    _manifestFonts : null,\n\n    /**\n     * Returns the dynamically interpreted result for the incoming value\n     *\n     * @param value {String} dynamically interpreted identifier\n     * @return {var} return the (translated) result of the incoming value\n     */\n    resolveDynamic : function(value)\n    {\n      var dynamic = this._dynamic;\n      return value instanceof qx.bom.Font ? value : dynamic[value];\n    },\n\n\n    /**\n     * Returns the dynamically interpreted result for the incoming value,\n     * (if available), otherwise returns the original value\n     * @param value {String} Value to resolve\n     * @return {var} either returns the (translated) result of the incoming\n     * value or the value itself\n     */\n    resolve : function(value)\n    {\n      var cache = this._dynamic;\n      var resolved = cache[value];\n\n      if (resolved) {\n        return resolved;\n      }\n\n      // If the font instance is not yet cached create a new one to return\n      // This is true whenever a runtime include occurred (using \"qx.Theme.include\"\n      // or \"qx.Theme.patch\"), since these methods only merging the keys of\n      // the theme and are not updating the cache\n      var theme = this.getTheme();\n      if (theme !== null && theme.fonts[value])\n      {\n        var font = this.__getFontClass(theme.fonts[value]);\n        var fo = (new font);\n\n        // Inject information about custom charcter set tests before we apply the\n        // complete blob in one.\n        if (theme.fonts[value].comparisonString) {\n          fo.setComparisonString(theme.fonts[value].comparisonString);\n        }\n\n        return cache[value] = fo.set(theme.fonts[value]);\n      }\n\n      return value;\n    },\n\n\n    /**\n     * Whether a value is interpreted dynamically\n     *\n     * @param value {String} dynamically interpreted identifier\n     * @return {Boolean} returns true if the value is interpreted dynamically\n     */\n    isDynamic : function(value)\n    {\n      var cache = this._dynamic;\n\n      if (value && (value instanceof qx.bom.Font || cache[value] !== undefined))\n      {\n        return true;\n      }\n\n      // If the font instance is not yet cached create a new one to return\n      // This is true whenever a runtime include occurred (using \"qx.Theme.include\"\n      // or \"qx.Theme.patch\"), since these methods only merging the keys of\n      // the theme and are not updating the cache\n      var theme = this.getTheme();\n      if (theme !== null && value && theme.fonts[value])\n      {\n        var font = this.__getFontClass(theme.fonts[value]);\n        var fo = (new font);\n\n        // Inject information about custom charcter set tests before we apply the\n        // complete blob in one.\n        if (theme.fonts[value].comparisonString) {\n          fo.setComparisonString(theme.fonts[value].comparisonString);\n        }\n\n        cache[value] = fo.set(theme.fonts[value]);\n        return true;\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Checks for includes and resolves them recursively\n     *\n     * @param fonts {Map} all fonts of the theme\n     * @param fontName {String} font name to include\n     */\n    __resolveInclude : function(fonts, fontName)\n    {\n      if (fonts[fontName].include)\n      {\n        // get font infos out of the font theme\n        var fontToInclude = fonts[fonts[fontName].include];\n\n        // delete 'include' key - not part of the merge\n        fonts[fontName].include = null;\n        delete fonts[fontName].include;\n\n        fonts[fontName] = qx.lang.Object.mergeWith(fonts[fontName], fontToInclude, false);\n\n        this.__resolveInclude(fonts, fontName);\n      }\n    },\n\n\n    // apply method\n    _applyTheme : function(value)\n    {\n      var dest = this._dynamic;\n\n      for (var key in dest)\n      {\n        if (dest[key].themed)\n        {\n          dest[key].dispose();\n          delete dest[key];\n        }\n      }\n\n      if (value)\n      {\n        var source = this._manifestFonts ? Object.assign(value.fonts, this._manifestFonts) : value.fonts;\n\n        for (var key in source)\n        {\n          if (source[key].include && source[source[key].include]) {\n            this.__resolveInclude(source, key);\n          }\n\n          var font = this.__getFontClass(source[key]);\n          var fo = (new font);\n\n          // Inject information about custom charcter set tests before we apply the\n          // complete blob in one.\n          if (source[key].comparisonString) {\n            fo.setComparisonString(source[key].comparisonString);\n          }\n\n          dest[key] = fo.set(source[key]);\n          dest[key].themed = true;\n        }\n      }\n      this._setDynamic(dest);\n    },\n\n    /**\n     * Decides which Font class should be used based on the theme configuration\n     *\n     * @param config {Map} The font's configuration map\n     * @return {Class}\n     */\n    __getFontClass : function(config)\n    {\n      if (config.sources) {\n        return qx.bom.webfonts.WebFont;\n      }\n      return qx.bom.Font;\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function() {\n    this._disposeMap(\"_dynamic\");\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * Manager for icon themes\n */\nqx.Class.define(\"qx.theme.manager.Icon\",\n{\n  type : \"singleton\",\n  extend : qx.core.Object,\n\n\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /** currently used icon theme */\n    theme :\n    {\n      check : \"Theme\",\n      nullable : true,\n      apply : \"_applyTheme\",\n      event : \"changeTheme\"\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    // property apply\n    _applyTheme : function(value, old)\n    {\n      var aliasManager = qx.util.AliasManager.getInstance();\n\n      if (old)\n      {\n        for (var alias in old.aliases) {\n          aliasManager.remove(alias);\n        }\n      }\n\n      if (value)\n      {\n        for (var alias in value.aliases) {\n          aliasManager.add(alias, value.aliases[alias]);\n        }\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * Theme classes contain styling information for certain aspects of the\n * graphical user interface.\n *\n * Supported themes are: colors, decorations, fonts, icons, appearances.\n * The additional meta theme allows for grouping of the individual\n * themes.\n *\n * For more details, take a look at the\n * <a href='http://manual.qooxdoo.org/${qxversion}/pages/desktop/ui_theming.html' target='_blank'>\n * documentation of the theme system in the qooxdoo manual.</a>\n */\nqx.Bootstrap.define(\"qx.Theme\",\n{\n  statics:\n  {\n    /*\n    ---------------------------------------------------------------------------\n       PUBLIC API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Theme config\n     *\n     * Example:\n     * <pre class='javascript'>\n     * qx.Theme.define(\"name\",\n     * {\n     *   aliases : {\n     *     \"aliasKey\" : \"resourceFolderOrUri\"\n     *   },\n     *   extend : otherTheme,\n     *   include : [MMixinTheme],\n     *   patch : [MMixinTheme],\n     *   colors : {},\n     *   decorations : {},\n     *   fonts : {},\n     *   widgets : {},\n     *   appearances : {},\n     *   meta : {},\n     *   boot : function(){}\n     * });\n     * </pre>\n     *\n     * For more details, take a look at the\n     * <a href='http://manual.qooxdoo.org/${qxversion}/pages/desktop/ui_theming.html' target='_blank'>\n     * documentation of the theme system in the qooxdoo manual.</a>\n     *\n     * @param name {String} name of the mixin\n     * @param config {Map} config structure\n     */\n    define : function(name, config)\n    {\n      if (!config) {\n        var config = {};\n      }\n\n      config.include = this.__normalizeArray(config.include);\n      config.patch = this.__normalizeArray(config.patch);\n\n      // Validate incoming data\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.__validateConfig(name, config);\n      }\n\n      // Create alias\n      var theme =\n      {\n        $$type : \"Theme\",\n        name : name,\n        title : config.title,\n\n        // Attach toString\n        toString : this.genericToString\n      };\n\n      // Remember extend\n      if (config.extend) {\n        theme.supertheme = config.extend;\n      }\n\n      // Assign to namespace\n      theme.basename = qx.Bootstrap.createNamespace(name, theme);\n\n      // Convert theme entry from Object to Function (for prototype inheritance)\n      this.__convert(theme, config);\n\n      this.__initializeAliases(theme, config);\n\n      // Store class reference in global class registry\n      this.$$registry[name] = theme;\n\n      // Include mixin themes\n      for (var i=0, a=config.include, l=a.length; i<l; i++) {\n        this.include(theme, a[i]);\n      }\n\n      for (var i=0, a=config.patch, l=a.length; i<l; i++) {\n        this.patch(theme, a[i]);\n      }\n      \n      // Run boot code\n      if (config.boot) {\n      \tconfig.boot();\n      }\n    },\n\n    /**\n     * Normalize an object to an array\n     *\n     * @param objectOrArray {Object|Array} Either an object that is to be\n     *   normalized to an array, or an array, which is just passed through\n     *\n     * @return {Array} Either an array that has the original object as its\n     *   single item, or the original array itself\n     */\n    __normalizeArray : function(objectOrArray)\n    {\n      if (!objectOrArray) {\n        return [];\n      }\n\n      if (qx.Bootstrap.isArray(objectOrArray)) {\n        return objectOrArray;\n      } else {\n        return [objectOrArray];\n      }\n    },\n\n\n    /**\n     * Initialize alias inheritance\n     *\n     * @param theme {Map} The theme\n     * @param config {Map} config structure\n     */\n    __initializeAliases : function(theme, config)\n    {\n      var aliases = config.aliases || {};\n      if (config.extend && config.extend.aliases) {\n        qx.Bootstrap.objectMergeWith(aliases, config.extend.aliases, false);\n      }\n\n      theme.aliases = aliases;\n    },\n\n\n    /**\n     * Return a map of all known themes\n     *\n     * @return {Map} known themes\n     */\n    getAll : function() {\n      return this.$$registry;\n    },\n\n\n    /**\n     * Returns a theme by name\n     *\n     * @param name {String} theme name to check\n     * @return {Object ? void} theme object\n     */\n    getByName : function(name) {\n      return this.$$registry[name];\n    },\n\n\n    /**\n     * Determine if theme exists\n     *\n     * @param name {String} theme name to check\n     * @return {Boolean} true if theme exists\n     */\n    isDefined : function(name) {\n      return this.getByName(name) !== undefined;\n    },\n\n\n    /**\n     * Determine the number of themes which are defined\n     *\n     * @return {Number} the number of classes\n     */\n    getTotalNumber : function() {\n      return qx.Bootstrap.objectGetLength(this.$$registry);\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n       PRIVATE/INTERNAL API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * This method will be attached to all themes to return\n     * a nice identifier for them.\n     *\n     * @internal\n     * @return {String} The interface identifier\n     */\n    genericToString : function() {\n      return \"[Theme \" + this.name + \"]\";\n    },\n\n\n    /**\n     * Extract the inheritable key (could be only one)\n     *\n     * @param config {Map} The map from where to extract the key\n     * @return {String} the key which was found\n     */\n    __extractType : function(config)\n    {\n      for (var i=0, keys=this.__inheritableKeys, l=keys.length; i<l; i++)\n      {\n        if (config[keys[i]]) {\n          return keys[i];\n        }\n      }\n    },\n\n\n    /**\n     * Convert existing entry to a prototype based inheritance function\n     *\n     * @param theme {Theme} newly created theme object\n     * @param config {Map} incoming theme configuration\n     */\n    __convert : function(theme, config)\n    {\n      var type = this.__extractType(config);\n\n      // Use theme key from extended theme if own one is not available\n      if (config.extend && !type) {\n        type = config.extend.type;\n      }\n\n      // Save theme type\n      theme.type = type || \"other\";\n\n      // Create pseudo class\n      var clazz = function() {};\n\n      // Process extend config\n      if (config.extend) {\n        clazz.prototype = new config.extend.$$clazz;\n      }\n\n      var target = clazz.prototype;\n      var source = config[type];\n\n      // Copy entries to prototype\n      for (var id in source)\n      {\n        target[id] = source[id];\n\n        // Appearance themes only:\n        // Convert base flag to class reference (needed for mixin support)\n        if (target[id].base)\n        {\n          if (qx.core.Environment.get(\"qx.debug\"))\n          {\n            if (!config.extend) {\n              throw new Error(\"Found base flag in entry '\" + id + \"' of theme '\" + config.name + \"'. Base flags are not allowed for themes without a valid super theme!\");\n            }\n          }\n\n          target[id].base = config.extend;\n        }\n      }\n\n      // store pseudo class\n      theme.$$clazz = clazz;\n\n      // and create instance under the old key\n      theme[type] = new clazz;\n    },\n\n\n    /** @type {Map} Internal theme registry */\n    $$registry : {},\n\n\n    /** @type {Array} Keys which support inheritance */\n    __inheritableKeys : [ \"colors\", \"borders\", \"decorations\", \"fonts\", \"icons\", \"widgets\", \"appearances\", \"meta\" ],\n\n\n    /** @type {Map} allowed keys in theme definition */\n    __allowedKeys : qx.core.Environment.select(\"qx.debug\",\n    {\n      \"true\":\n      {\n        \"title\"       : \"string\", // String\n        \"aliases\"     : \"object\", // Map\n        \"type\"        : \"string\", // String\n        \"extend\"      : \"object\", // Theme\n        \"colors\"      : \"object\", // Map\n        \"borders\"     : \"object\", // Map\n        \"decorations\" : \"object\", // Map\n        \"fonts\"       : \"object\", // Map\n        \"icons\"       : \"object\", // Map\n        \"widgets\"     : \"object\", // Map\n        \"appearances\" : \"object\", // Map\n        \"meta\"        : \"object\", // Map\n        \"include\"     : \"object\", // Array\n        \"patch\"       : \"object\", // Array\n        \"boot\"        : \"function\" // Function\n      },\n\n      \"default\" : null\n    }),\n\n    /** @type {Map} allowed keys inside a meta theme block */\n    __metaKeys :qx.core.Environment.select(\"qx.debug\",\n    {\n      \"true\":\n      {\n        \"color\" : \"object\",\n        \"border\" : \"object\",\n        \"decoration\" : \"object\",\n        \"font\" : \"object\",\n        \"icon\" : \"object\",\n        \"appearance\" : \"object\",\n        \"widget\" : \"object\"\n      },\n\n      \"default\" : null\n    }),\n\n    /**\n     * Validates incoming configuration and checks keys and values\n     *\n     * @signature function(name, config)\n     * @param name {String} The name of the class\n     * @param config {Map} Configuration map\n     * @throws {Error} if the given config is not valid (e.g. wrong key or wrong key value)\n     */\n    __validateConfig : qx.core.Environment.select(\"qx.debug\",\n    {\n      \"true\": function(name, config)\n      {\n        var allowed = this.__allowedKeys;\n        for (var key in config)\n        {\n          if (allowed[key] === undefined) {\n            throw new Error('The configuration key \"' + key + '\" in theme \"' + name + '\" is not allowed!');\n          }\n\n          if (config[key] == null) {\n            throw new Error('Invalid key \"' + key + '\" in theme \"' + name + '\"! The value is undefined/null!');\n          }\n\n          if (allowed[key] !== null && typeof config[key] !== allowed[key]) {\n            throw new Error('Invalid type of key \"' + key + '\" in theme \"' + name + '\"! The type of the key must be \"' + allowed[key] + '\"!');\n          }\n        }\n\n        // Validate maps\n        var maps = [ \"colors\", \"borders\", \"decorations\", \"fonts\", \"icons\", \"widgets\", \"appearances\", \"meta\" ];\n        for (var i=0, l=maps.length; i<l; i++)\n        {\n          var key = maps[i];\n\n          if (config[key] !== undefined && (config[key] instanceof Array || config[key] instanceof RegExp || config[key] instanceof Date || config[key].classname !== undefined)) {\n            throw new Error('Invalid key \"' + key + '\" in theme \"' + name + '\"! The value needs to be a map!');\n          }\n        }\n\n        // Check conflicts (detect number ...)\n        var counter = 0;\n        for (var i=0, l=maps.length; i<l; i++)\n        {\n          var key = maps[i];\n\n          if (config[key]) {\n            counter++;\n          }\n\n          if (counter > 1) {\n            throw new Error(\"You can only define one theme category per file! Invalid theme: \" + name);\n          }\n        }\n\n        // Validate meta\n        if (config.meta)\n        {\n          var value;\n          for (var key in config.meta)\n          {\n            value = config.meta[key];\n\n            if (this.__metaKeys[key] === undefined) {\n              throw new Error('The key \"' + key + '\" is not allowed inside a meta theme block.');\n            }\n\n            if (typeof value !== this.__metaKeys[key]) {\n              throw new Error('The type of the key \"' + key + '\" inside the meta block is wrong.');\n            }\n\n            if (!(typeof value === \"object\" && value !== null && value.$$type === \"Theme\")) {\n              throw new Error('The content of a meta theme must reference to other themes. The value for \"' + key + '\" in theme \"' + name + '\" is invalid: ' + value);\n            }\n          }\n        }\n\n        // Validate extend\n        if (config.extend && config.extend.$$type !== \"Theme\") {\n          throw new Error('Invalid extend in theme \"' + name + '\": ' + config.extend);\n        }\n\n        // Validate include\n        if (config.include) {\n          for (var i=0,l=config.include.length; i<l; i++) {\n            if (typeof(config.include[i]) == \"undefined\" || config.include[i].$$type !== \"Theme\") {\n              throw new Error('Invalid include in theme \"' + name + '\": ' + config.include[i]);\n            }\n          }\n        }\n\n        // Validate patch\n        if (config.patch) {\n          for (var i=0,l=config.patch.length; i<l; i++) {\n            if (typeof(config.patch[i]) === \"undefined\" || config.patch[i].$$type !== \"Theme\") {\n              throw new Error('Invalid patch in theme \"' + name + '\": ' + config.patch[i]);\n            }\n          }\n        }\n      },\n\n      \"default\" : function() {}\n    }),\n\n\n    /**\n     * Include all keys of the given mixin theme into the theme. The mixin may\n     * include keys which are already defined in the target theme. Existing\n     * features of equal name will be overwritten.\n     *\n     * @param theme {Theme} An existing theme which should be modified by including the mixin theme.\n     * @param mixinTheme {Theme} The theme to be included.\n     */\n    patch : function(theme, mixinTheme)\n    {\n      this.__checkForInvalidTheme(mixinTheme);\n\n      var type = this.__extractType(mixinTheme);\n      if (type !== this.__extractType(theme)) {\n        throw new Error(\"The mixins '\" + theme.name + \"' are not compatible '\" + mixinTheme.name + \"'!\");\n      }\n\n      var source = mixinTheme[type];\n      var target = theme.$$clazz.prototype;\n\n      for (var key in source) {\n        target[key] = source[key];\n      }\n    },\n\n\n    /**\n     * Include all keys of the given mixin theme into the theme. If the\n     * mixin includes any keys that are already available in the\n     * class, they will be silently ignored. Use the {@link #patch} method\n     * if you need to overwrite keys in the current class.\n     *\n     * @param theme {Theme} An existing theme which should be modified by including the mixin theme.\n     * @param mixinTheme {Theme} The theme to be included.\n     */\n    include : function(theme, mixinTheme)\n    {\n      this.__checkForInvalidTheme(mixinTheme);\n\n      var type = mixinTheme.type;\n      if (type !== theme.type) {\n        throw new Error(\"The mixins '\" + theme.name + \"' are not compatible '\" + mixinTheme.name + \"'!\");\n      }\n\n      var source = mixinTheme[type];\n      var target = theme.$$clazz.prototype;\n\n      for (var key in source)\n      {\n        //Skip keys already present\n        if (target[key] !== undefined) {\n          continue;\n        }\n\n        target[key] = source[key];\n      }\n    },\n\n    /**\n     * Helper method to check for an invalid theme\n     *\n     * @param mixinTheme {qx.Theme?null} theme to check\n     * @throws {Error} if the theme is not valid\n     */\n    __checkForInvalidTheme: function(mixinTheme)\n    {\n      if (typeof mixinTheme === \"undefined\" || mixinTheme == null)\n      {\n        var errorObj = new Error(\"Mixin theme is not a valid theme!\");\n\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          var stackTrace = qx.dev.StackTrace.getStackTraceFromError(errorObj);\n          qx.Bootstrap.error(this, stackTrace);\n        }\n\n        throw errorObj;\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Static class that provides localized date information (like names of week\n * days, AM/PM markers, start of week, etc.).\n *\n * @cldr()\n */\nqx.Class.define(\"qx.locale.Date\",\n{\n  statics :\n  {\n    /**\n     * Reference to the locale manager.\n     *\n     * @internal\n     */\n    __mgr : qx.locale.Manager.getInstance(),\n\n\n    /**\n     * Get AM marker for time definitions\n     *\n     * @param locale {String} optional locale to be used\n     * @return {String} translated AM marker.\n     */\n    getAmMarker : function(locale) {\n      return this.__mgr.localize(\"cldr_am\", [], locale);\n    },\n\n\n    /**\n     * Get PM marker for time definitions\n     *\n     * @param locale {String} optional locale to be used\n     * @return {String} translated PM marker.\n     */\n    getPmMarker : function(locale) {\n      return this.__mgr.localize(\"cldr_pm\", [], locale);\n    },\n\n\n    /**\n     * Return localized names of day names\n     *\n     * @param length {String} format of the day names.\n     *       Possible values: \"abbreviated\", \"narrow\", \"wide\"\n     * @param locale {String} optional locale to be used\n     * @param context {String} (default: \"format\") intended context.\n     *       Possible values: \"format\", \"stand-alone\"\n     * @param withFallback {Boolean?} if true, the previous parameter's other value is tried\n     * in order to find a localized name for the day\n     * @return {String[]} array of localized day names starting with sunday.\n     */\n    getDayNames : function(length, locale, context, withFallback)\n    {\n      var context = context ? context : \"format\";\n\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert.assertInArray(length, [\"abbreviated\", \"narrow\", \"wide\"]);\n        qx.core.Assert.assertInArray(context, [\"format\", \"stand-alone\"]);\n      }\n\n      var days = [ \"sun\", \"mon\", \"tue\", \"wed\", \"thu\", \"fri\", \"sat\" ];\n\n      var names = [];\n\n      for (var i=0; i<days.length; i++)\n      {\n        var key = \"cldr_day_\" + context + \"_\" + length + \"_\" + days[i];\n        names.push(withFallback ? this.__localizeWithFallback(context, context === 'format' ? 'stand-alone' : 'format', key, locale) : this.__mgr.localize(key, [], locale));\n      }\n\n      return names;\n    },\n\n\n    /**\n     * Return localized name of a week day name\n     *\n     * @param length {String} format of the day name.\n     *       Possible values: \"abbreviated\", \"narrow\", \"wide\"\n     * @param day {Integer} day number. 0=sunday, 1=monday, ...\n     * @param locale {String} optional locale to be used\n     * @param context {String} (default: \"format\") intended context.\n     *       Possible values: \"format\", \"stand-alone\"\n     * @param withFallback {Boolean?} if true, the previous parameter's other value is tried\n     * in order to find a localized name for the day\n     * @return {String} localized day name\n     */\n    getDayName : function(length, day, locale, context, withFallback)\n    {\n      var context = context ? context : \"format\";\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        qx.core.Assert.assertInArray(length, [\"abbreviated\", \"narrow\", \"wide\"]);\n        qx.core.Assert.assertInteger(day);\n        qx.core.Assert.assertInRange(day, 0, 6);\n        qx.core.Assert.assertInArray(context, [\"format\", \"stand-alone\"]);\n      }\n\n      var days = [ \"sun\", \"mon\", \"tue\", \"wed\", \"thu\", \"fri\", \"sat\" ];\n\n      var key = \"cldr_day_\" + context + \"_\" + length + \"_\" + days[day];\n      return withFallback ? this.__localizeWithFallback(context, context === 'format' ? 'stand-alone' : 'format', key, locale) : this.__mgr.localize(key, [], locale);\n    },\n\n\n    /**\n     * Return localized names of month names\n     *\n     * @param length {String} format of the month names.\n     *       Possible values: \"abbreviated\", \"narrow\", \"wide\"\n     * @param locale {String} optional locale to be used\n     * @param context {String} (default: \"format\") intended context.\n     *       Possible values: \"format\", \"stand-alone\"\n     * @param withFallback {Boolean?} if true, the previous parameter's other value is tried\n     * in order to find a localized name for the month\n     * @return {String[]} array of localized month names starting with january.\n     */\n    getMonthNames : function(length, locale, context, withFallback)\n    {\n      var context = context ? context : \"format\";\n\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert.assertInArray(length, [\"abbreviated\", \"narrow\", \"wide\"]);\n        qx.core.Assert.assertInArray(context, [\"format\", \"stand-alone\"]);\n      }\n\n      var names = [];\n\n      for (var i=0; i<12; i++)\n      {\n        var key = \"cldr_month_\" + context + \"_\" + length + \"_\" + (i + 1);\n        names.push(withFallback ? this.__localizeWithFallback(context, context === 'format' ? 'stand-alone' : 'format', key, locale) : this.__mgr.localize(key, [], locale));\n      }\n\n      return names;\n    },\n\n\n    /**\n     * Return localized name of a month\n     *\n     * @param length {String} format of the month names.\n     *       Possible values: \"abbreviated\", \"narrow\", \"wide\"\n     * @param month {Integer} index of the month. 0=january, 1=february, ...\n     * @param locale {String} optional locale to be used\n     * @param context {String} (default: \"format\") intended context.\n     *       Possible values: \"format\", \"stand-alone\"\n     * @param withFallback {Boolean?} if true, the previous parameter's other value is tried\n     * in order to find a localized name for the month\n     * @return {String} localized month name\n     */\n    getMonthName : function(length, month, locale, context, withFallback)\n    {\n      var context = context ? context : \"format\";\n\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert.assertInArray(length, [\"abbreviated\", \"narrow\", \"wide\"]);\n        qx.core.Assert.assertInArray(context, [\"format\", \"stand-alone\"]);\n      }\n\n      var key = \"cldr_month_\" + context + \"_\" + length + \"_\" + (month + 1);\n      return withFallback ? this.__localizeWithFallback(context, context === 'format' ? 'stand-alone' : 'format', key, locale) : this.__mgr.localize(key, [], locale);\n    },\n\n\n    /**\n     * Return localized date format string to be used with {@link qx.util.format.DateFormat}.\n     *\n     * @param size {String} format of the date format.\n     *      Possible values: \"short\", \"medium\", \"long\", \"full\"\n     * @param locale {String?} optional locale to be used\n     * @return {String} localized date format string\n     */\n    getDateFormat : function(size, locale)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert.assertInArray(size, [\"short\", \"medium\", \"long\", \"full\"]);\n      }\n\n      var key = \"cldr_date_format_\" + size;\n      return this.__mgr.localize(key, [], locale);\n    },\n\n\n    /**\n     * Try to localize a date/time format string. For format string possibilities see\n     * <a href=\"http://cldr.unicode.org/translation/date-time\">Date/Time Symbol reference</a>\n     * at CLDR - Unicode Common Locale Data Repository.\n     *\n     * If no localization is available take the fallback format string.\n     *\n     * @param canonical {String} format string containing only field information, and in a canonical order.\n     *       Examples are \"yyyyMMMM\" for year + full month, or \"MMMd\" for abbreviated month + day.\n     * @param fallback {String} fallback format string if no localized version is found\n     * @param locale {String} optional locale to be used\n     * @return {String} best matching format string\n     */\n    getDateTimeFormat : function(canonical, fallback, locale)\n    {\n      var key = \"cldr_date_time_format_\" + canonical;\n      var localizedFormat = this.__mgr.localize(key, [], locale);\n\n      if (localizedFormat == key) {\n        localizedFormat = fallback;\n      }\n\n      return localizedFormat;\n    },\n\n\n    /**\n     * Return localized time format string to be used with {@link qx.util.format.DateFormat}.\n     *\n     * @param size {String} format of the time pattern.\n     *      Possible values: \"short\", \"medium\", \"long\", \"full\"\n     * @param locale {String} optional locale to be used\n     * @return {String} localized time format string\n     */\n    getTimeFormat : function(size, locale)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert.assertInArray(size, [\"short\", \"medium\", \"long\", \"full\"]);\n      }\n\n      var key = \"cldr_time_format_\" + size;\n      var localizedFormat = this.__mgr.localize(key, [], locale);\n\n      if (localizedFormat != key) {\n        return localizedFormat;\n      }\n\n      switch(size)\n      {\n        case \"short\":\n        case \"medium\":\n          return qx.locale.Date.getDateTimeFormat(\"HHmm\", \"HH:mm\");\n\n        case \"long\":\n          return qx.locale.Date.getDateTimeFormat(\"HHmmss\", \"HH:mm:ss\");\n\n        case \"full\":\n          return qx.locale.Date.getDateTimeFormat(\"HHmmsszz\", \"HH:mm:ss zz\");\n\n        default:\n          throw new Error(\"This case should never happen.\");\n      }\n    },\n\n\n    /**\n     * Return the day the week starts with\n     *\n     * Reference: Common Locale Data Repository (cldr) supplementalData.xml\n     *\n     * @param locale {String} optional locale to be used\n     * @return {Integer} index of the first day of the week. 0=sunday, 1=monday, ...\n     */\n    getWeekStart : function(locale)\n    {\n      var weekStart =\n      {\n        // default is monday\n        \"MV\" : 5, // friday\n        \"AE\" : 6, // saturday\n        \"AF\" : 6,\n        \"BH\" : 6,\n        \"DJ\" : 6,\n        \"DZ\" : 6,\n        \"EG\" : 6,\n        \"ER\" : 6,\n        \"ET\" : 6,\n        \"IQ\" : 6,\n        \"IR\" : 6,\n        \"JO\" : 6,\n        \"KE\" : 6,\n        \"KW\" : 6,\n        \"LB\" : 6,\n        \"LY\" : 6,\n        \"MA\" : 6,\n        \"OM\" : 6,\n        \"QA\" : 6,\n        \"SA\" : 6,\n        \"SD\" : 6,\n        \"SO\" : 6,\n        \"TN\" : 6,\n        \"YE\" : 6,\n        \"AS\" : 0, // sunday\n        \"AU\" : 0,\n        \"AZ\" : 0,\n        \"BW\" : 0,\n        \"CA\" : 0,\n        \"CN\" : 0,\n        \"FO\" : 0,\n        \"GE\" : 0,\n        \"GL\" : 0,\n        \"GU\" : 0,\n        \"HK\" : 0,\n        \"IE\" : 0,\n        \"IL\" : 0,\n        \"IS\" : 0,\n        \"JM\" : 0,\n        \"JP\" : 0,\n        \"KG\" : 0,\n        \"KR\" : 0,\n        \"LA\" : 0,\n        \"MH\" : 0,\n        \"MN\" : 0,\n        \"MO\" : 0,\n        \"MP\" : 0,\n        \"MT\" : 0,\n        \"NZ\" : 0,\n        \"PH\" : 0,\n        \"PK\" : 0,\n        \"SG\" : 0,\n        \"TH\" : 0,\n        \"TT\" : 0,\n        \"TW\" : 0,\n        \"UM\" : 0,\n        \"US\" : 0,\n        \"UZ\" : 0,\n        \"VI\" : 0,\n        \"ZA\" : 0,\n        \"ZW\" : 0,\n        \"MW\" : 0,\n        \"NG\" : 0,\n        \"TJ\" : 0\n      };\n\n      var territory = qx.locale.Date._getTerritory(locale);\n\n      // default is monday\n      return weekStart[territory] != null ? weekStart[territory] : 1;\n    },\n\n\n    /**\n     * Return the day the weekend starts with\n     *\n     * Reference: Common Locale Data Repository (cldr) supplementalData.xml\n     *\n     * @param locale {String} optional locale to be used\n     * @return {Integer} index of the first day of the weekend. 0=sunday, 1=monday, ...\n     */\n    getWeekendStart : function(locale)\n    {\n      var weekendStart =\n      {\n        // default is saturday\n        \"EG\" : 5, // friday\n        \"IL\" : 5,\n        \"SY\" : 5,\n        \"IN\" : 0, // sunday\n        \"AE\" : 4, // thursday\n        \"BH\" : 4,\n        \"DZ\" : 4,\n        \"IQ\" : 4,\n        \"JO\" : 4,\n        \"KW\" : 4,\n        \"LB\" : 4,\n        \"LY\" : 4,\n        \"MA\" : 4,\n        \"OM\" : 4,\n        \"QA\" : 4,\n        \"SA\" : 4,\n        \"SD\" : 4,\n        \"TN\" : 4,\n        \"YE\" : 4\n      };\n\n      var territory = qx.locale.Date._getTerritory(locale);\n\n      // default is saturday\n      return weekendStart[territory] != null ? weekendStart[territory] : 6;\n    },\n\n\n    /**\n     * Return the day the weekend ends with\n     *\n     * Reference: Common Locale Data Repository (cldr) supplementalData.xml\n     *\n     * @param locale {String} optional locale to be used\n     * @return {Integer} index of the last day of the weekend. 0=sunday, 1=monday, ...\n     */\n    getWeekendEnd : function(locale)\n    {\n      var weekendEnd =\n      {\n        // default is sunday\n        \"AE\" : 5, // friday\n        \"BH\" : 5,\n        \"DZ\" : 5,\n        \"IQ\" : 5,\n        \"JO\" : 5,\n        \"KW\" : 5,\n        \"LB\" : 5,\n        \"LY\" : 5,\n        \"MA\" : 5,\n        \"OM\" : 5,\n        \"QA\" : 5,\n        \"SA\" : 5,\n        \"SD\" : 5,\n        \"TN\" : 5,\n        \"YE\" : 5,\n        \"AF\" : 5,\n        \"IR\" : 5,\n        \"EG\" : 6, // saturday\n        \"IL\" : 6,\n        \"SY\" : 6\n      };\n\n      var territory = qx.locale.Date._getTerritory(locale);\n\n      // default is sunday\n      return weekendEnd[territory] != null ? weekendEnd[territory] : 0;\n    },\n\n\n    /**\n     * Returns whether a certain day of week belongs to the week end.\n     *\n     * @param day {Integer} index of the day. 0=sunday, 1=monday, ...\n     * @param locale {String} optional locale to be used\n     * @return {Boolean} whether the given day is a weekend day\n     */\n    isWeekend : function(day, locale)\n    {\n      var weekendStart = qx.locale.Date.getWeekendStart(locale);\n      var weekendEnd = qx.locale.Date.getWeekendEnd(locale);\n\n      if (weekendEnd > weekendStart) {\n        return ((day >= weekendStart) && (day <= weekendEnd));\n      } else {\n        return ((day >= weekendStart) || (day <= weekendEnd));\n      }\n    },\n\n\n    /**\n     * Extract the territory part from a locale\n     *\n     * @param locale {String} the locale\n     * @return {String} territory\n     */\n    _getTerritory : function(locale)\n    {\n      if (locale) {\n        var territory = locale.split(\"_\")[1] || locale;\n      } else {\n        territory = this.__mgr.getTerritory() || this.__mgr.getLanguage();\n      }\n\n      return territory.toUpperCase();\n    },\n\n    /**\n     * Provide localization (CLDR) data with fallback between \"format\" and \"stand-alone\" contexts.\n     * It is used in {@link #getDayName} and {@link #getMonthName} methods.\n     *\n     * @param context {String} intended context.\n     *       Possible values: \"format\", \"stand-alone\".\n     * @param fallbackContext {String} the context used in case no localization is found for the key.\n     * @param key {String} message id (may contain format strings)\n     * @param locale {String} the locale\n     * @return {String} localized name for the key\n     *\n     */\n    __localizeWithFallback : function(context, fallbackContext, key, locale)\n    {\n      var localizedString = this.__mgr.localize(key, [], locale);\n      if(localizedString == key)\n      {\n        var newKey = key.replace('_' + context + '_', '_' + fallbackContext + '_');\n        return this.__mgr.localize(newKey, [], locale);\n      }\n      else\n      {\n        return localizedString;\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n/**\n * Event object class for drag events\n */\nqx.Class.define(\"qx.event.type.Drag\",\n{\n  extend : qx.event.type.Event,\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /**\n     * Initialize the fields of the event. The event must be initialized before\n     * it can be dispatched.\n     *\n     * @param cancelable {Boolean?false} Whether or not an event can have its default\n     *     action prevented. The default action can either be the browser's\n     *     default action of a native event (e.g. open the context menu on a\n     *     right click) or the default action of a qooxdoo class (e.g. close\n     *     the window widget). The default action can be prevented by calling\n     *     {@link qx.event.type.Event#preventDefault}\n     * @param originalEvent {qx.event.type.Track} The original (mouse) event to use\n     * @return {qx.event.type.Event} The initialized event instance\n     */\n    init : function(cancelable, originalEvent)\n    {\n      this.base(arguments, true, cancelable);\n\n      if (originalEvent)\n      {\n        this._native = originalEvent.getNativeEvent() || null;\n        this._originalTarget = originalEvent.getOriginalTarget() || null;\n      }\n      else\n      {\n        this._native = null;\n        this._originalTarget = null;\n      }\n\n      return this;\n    },\n\n\n    // overridden\n    clone : function(embryo)\n    {\n      var clone = this.base(arguments, embryo);\n\n      clone._native = this._native;\n\n      return clone;\n    },\n\n\n    /**\n     * Get the horizontal position at which the event occurred relative to the\n     * left of the document. This property takes into account any scrolling of\n     * the page.\n     *\n     * @return {Integer} The horizontal mouse position in the document.\n     */\n    getDocumentLeft : function()\n    {\n      if (this._native == null) {\n        return 0;\n      }\n      var x = this._native.pageX;\n      if (x !== undefined) {\n        // iOS 6 does not copy pageX over to the fake pointer event\n        if (x == 0 && this._native.pointerType == \"touch\") {\n          x = this._native._original.changedTouches[0].pageX || 0;\n        }\n        return Math.round(x);\n      } else {\n        var win = qx.dom.Node.getWindow(this._native.srcElement);\n        return Math.round(this._native.clientX) + qx.bom.Viewport.getScrollLeft(win);\n      }\n    },\n\n\n    /**\n     * Get the vertical position at which the event occurred relative to the\n     * top of the document. This property takes into account any scrolling of\n     * the page.\n     *\n     * @return {Integer} The vertical mouse position in the document.\n     */\n    getDocumentTop : function()\n    {\n      if (this._native == null) {\n        return 0;\n      }\n\n      var y = this._native.pageY;\n      if (y !== undefined) {\n        // iOS 6 does not copy pageY over to the fake pointer event\n        if (y == 0 && this._native.pointerType == \"touch\") {\n          y = this._native._original.changedTouches[0].pageY || 0;\n        }\n        return Math.round(y);\n      } else {\n        var win = qx.dom.Node.getWindow(this._native.srcElement);\n        return Math.round(this._native.clientY) + qx.bom.Viewport.getScrollTop(win);\n      }\n    },\n\n\n    /**\n     * Returns the drag&drop event handler responsible for the target\n     *\n     * @return {qx.event.handler.DragDrop} The drag&drop handler\n     */\n    getManager : function() {\n      return qx.event.Registration.getManager(this.getTarget()).getHandler(qx.event.handler.DragDrop);\n    },\n\n\n    /**\n     * Used during <code>dragstart</code> listener to\n     * inform the manager about supported data types.\n     *\n     * @param type {String} Data type to add to list of supported types\n     */\n    addType : function(type) {\n      this.getManager().addType(type);\n    },\n\n\n    /**\n     * Used during <code>dragstart</code> listener to\n     * inform the manager about supported drop actions.\n     *\n     * @param action {String} Action to add to the list of supported actions\n     */\n    addAction : function(action) {\n      this.getManager().addAction(action);\n    },\n\n\n    /**\n     * Whether the given type is supported by the drag\n     * target (source target).\n     *\n     * This is used in the event listeners for <code>dragover</code>\n     * or <code>dragdrop</code>.\n     *\n     * @param type {String} The type to look for\n     * @return {Boolean} Whether the given type is supported\n     */\n    supportsType : function(type) {\n      return this.getManager().supportsType(type);\n    },\n\n\n    /**\n     * Whether the given action is supported by the drag\n     * target (source target).\n     *\n     * This is used in the event listeners for <code>dragover</code>\n     * or <code>dragdrop</code>.\n     *\n     * @param action {String} The action to look for\n     * @return {Boolean} Whether the given action is supported\n     */\n    supportsAction : function(action) {\n      return this.getManager().supportsAction(action);\n    },\n\n\n    /**\n     * Adds data of the given type to the internal storage. The data\n     * is available until the <code>dragend</code> event is fired.\n     *\n     * @param type {String} Any valid type\n     * @param data {var} Any data to store\n     */\n    addData : function(type, data) {\n      this.getManager().addData(type, data);\n    },\n\n\n    /**\n     * Returns the data of the given type. Used in the <code>drop</code> listener.\n     * \n     * Note that this is a synchronous method and if any of the drag and drop \n     * events handlers are implemented using Promises, this may fail; @see\n     * `getDataAsync`.\n     *\n     * @param type {String} Any of the supported types.\n     * @return {var} The data for the given type\n     */\n    getData : function(type) {\n      return this.getManager().getData(type);\n    },\n\n\n    /**\n     * Returns the data of the given type. Used in the <code>drop</code> listener.\n     * \n     * @param type {String} Any of the supported types.\n     * @return {qx.Promise|var} The data for the given type\n     */\n    getDataAsync : function(type) {\n      return this.getManager().getDataAsync(type);\n    },\n\n\n    /**\n     * Returns the type which was requested last, to be used\n     * in the <code>droprequest</code> listener.\n     *\n     * @return {String} The last requested data type\n     */\n    getCurrentType : function() {\n      return this.getManager().getCurrentType();\n    },\n\n\n    /**\n     * Returns the currently selected action. Depends on the\n     * supported actions of the source target and the modification\n     * keys pressed by the user.\n     *\n     * Used in the <code>droprequest</code> listener.\n     *\n     * @return {String} The action. May be one of <code>move</code>,\n     *    <code>copy</code> or <code>alias</code>.\n     */\n    getCurrentAction : function() {\n      if (this.getDefaultPrevented()) {\n        return null;\n      }\n      return this.getManager().getCurrentAction();\n    },\n\n    /**\n     * Returns the currently selected action. Depends on the\n     * supported actions of the source target and the modification\n     * keys pressed by the user.\n     *\n     * Used in the <code>droprequest</code> listener.\n     *\n     * @return {qx.Promise|String} The action. May be one of <code>move</code>,\n     *    <code>copy</code> or <code>alias</code>.\n     */\n    getCurrentActionAsync : function() {\n      if (this.getDefaultPrevented()) {\n        return null;\n      }\n      return this.getManager().getCurrentActionAsync();\n    },\n\n    /**\n     * Whether the current drop target allows the current drag target.\n     *\n     * This can be called from within the \"drag\" event to enable/disable\n     * a drop target selectively, for example based on the child item,\n     * above and beyond the one-time choice made by the the \"dragover\"\n     * event for the droppable widget itself.\n     *\n     * @param isAllowed {Boolean} False if a drop should be disallowed\n     */\n    setDropAllowed : function(isAllowed) {\n      this.getManager().setDropAllowed(isAllowed);\n    },\n\n\n    /**\n     * Returns the target which has been initially tapped on.\n     * @return {qx.ui.core.Widget} The tapped widget.\n     */\n    getDragTarget : function() {\n      return this.getManager().getDragTarget();\n    },\n\n\n    /**\n     * Stops the drag&drop session and fires a <code>dragend</code> event.\n     */\n    stopSession : function() {\n      this.getManager().clearSession();\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * The purpose of this class is to contain all checks about css.\n *\n * This class is used by {@link qx.core.Environment} and should not be used\n * directly. Please check its class comment for details how to use it.\n *\n * @internal\n * @ignore(WebKitCSSMatrix)\n * @require(qx.bom.Style)\n */\nqx.Bootstrap.define(\"qx.bom.client.Css\",\n{\n  statics :\n  {\n    __WEBKIT_LEGACY_GRADIENT : null,\n\n    /**\n     * Checks what box model is used in the current environment.\n     * @return {String} It either returns \"content\" or \"border\".\n     * @internal\n     */\n    getBoxModel : function() {\n      var content = qx.bom.client.Engine.getName() !== \"mshtml\" ||\n        !qx.bom.client.Browser.getQuirksMode() ;\n\n      return content ? \"content\" : \"border\";\n    },\n\n\n    /**\n     * Returns the (possibly vendor-prefixed) name the browser uses for the\n     * <code>textOverflow</code> style property.\n     *\n     * @return {String|null} textOverflow property name or <code>null</code> if\n     * textOverflow is not supported.\n     * @internal\n     */\n    getTextOverflow : function() {\n      return qx.bom.Style.getPropertyName(\"textOverflow\");\n    },\n\n\n    /**\n     * Checks if a placeholder could be used.\n     * @return {Boolean} <code>true</code>, if it could be used.\n     * @internal\n     */\n    getPlaceholder : function() {\n      if (qx.core.Environment.get(\"engine.name\") === \"mshtml\") {\n        return false;\n      } \n      var i = document.createElement(\"input\");\n      return \"placeholder\" in i;\n    },\n\n\n    /**\n     * Returns the (possibly vendor-prefixed) name the browser uses for the\n     * <code>appearance</code> style property.\n     *\n     * @return {String|null} appearance property name or <code>null</code> if\n     * appearance is not supported.\n     * @internal\n     */\n    getAppearance : function() {\n      return qx.bom.Style.getPropertyName(\"appearance\");\n    },\n\n\n    /**\n     * Returns the (possibly vendor-prefixed) name the browser uses for the\n     * <code>borderRadius</code> style property.\n     *\n     * @return {String|null} borderRadius property name or <code>null</code> if\n     * borderRadius is not supported.\n     * @internal\n     */\n    getBorderRadius : function() {\n      return qx.bom.Style.getPropertyName(\"borderRadius\");\n    },\n\n\n    /**\n     * Returns the (possibly vendor-prefixed) name the browser uses for the\n     * <code>boxShadow</code> style property.\n     *\n     * @return {String|null} boxShadow property name or <code>null</code> if\n     * boxShadow is not supported.\n     * @internal\n     */\n    getBoxShadow : function() {\n      return qx.bom.Style.getPropertyName(\"boxShadow\");\n    },\n\n\n    /**\n     * Returns the (possibly vendor-prefixed) name the browser uses for the\n     * <code>borderImage</code> style property.\n     *\n     * @return {String|null} borderImage property name or <code>null</code> if\n     * borderImage is not supported.\n     * @internal\n     */\n    getBorderImage : function() {\n      return qx.bom.Style.getPropertyName(\"borderImage\");\n    },\n\n    /**\n     * Returns the type of syntax this client supports for its CSS border-image\n     * implementation. Some browsers do not support the \"fill\" keyword defined\n     * in the W3C draft (http://www.w3.org/TR/css3-background/) and will not\n     * show the border image if it's set. Others follow the standard closely and\n     * will omit the center image if \"fill\" is not set.\n     *\n     * @return {Boolean|null} <code>true</code> if the standard syntax is supported.\n     * <code>null</code> if the supported syntax could not be detected.\n     * @internal\n     */\n    getBorderImageSyntax : function() {\n      var styleName = qx.bom.client.Css.getBorderImage();\n      if (!styleName) {\n        return null;\n      }\n\n      var el = document.createElement(\"div\");\n\n      if (styleName === \"borderImage\") {\n        // unprefixed implementation: check individual properties\n        el.style[styleName] = 'url(\"foo.png\") 4 4 4 4 fill stretch';\n        if (el.style.borderImageSource.indexOf(\"foo.png\") >= 0 &&\n            el.style.borderImageSlice.indexOf(\"4 fill\") >= 0 &&\n            el.style.borderImageRepeat.indexOf(\"stretch\") >= 0)\n        {\n          return true;\n        }\n      }\n      else {\n        // prefixed implementation, assume no support for \"fill\"\n        el.style[styleName] = 'url(\"foo.png\") 4 4 4 4 stretch';\n        // serialized value is unreliable, so just a simple check\n        if (el.style[styleName].indexOf(\"foo.png\") >= 0) {\n          return false;\n        }\n      }\n\n      // unable to determine syntax\n      return null;\n    },\n\n\n    /**\n     * Returns the (possibly vendor-prefixed) name the browser uses for the\n     * <code>userSelect</code> style property.\n     *\n     * @return {String|null} userSelect property name or <code>null</code> if\n     * userSelect is not supported.\n     * @internal\n     */\n    getUserSelect : function() {\n      return qx.bom.Style.getPropertyName(\"userSelect\");\n    },\n\n\n    /**\n     * Returns the (possibly vendor-prefixed) value for the\n     * <code>userSelect</code> style property that disables selection. For Gecko,\n     * \"-moz-none\" is returned since \"none\" only makes the target element appear\n     * as if its text could not be selected\n     *\n     * @internal\n     * @return {String|null} the userSelect property value that disables\n     * selection or <code>null</code> if userSelect is not supported\n     */\n    getUserSelectNone : function() {\n      var styleProperty = qx.bom.client.Css.getUserSelect();\n      if (styleProperty) {\n        var el = document.createElement(\"span\");\n        el.style[styleProperty] = \"-moz-none\";\n        return el.style[styleProperty] === \"-moz-none\" ? \"-moz-none\" : \"none\";\n      }\n      return null;\n    },\n\n\n    /**\n     * Returns the (possibly vendor-prefixed) name the browser uses for the\n     * <code>userModify</code> style property.\n     *\n     * @return {String|null} userModify property name or <code>null</code> if\n     * userModify is not supported.\n     * @internal\n     */\n    getUserModify : function() {\n      return qx.bom.Style.getPropertyName(\"userModify\");\n    },\n\n\n    /**\n     * Returns the vendor-specific name of the <code>float</code> style property\n     *\n     * @return {String|null} <code>cssFloat</code> for standards-compliant\n     * browsers, <code>styleFloat</code> for legacy IEs, <code>null</code> if\n     * the client supports neither property.\n     * @internal\n     */\n    getFloat : function() {\n      var style = document.documentElement.style;\n      return style.cssFloat !== undefined ? \"cssFloat\" :\n        style.styleFloat !== undefined ? \"styleFloat\" : null;\n    },\n\n\n    /**\n     * Returns the (possibly vendor-prefixed) name this client uses for\n     * <code>linear-gradient</code>.\n     * http://dev.w3.org/csswg/css3-images/#linear-gradients\n     *\n     * @return {String|null} Prefixed linear-gradient name or <code>null</code>\n     * if linear gradients are not supported\n     * @internal\n     */\n    getLinearGradient : function()\n    {\n      qx.bom.client.Css.__WEBKIT_LEGACY_GRADIENT = false;\n      var value = \"linear-gradient(0deg, #fff, #000)\";\n      var el = document.createElement(\"div\");\n      var style = qx.bom.Style.getAppliedStyle(el, \"backgroundImage\", value);\n\n      if (!style) {\n        //try old WebKit syntax (versions 528 - 534.16)\n        value = \"-webkit-gradient(linear,0% 0%,100% 100%,from(white), to(red))\";\n        var style = qx.bom.Style.getAppliedStyle(el, \"backgroundImage\", value, false);\n        if (style) {\n          qx.bom.client.Css.__WEBKIT_LEGACY_GRADIENT = true;\n        }\n      }\n\n      // not supported\n      if (!style) {\n        return null;\n      }\n\n      var match = /(.*?)\\(/.exec(style);\n      return match ? match[1] : null;\n    },\n\n\n    /**\n     * Returns <code>true</code> if the browser supports setting gradients\n     * using the filter style. This usually only applies for IE browsers\n     * starting from IE5.5.\n     * http://msdn.microsoft.com/en-us/library/ms532997(v=vs.85).aspx\n     *\n     * @return {Boolean} <code>true</code> if supported.\n     * @internal\n     */\n    getFilterGradient : function() {\n      return qx.bom.client.Css.__isFilterSupported(\n        \"DXImageTransform.Microsoft.Gradient\",\n        \"startColorStr=#550000FF, endColorStr=#55FFFF00\");\n    },\n\n\n    /**\n     * Returns the (possibly vendor-prefixed) name this client uses for\n     * <code>radial-gradient</code>.\n     *\n     * @return {String|null} Prefixed radial-gradient name or <code>null</code>\n     * if radial gradients are not supported\n     * @internal\n     */\n    getRadialGradient : function()\n    {\n      var value = \"radial-gradient(0px 0px, cover, red 50%, blue 100%)\";\n      var el = document.createElement(\"div\");\n      var style = qx.bom.Style.getAppliedStyle(el, \"backgroundImage\", value);\n      if (!style) {\n        return null;\n      }\n      var match = /(.*?)\\(/.exec(style);\n      return match ? match[1] : null;\n    },\n\n\n    /**\n     * Checks if **only** the old WebKit (version < 534.16) syntax for\n     * linear gradients is supported, e.g.\n     * <code>linear-gradient(0deg, #fff, #000)</code>\n     *\n     * @return {Boolean} <code>true</code> if the legacy syntax must be used\n     * @internal\n     */\n    getLegacyWebkitGradient : function()\n    {\n      if (qx.bom.client.Css.__WEBKIT_LEGACY_GRADIENT === null) {\n        qx.bom.client.Css.getLinearGradient();\n      }\n      return qx.bom.client.Css.__WEBKIT_LEGACY_GRADIENT;\n    },\n\n    /**\n     * Checks if rgba colors can be used:\n     * http://www.w3.org/TR/2010/PR-css3-color-20101028/#rgba-color\n     *\n     * @return {Boolean} <code>true</code>, if rgba colors are supported.\n     * @internal\n     */\n    getRgba : function() {\n      var el;\n      try {\n        el = document.createElement(\"div\");\n      } catch (ex) {\n        el = document.createElement();\n      }\n\n      // try catch for IE\n      try {\n        el.style[\"color\"] = \"rgba(1, 2, 3, 0.5)\";\n        if (el.style[\"color\"].indexOf(\"rgba\") != -1) {\n          return true;\n        }\n      } catch (ex) {}\n\n      return false;\n    },\n\n\n    /**\n     * Returns the (possibly vendor-prefixed) name the browser uses for the\n     * <code>boxSizing</code> style property.\n     *\n     * @return {String|null} boxSizing property name or <code>null</code> if\n     * boxSizing is not supported.\n     * @internal\n     */\n    getBoxSizing : function() {\n      return qx.bom.Style.getPropertyName(\"boxSizing\");\n    },\n\n\n    /**\n     * Returns the browser-specific name used for the <code>display</code> style\n     * property's <code>inline-block</code> value.\n     *\n     * @internal\n     * @return {String|null}\n     */\n    getInlineBlock : function() {\n      var el = document.createElement(\"span\");\n      el.style.display = \"inline-block\";\n      if (el.style.display == \"inline-block\") {\n        return \"inline-block\";\n      }\n      el.style.display = \"-moz-inline-box\";\n      if (el.style.display !== \"-moz-inline-box\") {\n        return \"-moz-inline-box\";\n      }\n      return null;\n    },\n\n\n    /**\n     * Checks if CSS opacity is supported\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if opacity is supported\n     */\n    getOpacity : function() {\n      return (typeof document.documentElement.style.opacity == \"string\");\n    },\n\n\n    /**\n     * Checks if CSS texShadow is supported\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if textShadow is supported\n     */\n    getTextShadow : function()\n    {\n      return !!qx.bom.Style.getPropertyName(\"textShadow\");\n    },\n\n\n    /**\n     * Returns <code>true</code> if the browser supports setting text shadow\n     * using the filter style. This usually only applies for IE browsers\n     * starting from IE5.5.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if textShadow is supported\n     */\n    getFilterTextShadow : function()\n    {\n      return qx.bom.client.Css.__isFilterSupported(\n        \"DXImageTransform.Microsoft.Shadow\",\n        \"color=#666666,direction=45\");\n    },\n\n\n    /**\n     * Checks if the given filter is supported.\n     *\n     * @param filterClass {String} The name of the filter class\n     * @param initParams {String} Init values for the filter\n     * @return {Boolean} <code>true</code> if the given filter is supported\n     */\n    __isFilterSupported : function(filterClass, initParams)\n    {\n      var supported = false;\n      var value = \"progid:\" + filterClass + \"(\" + initParams + \");\";\n      var el = document.createElement(\"div\");\n      document.body.appendChild(el);\n      el.style.filter = value;\n\n      if (el.filters && el.filters.length > 0 &&\n        el.filters.item(filterClass).enabled == true)\n      {\n        supported = true;\n      }\n      document.body.removeChild(el);\n\n      return supported;\n    },\n\n\n    /**\n     * Checks if the Alpha Image Loader must be used to display transparent PNGs.\n     *\n     * @return {Boolean} <code>true</code> if the Alpha Image Loader is required\n     */\n    getAlphaImageLoaderNeeded : function()\n    {\n      return qx.bom.client.Engine.getName() == \"mshtml\" &&\n             qx.bom.client.Browser.getDocumentMode() < 9;\n    },\n\n\n    /**\n     * Checks if pointer events are available.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if pointer events are supported.\n     */\n    getPointerEvents : function() {\n      var el = document.documentElement;\n      // Check if browser reports that pointerEvents is a known style property\n      if (\"pointerEvents\" in el.style) {\n        // The property is defined in Opera and IE9 but setting it has no effect\n        var initial = el.style.pointerEvents;\n        el.style.pointerEvents = \"auto\";\n        // don't assume support if a nonsensical value isn't ignored\n        el.style.pointerEvents = \"foo\";\n        var supported = el.style.pointerEvents == \"auto\";\n        el.style.pointerEvents = initial;\n\n        return supported;\n\n      }\n      return false;\n    },\n\n\n    /**\n     * Returns which Flexbox syntax is supported by the browser.\n     * <code>display: box;</code> old 2009 version of Flexbox.\n     * <code>display: flexbox;</code> tweener phase in 2011.\n     * <code>display: flex;</code> current specification.\n     * @internal\n     * @return {String} <code>flex</code>,<code>flexbox</code>,<code>box</code> or <code>null</code>\n     */\n    getFlexboxSyntax : function() {\n      var detectedSyntax = null;\n\n      var detector = document.createElement(\"detect\");\n      var flexSyntax = [{\n        value: \"flex\",\n        syntax: \"flex\"\n      }, {\n        value: \"-ms-flexbox\",\n        syntax: \"flexbox\"\n      }, {\n        value: \"-webkit-flex\",\n        syntax: \"flex\"\n      }];\n\n      for (var i = 0; i < flexSyntax.length; i++) {\n        // old IEs will throw an \"Invalid argument\" exception here\n        try {\n          detector.style.display = flexSyntax[i].value;\n        } catch(ex) {\n          return null;\n        }\n        if (detector.style.display === flexSyntax[i].value) {\n          detectedSyntax = flexSyntax[i].syntax;\n          break;\n        }\n      }\n\n      detector = null;\n\n      return detectedSyntax;\n    }\n  },\n\n\n\n  defer : function(statics) {\n    qx.core.Environment.add(\"css.textoverflow\", statics.getTextOverflow);\n    qx.core.Environment.add(\"css.placeholder\", statics.getPlaceholder);\n    qx.core.Environment.add(\"css.borderradius\", statics.getBorderRadius);\n    qx.core.Environment.add(\"css.boxshadow\", statics.getBoxShadow);\n    qx.core.Environment.add(\"css.gradient.linear\", statics.getLinearGradient);\n    qx.core.Environment.add(\"css.gradient.filter\", statics.getFilterGradient);\n    qx.core.Environment.add(\"css.gradient.radial\", statics.getRadialGradient);\n    qx.core.Environment.add(\"css.gradient.legacywebkit\", statics.getLegacyWebkitGradient);\n    qx.core.Environment.add(\"css.boxmodel\", statics.getBoxModel);\n    qx.core.Environment.add(\"css.rgba\", statics.getRgba);\n    qx.core.Environment.add(\"css.borderimage\", statics.getBorderImage);\n    qx.core.Environment.add(\"css.borderimage.standardsyntax\", statics.getBorderImageSyntax);\n    qx.core.Environment.add(\"css.usermodify\", statics.getUserModify);\n    qx.core.Environment.add(\"css.userselect\", statics.getUserSelect);\n    qx.core.Environment.add(\"css.userselect.none\", statics.getUserSelectNone);\n    qx.core.Environment.add(\"css.appearance\", statics.getAppearance);\n    qx.core.Environment.add(\"css.float\", statics.getFloat);\n    qx.core.Environment.add(\"css.boxsizing\", statics.getBoxSizing);\n    qx.core.Environment.add(\"css.inlineblock\", statics.getInlineBlock);\n    qx.core.Environment.add(\"css.opacity\", statics.getOpacity);\n    qx.core.Environment.add(\"css.textShadow\", statics.getTextShadow);\n    qx.core.Environment.add(\"css.textShadow.filter\", statics.getFilterTextShadow);\n    qx.core.Environment.add(\"css.alphaimageloaderneeded\", statics.getAlphaImageLoaderNeeded);\n    qx.core.Environment.add(\"css.pointerevents\", statics.getPointerEvents);\n    qx.core.Environment.add(\"css.flexboxSyntax\", statics.getFlexboxSyntax);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Contains methods to control and query the element's clip property\n *\n * @require(qx.lang.normalize.String)\n */\nqx.Bootstrap.define(\"qx.bom.element.Clip\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * Compiles the given clipping into a CSS compatible string. This\n     * is a simple square which describes the visible area of an DOM element.\n     * Changing the clipping does not change the dimensions of\n     * an element.\n     *\n     * @param map {Map}  Map which contains <code>left</code>, <code>top</code>\n     *   <code>width</code> and <code>height</code> of the clipped area.\n     * @return {String} CSS compatible string\n     */\n    compile : function(map)\n    {\n      if (!map) {\n        return \"clip:auto;\";\n      }\n\n      var left = map.left;\n      var top = map.top;\n      var width = map.width;\n      var height = map.height;\n\n      var right, bottom;\n\n      if (left == null)\n      {\n        right = (width == null ? \"auto\" : width + \"px\");\n        left = \"auto\";\n      }\n      else\n      {\n        right = (width == null ? \"auto\" : left + width + \"px\");\n        left = left + \"px\";\n      }\n\n      if (top == null)\n      {\n        bottom = (height == null ? \"auto\" : height + \"px\");\n        top = \"auto\";\n      }\n      else\n      {\n        bottom = (height == null ? \"auto\" : top + height + \"px\");\n        top = top + \"px\";\n      }\n\n      return \"clip:rect(\" + top + \",\" + right + \",\" + bottom + \",\" + left + \");\";\n    },\n\n\n    /**\n     * Gets the clipping of the given element.\n     *\n     * @param element {Element} DOM element to query\n     * @param mode {Number} Choose one of the modes {@link qx.bom.element.Style#COMPUTED_MODE},\n     *   {@link qx.bom.element.Style#CASCADED_MODE}, {@link qx.bom.element.Style#LOCAL_MODE}.\n     *   The computed mode is the default one.\n     * @return {Map} Map which contains <code>left</code>, <code>top</code>\n     *   <code>width</code> and <code>height</code> of the clipped area.\n     *   Each one could be null or any integer value.\n     */\n    get : function(element, mode)\n    {\n      var clip = qx.bom.element.Style.get(element, \"clip\", mode, false);\n\n      var left, top, width, height;\n      var right, bottom;\n\n      if (typeof clip === \"string\" && clip !== \"auto\" && clip !== \"\")\n      {\n        clip = clip.trim();\n\n        // Do not use \"global\" here. This will break Firefox because of\n        // an issue that the lastIndex will not be reset on separate calls.\n        if (/\\((.*)\\)/.test(clip))\n        {\n          var result = RegExp.$1;\n\n          // Process result\n          // Some browsers store values space-separated, others comma-separated.\n          // Handle both cases by means of feature-detection.\n          if (/,/.test(result)) {\n            var split = result.split(\",\");\n          }\n          else\n          {\n            var split = result.split(\" \");\n          }\n\n          top = split[0].trim();\n          right = split[1].trim();\n          bottom = split[2].trim();\n          left = split[3].trim();\n\n          // Normalize \"auto\" to null\n          if (left === \"auto\") {\n            left = null;\n          }\n\n          if (top === \"auto\") {\n            top = null;\n          }\n\n          if (right === \"auto\") {\n            right = null;\n          }\n\n          if (bottom === \"auto\") {\n            bottom = null;\n          }\n\n          // Convert to integer values\n          if (top != null) {\n            top = parseInt(top, 10);\n          }\n\n          if (right != null) {\n            right = parseInt(right, 10);\n          }\n\n          if (bottom != null) {\n            bottom = parseInt(bottom, 10);\n          }\n\n          if (left != null) {\n            left = parseInt(left, 10);\n          }\n\n          // Compute width and height\n          if (right != null && left != null) {\n            width = right - left;\n          } else if (right != null) {\n            width = right;\n          }\n\n          if (bottom != null && top != null) {\n            height = bottom - top;\n          } else if (bottom != null) {\n            height = bottom;\n          }\n        }\n        else\n        {\n          throw new Error(\"Could not parse clip string: \" + clip);\n        }\n      }\n\n      // Return map when any value is available.\n      return {\n        left : left || null,\n        top : top || null,\n        width : width || null,\n        height : height || null\n      };\n    },\n\n\n    /**\n     * Sets the clipping of the given element. This is a simple\n     * square which describes the visible area of an DOM element.\n     * Changing the clipping does not change the dimensions of\n     * an element.\n     *\n     * @param element {Element} DOM element to modify\n     * @param map {Map} A map with one or more of these available keys:\n     *   <code>left</code>, <code>top</code>, <code>width</code>, <code>height</code>.\n     */\n    set : function(element, map)\n    {\n      if (!map)\n      {\n        element.style.clip = \"rect(auto,auto,auto,auto)\";\n        return;\n      }\n\n      var left = map.left;\n      var top = map.top;\n      var width = map.width;\n      var height = map.height;\n\n      var right, bottom;\n\n      if (left == null)\n      {\n        right = (width == null ? \"auto\" : width + \"px\");\n        left = \"auto\";\n      }\n      else\n      {\n        right = (width == null ? \"auto\" : left + width + \"px\");\n        left = left + \"px\";\n      }\n\n      if (top == null)\n      {\n        bottom = (height == null ? \"auto\" : height + \"px\");\n        top = \"auto\";\n      }\n      else\n      {\n        bottom = (height == null ? \"auto\" : top + height + \"px\");\n        top = top + \"px\";\n      }\n\n      element.style.clip = \"rect(\" + top + \",\" + right + \",\" + bottom + \",\" + left + \")\";\n    },\n\n\n    /**\n     * Resets the clipping of the given DOM element.\n     *\n     * @param element {Element} DOM element to modify\n     */\n    reset : function(element) {\n      element.style.clip = \"rect(auto, auto, auto, auto)\";\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n\n/**\n * Contains methods to control and query the element's cursor property\n */\nqx.Bootstrap.define(\"qx.bom.element.Cursor\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** Internal helper structure to map cursor values to supported ones */\n    __map : {},\n\n\n    /**\n     * Compiles the given cursor into a CSS compatible string.\n     *\n     * @param cursor {String} Valid CSS cursor name\n     * @return {String} CSS string\n     */\n    compile : function(cursor) {\n      return \"cursor:\" + (this.__map[cursor] || cursor) + \";\";\n    },\n\n\n    /**\n     * Returns the computed cursor style for the given element.\n     *\n     * @param element {Element} The element to query\n     * @param mode {Number} Choose one of the modes {@link qx.bom.element.Style#COMPUTED_MODE},\n     *   {@link qx.bom.element.Style#CASCADED_MODE}, {@link qx.bom.element.Style#LOCAL_MODE}.\n     *   The computed mode is the default one.\n     * @return {String} Computed cursor value of the given element.\n     */\n    get : function(element, mode) {\n      return qx.bom.element.Style.get(element, \"cursor\", mode, false);\n    },\n\n\n    /**\n     * Applies a new cursor style to the given element\n     *\n     * @param element {Element} The element to modify\n     * @param value {String} New cursor value to set\n     */\n    set : function(element, value) {\n      element.style.cursor = this.__map[value] || value;\n    },\n\n\n    /**\n     * Removes the local cursor style applied to the element\n     *\n     * @param element {Element} The element to modify\n     */\n    reset : function(element) {\n      element.style.cursor = \"\";\n    }\n  },\n\n\n  defer : function(statics) {\n    // < IE 9\n    if (qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n         ((parseFloat(qx.core.Environment.get(\"engine.version\")) < 9 ||\n          qx.core.Environment.get(\"browser.documentmode\") < 9) &&\n          !qx.core.Environment.get(\"browser.quirksmode\"))\n    ) {\n      statics.__map[\"nesw-resize\"] = \"ne-resize\";\n      statics.__map[\"nwse-resize\"] = \"nw-resize\";\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Christian Hagendorn (chris_schmidt)\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * Prototype JS\n     http://www.prototypejs.org/\n     Version 1.5\n\n     Copyright:\n       (c) 2006-2007, Prototype Core Team\n\n     License:\n       MIT: http://www.opensource.org/licenses/mit-license.php\n\n     Authors:\n       * Prototype Core Team\n\n   ----------------------------------------------------------------------\n\n     Copyright (c) 2005-2008 Sam Stephenson\n\n     Permission is hereby granted, free of charge, to any person\n     obtaining a copy of this software and associated documentation\n     files (the \"Software\"), to deal in the Software without restriction,\n     including without limitation the rights to use, copy, modify, merge,\n     publish, distribute, sublicense, and/or sell copies of the Software,\n     and to permit persons to whom the Software is furnished to do so,\n     subject to the following conditions:\n\n     THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n     EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n     MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n     NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n     HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n     WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n     OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n     DEALINGS IN THE SOFTWARE.\n\n************************************************************************ */\n\n\n/**\n * Cross-browser opacity support.\n *\n * Optimized for animations (contains workarounds for typical flickering\n * in some browsers). Reduced class dependencies for optimal size and\n * performance.\n */\nqx.Bootstrap.define(\"qx.bom.element.Opacity\",\n{\n  statics :\n  {\n    /**\n     * Compiles the given opacity value into a cross-browser CSS string.\n     * Accepts numbers between zero and one\n     * where \"0\" means transparent, \"1\" means opaque.\n     *\n     * @signature function(opacity)\n     * @param opacity {Float} A float number between 0 and 1\n     * @return {String} CSS compatible string\n     */\n    compile : qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(opacity)\n      {\n        if (opacity >= 1) {\n          opacity = 1;\n        }\n\n        if (opacity < 0.00001) {\n          opacity = 0;\n        }\n\n        if (qx.core.Environment.get(\"css.opacity\")) {\n          return \"opacity:\" + opacity + \";\";\n        } else {\n          return \"zoom:1;filter:alpha(opacity=\" + (opacity * 100) + \");\";\n        }\n      },\n\n      \"default\" : function(opacity)\n      {\n        return \"opacity:\" + opacity + \";\";\n      }\n    }),\n\n\n    /**\n     * Sets opacity of given element. Accepts numbers between zero and one\n     * where \"0\" means transparent, \"1\" means opaque.\n     *\n     * @param element {Element} DOM element to modify\n     * @param opacity {Float} A float number between 0 and 1\n     * @signature function(element, opacity)\n     */\n    set : qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(element, opacity)\n      {\n        if (qx.core.Environment.get(\"css.opacity\")) {\n          element.style.opacity = opacity;\n        } else {\n          // Read in computed filter\n          var filter = qx.bom.element.Style.get(element, \"filter\", qx.bom.element.Style.COMPUTED_MODE, false);\n\n          if (opacity >= 1) {\n            opacity = 1;\n          }\n\n          if (opacity < 0.00001) {\n            opacity = 0;\n          }\n\n          // IE has trouble with opacity if it does not have layout (hasLayout)\n          // Force it by setting the zoom level\n          if (!element.currentStyle || !element.currentStyle.hasLayout) {\n            element.style.zoom = 1;\n          }\n\n          // Remove old alpha filter and add new one\n          element.style.filter = filter.replace(/alpha\\([^\\)]*\\)/gi, \"\") + \"alpha(opacity=\" + opacity * 100 + \")\";\n        }\n      },\n\n      \"default\" : function(element, opacity) {\n        element.style.opacity = opacity;\n      }\n    }),\n\n\n    /**\n     * Resets opacity of given element.\n     *\n     * @param element {Element} DOM element to modify\n     * @signature function(element)\n     */\n    reset : qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(element)\n      {\n        if (qx.core.Environment.get(\"css.opacity\"))\n        {\n          element.style.opacity = \"\";\n        } else {\n          // Read in computed filter\n          var filter = qx.bom.element.Style.get(element, \"filter\", qx.bom.element.Style.COMPUTED_MODE, false);\n\n          // Remove old alpha filter\n          element.style.filter = filter.replace(/alpha\\([^\\)]*\\)/gi, \"\");\n        }\n      },\n\n      \"default\" : function(element) {\n        element.style.opacity = \"\";\n      }\n    }),\n\n\n    /**\n     * Gets computed opacity of given element. Accepts numbers between zero and one\n     * where \"0\" means transparent, \"1\" means opaque.\n     *\n     * @param element {Element} DOM element to modify\n     * @param mode {Number} Choose one of the modes {@link qx.bom.element.Style#COMPUTED_MODE},\n     *   {@link qx.bom.element.Style#CASCADED_MODE}, {@link qx.bom.element.Style#LOCAL_MODE}.\n     *   The computed mode is the default one.\n     * @return {Float} A float number between 0 and 1\n     * @signature function(element, mode)\n     */\n    get : qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(element, mode)\n      {\n        if (qx.core.Environment.get(\"css.opacity\"))\n        {\n          var opacity = qx.bom.element.Style.get(element, \"opacity\", mode, false);\n\n          if (opacity != null) {\n            return parseFloat(opacity);\n          }\n\n          return 1.0;\n        }\n        else\n        {\n          var filter = qx.bom.element.Style.get(element, \"filter\", mode, false);\n\n          if (filter)\n          {\n            var opacity = filter.match(/alpha\\(opacity=(.*)\\)/);\n\n            if (opacity && opacity[1]) {\n              return parseFloat(opacity[1]) / 100;\n            }\n          }\n\n          return 1.0;\n        }\n      },\n\n      \"default\" : function(element, mode)\n      {\n        var opacity = qx.bom.element.Style.get(element, \"opacity\", mode, false);\n\n        if (opacity != null) {\n          return parseFloat(opacity);\n        }\n\n        return 1.0;\n      }\n    })\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Contains methods to control and query the element's box-sizing property.\n *\n * Supported values:\n *\n * * \"content-box\" = W3C model (dimensions are content specific)\n * * \"border-box\" = Microsoft model (dimensions are box specific incl. border and padding)\n */\nqx.Bootstrap.define(\"qx.bom.element.BoxSizing\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Map} Internal data structure for __usesNativeBorderBox() */\n    __nativeBorderBox :\n    {\n      tags :\n      {\n        button : true,\n        select : true\n      },\n\n      types :\n      {\n        search : true,\n        button : true,\n        submit : true,\n        reset : true,\n        checkbox : true,\n        radio : true\n      }\n    },\n\n\n    /**\n     * Whether the given elements defaults to the \"border-box\" Microsoft model in all cases.\n     *\n     * @param element {Element} DOM element to query\n     * @return {Boolean} true when the element uses \"border-box\" independently from the doctype\n     */\n    __usesNativeBorderBox : function(element)\n    {\n      var map = this.__nativeBorderBox;\n      return map.tags[element.tagName.toLowerCase()] || map.types[element.type];\n    },\n\n\n    /**\n     * Compiles the given box sizing into a CSS compatible string.\n     *\n     * @param value {String} Valid CSS box-sizing value\n     * @return {String} CSS string\n     */\n    compile : function(value)\n    {\n      if (qx.core.Environment.get(\"css.boxsizing\")) {\n        var prop = qx.bom.Style.getCssName(qx.core.Environment.get(\"css.boxsizing\"));\n        return prop + \":\" + value + \";\";\n      }\n      else {\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          qx.log.Logger.warn(this, \"This client does not support dynamic modification of the boxSizing property.\");\n          qx.log.Logger.trace();\n        }\n      }\n    },\n\n\n    /**\n     * Returns the box sizing for the given element.\n     *\n     * @param element {Element} The element to query\n     * @return {String} Box sizing value of the given element.\n     */\n    get : function(element)\n    {\n      if (qx.core.Environment.get(\"css.boxsizing\")) {\n        return qx.bom.element.Style.get(element, \"boxSizing\", null, false) || \"\";\n      }\n\n      if (qx.bom.Document.isStandardMode(qx.dom.Node.getWindow(element)))\n      {\n        if (!this.__usesNativeBorderBox(element)) {\n          return \"content-box\";\n        }\n      }\n\n      return \"border-box\";\n    },\n\n\n    /**\n     * Applies a new box sizing to the given element\n     *\n     * @param element {Element} The element to modify\n     * @param value {String} New box sizing value to set\n     */\n    set : function(element, value)\n    {\n      if (qx.core.Environment.get(\"css.boxsizing\")) {\n        // IE8 bombs when trying to apply an unsupported value\n        try {\n          element.style[qx.core.Environment.get(\"css.boxsizing\")] = value;\n        } catch(ex) {\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            qx.log.Logger.warn(this, \"This client does not support the boxSizing value\", value);\n          }\n        }\n      }\n      else {\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          qx.log.Logger.warn(this, \"This client does not support dynamic modification of the boxSizing property.\");\n        }\n      }\n    },\n\n\n    /**\n     * Removes the local box sizing applied to the element\n     *\n     * @param element {Element} The element to modify\n     */\n    reset : function(element) {\n      this.set(element, \"\");\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * Prototype JS\n     http://www.prototypejs.org/\n     Version 1.5\n\n     Copyright:\n       (c) 2006-2007, Prototype Core Team\n\n     License:\n       MIT: http://www.opensource.org/licenses/mit-license.php\n\n     Authors:\n       * Prototype Core Team\n\n   ----------------------------------------------------------------------\n\n     Copyright (c) 2005-2008 Sam Stephenson\n\n     Permission is hereby granted, free of charge, to any person\n     obtaining a copy of this software and associated documentation\n     files (the \"Software\"), to deal in the Software without restriction,\n     including without limitation the rights to use, copy, modify, merge,\n     publish, distribute, sublicense, and/or sell copies of the Software,\n     and to permit persons to whom the Software is furnished to do so,\n     subject to the following conditions:\n\n     THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n     EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n     MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n     NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n     HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n     WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n     OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n     DEALINGS IN THE SOFTWARE.\n\n************************************************************************ */\n\n/**\n * Style querying and modification of HTML elements.\n *\n * Automatically normalizes cross-browser differences for setting and reading\n * CSS attributes. Optimized for performance.\n *\n * @require(qx.lang.String)\n * @require(qx.bom.client.Css)\n\n * @require(qx.bom.element.Clip#set)\n * @require(qx.bom.element.Cursor#set)\n * @require(qx.bom.element.Opacity#set)\n * @require(qx.bom.element.BoxSizing#set)\n\n * @require(qx.bom.element.Clip#get)\n * @require(qx.bom.element.Cursor#get)\n * @require(qx.bom.element.Opacity#get)\n * @require(qx.bom.element.BoxSizing#get)\n\n * @require(qx.bom.element.Clip#reset)\n * @require(qx.bom.element.Cursor#reset)\n * @require(qx.bom.element.Opacity#reset)\n * @require(qx.bom.element.BoxSizing#reset)\n\n * @require(qx.bom.element.Clip#compile)\n * @require(qx.bom.element.Cursor#compile)\n * @require(qx.bom.element.Opacity#compile)\n * @require(qx.bom.element.BoxSizing#compile)\n */\nqx.Bootstrap.define(\"qx.bom.element.Style\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    __styleNames : null,\n\n    __cssNames : null,\n\n    /**\n     * Detect vendor specific properties.\n     */\n    __detectVendorProperties : function()\n    {\n      var styleNames = {\n        \"appearance\" : qx.core.Environment.get(\"css.appearance\"),\n        \"userSelect\" : qx.core.Environment.get(\"css.userselect\"),\n        \"textOverflow\" : qx.core.Environment.get(\"css.textoverflow\"),\n        \"borderImage\" : qx.core.Environment.get(\"css.borderimage\"),\n        \"float\" : qx.core.Environment.get(\"css.float\"),\n        \"userModify\" : qx.core.Environment.get(\"css.usermodify\"),\n        \"boxSizing\" : qx.core.Environment.get(\"css.boxsizing\")\n      };\n\n      this.__cssNames = {};\n      for (var key in qx.lang.Object.clone(styleNames)) {\n        if (!styleNames[key]) {\n          delete styleNames[key];\n        }\n        else {\n          if (key === 'float') {\n            this.__cssNames['cssFloat'] = key;\n          } else {\n            this.__cssNames[key] = qx.bom.Style.getCssName(styleNames[key]);\n          }\n        }\n      }\n\n      this.__styleNames = styleNames;\n    },\n\n\n    /**\n     * Gets the (possibly vendor-prefixed) name of a style property and stores\n     * it to avoid multiple checks.\n     *\n     * @param name {String} Style property name to check\n     * @return {String|null} The client-specific name of the property, or\n     * <code>null</code> if it's not supported.\n     */\n    __getStyleName : function(name)\n    {\n      var styleName = qx.bom.Style.getPropertyName(name);\n      if (styleName) {\n        this.__styleNames[name] = styleName;\n      }\n      return styleName;\n    },\n\n\n    /**\n     * Mshtml has proprietary pixel* properties for locations and dimensions\n     * which return the pixel value. Used by getComputed() in mshtml variant.\n     *\n     * @internal\n     */\n    __mshtmlPixel :\n    {\n      width : \"pixelWidth\",\n      height : \"pixelHeight\",\n      left : \"pixelLeft\",\n      right : \"pixelRight\",\n      top : \"pixelTop\",\n      bottom : \"pixelBottom\"\n    },\n\n    /**\n     * Whether a special class is available for the processing of this style.\n     *\n     * @internal\n     */\n    __special :\n    {\n      clip : qx.bom.element.Clip,\n      cursor : qx.bom.element.Cursor,\n      opacity : qx.bom.element.Opacity,\n      boxSizing : qx.bom.element.BoxSizing\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      COMPILE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Compiles the given styles into a string which can be used to\n     * concat a HTML string for innerHTML usage.\n     *\n     * @param map {Map} Map of style properties to compile\n     * @return {String} Compiled string of given style properties.\n     */\n    compile : function(map)\n    {\n      var html = [];\n      var special = this.__special;\n      var cssNames = this.__cssNames;\n      var name, value;\n\n      for (name in map)\n      {\n        // read value\n        value = map[name];\n        if (value == null) {\n          continue;\n        }\n\n        // normalize name\n        name = this.__cssNames[name] || name;\n\n        // process special properties\n        if (special[name]) {\n          html.push(special[name].compile(value));\n        } else {\n          if (!cssNames[name]) {\n            cssNames[name] = qx.bom.Style.getCssName(name);\n          }\n          html.push(cssNames[name], \":\", value === \"\" ? \"\\\"\\\"\" : value, \";\");\n        }\n      }\n\n      return html.join(\"\");\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      CSS TEXT SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Set the full CSS content of the style attribute\n     *\n     * @param element {Element} The DOM element to modify\n     * @param value {String} The full CSS string\n     */\n    setCss : function(element, value)\n    {\n      element.setAttribute(\"style\", value);\n    },\n\n\n    /**\n     * Returns the full content of the style attribute.\n     *\n     * @param element {Element} The DOM element to query\n     * @return {String} the full CSS string\n     * @signature function(element)\n     */\n    getCss : function(element)\n    {\n      return element.getAttribute(\"style\");\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      STYLE ATTRIBUTE SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Checks whether the browser supports the given CSS property.\n     *\n     * @param propertyName {String} The name of the property\n     * @return {Boolean} Whether the property id supported\n     */\n    isPropertySupported : function(propertyName)\n    {\n      return (\n        this.__special[propertyName] ||\n        this.__styleNames[propertyName] ||\n        propertyName in document.documentElement.style\n      );\n    },\n\n\n    /** @type {Integer} Computed value of a style property. Compared to the cascaded style,\n     * this one also interprets the values e.g. translates <code>em</code> units to\n     * <code>px</code>.\n     */\n    COMPUTED_MODE : 1,\n\n\n    /** @type {Integer} Cascaded value of a style property. */\n    CASCADED_MODE : 2,\n\n\n    /**\n     * @type {Integer} Local value of a style property. Ignores inheritance cascade.\n     *   Does not interpret values.\n     */\n    LOCAL_MODE : 3,\n\n\n    /**\n     * Sets the value of a style property\n     *\n     * @param element {Element} The DOM element to modify\n     * @param name {String} Name of the style attribute (js variant e.g. marginTop, wordSpacing)\n     * @param value {var} The value for the given style\n     * @param smart {Boolean?true} Whether the implementation should automatically use\n     *    special implementations for some properties\n     */\n    set : function(element, name, value, smart)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        qx.core.Assert.assertElement(element, \"Invalid argument 'element'\");\n        qx.core.Assert.assertString(name, \"Invalid argument 'name'\");\n        if (smart !== undefined) {\n          qx.core.Assert.assertBoolean(smart, \"Invalid argument 'smart'\");\n        }\n      }\n\n\n      // normalize name\n      name = this.__styleNames[name] || this.__getStyleName(name) || name;\n\n      // special handling for specific properties\n      // through this good working switch this part costs nothing when\n      // processing non-smart properties\n      if (smart!==false && this.__special[name]) {\n        this.__special[name].set(element, value);\n      } else {\n        element.style[name] = value !== null ? value : \"\";\n      }\n    },\n\n\n    /**\n     * Convenience method to modify a set of styles at once.\n     *\n     * @param element {Element} The DOM element to modify\n     * @param styles {Map} a map where the key is the name of the property\n     *    and the value is the value to use.\n     * @param smart {Boolean?true} Whether the implementation should automatically use\n     *    special implementations for some properties\n     */\n    setStyles : function(element, styles, smart)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        qx.core.Assert.assertElement(element, \"Invalid argument 'element'\");\n        qx.core.Assert.assertMap(styles, \"Invalid argument 'styles'\");\n        if (smart !== undefined) {\n          qx.core.Assert.assertBoolean(smart, \"Invalid argument 'smart'\");\n        }\n      }\n\n      // inline calls to \"set\" and \"reset\" because this method is very\n      // performance critical!\n      var styleNames = this.__styleNames;\n      var special = this.__special;\n\n      var style = element.style;\n\n      for (var key in styles)\n      {\n        var value = styles[key];\n        var name = styleNames[key] || this.__getStyleName(key) || key;\n\n        if (value === undefined)\n        {\n          if (smart!==false && special[name]) {\n            special[name].reset(element);\n          } else {\n            style[name] = \"\";\n          }\n        }\n        else\n        {\n          if (smart!==false && special[name]) {\n            special[name].set(element, value);\n          } else {\n            style[name] = value !== null ? value : \"\";\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Resets the value of a style property\n     *\n     * @param element {Element} The DOM element to modify\n     * @param name {String} Name of the style attribute (js variant e.g. marginTop, wordSpacing)\n     * @param smart {Boolean?true} Whether the implementation should automatically use\n     *    special implementations for some properties\n     */\n    reset : function(element, name, smart)\n    {\n      // normalize name\n      name = this.__styleNames[name] || this.__getStyleName(name) || name;\n\n      // special handling for specific properties\n      if (smart!==false && this.__special[name]) {\n        this.__special[name].reset(element);\n      } else {\n        element.style[name] = \"\";\n      }\n    },\n\n\n    /**\n     * Gets the value of a style property.\n     *\n     * *Computed*\n     *\n     * Returns the computed value of a style property. Compared to the cascaded style,\n     * this one also interprets the values e.g. translates <code>em</code> units to\n     * <code>px</code>.\n     *\n     * *Cascaded*\n     *\n     * Returns the cascaded value of a style property.\n     *\n     * *Local*\n     *\n     * Ignores inheritance cascade. Does not interpret values.\n     *\n     * @signature function(element, name, mode, smart)\n     * @param element {Element} The DOM element to modify\n     * @param name {String} Name of the style attribute (js variant e.g. marginTop, wordSpacing)\n     * @param mode {Number} Choose one of the modes {@link #COMPUTED_MODE}, {@link #CASCADED_MODE},\n     *   {@link #LOCAL_MODE}. The computed mode is the default one.\n     * @param smart {Boolean?true} Whether the implementation should automatically use\n     *    special implementations for some properties\n     * @return {var} The value of the property\n     */\n    get : function(element, name, mode, smart)\n    {\n      // normalize name\n      name = this.__styleNames[name] || this.__getStyleName(name) || name;\n\n      // special handling\n      if (smart!==false && this.__special[name]) {\n        return this.__special[name].get(element, mode);\n      }\n\n      // switch to right mode\n      switch(mode)\n      {\n        case this.LOCAL_MODE:\n          return element.style[name] || \"\";\n\n        case this.CASCADED_MODE:\n          // Currently only supported by Opera and Internet Explorer\n          if (element.currentStyle) {\n            return element.currentStyle[name] || \"\";\n          }\n\n          throw new Error(\"Cascaded styles are not supported in this browser!\");\n\n        default:\n          // Opera, Mozilla and Safari 3+ also have a global getComputedStyle which is identical\n          // to the one found under document.defaultView.\n\n          // The problem with this is however that this does not work correctly\n          // when working with frames and access an element of another frame.\n          // Then we must use the <code>getComputedStyle</code> of the document\n          // where the element is defined.\n\n          var doc = qx.dom.Node.getDocument(element);\n          var getStyle = doc.defaultView ? doc.defaultView.getComputedStyle : undefined;\n\n          if (getStyle !== undefined)\n          {\n            // Support for the DOM2 getComputedStyle method\n            //\n            // Safari >= 3 & Gecko > 1.4 expose all properties to the returned\n            // CSSStyleDeclaration object. In older browsers the function\n            // \"getPropertyValue\" is needed to access the values.\n            //\n            // On a computed style object all properties are read-only which is\n            // identical to the behavior of MSHTML's \"currentStyle\".\n\n            var computed = getStyle(element, null);\n            // All relevant browsers expose the configured style properties to\n            // the CSSStyleDeclaration objects\n            if (computed && computed[name]) {\n              return computed[name];\n            }\n          }\n          else\n          {\n            // if the element is not inserted into the document \"currentStyle\"\n            // may be undefined. In this case always return the local style.\n            if (!element.currentStyle) {\n              return element.style[name] || \"\";\n            }\n\n            // Read cascaded style. Shorthand properties like \"border\" are not available\n            // on the currentStyle object.\n            var currentStyle = element.currentStyle[name] || element.style[name] || \"\";\n\n            // Pixel values are always OK\n            if (/^-?[\\.\\d]+(px)?$/i.test(currentStyle)) {\n              return currentStyle;\n            }\n\n            // Try to convert non-pixel values\n            var pixel = this.__mshtmlPixel[name];\n            if (pixel && (pixel in element.style))\n            {\n              // Backup local and runtime style\n              var localStyle = element.style[name];\n\n              // Overwrite local value with cascaded value\n              // This is needed to have the pixel value setup\n              element.style[name] = currentStyle || 0;\n\n              // Read pixel value and add \"px\"\n              var value = element.style[pixel] + \"px\";\n\n              // Recover old local value\n              element.style[name] = localStyle;\n\n              // Return value\n              return value;\n            }\n\n            // Just the current style\n            return currentStyle;\n          }\n\n          return element.style[name] || \"\";\n      }\n    }\n  },\n\n  defer : function(statics) {\n    statics.__detectVendorProperties();\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2013 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n/**\n * Global class which handles the single stylesheet used for qx.desktop.\n */\nqx.Class.define(\"qx.ui.style.Stylesheet\",\n{\n  type : \"singleton\",\n  extend : qx.core.Object,\n\n\n  construct : function() {\n    this.base(arguments);\n    this.__sheet = qx.bom.Stylesheet.createElement();\n    this.__rules = [];\n  },\n\n\n  members :\n  {\n    __rules : null,\n    __sheet : null,\n\n\n    /**\n     * Adds a rule to the global stylesheet.\n     * @param selector {String} The CSS selector to add the rule for.\n     * @param css {String} The rule's content.\n     */\n    addRule : function(selector, css) {\n      if (this.hasRule(selector)) {\n        return;\n      }\n      qx.bom.Stylesheet.addRule(this.__sheet, selector, css);\n      this.__rules.push(selector);\n    },\n\n\n    /**\n     * Check if a rule exists.\n     * @param selector {String} The selector to check.\n     * @return {Boolean} <code>true</code> if the rule exists\n     */\n    hasRule : function(selector) {\n      return this.__rules.indexOf(selector) != -1;\n    },\n\n\n    /**\n     * Remove the rule for the given selector.\n     * @param selector {String} The selector to identify the rule.\n     */\n    removeRule : function(selector) {\n      delete this.__rules[this.__rules.indexOf(selector)];\n      qx.bom.Stylesheet.removeRule(this.__sheet, selector);\n    }\n  }\n});","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * A decorator is responsible for computing a widget's decoration styles.\n *\n */\nqx.Interface.define(\"qx.ui.decoration.IDecorator\",\n{\n  members :\n  {\n\n    /**\n     * Returns the decorator's styles.\n     *\n     * @return {Map} Map of decoration styles\n     */\n    getStyles : function() {},\n\n\n\n    /**\n     * Returns the configured padding minus the border width.\n     * @return {Map} Map of top, right, bottom and left padding values\n     */\n    getPadding : function() {},\n\n\n    /**\n     * Get the amount of space the decoration needs for its border and padding\n     * on each side.\n     *\n     * @return {Map} the desired inset as a map with the keys <code>top</code>,\n     *     <code>right</code>, <code>bottom</code>, <code>left</code>.\n     */\n    getInsets : function() {}\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n/**\n * This class acts as abstract class for all decorators. It offers the\n * properties for the insets handling. Each decorator has to define its own\n * default insets by implementing the template method\n * (http://en.wikipedia.org/wiki/Template_Method) <code>_getDefaultInsets</code>\n */\nqx.Class.define(\"qx.ui.decoration.Abstract\",\n{\n  extend: qx.core.Object,\n  implement : [qx.ui.decoration.IDecorator],\n  type: \"abstract\",\n\n\n  members :\n  {\n    __insets : null,\n\n\n    /**\n     * Abstract method. Should return a map containing the default insets of\n     * the decorator. This could look like this:\n     * <pre>\n     * return {\n     *   top : 0,\n     *   right : 0,\n     *   bottom : 0,\n     *   left : 0\n     * };\n     * </pre>\n     * @return {Map} Map containing the insets.\n     */\n    _getDefaultInsets : function() {\n      throw new Error(\"Abstract method called.\");\n    },\n\n\n    /**\n     * Abstract method. Should return an boolean value if the decorator is\n     * already initialized or not.\n     * @return {Boolean} True, if the decorator is initialized.\n     */\n    _isInitialized: function() {\n      throw new Error(\"Abstract method called.\");\n    },\n\n\n    /**\n     * Resets the insets.\n     */\n    _resetInsets: function() {\n      this.__insets = null;\n    },\n\n\n    // interface implementation\n    getInsets : function()\n    {\n      if (!this.__insets) {\n        this.__insets = this._getDefaultInsets();\n      }\n\n      return this.__insets;\n    }\n  },\n\n\n  /*\n   *****************************************************************************\n      DESTRUCTOR\n   *****************************************************************************\n   */\n\n   destruct : function() {\n     this.__insets = null;\n   }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2010 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n/**\n * Mixin responsible for setting the background color of a widget.\n * This mixin is usually used by {@link qx.ui.decoration.Decorator}.\n */\nqx.Mixin.define(\"qx.ui.decoration.MBackgroundColor\",\n{\n  properties :\n  {\n    /** Color of the background */\n    backgroundColor :\n    {\n      check : \"Color\",\n      nullable : true,\n      apply : \"_applyBackgroundColor\"\n    }\n  },\n\n\n  members :\n  {\n\n    /**\n     * Adds the background-color styles to the given map\n     * @param styles {Map} CSS style map\n     */\n    _styleBackgroundColor : function(styles) {\n      var bgcolor = this.getBackgroundColor();\n\n      if (bgcolor && qx.core.Environment.get(\"qx.theme\")) {\n        bgcolor = qx.theme.manager.Color.getInstance().resolve(bgcolor);\n      }\n\n      if (bgcolor) {\n        styles[\"background-color\"] = bgcolor;\n      }\n    },\n\n\n    // property apply\n    _applyBackgroundColor : function()\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (this._isInitialized()) {\n          throw new Error(\"This decorator is already in-use. Modification is not possible anymore!\");\n        }\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2010 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n/**\n * Mixin for the border radius CSS property.\n * This mixin is usually used by {@link qx.ui.decoration.Decorator}.\n *\n * Keep in mind that this is not supported by all browsers:\n *\n * * Firefox 3,5+\n * * IE9+\n * * Safari 3.0+\n * * Opera 10.5+\n * * Chrome 4.0+\n */\nqx.Mixin.define(\"qx.ui.decoration.MBorderRadius\",\n{\n  properties : {\n    /** top left corner radius */\n    radiusTopLeft :\n    {\n      nullable : true,\n      check : \"Integer\",\n      apply : \"_applyBorderRadius\"\n    },\n\n    /** top right corner radius */\n    radiusTopRight :\n    {\n      nullable : true,\n      check : \"Integer\",\n      apply : \"_applyBorderRadius\"\n    },\n\n    /** bottom left corner radius */\n    radiusBottomLeft :\n    {\n      nullable : true,\n      check : \"Integer\",\n      apply : \"_applyBorderRadius\"\n    },\n\n    /** bottom right corner radius */\n    radiusBottomRight :\n    {\n      nullable : true,\n      check : \"Integer\",\n      apply : \"_applyBorderRadius\"\n    },\n\n    /** Property group to set the corner radius of all sides */\n    radius :\n    {\n      group : [ \"radiusTopLeft\", \"radiusTopRight\", \"radiusBottomRight\", \"radiusBottomLeft\" ],\n      mode : \"shorthand\"\n    }\n  },\n\n\n  members :\n  {\n    /**\n     * Takes a styles map and adds the border radius styles in place to the\n     * given map. This is the needed behavior for\n     * {@link qx.ui.decoration.Decorator}.\n     *\n     * @param styles {Map} A map to add the styles.\n     */\n    _styleBorderRadius : function(styles)\n    {\n      // Fixing the background bleed in Webkits\n      // http://tumble.sneak.co.nz/post/928998513/fixing-the-background-bleed\n      styles[\"-webkit-background-clip\"] = \"padding-box\";\n      styles[\"background-clip\"] = \"padding-box\";\n\n      // radius handling\n      var hasRadius = false;\n      var radius = this.getRadiusTopLeft();\n      if (radius > 0) {\n        hasRadius = true;\n        styles[\"-moz-border-radius-topleft\"] = radius + \"px\";\n        styles[\"-webkit-border-top-left-radius\"] = radius + \"px\";\n        styles[\"border-top-left-radius\"] = radius + \"px\";\n      }\n\n      radius = this.getRadiusTopRight();\n      if (radius > 0) {\n        hasRadius = true;\n        styles[\"-moz-border-radius-topright\"] = radius + \"px\";\n        styles[\"-webkit-border-top-right-radius\"] = radius + \"px\";\n        styles[\"border-top-right-radius\"] = radius + \"px\";\n      }\n\n      radius = this.getRadiusBottomLeft();\n      if (radius > 0) {\n        hasRadius = true;\n        styles[\"-moz-border-radius-bottomleft\"] = radius + \"px\";\n        styles[\"-webkit-border-bottom-left-radius\"] = radius + \"px\";\n        styles[\"border-bottom-left-radius\"] = radius + \"px\";\n      }\n\n      radius = this.getRadiusBottomRight();\n      if (radius > 0) {\n        hasRadius = true;\n        styles[\"-moz-border-radius-bottomright\"] = radius + \"px\";\n        styles[\"-webkit-border-bottom-right-radius\"] = radius + \"px\";\n        styles[\"border-bottom-right-radius\"] = radius + \"px\";\n      }\n\n      // Fixing the background bleed in Webkits\n      // http://tumble.sneak.co.nz/post/928998513/fixing-the-background-bleed\n      if (hasRadius && qx.core.Environment.get(\"engine.name\") == \"webkit\") {\n        styles[\"-webkit-background-clip\"] = \"padding-box\";\n      } else {\n    styles[\"background-clip\"] = \"padding-box\";\n      }\n    },\n\n    // property apply\n    _applyBorderRadius : function()\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (this._isInitialized()) {\n          throw new Error(\"This decorator is already in-use. Modification is not possible anymore!\");\n        }\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2010 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n/**\n * Mixin for the box shadow CSS property.\n * This mixin is usually used by {@link qx.ui.decoration.Decorator}.\n *\n * Keep in mind that this is not supported by all browsers:\n *\n * * Firefox 3,5+\n * * IE9+\n * * Safari 3.0+\n * * Opera 10.5+\n * * Chrome 4.0+\n *\n * It is possible to define multiple box shadows by setting an \n * array containing the needed values as the property value.\n * In case multiple values are specified, the values of the properties\n * are repeated until all match in length.\n *\n * An example:\n * <pre class=\"javascript\">\n *   'my-decorator': {\n *     style: {\n *       shadowBlurRadius: 2,\n *       shadowVerticalLength: 1,\n *       shadowColor: ['rgba(0, 0, 0, 0.2)', 'rgba(255, 255, 255, 0.4)'],\n *       inset: [true, false]\n *     }\n *   }\n * </pre>\n * which is the same as:\n * <pre class=\"javascript\">\n *   'my-decorator': {\n *     style: {\n *       shadowBlurRadius: [2, 2],\n *       shadowVerticalLength: [1, 1],\n *       shadowColor: ['rgba(0, 0, 0, 0.2)', 'rgba(255, 255, 255, 0.4)'],\n *       inset: [true, false]\n *     }\n *   }\n */\nqx.Mixin.define(\"qx.ui.decoration.MBoxShadow\",\n{\n  properties : {\n    /** Horizontal length of the shadow. */\n    shadowHorizontalLength :\n    {\n      nullable : true,\n      apply : \"_applyBoxShadow\"\n    },\n\n    /** Vertical length of the shadow. */\n    shadowVerticalLength :\n    {\n      nullable : true,\n      apply : \"_applyBoxShadow\"\n    },\n\n    /** The blur radius of the shadow. */\n    shadowBlurRadius :\n    {\n      nullable : true,\n      apply : \"_applyBoxShadow\"\n    },\n\n    /** The spread radius of the shadow. */\n    shadowSpreadRadius :\n    {\n      nullable : true,\n      apply : \"_applyBoxShadow\"\n    },\n\n    /** The color of the shadow. */\n    shadowColor :\n    {\n      nullable : true,\n      apply : \"_applyBoxShadow\"\n    },\n\n    /** Inset shadows are drawn inside the border. */\n    inset :\n    {\n      init : false,\n      apply : \"_applyBoxShadow\"\n    },\n\n    /** Property group to set the shadow length. */\n    shadowLength :\n    {\n      group : [\"shadowHorizontalLength\", \"shadowVerticalLength\"],\n      mode : \"shorthand\"\n    }\n  },\n\n\n  members :\n  {\n    /**\n     * Takes a styles map and adds the box shadow styles in place to the\n     * given map. This is the needed behavior for\n     * {@link qx.ui.decoration.Decorator}.\n     *\n     * @param styles {Map} A map to add the styles.\n     */\n    _styleBoxShadow : function(styles) {\n      var propName = qx.core.Environment.get(\"css.boxshadow\");\n      if (!propName ||\n          this.getShadowVerticalLength() == null &&\n          this.getShadowHorizontalLength() == null)\n      {\n        return;\n      }\n\n      propName = qx.bom.Style.getCssName(propName);\n\n      var Color = null;\n      if(qx.core.Environment.get(\"qx.theme\")) {\n        Color = qx.theme.manager.Color.getInstance();\n      }\n\n      var boxShadowProperties = [\"shadowVerticalLength\", \"shadowHorizontalLength\", \"shadowBlurRadius\",\n        \"shadowSpreadRadius\", \"shadowColor\", \"inset\"];\n        \n      (function(vLengths, hLengths, blurs, spreads, colors, insets) {\n        for(var i=0;i<vLengths.length;i++) {\n          var vLength = vLengths[i] || 0;\n          var hLength = hLengths[i] || 0;\n          var blur = blurs[i] || 0;\n          var spread = spreads[i] || 0;\n          var color = colors[i] || \"black\";\n          var inset = insets[i];\n\n          if(Color) {\n            color = Color.resolve(color);\n          }\n\n          if(color != null) {\n            var value = (inset ? 'inset ' : '') + hLength + \"px \" + vLength + \"px \" + blur + \"px \" + spread + \"px \" + color;\n            // apply or append the box shadow styles\n            if (!styles[propName]) {\n              styles[propName] = value;\n            } else {\n              styles[propName] += \",\" + value;\n            }\n          }\n        }\n      }).apply(this, this._getExtendedPropertyValueArrays(boxShadowProperties));\n    },\n\n\n    // property apply\n    _applyBoxShadow : function()\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (this._isInitialized()) {\n          throw new Error(\"This decorator is already in-use. Modification is not possible anymore!\");\n        }\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2010 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n/**\n * A basic decorator featuring simple borders based on CSS styles.\n * This mixin is usually used by {@link qx.ui.decoration.Decorator}.\n */\nqx.Mixin.define(\"qx.ui.decoration.MSingleBorder\",\n{\n  properties :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      PROPERTY: WIDTH\n    ---------------------------------------------------------------------------\n    */\n\n    /** top width of border */\n    widthTop :\n    {\n      check : \"Number\",\n      init : 0,\n      apply : \"_applyWidth\"\n    },\n\n    /** right width of border */\n    widthRight :\n    {\n      check : \"Number\",\n      init : 0,\n      apply : \"_applyWidth\"\n    },\n\n    /** bottom width of border */\n    widthBottom :\n    {\n      check : \"Number\",\n      init : 0,\n      apply : \"_applyWidth\"\n    },\n\n    /** left width of border */\n    widthLeft :\n    {\n      check : \"Number\",\n      init : 0,\n      apply : \"_applyWidth\"\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PROPERTY: STYLE\n    ---------------------------------------------------------------------------\n    */\n\n    /** top style of border */\n    styleTop :\n    {\n      nullable : true,\n      check : [ \"solid\", \"dotted\", \"dashed\", \"double\", \"inset\", \"outset\", \"ridge\", \"groove\"],\n      init : \"solid\",\n      apply : \"_applyStyle\"\n    },\n\n    /** right style of border */\n    styleRight :\n    {\n      nullable : true,\n      check : [ \"solid\", \"dotted\", \"dashed\", \"double\", \"inset\", \"outset\", \"ridge\", \"groove\"],\n      init : \"solid\",\n      apply : \"_applyStyle\"\n    },\n\n    /** bottom style of border */\n    styleBottom :\n    {\n      nullable : true,\n      check : [ \"solid\", \"dotted\", \"dashed\", \"double\", \"inset\", \"outset\", \"ridge\", \"groove\"],\n      init : \"solid\",\n      apply : \"_applyStyle\"\n    },\n\n    /** left style of border */\n    styleLeft :\n    {\n      nullable : true,\n      check : [ \"solid\", \"dotted\", \"dashed\", \"double\", \"inset\", \"outset\", \"ridge\", \"groove\"],\n      init : \"solid\",\n      apply : \"_applyStyle\"\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PROPERTY: COLOR\n    ---------------------------------------------------------------------------\n    */\n\n    /** top color of border */\n    colorTop :\n    {\n      nullable : true,\n      check : \"Color\",\n      apply : \"_applyStyle\"\n    },\n\n    /** right color of border */\n    colorRight :\n    {\n      nullable : true,\n      check : \"Color\",\n      apply : \"_applyStyle\"\n    },\n\n    /** bottom color of border */\n    colorBottom :\n    {\n      nullable : true,\n      check : \"Color\",\n      apply : \"_applyStyle\"\n    },\n\n    /** left color of border */\n    colorLeft :\n    {\n      nullable : true,\n      check : \"Color\",\n      apply : \"_applyStyle\"\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      PROPERTY GROUP: EDGE\n    ---------------------------------------------------------------------------\n    */\n\n    /** Property group to configure the left border */\n    left : {\n      group : [ \"widthLeft\", \"styleLeft\", \"colorLeft\" ]\n    },\n\n    /** Property group to configure the right border */\n    right : {\n      group : [ \"widthRight\", \"styleRight\", \"colorRight\" ]\n    },\n\n    /** Property group to configure the top border */\n    top : {\n      group : [ \"widthTop\", \"styleTop\", \"colorTop\" ]\n    },\n\n    /** Property group to configure the bottom border */\n    bottom : {\n      group : [ \"widthBottom\", \"styleBottom\", \"colorBottom\" ]\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PROPERTY GROUP: TYPE\n    ---------------------------------------------------------------------------\n    */\n\n    /** Property group to set the border width of all sides */\n    width :\n    {\n      group : [ \"widthTop\", \"widthRight\", \"widthBottom\", \"widthLeft\" ],\n      mode : \"shorthand\"\n    },\n\n    /** Property group to set the border style of all sides */\n    style :\n    {\n      group : [ \"styleTop\", \"styleRight\", \"styleBottom\", \"styleLeft\" ],\n      mode : \"shorthand\"\n    },\n\n    /** Property group to set the border color of all sides */\n    color :\n    {\n      group : [ \"colorTop\", \"colorRight\", \"colorBottom\", \"colorLeft\" ],\n      mode : \"shorthand\"\n    }\n  },\n\n\n  members :\n  {\n    /**\n     * Takes a styles map and adds the border styles styles in place\n     * to the given map. This is the needed behavior for\n     * {@link qx.ui.decoration.Decorator}.\n     *\n     * @param styles {Map} A map to add the styles.\n     */\n    _styleBorder : function(styles)\n    {\n      if (qx.core.Environment.get(\"qx.theme\"))\n      {\n        var Color = qx.theme.manager.Color.getInstance();\n\n        var colorTop = Color.resolve(this.getColorTop());\n        var colorRight = Color.resolve(this.getColorRight());\n        var colorBottom = Color.resolve(this.getColorBottom());\n        var colorLeft = Color.resolve(this.getColorLeft());\n      }\n      else\n      {\n        var colorTop = this.getColorTop();\n        var colorRight = this.getColorRight();\n        var colorBottom = this.getColorBottom();\n        var colorLeft = this.getColorLeft();\n      }\n\n      // Add borders\n      var width = this.getWidthTop();\n      if (width > 0) {\n        styles[\"border-top\"] = width + \"px \" + this.getStyleTop() + \" \" + (colorTop || \"\");\n      }\n\n      var width = this.getWidthRight();\n      if (width > 0) {\n        styles[\"border-right\"] = width + \"px \" + this.getStyleRight() + \" \" + (colorRight || \"\");\n      }\n\n      var width = this.getWidthBottom();\n      if (width > 0) {\n        styles[\"border-bottom\"] = width + \"px \" + this.getStyleBottom() + \" \" + (colorBottom || \"\");\n      }\n\n      var width = this.getWidthLeft();\n      if (width > 0) {\n        styles[\"border-left\"] = width + \"px \" + this.getStyleLeft() + \" \" + (colorLeft || \"\");\n      }\n\n      // Check if valid\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (styles.length === 0) {\n          throw new Error(\"Invalid Single decorator (zero border width). Use qx.ui.decorator.Background instead!\");\n        }\n      }\n\n      // Add basic styles\n      styles.position = \"absolute\";\n    },\n\n\n    /**\n     * Implementation of the interface for the single border.\n     *\n     * @return {Map} A map containing the default insets.\n     *   (top, right, bottom, left)\n     */\n    _getDefaultInsetsForBorder : function()\n    {\n      return {\n        top : this.getWidthTop(),\n        right : this.getWidthRight(),\n        bottom : this.getWidthBottom(),\n        left : this.getWidthLeft()\n      };\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PROPERTY APPLY ROUTINES\n    ---------------------------------------------------------------------------\n    */\n\n    // property apply\n    _applyWidth : function()\n    {\n      this._applyStyle();\n\n      this._resetInsets();\n    },\n\n\n    // property apply\n    _applyStyle : function()\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (this._isInitialized()) {\n          throw new Error(\"This decorator is already in-use. Modification is not possible anymore!\");\n        }\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n/**\n * Mixin for supporting the background images on decorators.\n * This mixin is usually used by {@link qx.ui.decoration.Decorator}.\n *\n * It is possible to define multiple background images by setting an\n * array containing the needed values as the property value.\n * In case multiple values are specified, the values of the properties\n * are repeated until all match in length.\n *\n * An example:\n * <pre class=\"javascript\">\n *   'my-decorator': {\n *     style: {\n *       backgroundImage: ['foo1.png', 'foo2.png', 'bar1.png', 'bar2.png'],\n *       backgroundRepeat: 'no-repeat',\n *       backgroundPositionX: ['left', 'right', 'center'],\n *       backgroundPositionY: ['center', 'top']\n *     }\n *   }\n * </pre>\n * which is the same as:\n * <pre class=\"javascript\">\n *   'my-decorator': {\n *     style: {\n *       backgroundImage: ['foo1.png', 'foo2.png', 'bar1.png', 'bar2.png'],\n *       backgroundRepeat: ['no-repeat', 'no-repeat', 'no-repeat', 'no-repeat'],\n *       backgroundPositionX: ['left', 'right', 'center', 'left'],\n *       backgroundPositionY: ['center', 'top', 'center', 'top']\n *     }\n *   }\n * </pre>\n */\nqx.Mixin.define(\"qx.ui.decoration.MBackgroundImage\",\n{\n  properties :\n  {\n    /** The URL of the background image */\n    backgroundImage :\n    {\n      nullable : true,\n      apply : \"_applyBackgroundImage\"\n    },\n\n\n    /** How the background image should be repeated */\n    backgroundRepeat :\n    {\n      init : \"repeat\",\n      apply : \"_applyBackgroundImage\"\n    },\n\n\n    /**\n     * Either a string or a number, which defines the horizontal position\n     * of the background image.\n     *\n     * If the value is an integer it is interpreted as a pixel value, otherwise\n     * the value is taken to be a CSS value. For CSS, the values are \"center\",\n     * \"left\" and \"right\".\n     */\n    backgroundPositionX :\n    {\n      nullable : true,\n      apply : \"_applyBackgroundPosition\"\n    },\n\n\n    /**\n     * Either a string or a number, which defines the vertical position\n     * of the background image.\n     *\n     * If the value is an integer it is interpreted as a pixel value, otherwise\n     * the value is taken to be a CSS value. For CSS, the values are \"top\",\n     * \"center\" and \"bottom\".\n     */\n    backgroundPositionY :\n    {\n      nullable : true,\n      apply : \"_applyBackgroundPosition\"\n    },\n\n\n    /**\n     * Specifies where the background image is positioned.\n     */\n    backgroundOrigin :\n    {\n      nullable: true,\n      apply: \"_applyBackgroundImage\"\n    },\n\n\n    /**\n     * Property group to define the background position\n     */\n    backgroundPosition :\n    {\n      group : [\"backgroundPositionY\", \"backgroundPositionX\"]\n    },\n\n\n    /**\n     * Whether to order gradients before Image-URL-based background declarations\n     * if both qx.ui.decoration.MBackgroundImage and\n     * qx.ui.decoration.MLinearBackgroundGradient decorations are used.\n     */\n    orderGradientsFront :\n    {\n      check: 'Boolean',\n      init: false\n    }\n  },\n\n\n  members :\n  {\n    /**\n     * Adds the background-image styles to the given map\n     * @param styles {Map} CSS style map\n     */\n    _styleBackgroundImage : function(styles)\n    {\n      if(! this.getBackgroundImage()) {\n        return;\n      }\n\n      if(\"background\" in styles) {\n        if(!qx.lang.Type.isArray(styles['background'])) {\n          styles['background'] = [styles['background']];\n        }\n      } else {\n        styles['background'] = [];\n      }\n\n      var backgroundImageProperties = ['backgroundImage', 'backgroundRepeat', 'backgroundPositionY',\n        'backgroundPositionX', 'backgroundOrigin'];\n\n      (function (images, repeats, tops, lefts, origins) {\n        for(var i=0;i<images.length;i++) {\n          var image = images[i];\n          var repeat = repeats[i];\n          var top = tops[i] || 0;\n          var left = lefts[i] || 0;\n          var origin = origins[i] || '';\n\n          if (top == null) {\n            top = 0;\n          }\n          if (left == null) {\n            left = 0;\n          }\n          if (!isNaN(top)) {\n            top += \"px\";\n          }\n          if (!isNaN(left)) {\n            left += \"px\";\n          }\n\n          var id = qx.util.AliasManager.getInstance().resolve(image);\n          var source = qx.util.ResourceManager.getInstance().toUri(id);\n\n          var attrs = {\n            image: 'url(' + source + ')',\n            position: left + \" \" + top,\n            repeat: 'repeat',\n            origin: origin\n          };\n          if (repeat === \"scale\") {\n            attrs.size = \"100% 100%\";\n          } else {\n            attrs.repeat = repeat;\n          }\n          var imageMarkup = [attrs.image, attrs.position + ('size' in attrs ? ' / ' + attrs.size : ''), attrs.repeat, attrs.origin];\n\n          styles[\"background\"][this.getOrderGradientsFront() ? 'push' : 'unshift'](imageMarkup.join(' '));\n\n          if (qx.core.Environment.get(\"qx.debug\") &&\n            source &&  source.endsWith(\".png\") &&\n            (repeat == \"scale\" || repeat == \"no-repeat\") &&\n            qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n            qx.core.Environment.get(\"browser.documentmode\") < 9)\n          {\n            this.warn(\"Background PNGs with repeat == 'scale' or repeat == 'no-repeat'\" +\n              \" are not supported in this client! The image's resource id is '\" + id + \"'\");\n          }\n        }\n      }).apply(this, this._getExtendedPropertyValueArrays(backgroundImageProperties));\n    },\n\n\n    // property apply\n    _applyBackgroundImage : function()\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (this._isInitialized()) {\n          throw new Error(\"This decorator is already in-use. Modification is not possible anymore!\");\n        }\n      }\n    },\n\n\n    // property apply\n    _applyBackgroundPosition : function()\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (this._isInitialized()) {\n          throw new Error(\"This decorator is already in-use. Modification is not possible anymore!\");\n        }\n        if (qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n          qx.core.Environment.get(\"browser.documentmode\") < 9)\n        {\n          this.warn(\"The backgroundPosition property is not supported by this client!\");\n        }\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2010 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n/**\n * Border implementation with two CSS borders. Both borders can be styled\n * independent of each other.\n * This mixin is usually used by {@link qx.ui.decoration.Decorator}.\n */\nqx.Mixin.define(\"qx.ui.decoration.MDoubleBorder\",\n{\n  include : [qx.ui.decoration.MSingleBorder, qx.ui.decoration.MBackgroundImage],\n\n  construct : function() {\n    // override the methods of single border and background image\n    this._getDefaultInsetsForBorder = this.__getDefaultInsetsForDoubleBorder;\n    this._styleBorder = this.__styleDoubleBorder;\n  },\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      PROPERTY: INNER WIDTH\n    ---------------------------------------------------------------------------\n    */\n\n    /** top width of border */\n    innerWidthTop :\n    {\n      check : \"Number\",\n      init : 0,\n      apply : \"_applyDoubleBorder\"\n    },\n\n    /** right width of border */\n    innerWidthRight :\n    {\n      check : \"Number\",\n      init : 0,\n      apply : \"_applyDoubleBorder\"\n    },\n\n    /** bottom width of border */\n    innerWidthBottom :\n    {\n      check : \"Number\",\n      init : 0,\n      apply : \"_applyDoubleBorder\"\n    },\n\n    /** left width of border */\n    innerWidthLeft :\n    {\n      check : \"Number\",\n      init : 0,\n      apply : \"_applyDoubleBorder\"\n    },\n\n    /** Property group to set the inner border width of all sides */\n    innerWidth :\n    {\n      group : [ \"innerWidthTop\", \"innerWidthRight\", \"innerWidthBottom\", \"innerWidthLeft\" ],\n      mode : \"shorthand\"\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PROPERTY: INNER COLOR\n    ---------------------------------------------------------------------------\n    */\n\n    /** top inner color of border */\n    innerColorTop :\n    {\n      nullable : true,\n      check : \"Color\",\n      apply : \"_applyDoubleBorder\"\n    },\n\n    /** right inner color of border */\n    innerColorRight :\n    {\n      nullable : true,\n      check : \"Color\",\n      apply : \"_applyDoubleBorder\"\n    },\n\n    /** bottom inner color of border */\n    innerColorBottom :\n    {\n      nullable : true,\n      check : \"Color\",\n      apply : \"_applyDoubleBorder\"\n    },\n\n    /** left inner color of border */\n    innerColorLeft :\n    {\n      nullable : true,\n      check : \"Color\",\n      apply : \"_applyDoubleBorder\"\n    },\n\n    /**\n     * Property group for the inner color properties.\n     */\n    innerColor :\n    {\n      group : [ \"innerColorTop\", \"innerColorRight\", \"innerColorBottom\", \"innerColorLeft\" ],\n      mode : \"shorthand\"\n    },\n\n    /**\n     * The opacity of the inner border.\n     */\n    innerOpacity :\n    {\n      check : \"Number\",\n      init : 1,\n      apply : \"_applyDoubleBorder\"\n    }\n  },\n\n\n  members :\n  {\n\n    /**\n     * Takes a styles map and adds the outer border styles in place\n     * to the given map. This is the needed behavior for\n     * {@link qx.ui.decoration.Decorator}.\n     *\n     * @param styles {Map} A map to add the styles.\n     */\n    __styleDoubleBorder : function(styles)\n    {\n      var propName = qx.core.Environment.get(\"css.boxshadow\");\n\n      var color,\n          innerColor,\n          innerWidth;\n      if (qx.core.Environment.get(\"qx.theme\"))\n      {\n        var Color = qx.theme.manager.Color.getInstance();\n\n        color = {\n          top : Color.resolve(this.getColorTop()),\n          right : Color.resolve(this.getColorRight()),\n          bottom : Color.resolve(this.getColorBottom()),\n          left : Color.resolve(this.getColorLeft())\n        };\n\n        innerColor = {\n          top : Color.resolve(this.getInnerColorTop()),\n          right : Color.resolve(this.getInnerColorRight()),\n          bottom : Color.resolve(this.getInnerColorBottom()),\n          left : Color.resolve(this.getInnerColorLeft())\n        };\n      }\n      else\n      {\n        color = {\n          top : this.getColorTop(),\n          right : this.getColorRight(),\n          bottom : this.getColorBottom(),\n          left : this.getColorLeft()\n        };\n\n        innerColor = {\n          top : this.getInnerColorTop(),\n          right : this.getInnerColorRight(),\n          bottom : this.getInnerColorBottom(),\n          left : this.getInnerColorLeft()\n        };\n      }\n\n      innerWidth = {\n        top : this.getInnerWidthTop(),\n        right : this.getInnerWidthRight(),\n        bottom : this.getInnerWidthBottom(),\n        left : this.getInnerWidthLeft()\n      };\n\n      // Add outer borders\n      var width = this.getWidthTop();\n      if (width > 0) {\n        styles[\"border-top\"] = width + \"px \" + this.getStyleTop() + \" \" + color.top;\n      }\n\n      width = this.getWidthRight();\n      if (width > 0) {\n        styles[\"border-right\"] = width + \"px \" + this.getStyleRight() + \" \" + color.right;\n      }\n\n      width = this.getWidthBottom();\n      if (width > 0) {\n        styles[\"border-bottom\"] = width + \"px \" + this.getStyleBottom() + \" \" + color.bottom;\n      }\n\n      width = this.getWidthLeft();\n      if (width > 0) {\n        styles[\"border-left\"] = width + \"px \" + this.getStyleLeft() + \" \" + color.left;\n      }\n\n      var innerOpacity = this.getInnerOpacity();\n\n      if (innerOpacity < 1) {\n        this.__processInnerOpacity(innerColor, innerOpacity);\n      }\n\n\n      // inner border\n      if (\n        innerWidth.top > 0 ||\n        innerWidth.right > 0 ||\n        innerWidth.bottom > 0 ||\n        innerWidth.left > 0\n      ) {\n\n        var borderTop = (innerWidth.top || 0) + \"px solid \" + innerColor.top;\n        var borderRight = (innerWidth.right || 0) + \"px solid \" + innerColor.right;\n        var borderBottom = (innerWidth.bottom || 0) + \"px solid \" + innerColor.bottom;\n        var borderLeft = (innerWidth.left || 0) + \"px solid \" + innerColor.left;\n\n        styles[\":before\"] = {\n          \"width\" : \"100%\",\n          \"height\" : \"100%\",\n          \"position\" : \"absolute\",\n          \"content\" : '\"\"',\n          \"border-top\" : borderTop,\n          \"border-right\" : borderRight,\n          \"border-bottom\" : borderBottom,\n          \"border-left\" : borderLeft,\n          \"left\": 0,\n          \"top\" : 0\n        };\n        var boxSizingKey = qx.bom.Style.getCssName(qx.core.Environment.get(\"css.boxsizing\"));\n        styles[\":before\"][boxSizingKey] = \"border-box\";\n\n        // make sure to apply the border radius as well\n        var borderRadiusKey = qx.core.Environment.get(\"css.borderradius\");\n        if (borderRadiusKey) {\n          borderRadiusKey = qx.bom.Style.getCssName(borderRadiusKey);\n          styles[\":before\"][borderRadiusKey] = \"inherit\";\n        }\n\n        // Add inner borders as shadows\n        var shadowStyle = [];\n\n        if (innerColor.top && innerWidth.top &&\n            innerColor.top == innerColor.bottom &&\n            innerColor.top == innerColor.right &&\n            innerColor.top == innerColor.left &&\n            innerWidth.top == innerWidth.bottom &&\n            innerWidth.top == innerWidth.right &&\n            innerWidth.top == innerWidth.left)\n        {\n          shadowStyle.push(\"inset 0 0 0 \" + innerWidth.top + \"px \" + innerColor.top);\n        }\n        else {\n          if (innerColor.top) {\n            shadowStyle.push(\"inset 0 \" + (innerWidth.top || 0) + \"px \" + innerColor.top);\n          }\n          if (innerColor.right) {\n            shadowStyle.push(\"inset -\" + (innerWidth.right || 0) + \"px 0 \" + innerColor.right);\n          }\n          if (innerColor.bottom) {\n            shadowStyle.push(\"inset 0 -\" + (innerWidth.bottom || 0) + \"px \" + innerColor.bottom);\n          }\n          if (innerColor.left) {\n            shadowStyle.push(\"inset \" + (innerWidth.left || 0) + \"px 0 \" + innerColor.left);\n          }\n        }\n\n        // apply or append the box shadow styles\n        if (shadowStyle.length > 0 && propName) {\n          propName = qx.bom.Style.getCssName(propName);\n          if (!styles[propName]) {\n            styles[propName] = shadowStyle.join(\",\");\n          } else {\n            styles[propName] += \",\" + shadowStyle.join(\",\");\n          }\n        }\n      } else {\n        styles[\":before\"] = {\n          border: 0\n        };\n      }\n    },\n\n\n    /**\n     * Converts the inner border's colors to rgba.\n     *\n     * @param innerColor {Map} map of top, right, bottom and left colors\n     * @param innerOpacity {Number} alpha value\n     */\n    __processInnerOpacity : function(innerColor, innerOpacity)\n    {\n      if (!qx.core.Environment.get(\"css.rgba\")) {\n          if (qx.core.Environment.get(\"qx.debug\")) {\n          qx.log.Logger.warn(\"innerOpacity is configured but the browser doesn't support RGBA colors.\");\n        }\n        return;\n      }\n\n      for (var edge in innerColor) {\n        var rgb = qx.util.ColorUtil.stringToRgb(innerColor[edge]);\n        rgb.push(innerOpacity);\n        var rgbString = qx.util.ColorUtil.rgbToRgbString(rgb);\n        innerColor[edge] = rgbString;\n      }\n    },\n\n\n    _applyDoubleBorder : function()\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (this._isInitialized()) {\n          throw new Error(\"This decorator is already in-use. Modification is not possible anymore!\");\n        }\n      }\n    },\n\n\n   /**\n    * Implementation of the interface for the double border.\n    *\n    * @return {Map} A map containing the default insets.\n    *   (top, right, bottom, left)\n    */\n    __getDefaultInsetsForDoubleBorder : function()\n    {\n      return {\n        top : this.getWidthTop() + this.getInnerWidthTop(),\n        right : this.getWidthRight() + this.getInnerWidthRight(),\n        bottom : this.getWidthBottom() + this.getInnerWidthBottom(),\n        left : this.getWidthLeft() + this.getInnerWidthLeft()\n      };\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2010 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n/**\n * Mixin for the linear background gradient CSS property.\n * This mixin is usually used by {@link qx.ui.decoration.Decorator}.\n *\n * Keep in mind that this is not supported by all browsers:\n *\n * * Safari 4.0+\n * * Chrome 4.0+\n * * Firefox 3.6+\n * * Opera 11.1+\n * * IE 10+\n * * IE 5.5+ (with limitations)\n *\n * For IE 5.5 to IE 8,this class uses the filter rules to create the gradient. This\n * has some limitations: The start and end position property can not be used. For\n * more details, see the original documentation:\n * http://msdn.microsoft.com/en-us/library/ms532997(v=vs.85).aspx\n *\n * For IE9, we create a gradient in a canvas element and render this gradient\n * as background image. Due to restrictions in the <code>background-image</code>\n * css property, we can not allow negative start values in that case.\n *\n * It is possible to define multiple background gradients by setting an \n * array containing the needed values as the property value.\n * In case multiple values are specified, the values of the properties\n * are repeated until all match in length. It is not possible to define\n * multiple background gradients when falling back to filter rules (IE5.5 to IE8).\n *\n * An example:\n * <pre class=\"javascript\">\n *   'my-decorator': {\n *     style: {\n *       startColor:['rgba(255, 0, 0, 0.5)', 'rgba(0, 255, 0, 0.5)', 'rgba(0, 0, 255, 0.5)'],\n *       endColor: 'rgba(255, 255, 255, 0.2)',\n *       orientation: ['horizontal', 'vertical']\n *     }\n *   }\n * </pre>\n * which is the same as:\n * <pre class=\"javascript\">\n *   'my-decorator': {\n *     style: {\n *       startColor: ['rgba(255, 0, 0, 0.5)', 'rgba(0, 255, 0, 0.5)', 'rgba(0, 0, 255, 0.5)'],\n *       endColor: ['rgba(255, 255, 255, 0.2)', 'rgba(255, 255, 255, 0.2)', 'rgba(255, 255, 255, 0.2)'],\n *       orientation: ['horizontal', 'vertical', 'horizontal']\n *     }\n *   }\n * </pre>\n */\nqx.Mixin.define(\"qx.ui.decoration.MLinearBackgroundGradient\",\n{\n  properties :\n  {\n    /**\n     * Start color of the background gradient.\n     * Note that alpha transparency (rgba) is not supported in IE 8.\n     */\n    startColor :\n    {\n      nullable : true,\n      apply : \"_applyLinearBackgroundGradient\"\n    },\n\n    /**\n     * End color of the background gradient.\n     * Note that alpha transparency (rgba) is not supported in IE 8.\n     */\n    endColor :\n    {\n      nullable : true,\n      apply : \"_applyLinearBackgroundGradient\"\n    },\n\n    /** The orientation of the gradient. */\n    orientation :\n    {\n      init : \"vertical\",\n      apply : \"_applyLinearBackgroundGradient\"\n    },\n\n    /** Position in percent where to start the color. */\n    startColorPosition :\n    {\n      init : 0,\n      apply : \"_applyLinearBackgroundGradient\"\n    },\n\n    /** Position in percent where to start the color. */\n    endColorPosition :\n    {\n      init : 100,\n      apply : \"_applyLinearBackgroundGradient\"\n    },\n\n    /** Defines if the given positions are in % or px.*/\n    colorPositionUnit :\n    {\n      init : \"%\",\n      apply : \"_applyLinearBackgroundGradient\"\n    },\n\n\n    /** Property group to set the start color including its start position. */\n    gradientStart :\n    {\n      group : [\"startColor\", \"startColorPosition\"],\n      mode : \"shorthand\"\n    },\n\n    /** Property group to set the end color including its end position. */\n    gradientEnd :\n    {\n      group : [\"endColor\", \"endColorPosition\"],\n      mode : \"shorthand\"\n    }\n  },\n\n\n  members :\n  {\n    /**\n     * Takes a styles map and adds the linear background styles in place to the\n     * given map. This is the needed behavior for\n     * {@link qx.ui.decoration.Decorator}.\n     *\n     * @param styles {Map} A map to add the styles.\n     */\n    _styleLinearBackgroundGradient : function(styles) {\n      var backgroundStyle = [];\n\n      if(!this.getStartColor() || !this.getEndColor()) {\n        return;\n      }\n\n      var styleImpl = this.__styleLinearBackgroundGradientAccordingToSpec;\n      if (qx.core.Environment.get(\"css.gradient.legacywebkit\")) {\n        styleImpl = this.__styleLinearBackgroundGradientForLegacyWebkit;\n      } else if (qx.core.Environment.get(\"css.gradient.filter\") &&\n        !qx.core.Environment.get(\"css.gradient.linear\") && qx.core.Environment.get(\"css.borderradius\")) {\n        styleImpl = this.__styleLinearBackgroundGradientWithCanvas;\n      } else if (qx.core.Environment.get(\"css.gradient.filter\") &&\n        !qx.core.Environment.get(\"css.gradient.linear\")) {\n        styleImpl = this.__styleLinearBackgroundGradientWithMSFilter;\n      }\n\n      var gradientProperties = [\"startColor\", \"endColor\", \"colorPositionUnit\", \"orientation\",\n        \"startColorPosition\", \"endColorPosition\"];\n\n      (function(startColors, endColors, units, orientations, startColorPositions, endColorPositions) {\n        for(var i=0;i<startColors.length;i++) {\n          var startColor = this.__getColor(startColors[i]);\n          var endColor = this.__getColor(endColors[i]);\n          var unit = units[i];\n          var orientation = orientations[i];\n          var startColorPosition = startColorPositions[i];\n          var endColorPosition = endColorPositions[i];\n\n          if(!styleImpl(startColor, endColor, unit, orientation, startColorPosition, endColorPosition, styles, backgroundStyle)) {\n            break;\n          }\n        }\n        \n        if(\"background\" in styles) {\n          if(!qx.lang.Type.isArray(styles['background'])) {\n            styles['background'] = [styles['background']];\n          }\n        } else {\n          styles['background'] = [];\n        }\n        var orderGradientsFront = 'getOrderGradientsFront' in this ? this.getOrderGradientsFront() : false;\n        var operation = orderGradientsFront ? Array.prototype.unshift : Array.prototype.push;\n        operation.apply(styles['background'], backgroundStyle);\n      }).apply(this, this._getExtendedPropertyValueArrays(gradientProperties));\n    },\n\n    /**\n     * Compute CSS rules to style the background with gradients.\n     * This can be called multiple times and SHOULD layer the gradients on top of each other and on top of existing backgrounds.\n     * Legacy implementation for old WebKit browsers (Chrome < 10).\n     * \n     * @param startColor {Color} The color to start the gradient with\n     * @param endColor {Color} The color to end the gradient with\n     * @param unit {Color} The unit in which startColorPosition and endColorPosition are measured\n     * @param orientation {String} Either 'horizontal' or 'vertical'\n     * @param startColorPosition {Number} The position of the gradient’s starting point, measured in `unit` units along the `orientation` axis from top or left\n     * @param endColorPosition {Number} The position of the gradient’s ending point, measured in `unit` units along the `orientation` axis from top or left\n     * @param styles {Map} The complete styles currently poised to be applied by decorators. Should not be written to in this method (use `backgroundStyle` for that)\n     * @param backgroundStyle {Map} This method should push new background styles onto this array.\n     *\n     * @return {Boolean} Whether this implementation supports multiple gradients atop each other (true).\n     */\n    __styleLinearBackgroundGradientForLegacyWebkit: function(startColor, endColor, unit, orientation, startColorPosition, endColorPosition, styles, backgroundStyle) {\n      // webkit uses px values if non are given\n      unit = unit === \"px\" ? \"\" : unit;\n\n      if (orientation == \"horizontal\") {\n        var startPos = startColorPosition + unit +\" 0\" + unit;\n        var endPos = endColorPosition + unit + \" 0\" + unit;\n      } else {\n        var startPos = \"0\" + unit + \" \" + startColorPosition + unit;\n        var endPos = \"0\" + unit +\" \" + endColorPosition + unit;\n      }\n\n      var color =\n        \"from(\" + startColor +\n        \"),to(\" + endColor + \")\";\n\n      backgroundStyle.push(\"-webkit-gradient(linear,\" + startPos + \",\" + endPos + \",\" + color + \")\");\n      return true;\n    },\n\n    /**\n     * Compute CSS rules to style the background with gradients.\n     * This can be called multiple times and SHOULD layer the gradients on top of each other and on top of existing backgrounds.\n     * IE9 canvas solution.\n     * \n     * @param startColor {Color} The color to start the gradient with\n     * @param endColor {Color} The color to end the gradient with\n     * @param unit {Color} The unit in which startColorPosition and endColorPosition are measured\n     * @param orientation {String} Either 'horizontal' or 'vertical'\n     * @param startColorPosition {Number} The position of the gradient’s starting point, measured in `unit` units along the `orientation` axis from top or left\n     * @param endColorPosition {Number} The position of the gradient’s ending point, measured in `unit` units along the `orientation` axis from top or left\n     * @param styles {Map} The complete styles currently poised to be applied by decorators. Should not be written to in this method (use `backgroundStyle` for that)\n     * @param backgroundStyle {Map} This method should push new background styles onto this array.\n     *\n     * @return {Boolean} Whether this implementation supports multiple gradients atop each other (true).\n     */\n    __styleLinearBackgroundGradientWithCanvas: function me(startColor, endColor, unit, orientation, startColorPosition, endColorPosition, styles, backgroundStyle) {\n      if (!me.__canvas) {\n        me.__canvas = document.createElement(\"canvas\");\n      }\n\n      var isVertical = orientation == \"vertical\";\n\n      var height = isVertical ? 200 : 1;\n      var width = isVertical ? 1 : 200;\n      var range = Math.max(100, endColorPosition - startColorPosition);\n\n      // use the px difference as dimension\n      if (unit === \"px\") {\n        if (isVertical) {\n          height = Math.max(height, endColorPosition - startColorPosition);\n        } else {\n          width = Math.max(width, endColorPosition - startColorPosition);\n        }\n      } else {\n        if (isVertical) {\n          height = Math.max(height, (endColorPosition - startColorPosition) * 2);\n        } else {\n          width = Math.max(width, (endColorPosition - startColorPosition) * 2);\n        }\n      }\n\n      me.__canvas.width = width;\n      me.__canvas.height = height;\n      var ctx = me.__canvas.getContext('2d');\n\n      if (isVertical) {\n        var lingrad = ctx.createLinearGradient(0, 0, 0, height);\n      } else {\n        var lingrad = ctx.createLinearGradient(0, 0, width, 0);\n      }\n\n      // don't allow negative start values\n      if (unit === \"%\") {\n        lingrad.addColorStop(Math.max(0, startColorPosition) / range, startColor);\n        lingrad.addColorStop(endColorPosition / range, endColor);\n      } else {\n        var comp = isVertical ? height : width;\n        lingrad.addColorStop(Math.max(0, startColorPosition) / comp, startColor);\n        lingrad.addColorStop(endColorPosition / comp, endColor);\n      }\n\n      //Clear the rect before drawing to allow for semitransparent colors\n      ctx.clearRect(0, 0, width, height);\n      ctx.fillStyle = lingrad;\n      ctx.fillRect(0, 0, width, height);\n\n      var size;\n      if (unit === \"%\") {\n        size = isVertical ? \"100% \" + range + \"%\" : range + \"% 100%\";\n      } else {\n        size = isVertical ? height + \"px 100%\" : \"100% \" + width + \"px\";\n      }\n      \n      backgroundStyle.push(\"url(\" + me.__canvas.toDataURL() + \") \" + size);\n      return true;\n    },\n\n    /**\n     * Compute CSS rules to style the background with gradients.\n     * This can be called multiple times and SHOULD layer the gradients on top of each other and on top of existing backgrounds.\n     * Old IE filter fallback.\n     * \n     * @param startColor {Color} The color to start the gradient with\n     * @param endColor {Color} The color to end the gradient with\n     * @param unit {Color} The unit in which startColorPosition and endColorPosition are measured\n     * @param orientation {String} Either 'horizontal' or 'vertical'\n     * @param startColorPosition {Number} The position of the gradient’s starting point, measured in `unit` units along the `orientation` axis from top or left\n     * @param endColorPosition {Number} The position of the gradient’s ending point, measured in `unit` units along the `orientation` axis from top or left\n     * @param styles {Map} The complete styles currently poised to be applied by decorators. Should not be written to in this method (use `backgroundStyle` for that). Note: this particular implementation will do that because it needs to change the `filter` property.\n     * @param backgroundStyle {Map} This method should push new background styles onto this array.\n     *\n     * @return {Boolean} Whether this implementation supports multiple gradients atop each other (false).\n     */\n    __styleLinearBackgroundGradientWithMSFilter: function(startColor, endColor, unit, orientation, startColorPosition, endColorPosition, styles, backgroundStyle) {\n      var type = orientation == \"horizontal\" ? 1 : 0;\n\n\n      // convert rgb, hex3 and named colors to hex6\n      if (!qx.util.ColorUtil.isHex6String(startColor)) {\n        startColor = qx.util.ColorUtil.stringToRgb(startColor);\n        startColor = qx.util.ColorUtil.rgbToHexString(startColor);\n      }\n      if (!qx.util.ColorUtil.isHex6String(endColor)) {\n        endColor = qx.util.ColorUtil.stringToRgb(endColor);\n        endColor = qx.util.ColorUtil.rgbToHexString(endColor);\n      }\n\n      // get rid of the starting '#'\n      startColor = startColor.substring(1, startColor.length);\n      endColor = endColor.substring(1, endColor.length);\n\n      var value = \"progid:DXImageTransform.Microsoft.Gradient\" +\n        \"(GradientType=\" + type + \", \" +\n        \"StartColorStr='#FF\" + startColor + \"', \" +\n        \"EndColorStr='#FF\" + endColor + \"';)\";\n      if (styles[\"filter\"]) {\n        styles[\"filter\"] += \", \" + value;\n      } else {\n        styles[\"filter\"] = value;\n      }\n\n      // Elements with transparent backgrounds will not receive receive pointer\n      // events if a Gradient filter is set.\n      if (!styles[\"background-color\"] ||\n          styles[\"background-color\"] == \"transparent\")\n      {\n        // We don't support alpha transparency for the gradient color stops\n        // so it doesn't matter which color we set here.\n        styles[\"background-color\"] = \"white\";\n      }\n      return false;\n    },\n\n    /**\n     * Compute CSS rules to style the background with gradients.\n     * This can be called multiple times and SHOULD layer the gradients on top of each other and on top of existing backgrounds.\n     * Default implementation (uses spec-compliant syntax).\n     * \n     * @param startColor {Color} The color to start the gradient with\n     * @param endColor {Color} The color to end the gradient with\n     * @param unit {Color} The unit in which startColorPosition and endColorPosition are measured\n     * @param orientation {String} Either 'horizontal' or 'vertical'\n     * @param startColorPosition {Number} The position of the gradient’s starting point, measured in `unit` units along the `orientation` axis from top or left\n     * @param endColorPosition {Number} The position of the gradient’s ending point, measured in `unit` units along the `orientation` axis from top or left\n     * @param styles {Map} The complete styles currently poised to be applied by decorators. Should not be written to in this method (use `backgroundStyle` for that)\n     * @param backgroundStyle {Map} This method should push new background styles onto this array.\n     *\n     * @return {Boolean} Whether this implementation supports multiple gradients atop each other (true).\n     */\n    __styleLinearBackgroundGradientAccordingToSpec: function(startColor, endColor, unit, orientation, startColorPosition, endColorPosition, styles, backgroundStyle) {\n      // WebKit, Opera and Gecko interpret 0deg as \"to right\"\n      var deg = orientation == \"horizontal\" ? 0 : 270;\n\n      var start = startColor + \" \" + startColorPosition + unit;\n      var end = endColor + \" \" + endColorPosition + unit;\n\n      var prefixedName = qx.core.Environment.get(\"css.gradient.linear\");\n      // Browsers supporting the unprefixed implementation interpret 0deg as\n      // \"to top\" as defined by the spec [BUG #6513]\n      if (prefixedName === \"linear-gradient\") {\n        deg = orientation == \"horizontal\" ? deg + 90 : deg - 90;\n      }\n\n      backgroundStyle.push(prefixedName + \"(\" + deg + \"deg, \" + start + \",\" + end + \")\");\n      return true;\n    },\n\n    /**\n     * Helper to get a resolved color from a name\n     * @param color {String} The color name\n     * @return {Map} The resolved color\n     */\n    __getColor : function(color) {\n      return qx.core.Environment.get(\"qx.theme\") ?\n        qx.theme.manager.Color.getInstance().resolve(color) : color;\n    },\n\n\n    // property apply\n    _applyLinearBackgroundGradient : function()\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (this._isInitialized()) {\n          throw new Error(\"This decorator is already in-use. Modification is not possible anymore!\");\n        }\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2013 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Decorator which uses the CSS3 border image properties.\n */\nqx.Mixin.define(\"qx.ui.decoration.MBorderImage\", {\n\n  properties :\n  {\n    /**\n     * Base image URL.\n     */\n    borderImage :\n    {\n      check : \"String\",\n      nullable : true,\n      apply : \"_applyBorderImage\"\n    },\n\n\n    /**\n     * The top slice line of the base image. The slice properties divide the\n     * image into nine regions, which define the corner, edge and the center\n     * images.\n     */\n    sliceTop :\n    {\n      check : \"Integer\",\n      nullable : true,\n      init : null,\n      apply : \"_applyBorderImage\"\n    },\n\n    /**\n     * The right slice line of the base image. The slice properties divide the\n     * image into nine regions, which define the corner, edge and the center\n     * images.\n     */\n    sliceRight :\n    {\n      check : \"Integer\",\n      nullable : true,\n      init : null,\n      apply : \"_applyBorderImage\"\n    },\n\n\n    /**\n     * The bottom slice line of the base image. The slice properties divide the\n     * image into nine regions, which define the corner, edge and the center\n     * images.\n     */\n    sliceBottom :\n    {\n      check : \"Integer\",\n      nullable : true,\n      init : null,\n      apply : \"_applyBorderImage\"\n    },\n\n\n    /**\n     * The left slice line of the base image. The slice properties divide the\n     * image into nine regions, which define the corner, edge and the center\n     * images.\n     */\n    sliceLeft :\n    {\n      check : \"Integer\",\n      nullable : true,\n      init : null,\n      apply : \"_applyBorderImage\"\n    },\n\n\n    /**\n     * The slice properties divide the image into nine regions, which define the\n     * corner, edge and the center images.\n     */\n    slice :\n    {\n      group : [ \"sliceTop\", \"sliceRight\", \"sliceBottom\", \"sliceLeft\" ],\n      mode : \"shorthand\"\n    },\n\n\n    /**\n     * This property specifies how the images for the sides and the middle part\n     * of the border image are scaled and tiled horizontally.\n     *\n     * Values have the following meanings:\n     * <ul>\n     *   <li><strong>stretch</strong>: The image is stretched to fill the area.</li>\n     *   <li><strong>repeat</strong>: The image is tiled (repeated) to fill the area.</li>\n     *   <li><strong>round</strong>: The image is tiled (repeated) to fill the area. If it does not\n     *    fill the area with a whole number of tiles, the image is rescaled so\n     *    that it does.</li>\n     * </ul>\n     */\n    repeatX :\n    {\n      check : [\"stretch\", \"repeat\", \"round\"],\n      init : \"stretch\",\n      apply : \"_applyBorderImage\"\n    },\n\n\n    /**\n     * This property specifies how the images for the sides and the middle part\n     * of the border image are scaled and tiled vertically.\n     *\n     * Values have the following meanings:\n     * <ul>\n     *   <li><strong>stretch</strong>: The image is stretched to fill the area.</li>\n     *   <li><strong>repeat</strong>: The image is tiled (repeated) to fill the area.</li>\n     *   <li><strong>round</strong>: The image is tiled (repeated) to fill the area. If it does not\n     *    fill the area with a whole number of tiles, the image is rescaled so\n     *    that it does.</li>\n     * </ul>\n     */\n    repeatY :\n    {\n      check : [\"stretch\", \"repeat\", \"round\"],\n      init : \"stretch\",\n      apply : \"_applyBorderImage\"\n    },\n\n\n    /**\n     * This property specifies how the images for the sides and the middle part\n     * of the border image are scaled and tiled.\n     */\n    repeat :\n    {\n      group : [\"repeatX\", \"repeatY\"],\n      mode : \"shorthand\"\n    },\n\n\n    /**\n     * If set to <code>false</code>, the center image will be omitted and only\n     * the border will be drawn.\n     */\n    fill :\n    {\n      check : \"Boolean\",\n      init : true,\n      apply : \"_applyBorderImage\"\n    },\n\n\n    /**\n     * Configures the border image mode. Supported values:\n     * <ul>\n     *   <li>horizontal: left and right border images</li>\n     *   <li>vertical: top and bottom border images</li>\n     *   <li>grid: border images for all edges</li>\n     * </ul>\n     */\n    borderImageMode :\n    {\n      check : [\"horizontal\", \"vertical\", \"grid\"],\n      init : \"grid\"\n    }\n  },\n\n  members :\n  {\n    /**\n     * Adds the border-image styles to the given map\n     * @param styles {Map} CSS style map\n     */\n    _styleBorderImage : function(styles)\n    {\n      if (!this.getBorderImage()) {\n        return;\n      }\n      var resolvedImage = qx.util.AliasManager.getInstance().resolve(this.getBorderImage());\n      var source = qx.util.ResourceManager.getInstance().toUri(resolvedImage);\n\n      var computedSlices = this._getDefaultInsetsForBorderImage();\n\n      var slice = [\n        computedSlices.top,\n        computedSlices.right,\n        computedSlices.bottom,\n        computedSlices.left\n      ];\n\n      var repeat = [\n        this.getRepeatX(),\n        this.getRepeatY()\n      ].join(\" \");\n\n      var fill = this.getFill() &&\n        qx.core.Environment.get(\"css.borderimage.standardsyntax\") ? \" fill\" : \"\";\n\n      var styleName = qx.bom.Style.getPropertyName(\"borderImage\");\n      if (styleName) {\n        var cssName = qx.bom.Style.getCssName(styleName);\n        styles[cssName] = 'url(\"' + source + '\") ' + slice.join(\" \") + fill + \" \" + repeat;\n      }\n      // Apply border styles even if we couldn't determine the borderImage property name\n      // (e.g. because the browser doesn't support it). This is needed to keep\n      // the layout intact.\n      styles[\"border-style\"] = \"solid\";\n      styles[\"border-color\"] = \"transparent\";\n      styles[\"border-width\"] = slice.join(\"px \") + \"px\";\n    },\n\n\n    /**\n     * Computes the inset values based on the border image slices (defined in the\n     * decoration theme or computed from the fallback image sizes).\n     *\n     * @return {Map} Map with the top, right, bottom and left insets\n     */\n    _getDefaultInsetsForBorderImage : function()\n    {\n      if (!this.getBorderImage()) {\n        return {\n          top: 0,\n          right: 0,\n          bottom: 0,\n          left: 0\n        };\n      }\n\n      var resolvedImage = qx.util.AliasManager.getInstance().resolve(this.getBorderImage());\n      var computedSlices = this.__getSlices(resolvedImage);\n\n      return {\n        top : this.getSliceTop() || computedSlices[0],\n        right: this.getSliceRight() || computedSlices[1],\n        bottom: this.getSliceBottom() || computedSlices[2],\n        left: this.getSliceLeft() || computedSlices[3]\n      };\n    },\n\n\n    _applyBorderImage : function()\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (this._isInitialized()) {\n          throw new Error(\"This decorator is already in-use. Modification is not possible anymore!\");\n        }\n      }\n    },\n\n\n    /**\n     * Gets the slice sizes from the fallback border images.\n     *\n     * @param baseImage {String} Resource Id of the base border image\n     * @return {Integer[]} Array with the top, right, bottom and left slice widths\n     */\n    __getSlices : function(baseImage)\n    {\n      var mode = this.getBorderImageMode();\n      var topSlice = 0;\n      var rightSlice = 0;\n      var bottomSlice = 0;\n      var leftSlice = 0;\n\n      var split = /(.*)(\\.[a-z]+)$/.exec(baseImage);\n      var prefix = split[1];\n      var ext = split[2];\n\n      var ResourceManager = qx.util.ResourceManager.getInstance();\n\n      if (mode == \"grid\" || mode == \"vertical\") {\n        topSlice = ResourceManager.getImageHeight(prefix + \"-t\" + ext);\n        bottomSlice = ResourceManager.getImageHeight(prefix + \"-b\" + ext);\n      }\n\n      if (mode == \"grid\" || mode == \"horizontal\") {\n        rightSlice = ResourceManager.getImageWidth(prefix + \"-r\" + ext);\n        leftSlice = ResourceManager.getImageWidth(prefix + \"-l\" + ext);\n      }\n\n      return [topSlice, rightSlice, bottomSlice, leftSlice];\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2017 OETIKER+PARTNER AG\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Tobias Oetiker (oetiker)\n\n************************************************************************ */\n/**\n * Mixin responsible for setting the css transition properties of a widget\n * This mixin is usually used by {@link qx.ui.decoration.Decorator}.\n *\n * Keep in mind that this is not supported by all browsers:\n *\n * * Firefox 16+\n * * IE 10+\n * * Edge\n * * Safari 6.1+\n * * Opera 12.10+\n * * Chrome 26+\n *\n * It is possible to define transitions by setting an\n * array containing the needed values as the property value.\n * In case multiple values are specified, the values of the properties\n * are repeated until all match in length.\n *\n * An example:\n * <pre class=\"javascript\">\n *   'my-decorator': {\n *     style: {\n *       transitionProperty: ['top','left']\n *       transitionDuration: '1s'\n *     }\n *   }\n * </pre>\n */\nqx.Mixin.define(\"qx.ui.decoration.MTransition\",\n{\n  properties :\n  {\n    /** transition property */\n    transitionProperty :\n    {\n      nullable : true,\n      apply : \"_applyTransition\"\n    },\n    /** transition duration */\n    transitionDuration :\n    {\n      nullable : true,\n      apply : \"_applyTransition\"\n    },\n    /** transition delay */\n    transitionTimingFunction :\n    {\n      nullable : true,\n      apply : \"_applyTransition\"\n    },\n    /** transition delay */\n    transitionDelay :\n    {\n      nullable : true,\n      apply : \"_applyTransition\"\n    }\n  },\n\n\n  members :\n  {\n\n    /**\n     * Takes a styles map and adds the box shadow styles in place to the\n     * given map. This is the needed behavior for\n     * {@link qx.ui.decoration.Decorator}.\n     *\n     * @param styles {Map} A map to add the styles.\n     */\n    _styleTransition: function(styles) {\n      var propName = qx.core.Environment.get(\"css.transition\");\n      if (!propName ||\n          this.getTransitionDuration() == null ){\n        return;\n      }\n      if (qx.bom.client.Browser.getName() === \"chrome\" && qx.bom.client.Browser.getVersion() >= 71) {\n        // chrome has a repaint problem ... as suggested in\n        // https://stackoverflow.com/a/21947628/235990 we are setting\n        // a transform ...\n        if (!styles.transform) {\n          styles.transform = \"translateZ(0)\";\n        }\n      }\n\n      propName = qx.bom.Style.getCssName(propName.name);\n\n      var transitionProperties = [\"transitionProperty\",\"transitionDuration\",\"transitionTimingFunction\",\"transitionDelay\"];\n\n      (function(tPros, tDurs, tTims, tDels) {\n        for(var i=0;i<tPros.length;i++) {\n          var tPro = tPros[i] || 'all';\n          var tDur = tDurs[i] || '0s';\n          var tTim = tTims[i] || 'ease';\n          var tDel = tDels[i] || '0s';\n\n          var value = tPro + ' ' + tDur + ' ' + tTim + ' ' + tDel;\n          if (!styles[propName]) {\n            styles[propName] = value;\n          } else {\n            styles[propName] += \",\" + value;\n          }\n        }\n      }).apply(this, this._getExtendedPropertyValueArrays(transitionProperties));\n    },\n\n    // property apply\n    _applyTransition : function()\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (this._isInitialized()) {\n          throw new Error(\"This decorator is already in-use. Modification is not possible anymore!\");\n        }\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2013 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Decorator including all decoration possibilities from mixins:\n *\n * <ul>\n * <li>Background color</li>\n * <li>Background image</li>\n * <li>Background gradient</li>\n * <li>Single and double borders</li>\n * <li>Border radius</li>\n * <li>Box shadow</li>\n * </ul>\n */\nqx.Class.define(\"qx.ui.decoration.Decorator\", {\n\n  extend : qx.ui.decoration.Abstract,\n\n  implement : [qx.ui.decoration.IDecorator],\n\n  include : [\n    qx.ui.decoration.MBackgroundColor,\n    qx.ui.decoration.MBorderRadius,\n    qx.ui.decoration.MBoxShadow,\n    qx.ui.decoration.MDoubleBorder,\n    qx.ui.decoration.MLinearBackgroundGradient,\n    qx.ui.decoration.MBorderImage,\n    qx.ui.decoration.MTransition\n  ],\n\n  members :\n  {\n    __initialized : false,\n\n    /**\n     * Returns the configured padding minus the border width.\n     * @return {Map} Map of top, right, bottom and left padding values\n     */\n    getPadding : function()\n    {\n      var insets = this.getInset();\n      var slices = this._getDefaultInsetsForBorderImage();\n\n      var borderTop = insets.top - (slices.top ? slices.top : this.getWidthTop());\n      var borderRight = insets.right - (slices.right ? slices.right : this.getWidthRight());\n      var borderBottom = insets.bottom - (slices.bottom ? slices.bottom : this.getWidthBottom());\n      var borderLeft = insets.left - (slices.left ? slices.left : this.getWidthLeft());\n\n      return {\n        top : insets.top ? borderTop : this.getInnerWidthTop(),\n        right : insets.right ? borderRight : this.getInnerWidthRight(),\n        bottom : insets.bottom ? borderBottom : this.getInnerWidthBottom(),\n        left : insets.left ? borderLeft : this.getInnerWidthLeft()\n      };\n    },\n\n\n    /**\n     * Returns the styles of the decorator as a map with property names written\n     * in javascript style (e.g. <code>fontWeight</code> instead of <code>font-weight</code>).\n     *\n     * @param css {Boolean?} <code>true</code> if hyphenated CSS names should be returned.\n     * @return {Map} style information\n     */\n    getStyles : function(css)\n    {\n      if (css) {\n        return this._getStyles();\n      }\n\n      var jsStyles = {};\n      var cssStyles = this._getStyles();\n\n      for (var property in cssStyles)\n      {\n        jsStyles[qx.lang.String.camelCase(property)] = cssStyles[property];\n      }\n\n      return jsStyles;\n    },\n\n\n    /**\n     * Collects all the style information from the decorators.\n     *\n     * @return {Map} style information\n     */\n    _getStyles : function()\n    {\n      var styles = {};\n\n      for (var name in this) {\n        if (name.indexOf(\"_style\") == 0 && this[name] instanceof Function) {\n          this[name](styles);\n        }\n      }\n      for(var name in styles)\n      {\n        if(qx.lang.Type.isArray(styles[name])) {\n          styles[name] = styles[name].join(', ');\n        }\n      }\n\n\n      this.__initialized = true;\n      return styles;\n    },\n\n\n    // overridden\n    _getDefaultInsets : function() {\n      var directions = [\"top\", \"right\", \"bottom\", \"left\"];\n      var defaultInsets = {};\n\n      for (var name in this) {\n        if (name.indexOf(\"_getDefaultInsetsFor\") == 0 && this[name] instanceof Function) {\n          var currentInsets = this[name]();\n\n          for (var i=0; i < directions.length; i++) {\n            var direction = directions[i];\n            // initialize with the first insets found\n            if (defaultInsets[direction] == undefined) {\n              defaultInsets[direction] = currentInsets[direction];\n            }\n            // take the largest inset\n            if (currentInsets[direction] > defaultInsets[direction]) {\n              defaultInsets[direction] = currentInsets[direction];\n            }\n          }\n        }\n      }\n\n      // check if the mixins have created a default insets\n      if (defaultInsets[\"top\"] != undefined) {\n        return defaultInsets;\n      }\n      // return a fallback which is 0 for all insets\n      return {top: 0, right: 0, bottom: 0, left: 0};\n    },\n\n\n    // overridden\n    _isInitialized: function() {\n      return this.__initialized;\n    },\n\n    /**\n    * Ensures that every propertyValue specified in propertyNames is an array.\n    * The value arrays are extended and repeated to match in length.\n    * @param propertyNames {Array} Array containing the propertyNames.\n    * @return {Array} Array containing the extended value arrays.\n    */\n    _getExtendedPropertyValueArrays: function(propertyNames) {\n      // transform non-array values to an array containing that value\n      var propertyValues = propertyNames.map(function(propName) {\n        var value = this.get(propName);\n        if(!qx.lang.Type.isArray(value)) {\n          value = [value];\n        }\n        return value;\n      }, this);\n\n      // Because it's possible to set multiple values for a property there's \n      // a chance that not all properties have the same number of values set.\n      // Extend the value arrays by repeating existing values until all\n      // arrays match in length.\n      var items = Math.max.apply(Math, propertyValues.map(function(prop) { return prop.length; }));\n      for(var i = 0; i < propertyValues.length; i++) {\n        this.__extendArray(propertyValues[i], items);\n      }\n\n      return propertyValues;\n    },\n\n    /**\n    * Extends an array up to the given length by repeating the elements already present.\n    * @param array {Array} Incoming array. Has to contain at least one element.\n    * @param to {Integer} Desired length. Must be greater than or equal to the the length of arr.\n    */\n    __extendArray: function(array, to) {\n      var initial = array.length;\n      while(array.length < to) {\n        array.push(array[array.length%initial]);\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * This singleton manages global resource aliases.\n *\n * The AliasManager supports simple prefix replacement on strings. There are\n * some pre-defined aliases, and you can register your own with {@link #add}.\n * The AliasManager is automatically invoked in various situations, e.g. when\n * resolving the icon image for a button, so it is common to register aliases for\n * <a href=\"http://manual.qooxdoo.org/${qxversion}/pages/desktop/ui_resources.html\">resource id's</a>.\n * You can of course call the AliasManager's {@link #resolve}\n * explicitly to get an alias resolution in any situation, but keep that\n * automatic invocation of the AliasManager in mind when defining new aliases as\n * they will be applied globally in many classes, not only your own.\n *\n * Examples:\n * <ul>\n *  <li> <code>foo</code> -> <code>bar/16pt/baz</code>  (resolves e.g. __\"foo/a/b/c.png\"__ to\n *    __\"bar/16pt/baz/a/b/c.png\"__)\n *  <li> <code>imgserver</code> -> <code>http&#058;&#047;&#047;imgs03.myserver.com/my/app/</code>\n *    (resolves e.g. __\"imgserver/a/b/c.png\"__ to\n *    __\"http&#058;&#047;&#047;imgs03.myserver.com/my/app/a/b/c.png\"__)\n * </ul>\n *\n * For resources, only aliases that resolve to proper resource id's can be __managed__\n * resources, and will be considered __unmanaged__ resources otherwise.\n */\nqx.Class.define(\"qx.util.AliasManager\",\n{\n  type : \"singleton\",\n  extend : qx.util.ValueManager,\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    // Contains defined aliases (like icons/, widgets/, application/, ...)\n    this.__aliases = {};\n\n    // Define static alias from setting\n    this.add(\"static\", \"qx/static\");\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n\n    __aliases : null,\n\n    /**\n     * pre-process incoming dynamic value\n     *\n     * @param value {String} incoming value\n     * @return {String} pre processed value\n     */\n    _preprocess : function(value)\n    {\n      var dynamics = this._getDynamic();\n\n      if (dynamics[value] === false)\n      {\n        return value;\n      }\n      else if (dynamics[value] === undefined)\n      {\n        if (value.charAt(0) === \"/\" || value.charAt(0) === \".\" || value.indexOf(\"http://\") === 0 || value.indexOf(\"https://\") === \"0\" || value.indexOf(\"file://\") === 0)\n        {\n          dynamics[value] = false;\n          return value;\n        }\n\n        if (this.__aliases[value]) {\n          return this.__aliases[value];\n        }\n\n        var alias = value.substring(0, value.indexOf(\"/\"));\n        var resolved = this.__aliases[alias];\n\n        if (resolved !== undefined) {\n          dynamics[value] = resolved + value.substring(alias.length);\n        }\n      }\n\n      return value;\n    },\n\n\n    /**\n     * Define an alias to a resource path\n     *\n     * @param alias {String} alias name for the resource path/url\n     * @param base {String} first part of URI for all images which use this alias\n     */\n    add : function(alias, base)\n    {\n      // Store new alias value\n      this.__aliases[alias] = base;\n\n      // Localify stores\n      var dynamics = this._getDynamic();\n\n      // Update old entries which use this alias\n      for (var path in dynamics)\n      {\n        if (path.substring(0, path.indexOf(\"/\")) === alias)\n        {\n          dynamics[path] = base + path.substring(alias.length);\n        }\n      }\n    },\n\n\n    /**\n     * Remove a previously defined alias\n     *\n     * @param alias {String} alias name for the resource path/url\n     */\n    remove : function(alias)\n    {\n      delete this.__aliases[alias];\n\n      // No signal for depending objects here. These\n      // will informed with the new value using add().\n    },\n\n\n    /**\n     * Resolves a given path\n     *\n     * @param path {String} input path\n     * @return {String} resulting path (with interpreted aliases)\n     */\n    resolve : function(path)\n    {\n      var dynamic = this._getDynamic();\n\n      if (path != null) {\n        path = this._preprocess(path);\n      }\n\n      return dynamic[path] || path;\n    },\n\n\n    /**\n     * Get registered aliases\n     *\n     * @return {Map} the map of the currently registered alias:resolution pairs\n     */\n    getAliases : function()\n    {\n      var res = {};\n      for (var key in this.__aliases) {\n        res[key] = this.__aliases[key];\n      }\n      return res;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Contains support for calculating dimensions of HTML elements.\n *\n * We differ between the box (or border) size which is available via\n * {@link #getWidth} and {@link #getHeight} and the content or scroll\n * sizes which are available via {@link #getContentWidth} and\n * {@link #getContentHeight}.\n */\nqx.Bootstrap.define(\"qx.bom.element.Dimension\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * Returns the rendered width of the given element.\n     *\n     * This is the visible width of the object, which need not to be identical\n     * to the width configured via CSS. This highly depends on the current\n     * box-sizing for the document and maybe even for the element.\n     *\n     * @signature function(element)\n     * @param element {Element} element to query\n     * @return {Integer} width of the element\n     */\n    getWidth: function(element) {\n      var rect = element.getBoundingClientRect();\n      return Math.round(rect.right - rect.left);\n    },\n\n\n    /**\n     * Returns the rendered height of the given element.\n     *\n     * This is the visible height of the object, which need not to be identical\n     * to the height configured via CSS. This highly depends on the current\n     * box-sizing for the document and maybe even for the element.\n     *\n     * @signature function(element)\n     * @param element {Element} element to query\n     * @return {Integer} height of the element\n     */\n    getHeight: function(element) {\n      var rect = element.getBoundingClientRect();\n      return Math.round(rect.bottom - rect.top);\n    },\n\n\n    /**\n     * Returns the rendered size of the given element.\n     *\n     * @param element {Element} element to query\n     * @return {Map} map containing the width and height of the element\n     */\n    getSize : function(element)\n    {\n      return {\n        width: this.getWidth(element),\n        height: this.getHeight(element)\n      };\n    },\n\n\n    /** @type {Map} Contains all overflow values where scrollbars are invisible */\n    __hiddenScrollbars :\n    {\n      visible : true,\n      hidden : true\n    },\n\n\n    /**\n     * Returns the content width.\n     *\n     * The content width is basically the maximum\n     * width used or the maximum width which can be used by the content. This\n     * excludes all kind of styles of the element like borders, paddings, margins,\n     * and even scrollbars.\n     *\n     * Please note that with visible scrollbars the content width returned\n     * may be larger than the box width returned via {@link #getWidth}.\n     *\n     * @param element {Element} element to query\n     * @return {Integer} Computed content width\n     */\n    getContentWidth : function(element)\n    {\n      var Style = qx.bom.element.Style;\n\n      var overflowX = qx.bom.element.Style.get(element, \"overflowX\");\n      var paddingLeft = parseInt(Style.get(element, \"paddingLeft\")||\"0px\", 10);\n      var paddingRight = parseInt(Style.get(element, \"paddingRight\")||\"0px\", 10);\n\n      if (this.__hiddenScrollbars[overflowX])\n      {\n        var contentWidth = element.clientWidth;\n\n        if ((qx.core.Environment.get(\"engine.name\") == \"opera\") ||\n          qx.dom.Node.isBlockNode(element))\n        {\n          contentWidth = contentWidth - paddingLeft - paddingRight;\n        }\n\n        // IE seems to return 0 on clientWidth if the element is 0px\n        // in height so we use the offsetWidth instead\n        if (qx.core.Environment.get(\"engine.name\") == \"mshtml\") {\n          if (contentWidth === 0 && element.offsetHeight === 0) {\n            return element.offsetWidth;\n          }\n        }\n\n        return contentWidth;\n      }\n      else\n      {\n        if (element.clientWidth >= element.scrollWidth)\n        {\n          // Scrollbars visible, but not needed? We need to substract both paddings\n          return Math.max(element.clientWidth, element.scrollWidth) - paddingLeft - paddingRight;\n        }\n        else\n        {\n          // Scrollbars visible and needed. We just remove the left padding,\n          // as the right padding is not respected in rendering.\n          var width = element.scrollWidth - paddingLeft;\n\n          // IE renders the paddingRight as well with scrollbars on\n          if (qx.core.Environment.get(\"engine.name\") == \"mshtml\") {\n            width -= paddingRight;\n          }\n\n          return width;\n        }\n      }\n    },\n\n\n    /**\n     * Returns the content height.\n     *\n     * The content height is basically the maximum\n     * height used or the maximum height which can be used by the content. This\n     * excludes all kind of styles of the element like borders, paddings, margins,\n     * and even scrollbars.\n     *\n     * Please note that with visible scrollbars the content height returned\n     * may be larger than the box height returned via {@link #getHeight}.\n     *\n     * @param element {Element} element to query\n     * @return {Integer} Computed content height\n     */\n    getContentHeight : function(element)\n    {\n      var Style = qx.bom.element.Style;\n\n      var overflowY = qx.bom.element.Style.get(element, \"overflowY\");\n      var paddingTop = parseInt(Style.get(element, \"paddingTop\")||\"0px\", 10);\n      var paddingBottom = parseInt(Style.get(element, \"paddingBottom\")||\"0px\", 10);\n\n      if (this.__hiddenScrollbars[overflowY])\n      {\n        return element.clientHeight - paddingTop - paddingBottom;\n      }\n      else\n      {\n        if (element.clientHeight >= element.scrollHeight)\n        {\n          // Scrollbars visible, but not needed? We need to substract both paddings\n          return Math.max(element.clientHeight, element.scrollHeight) - paddingTop - paddingBottom;\n        }\n        else\n        {\n          // Scrollbars visible and needed. We just remove the top padding,\n          // as the bottom padding is not respected in rendering.\n          return element.scrollHeight - paddingTop;\n        }\n      }\n    },\n\n\n    /**\n     * Returns the rendered content size of the given element.\n     *\n     * @param element {Element} element to query\n     * @return {Map} map containing the content width and height of the element\n     */\n    getContentSize : function(element)\n    {\n      return {\n        width: this.getContentWidth(element),\n        height: this.getContentHeight(element)\n      };\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * Base2\n     http://code.google.com/p/base2/\n     Version 0.9\n\n     Copyright:\n       (c) 2006-2007, Dean Edwards\n\n     License:\n       MIT: http://www.opensource.org/licenses/mit-license.php\n\n     Authors:\n       * Dean Edwards\n\n************************************************************************ */\n\n\n/**\n * CSS class name support for HTML elements. Supports multiple class names\n * for each element. Can query and apply class names to HTML elements.\n */\nqx.Bootstrap.define(\"qx.bom.element.Class\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {RegExp} Regular expressions to split class names */\n    __splitter : /\\s+/g,\n\n    /** @type {RegExp} String trim regular expression. */\n    __trim : /^\\s+|\\s+$/g,\n\n    /**\n     * Adds a className to the given element\n     * If successfully added the given className will be returned\n     *\n     * @signature function(element, name)\n     * @param element {Element} The element to modify\n     * @param name {String} The class name to add\n     * @return {String} The added classname (if so)\n     */\n    add :{\n      \"native\" : function(element, name)\n      {\n        if (name.length > 0) {\n          element.classList.add(name);\n        }\n\n        return name;\n      },\n\n      \"default\" : function(element, name)\n      {\n        if (!this.has(element, name)) {\n          element.className += (element.className ? \" \" : \"\") + name;\n        }\n\n        return name;\n      }\n    }[qx.core.Environment.get(\"html.classlist\") ? \"native\" : \"default\"],\n\n\n    /**\n     * Adds multiple classes to the given element\n     *\n     * @signature function(element, classes)\n     * @param element {Element} DOM element to modify\n     * @param classes {String[]} List of classes to add.\n     * @return {String} The resulting class name which was applied\n     */\n    addClasses :{\n      \"native\" : function(element, classes)\n      {\n        for (var i=0; i<classes.length; i++) {\n          if (classes[i].length > 0) {\n            element.classList.add(classes[i]);\n          }\n        }\n        return element.className;\n      },\n\n      \"default\" : function(element, classes)\n      {\n        var keys = {};\n        var result;\n\n        var old = element.className;\n        if (old)\n        {\n          result = old.split(this.__splitter);\n          for (var i=0, l=result.length; i<l; i++) {\n            keys[result[i]] = true;\n          }\n\n          for (var i=0, l=classes.length; i<l; i++)\n          {\n            if (!keys[classes[i]]) {\n              result.push(classes[i]);\n            }\n          }\n        }\n        else {\n          result = classes;\n        }\n\n        return element.className = result.join(\" \");\n      }\n    }[qx.core.Environment.get(\"html.classlist\") ? \"native\" : \"default\"],\n\n\n    /**\n     * Gets the classname of the given element\n     *\n     * @param element {Element} The element to query\n     * @return {String} The retrieved classname\n     */\n    get : function(element) {\n      var className = element.className;\n      if(typeof className.split !== 'function')\n      {\n        if(typeof className === 'object')\n        {\n          if(qx.Bootstrap.getClass(className) == 'SVGAnimatedString')\n          {\n            className = className.baseVal;\n          }\n          else\n          {\n            if (qx.core.Environment.get(\"qx.debug\")) {\n              qx.log.Logger.warn(this, \"className for element \" + element + \" cannot be determined\");\n            }\n            className = '';\n          }\n        }\n        if(typeof className === 'undefined')\n        {\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            qx.log.Logger.warn(this, \"className for element \" + element + \" is undefined\");\n          }\n          className = '';\n        }\n      }\n      return className;\n    },\n\n\n    /**\n     * Whether the given element has the given className.\n     *\n     * @signature function(element, name)\n     * @param element {Element} The DOM element to check\n     * @param name {String} The class name to check for\n     * @return {Boolean} true when the element has the given classname\n     */\n    has : {\n      \"native\" : function(element, name) {\n        return element.classList.contains(name);\n      },\n\n      \"default\" : function(element, name)\n      {\n        var regexp = new RegExp(\"(^|\\\\s)\" + name + \"(\\\\s|$)\");\n        return regexp.test(element.className);\n      }\n    }[qx.core.Environment.get(\"html.classlist\") ? \"native\" : \"default\"],\n\n\n    /**\n     * Removes a className from the given element\n     *\n     * @signature function(element, name)\n     * @param element {Element} The DOM element to modify\n     * @param name {String} The class name to remove\n     * @return {String} The removed class name\n     */\n    remove : {\n      \"native\" : function(element, name)\n      {\n        element.classList.remove(name);\n        return name;\n      },\n\n      \"default\" : function(element, name)\n      {\n        var regexp = new RegExp(\"(^|\\\\s)\" + name + \"(\\\\s|$)\");\n        element.className = element.className.replace(regexp, \"$2\");\n\n        return name;\n      }\n    }[qx.core.Environment.get(\"html.classlist\") ? \"native\" : \"default\"],\n\n\n    /**\n     * Removes multiple classes from the given element\n     *\n     * @signature function(element, classes)\n     * @param element {Element} DOM element to modify\n     * @param classes {String[]} List of classes to remove.\n     * @return {String} The resulting class name which was applied\n     */\n    removeClasses : {\n      \"native\" : function(element, classes)\n      {\n        for (var i=0; i<classes.length; i++) {\n          element.classList.remove(classes[i]);\n        }\n        return element.className;\n      },\n\n      \"default\" : function(element, classes)\n      {\n        var reg = new RegExp(\"\\\\b\" + classes.join(\"\\\\b|\\\\b\") + \"\\\\b\", \"g\");\n        return element.className = element.className.replace(reg, \"\").replace(this.__trim, \"\").replace(this.__splitter, \" \");\n      }\n    }[qx.core.Environment.get(\"html.classlist\") ? \"native\" : \"default\"],\n\n\n    /**\n     * Replaces the first given class name with the second one\n     *\n     * @param element {Element} The DOM element to modify\n     * @param oldName {String} The class name to remove\n     * @param newName {String} The class name to add\n     * @return {String} The added class name\n     */\n    replace : function(element, oldName, newName)\n    {\n      if (!this.has(element, oldName)) {\n        return \"\";\n      }\n\n      this.remove(element, oldName);\n      return this.add(element, newName);\n    },\n\n\n    /**\n     * Toggles a className of the given element\n     *\n     * @signature function(element, name, toggle)\n     * @param element {Element} The DOM element to modify\n     * @param name {String} The class name to toggle\n     * @param toggle {Boolean?null} Whether to switch class on/off. Without\n     *    the parameter an automatic toggling would happen.\n     * @return {String} The class name\n     */\n    toggle : {\n      \"native\" : function(element, name, toggle)\n      {\n        if (toggle === undefined) {\n          element.classList.toggle(name);\n        } else {\n          toggle ? this.add(element, name) : this.remove(element, name);\n        }\n        return name;\n      },\n\n      \"default\" : function(element, name, toggle)\n      {\n        if (toggle == null) {\n          toggle = !this.has(element, name);\n        }\n\n        toggle ? this.add(element, name) : this.remove(element, name);\n        return name;\n      }\n    }[qx.core.Environment.get(\"html.classlist\") ? \"native\" : \"default\"]\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Wrapper for {@link qx.bom.element.AnimationCss} and\n * {@link qx.bom.element.AnimationJs}. It offers the public API and decides using\n * feature checks either to use CSS animations or JS animations.\n *\n * If you use this class, the restrictions of the JavaScript animations apply.\n * This means that you can not use transforms and custom bezier timing functions.\n */\nqx.Bootstrap.define(\"qx.bom.element.Animation\",\n{\n  statics : {\n\n    /**\n     * This function takes care of the feature check and starts the animation.\n     * It takes a DOM element to apply the animation to, and a description.\n     * The description should be a map, which could look like this:\n     *\n     * <pre class=\"javascript\">\n     * {\n     *   \"duration\": 1000,\n     *   \"keep\": 100,\n     *   \"keyFrames\": {\n     *     0 : {\"opacity\": 1, \"scale\": 1},\n     *     100 : {\"opacity\": 0, \"scale\": 0}\n     *   },\n     *   \"origin\": \"50% 50%\",\n     *   \"repeat\": 1,\n     *   \"timing\": \"ease-out\",\n     *   \"alternate\": false,\n     *   \"delay\" : 2000\n     * }\n     * </pre>\n     *\n     * *duration* is the time in milliseconds one animation cycle should take.\n     *\n     * *keep* is the key frame to apply at the end of the animation. (optional)\n     *   Keep in mind that the keep key is reversed in case you use an reverse\n     *   animation or set the alternate key and a even repeat count.\n     *\n     * *keyFrames* is a map of separate frames. Each frame is defined by a\n     *   number which is the percentage value of time in the animation. The value\n     *   is a map itself which holds css properties or transforms\n     *   {@link qx.bom.element.Transform} (Transforms only for CSS Animations).\n     *\n     * *origin* maps to the transform origin {@link qx.bom.element.Transform#setOrigin}\n     *   (Only for CSS animations).\n     *\n     * *repeat* is the amount of time the animation should be run in\n     *   sequence. You can also use \"infinite\".\n     *\n     * *timing* takes one of the predefined value:\n     *   <code>ease</code> | <code>linear</code> | <code>ease-in</code>\n     *   | <code>ease-out</code> | <code>ease-in-out</code> |\n     *   <code>cubic-bezier(&lt;number&gt;, &lt;number&gt;, &lt;number&gt;, &lt;number&gt;)</code>\n     *   (cubic-bezier only available for CSS animations)\n     *\n     * *alternate* defines if every other animation should be run in reverse order.\n     *\n     * *delay* is the time in milliseconds the animation should wait before start.\n     *\n     * @param el {Element} The element to animate.\n     * @param desc {Map} The animations description.\n     * @param duration {Integer?} The duration in milliseconds of the animation\n     *   which will override the duration given in the description.\n     * @return {qx.bom.element.AnimationHandle} AnimationHandle instance to control\n     *   the animation.\n     */\n    animate : function(el, desc, duration) {\n      var onlyCssKeys = qx.bom.element.Animation.__hasOnlyCssKeys(el, desc.keyFrames);\n\n      if (qx.core.Environment.get(\"css.animation\") && onlyCssKeys) {\n        return qx.bom.element.AnimationCss.animate(el, desc, duration);\n      } else {\n        return qx.bom.element.AnimationJs.animate(el, desc, duration);\n      }\n    },\n\n\n    /**\n     * Starts an animation in reversed order. For further details, take a look at\n     * the {@link #animate} method.\n     * @param el {Element} The element to animate.\n     * @param desc {Map} The animations description.\n     * @param duration {Integer?} The duration in milliseconds of the animation\n     *   which will override the duration given in the description.\n     * @return {qx.bom.element.AnimationHandle} AnimationHandle instance to control\n     *   the animation.\n     */\n    animateReverse : function(el, desc, duration) {\n      var onlyCssKeys = qx.bom.element.Animation.__hasOnlyCssKeys(el, desc.keyFrames);\n      if (qx.core.Environment.get(\"css.animation\") && onlyCssKeys) {\n        return qx.bom.element.AnimationCss.animateReverse(el, desc, duration);\n      } else {\n        return qx.bom.element.AnimationJs.animateReverse(el, desc, duration);\n      }\n    },\n\n\n    /**\n     * Detection helper which detects if only CSS keys are in\n     * the animations key frames.\n     * @param el {Element} The element to check for the styles.\n     * @param keyFrames {Map} The keyFrames of the animation.\n     * @return {Boolean} <code>true</code> if only css properties are included.\n     */\n    __hasOnlyCssKeys : function(el, keyFrames) {\n      var keys = [];\n      for (var nr in keyFrames) {\n        var frame = keyFrames[nr];\n        for (var key in frame) {\n          if (keys.indexOf(key) == -1) {\n            keys.push(key);\n          }\n        }\n      }\n\n      var transformKeys = [\"scale\", \"rotate\", \"skew\", \"translate\"];\n      for (var i=0; i < keys.length; i++) {\n        var key = qx.lang.String.camelCase(keys[i]);\n        if (!(key in el.style)) {\n          // check for transform keys\n          if (transformKeys.indexOf(keys[i]) != -1) {\n            continue;\n          }\n          // check for prefixed keys\n          if (qx.bom.Style.getPropertyName(key)) {\n            continue;\n          }\n          return false;\n        }\n      };\n      return true;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n/**\n * This class provides an unified mouse event handler for Internet Explorer,\n * Firefox, Opera and Safari\n *\n * NOTE: Instances of this class must be disposed of after use\n *\n * @require(qx.event.handler.UserAction)\n * @ignore(qx.event.handler.DragDrop)\n */\nqx.Class.define(\"qx.event.handler.Mouse\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.event.IEventHandler, qx.core.IDisposable ],\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager)\n  {\n    this.base(arguments);\n\n    // Define shorthands\n    this.__manager = manager;\n    this.__window = manager.getWindow();\n    this.__root = this.__window.document;\n\n    // Initialize observers\n    this._initButtonObserver();\n    this._initMoveObserver();\n    this._initWheelObserver();\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES :\n    {\n      mousemove : 1,\n      mouseover : 1,\n      mouseout : 1,\n      mousedown : 1,\n      mouseup : 1,\n      click : 1,\n      auxclick : 1,\n      dblclick : 1,\n      contextmenu : 1,\n      mousewheel : 1\n    },\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE + qx.event.IEventHandler.TARGET_DOCUMENT + qx.event.IEventHandler.TARGET_WINDOW,\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __onButtonEventWrapper : null,\n    __onMoveEventWrapper : null,\n    __onWheelEventWrapper : null,\n    __lastEventType : null,\n    __lastMouseDownTarget : null,\n    __manager : null,\n    __window : null,\n    __root : null,\n    __preventNextClick: null,\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type) {},\n\n\n    // interface implementation\n    // The iPhone requires for attaching mouse events natively to every element which\n    // should react on mouse events. As of version 3.0 it also requires to keep the\n    // listeners as long as the event should work. In 2.0 it was enough to attach the\n    // listener once.\n    registerEvent : qx.core.Environment.get(\"os.name\") === \"ios\" ?\n      function(target, type, capture) {\n        target[\"on\" + type] = (function() {return null;});\n      } : (function() {return null;}),\n\n\n    // interface implementation\n    unregisterEvent : qx.core.Environment.get(\"os.name\") === \"ios\" ?\n      function(target, type, capture) {\n        target[\"on\" + type] = undefined;\n      } : (function() {return null;}),\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      HELPER\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Fire a mouse event with the given parameters\n     *\n     * @param domEvent {Event} DOM event\n     * @param type {String} type of the event\n     * @param target {Element} event target\n     */\n    __fireEvent : function(domEvent, type, target)\n    {\n      if (!target) {\n        target = qx.bom.Event.getTarget(domEvent);\n      }\n\n      // we need a true node for the fireEvent\n      // e.g. when hovering over text of disabled textfields IE is returning\n      // an empty object as \"srcElement\"\n      if (target && target.nodeType)\n      {\n        qx.event.Registration.fireEvent(\n          target,\n          type||domEvent.type,\n          type == \"mousewheel\" ? qx.event.type.MouseWheel : qx.event.type.Mouse,\n          [domEvent, target, null, true, true]\n        );\n      }\n\n      // Fire user action event\n      qx.event.Registration.fireEvent(this.__window, \"useraction\", qx.event.type.Data, [type||domEvent.type]);\n    },\n\n\n    /**\n     * Helper to prevent the next click.\n     * @internal\n     */\n    preventNextClick : function() {\n      this.__preventNextClick = true;\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      OBSERVER INIT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Initializes the native mouse button event listeners.\n     *\n     * @signature function()\n     */\n    _initButtonObserver : function()\n    {\n      this.__onButtonEventWrapper = qx.lang.Function.listener(this._onButtonEvent, this);\n\n      var Event = qx.bom.Event;\n\n      Event.addNativeListener(this.__root, \"mousedown\", this.__onButtonEventWrapper);\n      Event.addNativeListener(this.__root, \"mouseup\", this.__onButtonEventWrapper);\n      Event.addNativeListener(this.__root, \"click\", this.__onButtonEventWrapper);\n      Event.addNativeListener(this.__root, \"auxclick\", this.__onButtonEventWrapper);\n      Event.addNativeListener(this.__root, \"dblclick\", this.__onButtonEventWrapper);\n      Event.addNativeListener(this.__root, \"contextmenu\", this.__onButtonEventWrapper);\n    },\n\n\n    /**\n     * Initializes the native mouse move event listeners.\n     *\n     * @signature function()\n     */\n    _initMoveObserver : function()\n    {\n      this.__onMoveEventWrapper = qx.lang.Function.listener(this._onMoveEvent, this);\n\n      var Event = qx.bom.Event;\n\n      Event.addNativeListener(this.__root, \"mousemove\", this.__onMoveEventWrapper);\n      Event.addNativeListener(this.__root, \"mouseover\", this.__onMoveEventWrapper);\n      Event.addNativeListener(this.__root, \"mouseout\", this.__onMoveEventWrapper);\n    },\n\n\n    /**\n     * Initializes the native mouse wheel event listeners.\n     *\n     * @signature function()\n     */\n    _initWheelObserver : function()\n    {\n      this.__onWheelEventWrapper = qx.lang.Function.listener(this._onWheelEvent, this);\n      var data = qx.bom.client.Event.getMouseWheel(this.__window);\n      qx.bom.Event.addNativeListener(\n        data.target, data.type, this.__onWheelEventWrapper\n      );\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      OBSERVER STOP\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Disconnects the native mouse button event listeners.\n     *\n     * @signature function()\n     */\n    _stopButtonObserver : function()\n    {\n      var Event = qx.bom.Event;\n\n      Event.removeNativeListener(this.__root, \"mousedown\", this.__onButtonEventWrapper);\n      Event.removeNativeListener(this.__root, \"mouseup\", this.__onButtonEventWrapper);\n      Event.removeNativeListener(this.__root, \"click\", this.__onButtonEventWrapper);\n      Event.removeNativeListener(this.__root, \"dblclick\", this.__onButtonEventWrapper);\n      Event.removeNativeListener(this.__root, \"contextmenu\", this.__onButtonEventWrapper);\n    },\n\n\n    /**\n     * Disconnects the native mouse move event listeners.\n     *\n     * @signature function()\n     */\n    _stopMoveObserver : function()\n    {\n      var Event = qx.bom.Event;\n\n      Event.removeNativeListener(this.__root, \"mousemove\", this.__onMoveEventWrapper);\n      Event.removeNativeListener(this.__root, \"mouseover\", this.__onMoveEventWrapper);\n      Event.removeNativeListener(this.__root, \"mouseout\", this.__onMoveEventWrapper);\n    },\n\n\n    /**\n     * Disconnects the native mouse wheel event listeners.\n     *\n     * @signature function()\n     */\n    _stopWheelObserver : function()\n    {\n      var data = qx.bom.client.Event.getMouseWheel(this.__window);\n      qx.bom.Event.removeNativeListener(\n        data.target, data.type, this.__onWheelEventWrapper\n      );\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      NATIVE EVENT OBSERVERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Global handler for all mouse move related events like \"mousemove\",\n     * \"mouseout\" and \"mouseover\".\n     *\n     * @signature function(domEvent)\n     * @param domEvent {Event} DOM event\n     */\n    _onMoveEvent : qx.event.GlobalError.observeMethod(function(domEvent) {\n      this.__fireEvent(domEvent);\n    }),\n\n\n    /**\n     * Global handler for all mouse button related events like \"mouseup\",\n     * \"mousedown\", \"click\", \"dblclick\" and \"contextmenu\".\n     *\n     * @signature function(domEvent)\n     * @param domEvent {Event} DOM event\n     */\n    _onButtonEvent : qx.event.GlobalError.observeMethod(function(domEvent)\n    {\n      var type = domEvent.type;\n      var target = qx.bom.Event.getTarget(domEvent);\n\n      if (type == \"click\" && this.__preventNextClick) {\n        delete this.__preventNextClick;\n        return;\n      }\n\n      // Safari (and maybe gecko) takes text nodes as targets for events\n      // See: http://www.quirksmode.org/js/events_properties.html\n      if (\n        qx.core.Environment.get(\"engine.name\") == \"gecko\" ||\n        qx.core.Environment.get(\"engine.name\") == \"webkit\"\n      ) {\n        if (target && target.nodeType == 3) {\n          target = target.parentNode;\n        }\n      }\n\n      // prevent click events on drop during Drag&Drop [BUG #6846]\n      var isDrag = qx.event.handler.DragDrop &&\n        this.__manager.getHandler(qx.event.handler.DragDrop).isSessionActive();\n      if (isDrag && type == \"click\") {\n        return;\n      }\n\n      if (this.__doubleClickFixPre) {\n        this.__doubleClickFixPre(domEvent, type, target);\n      }\n\n      this.__fireEvent(domEvent, type, target);\n\n      /*\n       * In order to normalize middle button click events we\n       * need to fire an artificial click event if the client\n       * fires auxclick events for non primary buttons instead.\n       * \n       * See https://github.com/qooxdoo/qooxdoo/issues/9268\n       */\n      if (type == \"auxclick\" && domEvent.button == 1) {\n        this.__fireEvent(domEvent, \"click\", target);\n      }\n\n      if (this.__rightClickFixPost) {\n        this.__rightClickFixPost(domEvent, type, target);\n      }\n\n      if (this.__differentTargetClickFixPost && !isDrag) {\n        this.__differentTargetClickFixPost(domEvent, type, target);\n      }\n\n      this.__lastEventType = type;\n    }),\n\n\n    /**\n     * Global handler for the mouse wheel event.\n     *\n     * @signature function(domEvent)\n     * @param domEvent {Event} DOM event\n     */\n    _onWheelEvent : qx.event.GlobalError.observeMethod(function(domEvent) {\n      this.__fireEvent(domEvent, \"mousewheel\");\n    }),\n\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CROSS BROWSER SUPPORT FIXES\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Normalizes the click sequence of right click events in Webkit and Opera.\n     * The normalized sequence is:\n     *\n     *  1. mousedown  <- not fired by Webkit\n     *  2. mouseup  <- not fired by Webkit\n     *  3. contextmenu <- not fired by Opera\n     *\n     * @param domEvent {Event} original DOM event\n     * @param type {String} event type\n     * @param target {Element} event target of the DOM event.\n     *\n     * @signature function(domEvent, type, target)\n     */\n    __rightClickFixPost : qx.core.Environment.select(\"engine.name\",\n    {\n      \"opera\" : function(domEvent, type, target)\n      {\n        if (type ==\"mouseup\" && domEvent.button == 2) {\n          this.__fireEvent(domEvent, \"contextmenu\", target);\n        }\n      },\n\n      \"default\" : null\n    }),\n\n\n    /**\n     * Normalizes the click sequence of double click event in the Internet\n     * Explorer. The normalized sequence is:\n     *\n     *  1. mousedown\n     *  2. mouseup\n     *  3. click\n     *  4. mousedown  <- not fired by IE\n     *  5. mouseup\n     *  6. click  <- not fired by IE\n     *  7. dblclick\n     *\n     *  Note: This fix is only applied, when the IE event model is used, otherwise\n     *  the fix is ignored.\n     *\n     * @param domEvent {Event} original DOM event\n     * @param type {String} event type\n     * @param target {Element} event target of the DOM event.\n     *\n     * @signature function(domEvent, type, target)\n     */\n    __doubleClickFixPre : qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(domEvent, type, target)\n      {\n        // Do only apply the fix when the event is from the IE event model,\n        // otherwise do not apply the fix.\n        if (domEvent.target !== undefined) {\n          return;\n        }\n\n        if (type == \"mouseup\" && this.__lastEventType == \"click\") {\n          this.__fireEvent(domEvent, \"mousedown\", target);\n        } else if (type == \"dblclick\") {\n          this.__fireEvent(domEvent, \"click\", target);\n        }\n      },\n\n      \"default\" : null\n    }),\n\n\n    /**\n     * If the mouseup event happens on a different target than the corresponding\n     * mousedown event the internet explorer dispatches a click event on the\n     * first common ancestor of both targets. The presence of this click event\n     * is essential for the qooxdoo widget system. All other browsers don't fire\n     * the click event so it must be emulated.\n     *\n     * @param domEvent {Event} original DOM event\n     * @param type {String} event type\n     * @param target {Element} event target of the DOM event.\n     *\n     * @signature function(domEvent, type, target)\n     */\n    __differentTargetClickFixPost : qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : null,\n\n      \"default\" : function(domEvent, type, target)\n      {\n        switch (type)\n        {\n          case \"mousedown\":\n            this.__lastMouseDownTarget = target;\n            break;\n\n          case \"mouseup\":\n            if (target !== this.__lastMouseDownTarget)\n            {\n              var commonParent = qx.dom.Hierarchy.getCommonParent(target, this.__lastMouseDownTarget);\n              if (commonParent) {\n                this.__fireEvent(domEvent, \"click\", commonParent);\n              }\n            }\n        }\n      }\n    })\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    this._stopButtonObserver();\n    this._stopMoveObserver();\n    this._stopWheelObserver();\n\n    this.__manager = this.__window = this.__root =\n      this.__lastMouseDownTarget = null;\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * This class supports typical DOM element inline events like scroll,\n * change, select, ...\n * \n * NOTE: Instances of this class must be disposed of after use\n *\n */\nqx.Class.define(\"qx.event.handler.Element\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.event.IEventHandler, qx.core.IDisposable ],\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager)\n  {\n    this.base(arguments);\n\n    this._manager = manager;\n    this._registeredEvents = {};\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES :\n    {\n      abort : true,    // Image elements\n      load : true, // Image elements\n      scroll : true,\n      select : true,\n      reset : true,    // Form Elements\n      submit : true   // Form Elements\n    },\n\n    /** @type {MAP} Whether the event is cancelable */\n    CANCELABLE :\n    {\n      selectstart: true\n    },\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE,\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : false\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type)\n    {\n      // Don't handle \"load\" event of Iframe. Unfortunately, both Element and\n      // Iframe handler support \"load\" event. Should be handled by\n      // qx.event.handler.Iframe only. Fixes [#BUG 4587].\n      if (type === \"load\") {\n        return target.tagName.toLowerCase() !== \"iframe\";\n      } else {\n        return true;\n      }\n    },\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture)\n    {\n      var elementId = qx.core.ObjectRegistry.toHashCode(target);\n      var eventId = elementId + \"-\" + type;\n\n      var listener = qx.lang.Function.listener(this._onNative, this, eventId);\n      qx.bom.Event.addNativeListener(target, type, listener);\n\n      this._registeredEvents[eventId] =\n      {\n        element : target,\n        type : type,\n        listener : listener\n      };\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture)\n    {\n      var events = this._registeredEvents;\n      if (!events) {\n        return;\n      }\n\n      var elementId = qx.core.ObjectRegistry.toHashCode(target);\n      var eventId = elementId + \"-\" + type;\n\n      var eventData = this._registeredEvents[eventId];\n      if(eventData) {\n        qx.bom.Event.removeNativeListener(target, type, eventData.listener);\n      }\n\n      delete this._registeredEvents[eventId];\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT-HANDLER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Default event handler.\n     *\n     * @signature function(nativeEvent, eventId)\n     * @param nativeEvent {Event} Native event\n     * @param eventId {Integer} ID of the event (as stored internally)\n     */\n    _onNative : qx.event.GlobalError.observeMethod(function(nativeEvent, eventId)\n    {\n      var events = this._registeredEvents;\n      if (!events) {\n        return;\n      }\n\n      var eventData = events[eventId];\n      var isCancelable = this.constructor.CANCELABLE[eventData.type];\n\n      qx.event.Registration.fireNonBubblingEvent(\n        eventData.element, eventData.type,\n        qx.event.type.Native, [nativeEvent, undefined, undefined, undefined, isCancelable]\n      );\n    })\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    var entry;\n    var events = this._registeredEvents;\n\n    for (var id in events)\n    {\n      entry = events[id];\n      qx.bom.Event.removeNativeListener(entry.element, entry.type, entry.listener);\n    }\n\n    this._manager = this._registeredEvents = null;\n  },\n\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * This class supports <code>appear</code> and <code>disappear</code> events\n * on DOM level.\n * \n * NOTE: Instances of this class must be disposed of after use\n *\n */\nqx.Class.define(\"qx.event.handler.Appear\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.event.IEventHandler, qx.core.IDisposable ],\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager)\n  {\n    this.base(arguments);\n\n    this.__manager = manager;\n    this.__targets = {};\n\n    // Register\n    qx.event.handler.Appear.__instances[this.toHashCode()] = this;\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES :\n    {\n      appear : true,\n      disappear : true\n    },\n\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE,\n\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true,\n\n\n    /** @type {Map} Stores all appear manager instances */\n    __instances : {},\n\n\n    /**\n     * Refreshes all appear handlers. Useful after massive DOM manipulations e.g.\n     * through qx.html.Element.\n     *\n     */\n     refresh : function()\n     {\n       var all = this.__instances;\n       for (var hash in all) {\n         all[hash].refresh();\n       }\n     }\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __manager : null,\n    __targets : null,\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type) {},\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture)\n    {\n      var hash = qx.core.ObjectRegistry.toHashCode(target) + type;\n      var targets = this.__targets;\n\n      if (targets && !targets[hash])\n      {\n        targets[hash] = target;\n        target.$$displayed = target.offsetWidth > 0;\n      }\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture)\n    {\n      var hash = qx.core.ObjectRegistry.toHashCode(target) + type;\n      var targets = this.__targets;\n      if (!targets) {\n        return;\n      }\n\n      if (targets[hash]) {\n        delete targets[hash];\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      USER ACCESS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * This method should be called by all DOM tree modifying routines\n     * to check the registered nodes for changes.\n     *\n     * @return {qx.Promise?} a promise, if one or more of the event handlers returned one \n     */\n    refresh : function()\n    {\n      var targets = this.__targets;\n\n      var legacyIe = qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n        qx.core.Environment.get(\"browser.documentmode\") < 9;\n\n      var tracker = {};\n      var self = this;\n      Object.keys(targets).forEach(function(hash) {\n        var elem = targets[hash];\n        if (elem === undefined) {\n          return;\n        }\n\n        qx.event.Utils.then(tracker, function() {\n          var displayed = elem.offsetWidth > 0;\n          if (!displayed && legacyIe) {\n            // force recalculation in IE 8. See bug #7872\n            displayed = elem.offsetWidth > 0;\n          }\n          if ((!!elem.$$displayed) !== displayed)\n          {\n            elem.$$displayed = displayed;\n\n            var evt = qx.event.Registration.createEvent(displayed ? \"appear\" : \"disappear\");\n            return self.__manager.dispatchEvent(elem, evt);\n          }\n        });\n      });\n      return tracker.promise;\n    }\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    this.__manager = this.__targets = null;\n\n    // Deregister\n    delete qx.event.handler.Appear.__instances[this.toHashCode()];\n  },\n\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2010 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Tino Butz (tbtz)\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * Unify Project\n\n     Homepage:\n       http://unify-project.org\n\n     Copyright:\n       2009-2010 Deutsche Telekom AG, Germany, http://telekom.com\n\n     License:\n       MIT: http://www.opensource.org/licenses/mit-license.php\n\n************************************************************************ */\n\n/**\n * This class provides a handler for the orientation event.\n * \n * NOTE: Instances of this class must be disposed of after use\n *\n */\nqx.Class.define(\"qx.event.handler.Orientation\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.event.IEventHandler, qx.core.IDisposable ],\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager)\n  {\n    this.base(arguments);\n\n    // Define shorthands\n    this.__manager = manager;\n    this.__window = manager.getWindow();\n    this._initObserver();\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES :\n    {\n      orientationchange : 1\n    },\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_WINDOW,\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __manager : null,\n    __window : null,\n    __nativeEventType : null,\n    _currentOrientation : null,\n    __onNativeWrapper : null,\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      OBSERVER INIT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Initializes the native orientation change event listeners.\n     */\n    _initObserver : function()\n    {\n      this.__onNativeWrapper = qx.lang.Function.listener(this._onNative, this);\n\n      // Handle orientation change event for Android devices by the resize event.\n      // See http://stackoverflow.com/questions/1649086/detect-rotation-of-android-phone-in-the-browser-with-javascript\n      // for more information.\n      this.__nativeEventType = qx.bom.Event.supportsEvent(this.__window, \"orientationchange\") ?\n            \"orientationchange\" : \"resize\";\n\n      var Event = qx.bom.Event;\n      Event.addNativeListener(this.__window, this.__nativeEventType, this.__onNativeWrapper);\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      OBSERVER STOP\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Disconnects the native orientation change event listeners.\n     */\n    _stopObserver : function()\n    {\n      var Event = qx.bom.Event;\n      Event.removeNativeListener(this.__window, this.__nativeEventType, this.__onNativeWrapper);\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      NATIVE EVENT OBSERVERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Handler for the native orientation change event.\n     *\n     * @signature function(domEvent)\n     * @param domEvent {Event} The touch event from the browser.\n     */\n    _onNative: qx.event.GlobalError.observeMethod(function(domEvent) {\n      var detectOrientationChangeDelay = 0;\n\n      if (qx.core.Environment.get(\"os.name\") == \"android\") {\n        // On Android Devices the detection of orientation mode has to be delayed.\n        // See: http://stackoverflow.com/questions/8985805/orientation-change-in-android-using-javascript\n        detectOrientationChangeDelay = 300;\n      }\n\n      qx.lang.Function.delay(this._onOrientationChange, detectOrientationChangeDelay, this, domEvent);\n    }),\n\n\n    /**\n     * Handler for the detection of an orientation change.\n     * @param domEvent {Event} The touch event from the browser.\n     */\n    _onOrientationChange: function(domEvent) {\n      var Viewport = qx.bom.Viewport;\n      var orientation = Viewport.getOrientation(domEvent.target);\n\n      if (this._currentOrientation != orientation) {\n        this._currentOrientation = orientation;\n        var mode = Viewport.isLandscape(domEvent.target) ? \"landscape\" : \"portrait\";\n        qx.event.Registration.fireEvent(\n        this.__window,\n          \"orientationchange\",\n        qx.event.type.Orientation, [orientation, mode]);\n      }\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    this._stopObserver();\n    this.__manager = this.__window = null;\n  },\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n     * Tino Butz (tbtz)\n     * Christian Hagendorn (chris_schmidt)\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Listens for native touch events and fires composite events like \"tap\" and\n * \"swipe\"\n *\n * @ignore(qx.event.*)\n */\nqx.Bootstrap.define(\"qx.event.handler.TouchCore\", {\n\n  extend : Object,\n  implement: [ qx.core.IDisposable ],\n\n  statics :\n  {\n    /** @type {Integer} The maximum distance of a tap. Only if the x or y distance of\n     *      the performed tap is less or equal the value of this constant, a tap\n     *      event is fired.\n     */\n    TAP_MAX_DISTANCE : qx.core.Environment.get(\"os.name\") != \"android\" ? 10 : 40,\n\n\n    /** @type {Map} The direction of a swipe relative to the axis */\n    SWIPE_DIRECTION :\n    {\n      x : [\"left\", \"right\"],\n      y : [\"up\", \"down\"]\n    },\n\n\n    /** @type {Integer} The minimum distance of a swipe. Only if the x or y distance\n     *      of the performed swipe is greater as or equal the value of this\n     *      constant, a swipe event is fired.\n     */\n    SWIPE_MIN_DISTANCE : qx.core.Environment.get(\"os.name\") != \"android\" ? 11 : 41,\n\n    /** @type {Integer} The minimum velocity of a swipe. Only if the velocity of the\n     *      performed swipe is greater as or equal the value of this constant, a\n     *      swipe event is fired.\n     */\n    SWIPE_MIN_VELOCITY : 0,\n\n\n    /**\n     * @type {Integer} The time delta in milliseconds to fire a long tap event.\n     */\n    LONGTAP_TIME : qx.core.Environment.get(\"device.touch\")? 500: 99999\n  },\n\n\n  /**\n   * Create a new instance\n   *\n   * @param target {Element} element on which to listen for native touch events\n   * @param emitter {qx.event.Emitter} Event emitter object\n   */\n  construct : function(target, emitter)\n  {\n    this.__target = target;\n    this.__emitter = emitter;\n    this._initTouchObserver();\n    this.__pointers = [];\n\n    this.__touchStartPosition = {};\n  },\n\n\n  members :\n  {\n    __target : null,\n    __emitter : null,\n    __onTouchEventWrapper : null,\n\n    __originalTarget : null,\n\n    __touchStartPosition : null,\n    __startTime : null,\n\n    __beginScalingDistance : null,\n    __beginRotation : null,\n\n    __pointers : null,\n\n    __touchEventNames : null,\n\n\n    /*\n    ---------------------------------------------------------------------------\n      OBSERVER INIT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Initializes the native touch event listeners.\n     */\n    _initTouchObserver : function()\n    {\n      this.__onTouchEventWrapper = qx.lang.Function.listener(this._onTouchEvent, this);\n\n      this.__touchEventNames = [\"touchstart\", \"touchmove\", \"touchend\", \"touchcancel\"];\n\n      if (qx.core.Environment.get(\"event.mspointer\")) {\n        var engineVersion = parseInt(qx.core.Environment.get(\"engine.version\"), 10);\n        if (engineVersion == 10) {\n          // IE 10\n          this.__touchEventNames = [\"MSPointerDown\", \"MSPointerMove\", \"MSPointerUp\", \"MSPointerCancel\"];\n        } else {\n          // IE 11+\n          this.__touchEventNames = [\"pointerdown\", \"pointermove\", \"pointerup\", \"pointercancel\"];\n        }\n      }\n\n      for (var i = 0; i < this.__touchEventNames.length; i++) {\n        qx.bom.Event.addNativeListener(this.__target, this.__touchEventNames[i], this.__onTouchEventWrapper);\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      OBSERVER STOP\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Disconnects the native touch event listeners.\n     */\n    _stopTouchObserver : function()\n    {\n      for (var i = 0; i < this.__touchEventNames.length; i++) {\n        qx.bom.Event.removeNativeListener(this.__target, this.__touchEventNames[i], this.__onTouchEventWrapper);\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      NATIVE EVENT OBSERVERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Handler for native touch events.\n     *\n     * @param domEvent {Event} The touch event from the browser.\n     */\n    _onTouchEvent : function(domEvent)\n    {\n      this._commonTouchEventHandler(domEvent);\n    },\n\n\n    /**\n     * Calculates the scaling distance between two touches.\n     * @param touch0 {Event} The touch event from the browser.\n     * @param touch1 {Event} The touch event from the browser.\n     * @return {Number} the calculated distance.\n     */\n    _getScalingDistance : function(touch0, touch1) {\n      return(Math.sqrt( Math.pow(touch0.pageX - touch1.pageX, 2) + Math.pow(touch0.pageY - touch1.pageY, 2) ));\n    },\n\n\n    /**\n     * Calculates the rotation between two touches.\n     * @param touch0 {Event} The touch event from the browser.\n     * @param touch1 {Event} The touch event from the browser.\n     * @return {Number} the calculated rotation.\n     */\n    _getRotationAngle :  function(touch0, touch1) {\n      var x = touch0.pageX - touch1.pageX;\n      var y = touch0.pageY - touch1.pageY;\n      return(Math.atan2(y, x)*180/Math.PI);\n    },\n\n\n    /**\n     * Calculates the delta of the touch position relative to its position when <code>touchstart/code> event occurred.\n     * @param touches {Array} an array with the current active touches, provided by <code>touchmove/code> event.\n     * @return {Array} an array containing objects with the calculated delta as <code>x</code>,\n     * <code>y</code> and the identifier of the corresponding touch.\n     */\n    _calcTouchesDelta : function(touches) {\n      var delta = [];\n      for (var i = 0; i < touches.length; i++) {\n        delta.push(this._calcSingleTouchDelta(touches[i]));\n      }\n      return delta;\n    },\n\n\n    /**\n     * Calculates the delta of one single touch position relative to its position when <code>touchstart/code> event occurred.\n     * @param touch {Event} the current active touch, provided by <code>touchmove/code> event.\n     * @return {Map} a map containing deltaX as <code>x</code>, deltaY as <code>y</code>, the direction of the movement as <code>axis</code> and the touch identifier as <code>identifier</code>.\n     */\n    _calcSingleTouchDelta : function(touch) {\n      if (this.__touchStartPosition.hasOwnProperty(touch.identifier)) {\n        var touchStartPosition = this.__touchStartPosition[touch.identifier];\n        var deltaX = Math.floor(touch.clientX - touchStartPosition[0]);\n        var deltaY = Math.floor(touch.clientY - touchStartPosition[1]);\n        var axis = \"x\";\n        if (Math.abs(deltaX / deltaY) < 1) {\n          axis = \"y\";\n        }\n        return {\n          \"x\": deltaX,\n          \"y\": deltaY,\n          \"axis\": axis,\n          \"identifier\": touch.identifier\n        };\n      } else {\n        return {\n          \"x\": 0,\n          \"y\": 0,\n          \"axis\": null,\n          \"identifier\": touch.identifier\n        };\n      }\n    },\n\n\n    /**\n     * Called by an event handler.\n     *\n     * @param domEvent {Event} DOM event\n     * @param type {String ? null} type of the event\n     */\n    _commonTouchEventHandler : function(domEvent, type)\n    {\n      var type = type || domEvent.type;\n      if (qx.core.Environment.get(\"event.mspointer\")) {\n        type = this._mapPointerEvent(type);\n        var touches = this._detectTouchesByPointer(domEvent, type);\n\n        domEvent.changedTouches = touches;\n        domEvent.targetTouches = touches;\n        domEvent.touches = touches;\n      }\n\n      domEvent.delta = [];\n\n      if (type == \"touchstart\") {\n        this.__originalTarget = this._getTarget(domEvent);\n\n        if(domEvent.touches && domEvent.touches.length > 1) {\n          this.__beginScalingDistance = this._getScalingDistance(domEvent.touches[0],domEvent.touches[1]);\n          this.__beginRotation = this._getRotationAngle(domEvent.touches[0], domEvent.touches[1]);\n        }\n\n        for (var i = 0; i < domEvent.changedTouches.length; i++) {\n          var touch = domEvent.changedTouches[i];\n          this.__touchStartPosition[touch.identifier] = [touch.clientX,touch.clientY];\n        }\n      }\n\n      if(type == \"touchmove\") {\n        // Polyfill for scale\n        if(typeof domEvent.scale == \"undefined\" && domEvent.targetTouches.length > 1) {\n          var currentScalingDistance = this._getScalingDistance(domEvent.targetTouches[0],domEvent.targetTouches[1]);\n          domEvent.scale = currentScalingDistance / this.__beginScalingDistance;\n        }\n        // Polyfill for rotation\n        if((typeof domEvent.rotation == \"undefined\" || qx.core.Environment.get(\"event.mspointer\")) && domEvent.targetTouches.length > 1) {\n          var currentRotation = this._getRotationAngle(domEvent.targetTouches[0], domEvent.targetTouches[1]);\n          domEvent._rotation = currentRotation - this.__beginRotation;\n        }\n\n        domEvent.delta = this._calcTouchesDelta(domEvent.targetTouches);\n      }\n\n      this._fireEvent(domEvent, type, this.__originalTarget);\n\n      if (qx.core.Environment.get(\"event.mspointer\")) {\n        if (type == \"touchend\" || type == \"touchcancel\") {\n          delete this.__pointers[domEvent.pointerId];\n        }\n      }\n\n      if ((type == \"touchend\" || type == \"touchcancel\") && domEvent.changedTouches[0]) {\n        delete this.__touchStartPosition[domEvent.changedTouches[0].identifier];\n      }\n    },\n\n\n    /**\n    * Creates an array with all current used touches out of multiple serial pointer events.\n    * Needed because pointerEvents do not provide a touch list.\n    * @param domEvent {Event} DOM event\n    * @param type {String ? null} type of the event\n    * @return {Array} touch list array.\n    */\n    _detectTouchesByPointer : function(domEvent, type) {\n      var touches = [];\n      if (type == \"touchstart\") {\n        this.__pointers[domEvent.pointerId] = domEvent;\n      } else if (type == \"touchmove\") {\n        this.__pointers[domEvent.pointerId] = domEvent;\n      }\n\n      for (var pointerId in this.__pointers) {\n        var pointer = this.__pointers[pointerId];\n        touches.push(pointer);\n      }\n\n      return touches;\n    },\n\n\n    /**\n    * Maps a pointer event type to the corresponding touch event type.\n    * @param type {String} the event type to parse.\n    * @return {String} the parsed event name.\n    */\n    _mapPointerEvent : function(type)\n    {\n      type = type.toLowerCase();\n\n      if (type.indexOf(\"pointerdown\") !== -1) {\n        return \"touchstart\";\n      } else if (type.indexOf(\"pointerup\") !== -1) {\n        return \"touchend\";\n      } else if (type.indexOf(\"pointermove\") !== -1) {\n          return \"touchmove\";\n      } else if (type.indexOf(\"pointercancel\") !== -1) {\n        return \"touchcancel\";\n      }\n\n      return type;\n    },\n\n\n    /**\n     * Return the target of the event.\n     *\n     * @param domEvent {Event} DOM event\n     * @return {Element} Event target\n     */\n    _getTarget : function(domEvent)\n    {\n      var target = qx.bom.Event.getTarget(domEvent);\n\n      // Text node. Fix Safari Bug, see http://www.quirksmode.org/js/events_properties.html\n      if (qx.core.Environment.get(\"engine.name\") == \"webkit\")\n      {\n        if (target && target.nodeType == 3) {\n          target = target.parentNode;\n        }\n      } else if(qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n                qx.core.Environment.get(\"browser.documentmode\") < 11) {\n        // Fix for IE10 and pointer-events:none\n        //\n        // Changed the condition above to match exactly those browsers\n        // for which the fix was intended\n        // See: https://github.com/qooxdoo/qooxdoo/issues/9481\n        //\n        var targetForIE = this.__evaluateTarget(domEvent);\n        if(targetForIE) {\n          target = targetForIE;\n        }\n      }\n\n      return target;\n    },\n\n\n    /**\n     * This method fixes \"pointer-events:none\" for Internet Explorer 10.\n     * Checks which elements are placed to position x/y and traverses the array\n     * till one element has no \"pointer-events:none\" inside its style attribute.\n     * @param domEvent {Event} DOM event\n     * @return {Element | null} Event target\n     */\n    __evaluateTarget : function(domEvent) {\n      var clientX = null;\n      var clientY = null;\n      if(domEvent && domEvent.touches && domEvent.touches.length !== 0){\n        clientX = domEvent.touches[0].clientX;\n        clientY = domEvent.touches[0].clientY;\n      }\n\n      // Retrieve an array with elements on point X/Y.\n      var hitTargets = document.msElementsFromPoint(clientX, clientY);\n      if(hitTargets) {\n        // Traverse this array for the elements which has no pointer-events:none inside.\n        for (var i = 0; i < hitTargets.length; i++) {\n          var currentTarget = hitTargets[i];\n          var pointerEvents = qx.bom.element.Style.get(currentTarget, \"pointer-events\", 3);\n\n          if (pointerEvents != \"none\") {\n            return currentTarget;\n          }\n        }\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Fire a touch event with the given parameters\n     *\n     * @param domEvent {Event} DOM event\n     * @param type {String ? null} type of the event\n     * @param target {Element ? null} event target\n     */\n    _fireEvent : function(domEvent, type, target)\n    {\n      if (!target) {\n        target = this._getTarget(domEvent);\n      }\n\n      var type = type || domEvent.type;\n\n      if (target && target.nodeType && this.__emitter)\n      {\n        this.__emitter.emit(type, domEvent);\n      }\n    },\n\n    /**\n     * Dispose this object\n     */\n    dispose : function()\n    {\n      this._stopTouchObserver();\n      this.__originalTarget = this.__target = this.__touchEventNames = this.__pointers = this.__emitter = this.__beginScalingDistance = this.__beginRotation = null;\n    }\n  }\n\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n     * Tino Butz (tbtz)\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n/**\n * This class provides a unified touch event handler.\n *\n * @require(qx.event.handler.UserAction)\n * @require(qx.event.handler.Orientation)\n * @require(qx.event.type.Tap)\n * @require(qx.event.type.Swipe)\n * @require(qx.event.type.Track)\n * @require(qx.event.type.Rotate)\n * @require(qx.event.type.Pinch)\n */\nqx.Class.define(\"qx.event.handler.Touch\",\n{\n  extend : qx.event.handler.TouchCore,\n  implement : [ qx.event.IEventHandler, qx.core.IDisposable ],\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager)\n  {\n    // Define shorthands\n    this.__manager = manager;\n    this.__window = manager.getWindow();\n    this.__root = this.__window.document;\n\n    qx.event.handler.TouchCore.apply(this, [this.__root]);\n  },\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES :\n    {\n      touchstart : 1,\n      touchmove : 1,\n      touchend : 1,\n      touchcancel : 1, // Appears when the touch is interrupted, e.g. by an alert box\n      tap : 1,\n      longtap : 1,\n      swipe : 1\n    },\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE + qx.event.IEventHandler.TARGET_DOCUMENT,\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true,\n\n    /** @type {Map} Mapping of mouse events to touch events */\n    MOUSE_TO_TOUCH_MAPPING :\n    {\n      \"mousedown\" : \"touchstart\",\n      \"mousemove\" : \"touchmove\",\n      \"mouseup\" : \"touchend\"\n    }\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __manager : null,\n    __window : null,\n    __root : null,\n\n    // Checks if the mouse movement is happening while simulating a touch event\n    __isInTouch : false,\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type) {},\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      HELPER\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Fire a touch event with the given parameters\n     *\n     * @param domEvent {Event} DOM event\n     * @param type {String ? null} type of the event\n     * @param target {Element ? null} event target\n     * @param eventTypeClass {Class ? qx.event.type.Touch} the event type class\n     */\n    _fireEvent : function(domEvent, type, target, eventTypeClass)\n    {\n      if (!target) {\n        target = this._getTarget(domEvent);\n      }\n\n      var type = type || domEvent.type;\n\n      if (target && target.nodeType)\n      {\n        qx.event.Registration.fireEvent(\n          target,\n          type,\n          eventTypeClass||qx.event.type.Touch,\n          [domEvent, target, null, true, true]\n        );\n      }\n\n      // Fire user action event\n      qx.event.Registration.fireEvent(this.__window, \"useraction\", qx.event.type.Data, [type]);\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      NATIVE EVENT OBSERVERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Handler for the native touch events.\n     *\n     * @signature function(domEvent)\n     * @param domEvent {Event} The touch event from the browser.\n     */\n    _onTouchEvent : qx.event.GlobalError.observeMethod(function(domEvent)\n    {\n      this._commonTouchEventHandler(domEvent);\n    }),\n\n\n    /**\n     * Dispose this object\n     */\n    dispose : function()\n    {\n      this.__callBase(\"dispose\");\n      this.__manager = this.__window = this.__root = null;\n    },\n\n\n    /**\n     * Call overridden method.\n     *\n     * @param method {String} Name of the overridden method.\n     * @param args {Array} Arguments.\n     */\n    __callBase: function(method, args) {\n      qx.event.handler.TouchCore.prototype[method].apply(this, args || []);\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n\n    // Prevent scrolling on the document to avoid scrolling at all\n    if (qx.core.Environment.get(\"event.touch\")) {\n      // get the handler to assure that the instance is created\n      qx.event.Registration.getManager(document).getHandler(statics);\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * This class provides a handler for the online event.\n * \n * NOTE: Instances of this class must be disposed of after use\n *\n */\nqx.Class.define(\"qx.event.handler.Offline\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.event.IEventHandler, qx.core.IDisposable ],\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager)\n  {\n    this.base(arguments);\n\n    this.__manager = manager;\n    this.__window = manager.getWindow();\n\n    this._initObserver();\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES :\n    {\n      online : true,\n      offline : true\n    },\n\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_WINDOW,\n\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : true\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __manager : null,\n    __window : null,\n    __onNativeWrapper : null,\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type) {},\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    /**\n     * Connects the native online and offline event listeners.\n     */\n    _initObserver : function() {\n      this.__onNativeWrapper = qx.lang.Function.listener(this._onNative, this);\n\n      qx.bom.Event.addNativeListener(this.__window, \"offline\", this.__onNativeWrapper);\n      qx.bom.Event.addNativeListener(this.__window, \"online\", this.__onNativeWrapper);\n    },\n\n\n    /**\n     * Disconnects the native online and offline event listeners.\n     */\n    _stopObserver : function() {\n      qx.bom.Event.removeNativeListener(this.__window, \"offline\", this.__onNativeWrapper);\n      qx.bom.Event.removeNativeListener(this.__window, \"online\", this.__onNativeWrapper);\n    },\n\n\n    /**\n     * Native handler function which fires a qooxdoo event.\n     * @signature function(domEvent)\n     * @param domEvent {Event} Native DOM event\n     */\n    _onNative : qx.event.GlobalError.observeMethod(function(domEvent) {\n      qx.event.Registration.fireEvent(\n          this.__window,\n          domEvent.type,\n          qx.event.type.Event,\n          []\n      );\n    }),\n\n\n    /*\n    ---------------------------------------------------------------------------\n      USER ACCESS\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Returns whether the current window thinks its online or not.\n     * @return {Boolean} <code>true</code> if its online\n     */\n    isOnline : function() {\n      return !!this.__window.navigator.onLine;\n    }\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    this.__manager = null;\n    this._stopObserver();\n\n    // Deregister\n    delete qx.event.handler.Appear.__instances[this.toHashCode()];\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n// Original behavior:\n// ================================================================\n// Normally a \"change\" event should occur on blur of the element\n// (http://www.w3.org/TR/DOM-Level-2-Events/events.html)\n\n// However this is not true for \"file\" upload fields\n\n// And this is also not true for checkboxes and radiofields (all non mshtml)\n// And this is also not true for select boxes where the selections\n// happens in the opened popup (Gecko + Webkit)\n\n// Normalized behavior:\n// ================================================================\n// Change on blur for textfields, textareas and file\n// Instant change event on checkboxes, radiobuttons\n\n// Select field fires on select (when using popup or size>1)\n// but differs when using keyboard:\n// mshtml+opera=keypress; mozilla+safari=blur\n\n// Input event for textareas does not work in Safari 3 beta (WIN)\n// Safari 3 beta (WIN) repeats change event for select box on blur when selected using popup\n\n// Opera fires \"change\" on radio buttons two times for each change\n\n/**\n * This handler provides an \"change\" event for all form fields and an\n * \"input\" event for form fields of type \"text\" and \"textarea\".\n *\n * To let these events work it is needed to create the elements using\n * {@link qx.bom.Input}\n */\nqx.Class.define(\"qx.event.handler.Input\",\n{\n  extend : qx.core.Object,\n  implement : qx.event.IEventHandler,\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    this._onChangeCheckedWrapper = qx.lang.Function.listener(this._onChangeChecked, this);\n    this._onChangeValueWrapper = qx.lang.Function.listener(this._onChangeValue, this);\n    this._onInputWrapper = qx.lang.Function.listener(this._onInput, this);\n    this._onPropertyWrapper = qx.lang.Function.listener(this._onProperty, this);\n\n    // special event handler for opera\n    if ((qx.core.Environment.get(\"engine.name\") == \"opera\")) {\n      this._onKeyDownWrapper = qx.lang.Function.listener(this._onKeyDown, this);\n      this._onKeyUpWrapper = qx.lang.Function.listener(this._onKeyUp, this);\n    }\n  },\n\n\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES :\n    {\n      input : 1,\n      change : 1\n    },\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE,\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : false\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    // special handling for opera\n    __enter : false,\n    __onInputTimeoutId : null,\n\n    // stores the former set value for opera and IE\n    __oldValue : null,\n\n    // stores the former set value for IE\n    __oldInputValue : null,\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type)\n    {\n      var lower = target.tagName.toLowerCase();\n\n      if (type === \"input\" && (lower === \"input\" || lower === \"textarea\")) {\n        return true;\n      }\n\n      if (type === \"change\" && (lower === \"input\" || lower === \"textarea\" || lower === \"select\")) {\n        return true;\n      }\n\n      return false;\n    },\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture)\n    {\n      if (\n        qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n        (qx.core.Environment.get(\"engine.version\") < 9 ||\n        (qx.core.Environment.get(\"engine.version\") >= 9 && qx.core.Environment.get(\"browser.documentmode\") < 9))\n      )\n      {\n        if (!target.__inputHandlerAttached)\n        {\n          var tag = target.tagName.toLowerCase();\n          var elementType = target.type;\n\n          if (elementType === \"text\" || elementType === \"password\" || tag === \"textarea\" || elementType === \"checkbox\" || elementType === \"radio\") {\n            qx.bom.Event.addNativeListener(target, \"propertychange\", this._onPropertyWrapper);\n          }\n\n          if (elementType !== \"checkbox\" && elementType !== \"radio\") {\n            qx.bom.Event.addNativeListener(target, \"change\", this._onChangeValueWrapper);\n          }\n\n          if (elementType === \"text\" || elementType === \"password\") {\n            this._onKeyPressWrapped = qx.lang.Function.listener(this._onKeyPress, this, target);\n            qx.bom.Event.addNativeListener(target, \"keypress\", this._onKeyPressWrapped);\n          }\n\n          target.__inputHandlerAttached = true;\n        }\n      }\n      else\n      {\n        if (type === \"input\")\n        {\n          this.__registerInputListener(target);\n        }\n        else if (type === \"change\")\n        {\n          if (target.type === \"radio\" || target.type === \"checkbox\") {\n            qx.bom.Event.addNativeListener(target, \"change\", this._onChangeCheckedWrapper);\n          } else {\n            qx.bom.Event.addNativeListener(target, \"change\", this._onChangeValueWrapper);\n          }\n\n          // special enter bugfix for opera\n          if ((qx.core.Environment.get(\"engine.name\") == \"opera\") || (qx.core.Environment.get(\"engine.name\") == \"mshtml\")) {\n            if (target.type === \"text\" || target.type === \"password\") {\n              this._onKeyPressWrapped = qx.lang.Function.listener(this._onKeyPress, this, target);\n              qx.bom.Event.addNativeListener(target, \"keypress\", this._onKeyPressWrapped);\n            }\n          }\n        }\n      }\n    },\n\n\n    __registerInputListener : qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(target)\n      {\n        if (\n          qx.core.Environment.get(\"engine.version\") >= 9 &&\n          qx.core.Environment.get(\"browser.documentmode\") >= 9\n        ) {\n          qx.bom.Event.addNativeListener(target, \"input\", this._onInputWrapper);\n\n          if (target.type === \"text\" || target.type === \"password\" || target.type === \"textarea\")\n          {\n            // Fixed input for delete and backspace key\n            this._inputFixWrapper = qx.lang.Function.listener(this._inputFix, this, target);\n            qx.bom.Event.addNativeListener(target, \"keyup\", this._inputFixWrapper);\n          }\n        }\n      },\n\n      \"webkit\" : function(target)\n      {\n        var tag = target.tagName.toLowerCase();\n\n        // the change event is not fired while typing\n        // this has been fixed in the latest nightlies\n        if (parseFloat(qx.core.Environment.get(\"engine.version\")) < 532 && tag == \"textarea\") {\n          qx.bom.Event.addNativeListener(target, \"keypress\", this._onInputWrapper);\n        }\n        qx.bom.Event.addNativeListener(target, \"input\", this._onInputWrapper);\n      },\n\n      \"opera\" : function(target) {\n        // register key events for filtering \"enter\" on input events\n        qx.bom.Event.addNativeListener(target, \"keyup\", this._onKeyUpWrapper);\n        qx.bom.Event.addNativeListener(target, \"keydown\", this._onKeyDownWrapper);\n        // register an blur event for preventing the input event on blur\n\n        qx.bom.Event.addNativeListener(target, \"input\", this._onInputWrapper);\n      },\n\n      \"default\" : function(target) {\n        qx.bom.Event.addNativeListener(target, \"input\", this._onInputWrapper);\n      }\n    }),\n\n\n    // interface implementation\n    unregisterEvent : function(target, type)\n    {\n      if (\n        qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n        qx.core.Environment.get(\"engine.version\") < 9 &&\n        qx.core.Environment.get(\"browser.documentmode\") < 9\n      )\n      {\n        if (target.__inputHandlerAttached)\n        {\n          var tag = target.tagName.toLowerCase();\n          var elementType = target.type;\n\n          if (elementType === \"text\" || elementType === \"password\" || tag === \"textarea\" || elementType === \"checkbox\" || elementType === \"radio\") {\n            qx.bom.Event.removeNativeListener(target, \"propertychange\", this._onPropertyWrapper);\n          }\n\n          if (elementType !== \"checkbox\" && elementType !== \"radio\") {\n            qx.bom.Event.removeNativeListener(target, \"change\", this._onChangeValueWrapper);\n          }\n\n          if (elementType === \"text\" || elementType === \"password\") {\n            qx.bom.Event.removeNativeListener(target, \"keypress\", this._onKeyPressWrapped);\n          }\n\n          try {\n            delete target.__inputHandlerAttached;\n          } catch(ex) {\n            target.__inputHandlerAttached = null;\n          }\n        }\n      }\n      else\n      {\n        if (type === \"input\")\n        {\n          this.__unregisterInputListener(target);\n        }\n        else if (type === \"change\")\n        {\n          if (target.type === \"radio\" || target.type === \"checkbox\")\n          {\n            qx.bom.Event.removeNativeListener(target, \"change\", this._onChangeCheckedWrapper);\n          }\n          else\n          {\n            qx.bom.Event.removeNativeListener(target, \"change\", this._onChangeValueWrapper);\n          }\n        }\n\n        if ((qx.core.Environment.get(\"engine.name\") == \"opera\") || (qx.core.Environment.get(\"engine.name\") == \"mshtml\")) {\n          if (target.type === \"text\" || target.type === \"password\") {\n            qx.bom.Event.removeNativeListener(target, \"keypress\", this._onKeyPressWrapped);\n          }\n        }\n      }\n    },\n\n\n    __unregisterInputListener : qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(target)\n      {\n        if (\n          qx.core.Environment.get(\"engine.version\") >= 9 &&\n          qx.core.Environment.get(\"browser.documentmode\") >= 9\n        ) {\n          qx.bom.Event.removeNativeListener(target, \"input\", this._onInputWrapper);\n\n          if (target.type === \"text\" || target.type === \"password\" || target.type === \"textarea\") {\n            // Fixed input for delete and backspace key\n            qx.bom.Event.removeNativeListener(target, \"keyup\", this._inputFixWrapper);\n          }\n        }\n      },\n\n      \"webkit\" : function(target)\n      {\n        var tag = target.tagName.toLowerCase();\n\n        // the change event is not fired while typing\n        // this has been fixed in the latest nightlies\n        if (parseFloat(qx.core.Environment.get(\"engine.version\")) < 532 && tag == \"textarea\") {\n          qx.bom.Event.removeNativeListener(target, \"keypress\", this._onInputWrapper);\n        }\n        qx.bom.Event.removeNativeListener(target, \"input\", this._onInputWrapper);\n      },\n\n      \"opera\" : function(target) {\n        // unregister key events for filtering \"enter\" on input events\n        qx.bom.Event.removeNativeListener(target, \"keyup\", this._onKeyUpWrapper);\n        qx.bom.Event.removeNativeListener(target, \"keydown\", this._onKeyDownWrapper);\n        qx.bom.Event.removeNativeListener(target, \"input\", this._onInputWrapper);\n      },\n\n      \"default\" : function(target) {\n        qx.bom.Event.removeNativeListener(target, \"input\", this._onInputWrapper);\n      }\n    }),\n\n\n    /*\n    ---------------------------------------------------------------------------\n      FOR OPERA AND IE (KEYPRESS TO SIMULATE CHANGE EVENT)\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Handler for fixing the different behavior when pressing the enter key.\n     *\n     * FF and Safari fire a \"change\" event if the user presses the enter key.\n     * IE and Opera fire the event only if the focus is changed.\n     *\n     * @signature function(e, target)\n     * @param e {Event} DOM event object\n     * @param target {Element} The event target\n     */\n    _onKeyPress : qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(e, target)\n      {\n        if (e.keyCode === 13) {\n          if (target.value !== this.__oldValue) {\n            this.__oldValue = target.value;\n            qx.event.Registration.fireEvent(target, \"change\", qx.event.type.Data, [target.value]);\n          }\n        }\n      },\n\n      \"opera\" : function(e, target)\n      {\n        if (e.keyCode === 13) {\n          if (target.value !== this.__oldValue) {\n            this.__oldValue = target.value;\n            qx.event.Registration.fireEvent(target, \"change\", qx.event.type.Data, [target.value]);\n          }\n        }\n      },\n\n      \"default\" : null\n    }),\n\n\n    /*\n    ---------------------------------------------------------------------------\n      FOR IE (KEYUP TO SIMULATE INPUT EVENT)\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Handler for fixing the different behavior when pressing the backspace or\n     * delete key.\n     *\n     * The other browsers fire a \"input\" event if the user presses the backspace\n     * or delete key.\n     * IE fire the event only for other keys.\n     *\n     * @signature function(e, target)\n     * @param e {Event} DOM event object\n     * @param target {Element} The event target\n     */\n    _inputFix : qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(e, target)\n      {\n        if (e.keyCode === 46 || e.keyCode === 8)\n        {\n          if (target.value !== this.__oldInputValue)\n          {\n            this.__oldInputValue = target.value;\n            qx.event.Registration.fireEvent(target, \"input\", qx.event.type.Data, [target.value]);\n          }\n        }\n      },\n\n      \"default\" : null\n    }),\n\n\n    /*\n    ---------------------------------------------------------------------------\n      FOR OPERA ONLY LISTENER (KEY AND BLUR)\n    ---------------------------------------------------------------------------\n    */\n    /**\n     * Key event listener for opera which recognizes if the enter key has been\n     * pressed.\n     *\n     * @signature function(e)\n     * @param e {Event} DOM event object\n     */\n    _onKeyDown : qx.core.Environment.select(\"engine.name\",\n    {\n      \"opera\" : function(e)\n      {\n        // enter is pressed\n        if (e.keyCode === 13) {\n          this.__enter = true;\n        }\n      },\n\n      \"default\" : null\n    }),\n\n\n    /**\n     * Key event listener for opera which recognizes if the enter key has been\n     * pressed.\n     *\n     * @signature function(e)\n     * @param e {Event} DOM event object\n     */\n    _onKeyUp : qx.core.Environment.select(\"engine.name\",\n    {\n      \"opera\" : function(e)\n      {\n        // enter is pressed\n        if (e.keyCode === 13) {\n          this.__enter = false;\n        }\n      },\n\n      \"default\" : null\n    }),\n\n\n    /*\n    ---------------------------------------------------------------------------\n      NATIVE EVENT HANDLERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Internal function called by input elements created using {@link qx.bom.Input}.\n     *\n     * @signature function(e)\n     * @param e {Event} Native DOM event\n     */\n    _onInput : qx.event.GlobalError.observeMethod(function(e)\n    {\n      var target = qx.bom.Event.getTarget(e);\n      var tag = target.tagName.toLowerCase();\n      // ignore native input event when triggered by return in input element\n      if (!this.__enter || tag !== \"input\") {\n        // opera lower 10.6 needs a special treatment for input events because\n        // they are also fired on blur\n        if ((qx.core.Environment.get(\"engine.name\") == \"opera\") &&\n            qx.core.Environment.get(\"browser.version\") < 10.6) {\n          this.__onInputTimeoutId = window.setTimeout(function() {\n            qx.event.Registration.fireEvent(target, \"input\", qx.event.type.Data, [target.value]);\n          }, 0);\n        } else {\n          qx.event.Registration.fireEvent(target, \"input\", qx.event.type.Data, [target.value]);\n        }\n      }\n    }),\n\n\n    /**\n     * Internal function called by input elements created using {@link qx.bom.Input}.\n     *\n     * @signature function(e)\n     * @param e {Event} Native DOM event\n     */\n    _onChangeValue : qx.event.GlobalError.observeMethod(function(e)\n    {\n      var target = qx.bom.Event.getTarget(e);\n      var data = target.value;\n\n      if (target.type === \"select-multiple\")\n      {\n        var data = [];\n        for (var i=0, o=target.options, l=o.length; i<l; i++)\n        {\n          if (o[i].selected) {\n            data.push(o[i].value);\n          }\n        }\n      }\n\n      qx.event.Registration.fireEvent(target, \"change\", qx.event.type.Data, [data]);\n    }),\n\n\n    /**\n     * Internal function called by input elements created using {@link qx.bom.Input}.\n     *\n     * @signature function(e)\n     * @param e {Event} Native DOM event\n     */\n    _onChangeChecked : qx.event.GlobalError.observeMethod(function(e)\n    {\n      var target = qx.bom.Event.getTarget(e);\n\n      if (target.type === \"radio\")\n      {\n        if (target.checked) {\n          qx.event.Registration.fireEvent(target, \"change\", qx.event.type.Data, [target.value]);\n        }\n      }\n      else\n      {\n        qx.event.Registration.fireEvent(target, \"change\", qx.event.type.Data, [target.checked]);\n      }\n    }),\n\n\n    /**\n     * Internal function called by input elements created using {@link qx.bom.Input}.\n     *\n     * @signature function(e)\n     * @param e {Event} Native DOM event\n     */\n    _onProperty : qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : qx.event.GlobalError.observeMethod(function(e)\n      {\n        var target = qx.bom.Event.getTarget(e);\n        var prop = e.propertyName;\n\n        if (prop === \"value\" && (target.type === \"text\" || target.type === \"password\" || target.tagName.toLowerCase() === \"textarea\"))\n        {\n          if (!target.$$inValueSet) {\n            qx.event.Registration.fireEvent(target, \"input\", qx.event.type.Data, [target.value]);\n          }\n        }\n        else if (prop === \"checked\")\n        {\n          if (target.type === \"checkbox\") {\n            qx.event.Registration.fireEvent(target, \"change\", qx.event.type.Data, [target.checked]);\n          } else if (target.checked) {\n            qx.event.Registration.fireEvent(target, \"change\", qx.event.type.Data, [target.value]);\n          }\n        }\n      }),\n\n      \"default\" : function() {}\n    })\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * This class is mainly a convenience wrapper for DOM elements to\n * qooxdoo's event system.\n *\n * @require(qx.event.dispatch.Direct)\n * @require(qx.event.dispatch.DomBubbling)\n * @require(qx.event.handler.Keyboard)\n * @require(qx.event.handler.Mouse)\n * @require(qx.event.handler.Element)\n * @require(qx.event.handler.Appear)\n * @require(qx.event.handler.Touch)\n * @require(qx.event.handler.Offline)\n * @require(qx.event.handler.Input)\n * @require(qx.event.handler.Pointer)\n * @require(qx.event.handler.Gesture)\n */\nqx.Class.define(\"qx.bom.Element\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      EVENTS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Add an event listener to a DOM element. The event listener is passed an\n     * instance of {@link Event} containing all relevant information\n     * about the event as parameter.\n     *\n     * @param element {Element} DOM element to attach the event on.\n     * @param type {String} Name of the event e.g. \"click\", \"keydown\", ...\n     * @param listener {Function} Event listener function\n     * @param self {Object ? null} Reference to the 'this' variable inside\n     *         the event listener. When not given, the corresponding dispatcher\n     *         usually falls back to a default, which is the target\n     *         by convention. Note this is not a strict requirement, i.e.\n     *         custom dispatchers can follow a different strategy.\n     * @param capture {Boolean} Whether to attach the event to the\n     *       capturing phase or the bubbling phase of the event. The default is\n     *       to attach the event handler to the bubbling phase.\n     * @return {String} An opaque id, which can be used to remove the event listener\n     *       using the {@link #removeListenerById} method.\n     */\n    addListener : function(element, type, listener, self, capture) {\n      return qx.event.Registration.addListener(element, type, listener, self, capture);\n    },\n\n\n    /**\n     * Remove an event listener from a from DOM node.\n     *\n     * Note: All registered event listeners will automatically be removed from\n     *   the DOM at page unload so it is not necessary to detach events yourself.\n     *\n     * @param element {Element} DOM Element\n     * @param type {String} Name of the event\n     * @param listener {Function} The pointer to the event listener\n     * @param self {Object ? null} Reference to the 'this' variable inside\n     *         the event listener.\n     * @param capture {Boolean} Whether to remove the event listener of\n     *       the bubbling or of the capturing phase.\n     * @return {Boolean} <code>true</code> if the listener was removed\n     */\n    removeListener : function(element, type, listener, self, capture) {\n      return qx.event.Registration.removeListener(element, type, listener, self, capture);\n    },\n\n\n    /**\n     * Removes an event listener from an event target by an id returned by\n     * {@link #addListener}\n     *\n     * @param target {Object} The event target\n     * @param id {String} The id returned by {@link #addListener}\n     * @return {Boolean} <code>true</code> if the listener was removed\n     */\n    removeListenerById : function(target, id) {\n      return qx.event.Registration.removeListenerById(target, id);\n    },\n\n\n    /**\n     * Check whether there are one or more listeners for an event type\n     * registered at the element.\n     *\n     * @param element {Element} DOM element\n     * @param type {String} The event type\n     * @param capture {Boolean ? false} Whether to check for listeners of\n     *       the bubbling or of the capturing phase.\n     * @return {Boolean} Whether the element has event listeners of the given type.\n     */\n    hasListener : function(element, type, capture) {\n      return qx.event.Registration.hasListener(element, type, capture);\n    },\n\n\n    /**\n     * Focuses the given element. The element needs to have a positive <code>tabIndex</code> value.\n     *\n     * @param element {Element} DOM element to focus\n     */\n    focus : function(element) {\n      qx.event.Registration.getManager(element).getHandler(qx.event.handler.Focus).focus(element);\n    },\n\n\n    /**\n     * Blurs the given element\n     *\n     * @param element {Element} DOM element to blur\n     */\n    blur : function(element) {\n      qx.event.Registration.getManager(element).getHandler(qx.event.handler.Focus).blur(element);\n    },\n\n\n    /**\n     * Activates the given element. The active element receives all key board events.\n     *\n     * @param element {Element} DOM element to focus\n     */\n    activate : function(element) {\n      qx.event.Registration.getManager(element).getHandler(qx.event.handler.Focus).activate(element);\n    },\n\n\n    /**\n     * Deactivates the given element. The active element receives all key board events.\n     *\n     * @param element {Element} DOM element to focus\n     */\n    deactivate : function(element) {\n      qx.event.Registration.getManager(element).getHandler(qx.event.handler.Focus).deactivate(element);\n    },\n\n\n    /**\n     * Captures the given element\n     *\n     * @param element {Element} DOM element to capture\n     * @param containerCapture {Boolean?true} If true all events originating in\n     *   the container are captured. If false events originating in the container\n     *   are not captured.\n     */\n    capture : function(element, containerCapture) {\n      qx.event.Registration.getManager(element).getDispatcher(qx.event.dispatch.MouseCapture).activateCapture(element, containerCapture);\n    },\n\n\n    /**\n     * Releases the given element (from a previous {@link #capture} call)\n     *\n     * @param element {Element} DOM element to release\n     */\n    releaseCapture : function(element) {\n      qx.event.Registration.getManager(element).getDispatcher(qx.event.dispatch.MouseCapture).releaseCapture(element);\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      UTILS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Clone given DOM element. May optionally clone all attached\n     * events (recursively) as well.\n     *\n     * @param element {Element} Element to clone\n     * @param events {Boolean?false} Whether events should be copied as well\n     * @return {Element} The copied element\n     */\n    clone : function(element, events)\n    {\n      var clone;\n\n      if (events || ((qx.core.Environment.get(\"engine.name\") == \"mshtml\") && !qx.xml.Document.isXmlDocument(element)))\n      {\n        var mgr = qx.event.Registration.getManager(element);\n        var all = qx.dom.Hierarchy.getDescendants(element);\n        all.push(element);\n      }\n\n      // IE copies events bound via attachEvent() when\n      // using cloneNode(). Calling detachEvent() on the\n      // clone will also remove the events from the original.\n      //\n      // In order to get around this, we detach all locally\n      // attached events first, do the cloning and recover\n      // them afterwards again.\n      if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\"))\n      {\n        for (var i=0, l=all.length; i<l; i++) {\n          mgr.toggleAttachedEvents(all[i], false);\n        }\n      }\n\n      // Do the native cloning\n      var clone = element.cloneNode(true);\n\n      // Recover events on original elements\n      if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\"))\n      {\n        for (var i=0, l=all.length; i<l; i++) {\n          mgr.toggleAttachedEvents(all[i], true);\n        }\n      }\n\n      // Attach events from original element\n      if (events === true)\n      {\n        // Produce recursive list of elements in the clone\n        var cloneAll = qx.dom.Hierarchy.getDescendants(clone);\n        cloneAll.push(clone);\n\n        // Process all elements and copy over listeners\n        var eventList, cloneElem, origElem, eventEntry;\n        for (var i=0, il=all.length; i<il; i++)\n        {\n          origElem = all[i];\n          eventList = mgr.serializeListeners(origElem);\n\n          if (eventList.length > 0)\n          {\n            cloneElem = cloneAll[i];\n\n            for (var j=0, jl=eventList.length; j<jl; j++)\n            {\n              eventEntry = eventList[j];\n              mgr.addListener(cloneElem, eventEntry.type, eventEntry.handler, eventEntry.self, eventEntry.capture);\n            }\n          }\n        }\n      }\n\n      // Finally return the clone\n      return clone;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n\n/**\n * Contains methods to control and query the element's scroll properties\n */\nqx.Class.define(\"qx.bom.element.Scroll\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} The typical native scrollbar size in the environment */\n    __scrollbarSize : null,\n\n    /**\n     * Get the typical native scrollbar size in the environment\n     *\n     * @return {Number} The native scrollbar size\n     */\n    getScrollbarWidth : function()\n    {\n      if (this.__scrollbarSize !== null) {\n        return this.__scrollbarSize;\n      }\n\n      var Style = qx.bom.element.Style;\n\n      var getStyleSize = function(el, propertyName) {\n        return parseInt(Style.get(el, propertyName), 10) || 0;\n      };\n\n      var getBorderRight = function(el)\n      {\n        return (\n          Style.get(el, \"borderRightStyle\") == \"none\"\n          ? 0\n          : getStyleSize(el, \"borderRightWidth\")\n        );\n      };\n\n      var getBorderLeft = function(el)\n      {\n        return (\n          Style.get(el, \"borderLeftStyle\") == \"none\"\n          ? 0\n          : getStyleSize(el, \"borderLeftWidth\")\n        );\n      };\n\n      var getInsetRight = qx.core.Environment.select(\"engine.name\",\n      {\n        \"mshtml\" : function(el)\n        {\n          if (\n            Style.get(el, \"overflowY\") == \"hidden\" ||\n            el.clientWidth == 0\n          ) {\n            return getBorderRight(el);\n          }\n\n          return Math.max(0, el.offsetWidth - el.clientLeft - el.clientWidth);\n        },\n\n          \"default\" : function(el)\n        {\n          // Alternative method if clientWidth is unavailable\n          // clientWidth == 0 could mean both: unavailable or really 0\n          if (el.clientWidth == 0)\n          {\n            var ov = Style.get(el, \"overflow\");\n            var sbv = (\n              ov == \"scroll\" ||\n              ov == \"-moz-scrollbars-vertical\" ? 16 : 0\n            );\n            return Math.max(0, getBorderRight(el) + sbv);\n          }\n\n          return Math.max(\n            0,\n            (el.offsetWidth - el.clientWidth - getBorderLeft(el))\n          );\n        }\n      });\n\n      var getScrollBarSizeRight = function(el) {\n        return getInsetRight(el) - getBorderRight(el);\n      };\n\n      var t = document.createElement(\"div\");\n      var s = t.style;\n\n      s.height = s.width = \"100px\";\n      s.overflow = \"scroll\";\n\n      document.body.appendChild(t);\n      var c = getScrollBarSizeRight(t);\n      this.__scrollbarSize = c;\n      document.body.removeChild(t);\n\n      return this.__scrollbarSize;\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SCROLL INTO VIEW\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * The method scrolls the element into view (x-axis only).\n     *\n     * @param element {Element} DOM element to scroll into view\n     * @param stop {Element?null} Any parent element which functions as\n     *   outermost element to scroll. Default is the HTML document.\n     * @param align {String?null} Alignment of the element. Allowed values:\n     *   <code>left</code> or <code>right</code>. Could also be null.\n     *   Without a given alignment the method tries to scroll the widget\n     *   with the minimum effort needed.\n     */\n    intoViewX : function(element, stop, align)\n    {\n      var parent = element.parentNode;\n      var doc = qx.dom.Node.getDocument(element);\n      var body = doc.body;\n\n      var parentLocation, parentLeft, parentRight;\n      var parentOuterWidth, parentClientWidth, parentScrollWidth;\n      var parentLeftBorder, parentRightBorder, parentScrollBarWidth;\n      var elementLocation, elementLeft, elementRight, elementWidth;\n      var leftOffset, rightOffset, scrollDiff;\n\n      var alignLeft = align === \"left\";\n      var alignRight = align === \"right\";\n\n      // Correcting stop position\n      stop = stop ? stop.parentNode : doc;\n\n      // Go up the parent chain\n      while (parent && parent != stop)\n      {\n        // \"overflow\" is always visible for both: document.body and document.documentElement\n        if (parent.scrollWidth > parent.clientWidth && (parent === body || qx.bom.element.Style.get(parent, \"overflowY\") != \"visible\"))\n        {\n          // Calculate parent data\n          // Special handling for body element\n          if (parent === body)\n          {\n            parentLeft = parent.scrollLeft;\n            parentRight = parentLeft + qx.bom.Viewport.getWidth();\n            parentOuterWidth = qx.bom.Viewport.getWidth();\n            parentClientWidth = parent.clientWidth;\n            parentScrollWidth = parent.scrollWidth;\n            parentLeftBorder = 0;\n            parentRightBorder = 0;\n            parentScrollBarWidth = 0;\n          }\n          else\n          {\n            parentLocation = qx.bom.element.Location.get(parent);\n            parentLeft = parentLocation.left;\n            parentRight = parentLocation.right;\n            parentOuterWidth = parent.offsetWidth;\n            parentClientWidth = parent.clientWidth;\n            parentScrollWidth = parent.scrollWidth;\n            parentLeftBorder = parseInt(qx.bom.element.Style.get(parent, \"borderLeftWidth\"), 10) || 0;\n            parentRightBorder = parseInt(qx.bom.element.Style.get(parent, \"borderRightWidth\"), 10) || 0;\n            parentScrollBarWidth = parentOuterWidth - parentClientWidth - parentLeftBorder - parentRightBorder;\n          }\n\n          // Calculate element data\n          elementLocation = qx.bom.element.Location.get(element);\n          elementLeft = elementLocation.left;\n          elementRight = elementLocation.right;\n          elementWidth = element.offsetWidth;\n\n          // Relative position from each other\n          leftOffset = elementLeft - parentLeft - parentLeftBorder;\n          rightOffset = elementRight - parentRight + parentRightBorder;\n\n          // Scroll position rearrangement\n          scrollDiff = 0;\n\n          // be sure that element is on left edge\n          if (alignLeft)\n          {\n            scrollDiff = leftOffset;\n          }\n\n          // be sure that element is on right edge\n          else if (alignRight)\n          {\n            scrollDiff = rightOffset + parentScrollBarWidth;\n          }\n\n          // element must go down\n          // * when current left offset is smaller than 0\n          // * when width is bigger than the inner width of the parent\n          else if (leftOffset < 0 || elementWidth > parentClientWidth)\n          {\n            scrollDiff = leftOffset;\n          }\n\n          // element must go up\n          // * when current right offset is bigger than 0\n          else if (rightOffset > 0)\n          {\n            scrollDiff = rightOffset + parentScrollBarWidth;\n          }\n\n          parent.scrollLeft += scrollDiff;\n\n          // Browsers that follow the CSSOM View Spec fire the \"scroll\"\n          // event asynchronously. See #intoViewY for more details.\n          qx.event.Registration.fireNonBubblingEvent(parent, \"scroll\");\n        }\n\n        if (parent === body) {\n          break;\n        }\n\n        parent = parent.parentNode;\n      }\n    },\n\n\n    /**\n     * The method scrolls the element into view (y-axis only).\n     *\n     * @param element {Element} DOM element to scroll into view\n     * @param stop {Element?null} Any parent element which functions as\n     *   outermost element to scroll. Default is the HTML document.\n     * @param align {String?null} Alignment of the element. Allowed values:\n     *   <code>top</code> or <code>bottom</code>. Could also be null.\n     *   Without a given alignment the method tries to scroll the widget\n     *   with the minimum effort needed.\n     */\n    intoViewY : function(element, stop, align)\n    {\n      var parent = element.parentNode;\n      var doc = qx.dom.Node.getDocument(element);\n      var body = doc.body;\n\n      var parentLocation, parentTop, parentBottom;\n      var parentOuterHeight, parentClientHeight, parentScrollHeight;\n      var parentTopBorder, parentBottomBorder, parentScrollBarHeight;\n      var elementLocation, elementTop, elementBottom, elementHeight;\n      var topOffset, bottomOffset, scrollDiff;\n\n      var alignTop = align === \"top\";\n      var alignBottom = align === \"bottom\";\n\n      // Correcting stop position\n      stop = stop ? stop.parentNode : doc;\n\n      // Go up the parent chain\n      while (parent && parent != stop)\n      {\n        // \"overflow\" is always visible for both: document.body and document.documentElement\n        if (parent.scrollHeight > parent.clientHeight && (parent === body || qx.bom.element.Style.get(parent, \"overflowY\") != \"visible\"))\n        {\n          // Calculate parent data\n          // Special handling for body element\n          if (parent === body)\n          {\n            parentTop = parent.scrollTop;\n            parentBottom = parentTop + qx.bom.Viewport.getHeight();\n            parentOuterHeight = qx.bom.Viewport.getHeight();\n            parentClientHeight = parent.clientHeight;\n            parentScrollHeight = parent.scrollHeight;\n            parentTopBorder = 0;\n            parentBottomBorder = 0;\n            parentScrollBarHeight = 0;\n          }\n          else\n          {\n            parentLocation = qx.bom.element.Location.get(parent);\n            parentTop = parentLocation.top;\n            parentBottom = parentLocation.bottom;\n            parentOuterHeight = parent.offsetHeight;\n            parentClientHeight = parent.clientHeight;\n            parentScrollHeight = parent.scrollHeight;\n            parentTopBorder = parseInt(qx.bom.element.Style.get(parent, \"borderTopWidth\"), 10) || 0;\n            parentBottomBorder = parseInt(qx.bom.element.Style.get(parent, \"borderBottomWidth\"), 10) || 0;\n            parentScrollBarHeight = parentOuterHeight - parentClientHeight - parentTopBorder - parentBottomBorder;\n          }\n\n          // Calculate element data\n          elementLocation = qx.bom.element.Location.get(element);\n          elementTop = elementLocation.top;\n          elementBottom = elementLocation.bottom;\n          elementHeight = element.offsetHeight;\n\n          // Relative position from each other\n          topOffset = elementTop - parentTop - parentTopBorder;\n          bottomOffset = elementBottom - parentBottom + parentBottomBorder;\n\n          // Scroll position rearrangement\n          scrollDiff = 0;\n\n          // be sure that element is on top edge\n          if (alignTop)\n          {\n            scrollDiff = topOffset;\n          }\n\n          // be sure that element is on bottom edge\n          else if (alignBottom)\n          {\n            scrollDiff = bottomOffset + parentScrollBarHeight;\n          }\n\n          // element must go down\n          // * when current top offset is smaller than 0\n          // * when height is bigger than the inner height of the parent\n          else if (topOffset < 0 || elementHeight > parentClientHeight)\n          {\n            scrollDiff = topOffset;\n          }\n\n          // element must go up\n          // * when current bottom offset is bigger than 0\n          else if (bottomOffset > 0)\n          {\n            scrollDiff = bottomOffset + parentScrollBarHeight;\n          }\n\n          parent.scrollTop += scrollDiff;\n\n          // Browsers that follow the CSSOM View Spec fire the \"scroll\"\n          // event asynchronously.\n          //\n          // The widget layer expects the \"scroll\" event to be fired before\n          // the \"appear\" event. Fire non-bubbling \"scroll\" in all browsers,\n          // since a duplicate \"scroll\" should not cause any issues and it\n          // is hard to track which version of the browser engine started to\n          // follow the CSSOM Spec. Fixes [BUG #4570].\n          qx.event.Registration.fireNonBubblingEvent(parent, \"scroll\");\n        }\n\n        if (parent === body) {\n          break;\n        }\n\n        parent = parent.parentNode;\n      }\n    },\n\n\n    /**\n     * The method scrolls the element into view.\n     *\n     * @param element {Element} DOM element to scroll into view\n     * @param stop {Element?null} Any parent element which functions as\n     *   outermost element to scroll. Default is the HTML document.\n     * @param alignX {String} Alignment of the element. Allowed values:\n     *   <code>left</code> or <code>right</code>. Could also be undefined.\n     *   Without a given alignment the method tries to scroll the widget\n     *   with the minimum effort needed.\n     * @param alignY {String} Alignment of the element. Allowed values:\n     *   <code>top</code> or <code>bottom</code>. Could also be undefined.\n     *   Without a given alignment the method tries to scroll the widget\n     *   with the minimum effort needed.\n     */\n    intoView : function(element, stop, alignX, alignY)\n    {\n      this.intoViewX(element, stop, alignX);\n      this.intoViewY(element, stop, alignY);\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2017 Zenesis Limited, http://www.zenesis.com\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * John Spackman (john.spackman@zenesis.com, @johnspackman)\n\n************************************************************************ */\n\n/**\n * Provides a registry of top level objects\n */\nqx.Class.define(\"qx.core.Id\", {\n  extend: qx.core.Object,\n  type: \"singleton\",\n\n  members: {\n\n    __registeredObjects: null,\n    __registeredIdHashes: null,\n\n    /*\n     * @Override\n     */\n    _createQxObject: function(id) {\n      // Create the object, but don't add it to the list of owned objects\n      var result = this._createQxObjectImpl(id);\n      return result;\n    },\n\n    /*\n     * @Override\n     */\n    _createQxObjectImpl: function(id) {\n      if (this.__registeredObjects) {\n        var obj = this.__registeredObjects[id];\n        if (obj !== undefined) {\n          return obj;\n        }\n      }\n\n      switch(id) {\n        case \"application\":\n          return qx.core.Init.getApplication() || undefined;\n      }\n\n      return undefined;\n    },\n\n    /**\n     * Returns an object path which can be used to locate an object anywhere in the application\n     * with a call to `qx.core.Id.getQxObject()`.\n     *\n     * This will return null if it is not possible to calculate a path because one of the\n     * ancestors has a null `qxObjectId`.\n     *\n     * This will also return null if the top-most ancestor is not one of the globals registered\n     * with `registerObject` or a known global (such as the application); however, by passing\n     * `true` as the `suppressWarnings` parameter, this will prevent errors from appearing in\n     * the console when this happens\n     *\n     * @param obj {qx.core.Object} the object\n     * @param suppressWarnings {Boolean?} default: false; silently returns null if an ID cannot be created\n     * @return {String} full path to the object\n     */\n    getAbsoluteIdOf: function(obj, suppressWarnings) {\n      if (this.__registeredIdHashes && this.__registeredIdHashes[obj.toHashCode()]) {\n        return obj.getQxObjectId();\n      }\n      var segs = [];\n      var application = qx.core.Init.getApplication();\n      while (obj) {\n        var id = obj.getQxObjectId();\n        if (!id) {\n          if (!suppressWarnings) {\n            this.error(\"Cannot determine an absolute Object ID because one of the ancestor ObjectID's is null (got as far as \" + segs.join('/') + \")\");\n          }\n          return null;\n        }\n        segs.unshift(id);\n        var owner = obj.getQxOwner();\n        if (owner) {\n          // Find the ID of the owner, *if* it is registered as a top level object\n          var ownerId = null;\n          if (owner === application) {\n            ownerId = \"application\";\n          } else {\n            ownerId = this.__registeredIdHashes && this.__registeredIdHashes[owner.toHashCode()] || null;\n          }\n\n          // When we have found the ID of a top level object, add it to the path and stop\n          if (ownerId) {\n            segs.unshift(ownerId);\n            break;\n          }\n        } else {\n          if (!suppressWarnings) {\n            this.error(\"Cannot determine a global absolute Object ID because the topmost object is not registered\");\n          }\n          return null;\n        }\n        obj = owner;\n      }\n      var path = segs.join(\"/\");\n      return path;\n    },\n\n    /**\n     * Registers an object with an ID; as this is registering a global object which is the root of a tree\n     * of objects with IDs, the `id` parameter can be provided to set the ID used for the root object - this\n     * allows an object to be registered under a well known, common name without affecting the API of the\n     * object.\n     *\n     * @param obj {qx.core.Object} the object to register\n     * @param id {String?} the ID to register the object under, otherwise the object's own Object Id is used\n     */\n    register: function(obj, id) {\n      if (!this.__registeredObjects) {\n        this.__registeredObjects = {};\n        this.__registeredIdHashes = {};\n      }\n      if (!id) {\n        id = obj.getQxObjectId();\n      }\n      this.__registeredObjects[id] = obj;\n      this.__registeredIdHashes[obj.toHashCode()] = id;\n      obj._cascadeQxObjectIdChanges();\n    },\n\n    /**\n     * Unregisters a previously registered object with an ID\n     *\n     * @param data {Object|String} the object to unregister, or the ID of the object\n     * @return {Boolean} whether there was an object to unregister\n     */\n    unregister: function(data) {\n      if (!this.__registeredObjects) {\n        return false;\n      }\n\n      var id;\n      if (typeof data == \"string\") {\n        id = data;\n      } else {\n        var hash = data.toHashCode();\n        id = this.__registeredIdHashes[hash];\n        if (!id) {\n          return false;\n        }\n      }\n\n      var obj = this.__registeredObjects[id];\n      if (obj) {\n        delete this.__registeredObjects[id];\n        delete this.__registeredIdHashes[obj.toHashCode()];\n        obj._cascadeQxObjectIdChanges();\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\n     * Returns a map of the objects that have been registered as id roots, with\n     * the topmost part of the ID as key.\n     * @return {Object}\n     */\n    getRegisteredObjects: function() {\n      return this.__registeredObjects;\n    }\n  },\n\n  statics: {\n\n    /**\n     * Returns a top level instance\n     *\n     * @param id {String} the ID to look for\n     * @return {qx.core.Object?} the object\n     */\n    getQxObject: function(id) {\n      return this.getInstance().getQxObject(id);\n    },\n\n    /**\n     * Helper for `qx.core.Id.getAbsoluteIdOf`\n     *\n     * @param obj {qx.core.Object} the object\n     * @param suppressWarnings {Boolean?} default: false; silently returns null if an ID cannot be created\n     * @return {String} full path to the object\n     */\n    getAbsoluteIdOf: function(obj, suppressWarnings) {\n      return this.getInstance().getAbsoluteIdOf(obj, suppressWarnings);\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Christian Hagendorn (cs)\n\n************************************************************************ */\n\n/**\n * Methods to convert colors between different color spaces.\n *\n * @ignore(qx.theme.*)\n * @ignore(qx.Class)\n * @ignore(qx.Class.*)\n */\nqx.Bootstrap.define(\"qx.util.ColorUtil\",\n{\n  statics :\n  {\n    /**\n     * Regular expressions for color strings\n     */\n    REGEXP :\n    {\n      hex3 : /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n      hex6 : /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n      rgb : /^rgb\\(\\s*([0-9]{1,3}\\.{0,1}[0-9]*)\\s*,\\s*([0-9]{1,3}\\.{0,1}[0-9]*)\\s*,\\s*([0-9]{1,3}\\.{0,1}[0-9]*)\\s*\\)$/,\n      rgba : /^rgba\\(\\s*([0-9]{1,3}\\.{0,1}[0-9]*)\\s*,\\s*([0-9]{1,3}\\.{0,1}[0-9]*)\\s*,\\s*([0-9]{1,3}\\.{0,1}[0-9]*)\\s*,\\s*([0-9]{1,3}\\.{0,1}[0-9]*)\\s*\\)$/\n    },\n\n\n    /**\n     * CSS3 system color names.\n     */\n    SYSTEM :\n    {\n      activeborder        : true,\n      activecaption       : true,\n      appworkspace        : true,\n      background          : true,\n      buttonface          : true,\n      buttonhighlight     : true,\n      buttonshadow        : true,\n      buttontext          : true,\n      captiontext         : true,\n      graytext            : true,\n      highlight           : true,\n      highlighttext       : true,\n      inactiveborder      : true,\n      inactivecaption     : true,\n      inactivecaptiontext : true,\n      infobackground      : true,\n      infotext            : true,\n      menu                : true,\n      menutext            : true,\n      scrollbar           : true,\n      threeddarkshadow    : true,\n      threedface          : true,\n      threedhighlight     : true,\n      threedlightshadow   : true,\n      threedshadow        : true,\n      window              : true,\n      windowframe         : true,\n      windowtext          : true\n    },\n\n\n    /**\n     * Named colors, only the 16 basic colors plus the following ones:\n     * transparent, grey, magenta, orange and brown\n     */\n    NAMED :\n    {\n      black       : [ 0, 0, 0 ],\n      silver      : [ 192, 192, 192 ],\n      gray        : [ 128, 128, 128 ],\n      white       : [ 255, 255, 255 ],\n      maroon      : [ 128, 0, 0 ],\n      red         : [ 255, 0, 0 ],\n      purple      : [ 128, 0, 128 ],\n      fuchsia     : [ 255, 0, 255 ],\n      green       : [ 0, 128, 0 ],\n      lime        : [ 0, 255, 0 ],\n      olive       : [ 128, 128, 0 ],\n      yellow      : [ 255, 255, 0 ],\n      navy        : [ 0, 0, 128 ],\n      blue        : [ 0, 0, 255 ],\n      teal        : [ 0, 128, 128 ],\n      aqua        : [ 0, 255, 255 ],\n\n      // Additional values\n      transparent : [ -1, -1, -1 ],\n      magenta     : [ 255, 0, 255 ],   // alias for fuchsia\n      orange      : [ 255, 165, 0 ],\n      brown       : [ 165, 42, 42 ]\n    },\n\n\n    /**\n     * Whether the incoming value is a named color.\n     *\n     * @param value {String} the color value to test\n     * @return {Boolean} true if the color is a named color\n     */\n    isNamedColor : function(value) {\n      return this.NAMED[value] !== undefined;\n    },\n\n\n    /**\n     * Whether the incoming value is a system color.\n     *\n     * @param value {String} the color value to test\n     * @return {Boolean} true if the color is a system color\n     */\n    isSystemColor : function(value) {\n      return this.SYSTEM[value] !== undefined;\n    },\n\n\n    /**\n     * Whether the color theme manager is loaded. Generally\n     * part of the GUI of qooxdoo.\n     *\n     * @return {Boolean} <code>true</code> when color theme support is ready.\n     **/\n    supportsThemes : function() {\n      if (qx.Class) {\n        return qx.Class.isDefined(\"qx.theme.manager.Color\");\n      }\n      return false;\n    },\n\n\n    /**\n     * Whether the incoming value is a themed color.\n     *\n     * @param value {String} the color value to test\n     * @return {Boolean} true if the color is a themed color\n     */\n    isThemedColor : function(value)\n    {\n      if (!this.supportsThemes()) {\n        return false;\n      }\n\n      if (qx.theme && qx.theme.manager && qx.theme.manager.Color) {\n        return qx.theme.manager.Color.getInstance().isDynamic(value);\n      }\n      return false;\n    },\n\n\n    /**\n     * Try to convert an incoming string to an RGB array.\n     * Supports themed, named and system colors, but also RGB strings,\n     * hex3 and hex6 values.\n     *\n     * @param str {String} any string\n     * @return {Array} returns an array of red, green, blue on a successful transformation\n     * @throws {Error} if the string could not be parsed\n     */\n    stringToRgb : function(str)\n    {\n      if (this.supportsThemes() && this.isThemedColor(str)) {\n        str = qx.theme.manager.Color.getInstance().resolveDynamic(str);\n      }\n\n      if (this.isNamedColor(str))\n      {\n        return this.NAMED[str].concat();\n      }\n      else if (this.isSystemColor(str))\n      {\n        throw new Error(\"Could not convert system colors to RGB: \" + str);\n      }\n      else if (this.isRgbaString(str)) {\n        return this.__rgbaStringToRgb(str);\n      }\n      else if (this.isRgbString(str))\n      {\n        return this.__rgbStringToRgb();\n      }\n      else if (this.isHex3String(str))\n      {\n        return this.__hex3StringToRgb();\n      }\n      else if (this.isHex6String(str))\n      {\n        return this.__hex6StringToRgb();\n      }\n\n      throw new Error(\"Could not parse color: \" + str);\n    },\n\n\n    /**\n     * Try to convert an incoming string to an RGB array.\n     * Support named colors, RGB strings, hex3 and hex6 values.\n     *\n     * @param str {String} any string\n     * @return {Array} returns an array of red, green, blue on a successful transformation\n     * @throws {Error} if the string could not be parsed\n     */\n    cssStringToRgb : function(str)\n    {\n      if (this.isNamedColor(str))\n      {\n        return this.NAMED[str];\n      }\n      else if (this.isSystemColor(str))\n      {\n        throw new Error(\"Could not convert system colors to RGB: \" + str);\n      }\n      else if (this.isRgbString(str))\n      {\n        return this.__rgbStringToRgb();\n      }\n      else if (this.isRgbaString(str))\n      {\n        return this.__rgbaStringToRgb();\n      }\n      else if (this.isHex3String(str))\n      {\n        return this.__hex3StringToRgb();\n      }\n      else if (this.isHex6String(str))\n      {\n        return this.__hex6StringToRgb();\n      }\n\n      throw new Error(\"Could not parse color: \" + str);\n    },\n\n\n    /**\n     * Try to convert an incoming string to an RGB string, which can be used\n     * for all color properties.\n     * Supports themed, named and system colors, but also RGB strings,\n     * hex3 and hex6 values.\n     *\n     * @param str {String} any string\n     * @return {String} a RGB string\n     * @throws {Error} if the string could not be parsed\n     */\n    stringToRgbString : function(str) {\n      return this.rgbToRgbString(this.stringToRgb(str));\n    },\n\n\n    /**\n     * Converts a RGB array to an RGB string\n     *\n     * @param rgb {Array} an array with red, green and blue values and optionally\n     * an alpha value\n     * @return {String} an RGB string\n     */\n    rgbToRgbString : function(rgb) {\n      return \"rgb\" + (rgb[3] !== undefined ? \"a\" : \"\") +  \"(\" + rgb.join(\",\") + \")\";\n    },\n\n\n    /**\n     * Converts a RGB array to an hex6 string\n     *\n     * @param rgb {Array} an array with red, green and blue\n     * @return {String} a hex6 string (#xxxxxx)\n     */\n    rgbToHexString : function(rgb)\n    {\n      return (\n        \"#\" +\n        qx.lang.String.pad(rgb[0].toString(16).toUpperCase(), 2) +\n        qx.lang.String.pad(rgb[1].toString(16).toUpperCase(), 2) +\n        qx.lang.String.pad(rgb[2].toString(16).toUpperCase(), 2)\n      );\n    },\n\n\n    /**\n     * Detects if a string is a valid qooxdoo color\n     *\n     * @param str {String} any string\n     * @return {Boolean} true when the incoming value is a valid qooxdoo color\n     */\n    isValidPropertyValue : function(str) {\n      return (\n        this.isThemedColor(str) ||\n        this.isNamedColor(str) ||\n        this.isHex3String(str) ||\n        this.isHex6String(str) ||\n        this.isRgbString(str) ||\n        this.isRgbaString(str));\n    },\n\n\n    /**\n     * Detects if a string is a valid CSS color string\n     *\n     * @param str {String} any string\n     * @return {Boolean} true when the incoming value is a valid CSS color string\n     */\n    isCssString : function(str) {\n      return (\n        this.isSystemColor(str) ||\n        this.isNamedColor(str) ||\n        this.isHex3String(str) ||\n        this.isHex6String(str) ||\n        this.isRgbString(str) ||\n        this.isRgbaString(str));\n    },\n\n\n    /**\n     * Detects if a string is a valid hex3 string\n     *\n     * @param str {String} any string\n     * @return {Boolean} true when the incoming value is a valid hex3 string\n     */\n    isHex3String : function(str) {\n      return this.REGEXP.hex3.test(str);\n    },\n\n\n    /**\n     * Detects if a string is a valid hex6 string\n     *\n     * @param str {String} any string\n     * @return {Boolean} true when the incoming value is a valid hex6 string\n     */\n    isHex6String : function(str) {\n      return this.REGEXP.hex6.test(str);\n    },\n\n\n    /**\n     * Detects if a string is a valid RGB string\n     *\n     * @param str {String} any string\n     * @return {Boolean} true when the incoming value is a valid RGB string\n     */\n    isRgbString : function(str) {\n      return this.REGEXP.rgb.test(str);\n    },\n\n\n    /**\n     * Detects if a string is a valid RGBA string\n     *\n     * @param str {String} any string\n     * @return {Boolean} true when the incoming value is a valid RGBA string\n     */\n    isRgbaString : function(str) {\n      return this.REGEXP.rgba.test(str);\n    },\n\n\n    /**\n     * Converts a regexp object match of a rgb string to an RGB array.\n     *\n     * @return {Array} an array with red, green, blue\n     */\n    __rgbStringToRgb : function()\n    {\n      var red = parseInt(RegExp.$1, 10);\n      var green = parseInt(RegExp.$2, 10);\n      var blue = parseInt(RegExp.$3, 10);\n\n      return [red, green, blue];\n    },\n\n   /**\n    * Converts a regexp object match of a rgba string to an RGB array.\n    *\n    * @return {Array} an array with red, green, blue\n    */\n    __rgbaStringToRgb : function()\n    {\n      var red = parseInt(RegExp.$1, 10);\n      var green = parseInt(RegExp.$2, 10);\n      var blue = parseInt(RegExp.$3, 10);\n      var alpha = parseFloat(RegExp.$4, 10);\n\n      if (red === 0 && green === 0 & blue === 0 && alpha === 0) {\n        return [-1, -1, -1];\n      }\n\n      return [red, green, blue];\n    },\n\n\n    /**\n     * Converts a regexp object match of a hex3 string to an RGB array.\n     *\n     * @return {Array} an array with red, green, blue\n     */\n    __hex3StringToRgb : function()\n    {\n      var red = parseInt(RegExp.$1, 16) * 17;\n      var green = parseInt(RegExp.$2, 16) * 17;\n      var blue = parseInt(RegExp.$3, 16) * 17;\n\n      return [red, green, blue];\n    },\n\n\n    /**\n     * Converts a regexp object match of a hex6 string to an RGB array.\n     *\n     * @return {Array} an array with red, green, blue\n     */\n    __hex6StringToRgb : function()\n    {\n      var red = (parseInt(RegExp.$1, 16) * 16) + parseInt(RegExp.$2, 16);\n      var green = (parseInt(RegExp.$3, 16) * 16) + parseInt(RegExp.$4, 16);\n      var blue = (parseInt(RegExp.$5, 16) * 16) + parseInt(RegExp.$6, 16);\n\n      return [red, green, blue];\n    },\n\n\n    /**\n     * Converts a hex3 string to an RGB array\n     *\n     * @param value {String} a hex3 (#xxx) string\n     * @return {Array} an array with red, green, blue\n     */\n    hex3StringToRgb : function(value)\n    {\n      if (this.isHex3String(value)) {\n        return this.__hex3StringToRgb(value);\n      }\n\n      throw new Error(\"Invalid hex3 value: \" + value);\n    },\n\n\n    /**\n     * Converts a hex3 (#xxx) string to a hex6 (#xxxxxx) string.\n     *\n     * @param value {String} a hex3 (#xxx) string\n     * @return {String} The hex6 (#xxxxxx) string or the passed value when the\n     *   passed value is not an hex3 (#xxx) value.\n     */\n    hex3StringToHex6String : function(value)\n    {\n      if (this.isHex3String(value)) {\n        return this.rgbToHexString(this.hex3StringToRgb(value));\n      }\n      return value;\n    },\n\n\n    /**\n     * Converts a hex6 string to an RGB array\n     *\n     * @param value {String} a hex6 (#xxxxxx) string\n     * @return {Array} an array with red, green, blue\n     */\n    hex6StringToRgb : function(value)\n    {\n      if (this.isHex6String(value)) {\n        return this.__hex6StringToRgb(value);\n      }\n\n      throw new Error(\"Invalid hex6 value: \" + value);\n    },\n\n\n    /**\n     * Converts a hex string to an RGB array\n     *\n     * @param value {String} a hex3 (#xxx) or hex6 (#xxxxxx) string\n     * @return {Array} an array with red, green, blue\n     */\n    hexStringToRgb : function(value)\n    {\n      if (this.isHex3String(value)) {\n        return this.__hex3StringToRgb(value);\n      }\n\n      if (this.isHex6String(value)) {\n        return this.__hex6StringToRgb(value);\n      }\n\n      throw new Error(\"Invalid hex value: \" + value);\n    },\n\n\n    /**\n     * Convert RGB colors to HSB\n     *\n     * @param rgb {Number[]} red, blue and green as array\n     * @return {Array} an array with hue, saturation and brightness\n     */\n    rgbToHsb : function(rgb)\n    {\n      var hue, saturation, brightness;\n\n      var red = rgb[0];\n      var green = rgb[1];\n      var blue = rgb[2];\n\n      var cmax = (red > green) ? red : green;\n\n      if (blue > cmax) {\n        cmax = blue;\n      }\n\n      var cmin = (red < green) ? red : green;\n\n      if (blue < cmin) {\n        cmin = blue;\n      }\n\n      brightness = cmax / 255.0;\n\n      if (cmax != 0) {\n        saturation = (cmax - cmin) / cmax;\n      } else {\n        saturation = 0;\n      }\n\n      if (saturation == 0)\n      {\n        hue = 0;\n      }\n      else\n      {\n        var redc = (cmax - red) / (cmax - cmin);\n        var greenc = (cmax - green) / (cmax - cmin);\n        var bluec = (cmax - blue) / (cmax - cmin);\n\n        if (red == cmax) {\n          hue = bluec - greenc;\n        } else if (green == cmax) {\n          hue = 2.0 + redc - bluec;\n        } else {\n          hue = 4.0 + greenc - redc;\n        }\n\n        hue = hue / 6.0;\n\n        if (hue < 0) {\n          hue = hue + 1.0;\n        }\n      }\n\n      return [ Math.round(hue * 360), Math.round(saturation * 100), Math.round(brightness * 100) ];\n    },\n\n\n    /**\n     * Convert HSB colors to RGB\n     *\n     * @param hsb {Number[]} an array with hue, saturation and brightness\n     * @return {Integer[]} an array with red, green, blue\n     */\n    hsbToRgb : function(hsb)\n    {\n      var i, f, p, r, t;\n\n      var hue = hsb[0] / 360;\n      var saturation = hsb[1] / 100;\n      var brightness = hsb[2] / 100;\n\n      if (hue >= 1.0) {\n        hue %= 1.0;\n      }\n\n      if (saturation > 1.0) {\n        saturation = 1.0;\n      }\n\n      if (brightness > 1.0) {\n        brightness = 1.0;\n      }\n\n      var tov = Math.floor(255 * brightness);\n      var rgb = {};\n\n      if (saturation == 0.0)\n      {\n        rgb.red = rgb.green = rgb.blue = tov;\n      }\n      else\n      {\n        hue *= 6.0;\n\n        i = Math.floor(hue);\n\n        f = hue - i;\n\n        p = Math.floor(tov * (1.0 - saturation));\n        r = Math.floor(tov * (1.0 - (saturation * f)));\n        t = Math.floor(tov * (1.0 - (saturation * (1.0 - f))));\n\n        switch(i)\n        {\n          case 0:\n            rgb.red = tov;\n            rgb.green = t;\n            rgb.blue = p;\n            break;\n\n          case 1:\n            rgb.red = r;\n            rgb.green = tov;\n            rgb.blue = p;\n            break;\n\n          case 2:\n            rgb.red = p;\n            rgb.green = tov;\n            rgb.blue = t;\n            break;\n\n          case 3:\n            rgb.red = p;\n            rgb.green = r;\n            rgb.blue = tov;\n            break;\n\n          case 4:\n            rgb.red = t;\n            rgb.green = p;\n            rgb.blue = tov;\n            break;\n\n          case 5:\n            rgb.red = tov;\n            rgb.green = p;\n            rgb.blue = r;\n            break;\n        }\n      }\n\n      return [rgb.red, rgb.green, rgb.blue];\n    },\n\n\n    /**\n     * Creates a random color.\n     *\n     * @return {String} a valid qooxdoo/CSS rgb color string.\n     */\n    randomColor : function()\n    {\n      var r = Math.round(Math.random() * 255);\n      var g = Math.round(Math.random() * 255);\n      var b = Math.round(Math.random() * 255);\n\n      return this.rgbToRgbString([r, g, b]);\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * The ImageLoader can preload and manage loaded image resources. It easily\n * handles multiple requests and supports callbacks for successful and failed\n * requests.\n *\n * After loading of an image the dimension of the image is stored as long\n * as the application is running. This is quite useful for in-memory layouting.\n *\n * Use {@link #load} to preload your own images.\n */\nqx.Bootstrap.define(\"qx.io.ImageLoader\",\n{\n  statics :\n  {\n    /** @type {Map} Internal data structure to cache image sizes */\n    __data : {},\n\n\n    /** @type {Map} Default image size */\n    __defaultSize :\n    {\n      width : null,\n      height : null\n    },\n\n    /** @type {RegExp} Known image types */\n    __knownImageTypesRegExp : /\\.(png|gif|jpg|jpeg|bmp)\\b/i,\n\n    /** @type {RegExp} Image types of a data URL */\n    __dataUrlRegExp : /^data:image\\/(png|gif|jpg|jpeg|bmp)\\b/i,\n\n    /**\n     * Whether the given image has previously been loaded using the\n     * {@link #load} method.\n     *\n     * @param source {String} Image source to query\n     * @return {Boolean} <code>true</code> when the image is loaded\n     */\n    isLoaded : function(source)\n    {\n      var entry = this.__data[source];\n      return !!(entry && entry.loaded);\n    },\n\n\n    /**\n     * Whether the given image has previously been requested using the\n     * {@link #load} method but failed.\n     *\n     * @param source {String} Image source to query\n     * @return {Boolean} <code>true</code> when the image loading failed\n     */\n    isFailed : function(source)\n    {\n      var entry = this.__data[source];\n      return !!(entry && entry.failed);\n    },\n\n\n    /**\n     * Whether the given image is currently loading.\n     *\n     * @param source {String} Image source to query\n     * @return {Boolean} <code>true</code> when the image is loading in the moment.\n     */\n    isLoading : function(source)\n    {\n      var entry = this.__data[source];\n      return !!(entry && entry.loading);\n    },\n\n\n    /**\n     * Returns the format of a previously loaded image\n     *\n     * @param source {String} Image source to query\n     * @return {String ? null} The format of the image or <code>null</code>\n     */\n    getFormat : function(source)\n    {\n      var entry = this.__data[source];\n\n      if (! entry || ! entry.format)\n      {\n        var result = this.__dataUrlRegExp.exec(source);\n        if (result != null)\n        {\n          // If width and height aren't defined, provide some defaults\n          var width =\n            (entry && qx.lang.Type.isNumber(entry.width)\n             ? entry.width\n             : this.__defaultSize.width);\n\n          var height =\n            (entry && qx.lang.Type.isNumber(entry.height)\n             ? entry.height\n             : this.__defaultSize.height);\n\n          entry =\n            {\n              loaded : true,\n              format : result[1],\n              width  : width,\n              height : height\n            };\n        }\n      }\n      return entry ? entry.format : null;\n    },\n\n\n    /**\n     * Returns the size of a previously loaded image\n     *\n     * @param source {String} Image source to query\n     * @return {Map} The dimension of the image (<code>width</code> and\n     *    <code>height</code> as key). If the image is not yet loaded, the\n     *    dimensions are given as <code>null</code> for width and height.\n     */\n    getSize : function(source) {\n      var entry = this.__data[source];\n      return entry ? { width: entry.width, height: entry.height } : this.__defaultSize;\n    },\n\n\n    /**\n     * Returns the image width\n     *\n     * @param source {String} Image source to query\n     * @return {Integer} The width or <code>null</code> when the image is not loaded\n     */\n    getWidth : function(source)\n    {\n      var entry = this.__data[source];\n      return entry ? entry.width : null;\n    },\n\n\n    /**\n     * Returns the image height\n     *\n     * @param source {String} Image source to query\n     * @return {Integer} The height or <code>null</code> when the image is not loaded\n     */\n    getHeight : function(source)\n    {\n      var entry = this.__data[source];\n      return entry ? entry.height : null;\n    },\n\n\n    /**\n     * Loads the given image. Supports a callback which is\n     * executed when the image is loaded.\n     *\n     * This method works asynchronous.\n     *\n     * @param source {String} Image source to load\n     * @param callback {Function?} Callback function to execute\n     *   The first parameter of the callback is the given source url, the\n     *   second parameter is the data entry which contains additional\n     *   information about the image.\n     * @param context {Object?} Context in which the given callback should be executed\n     */\n    load : function(source, callback, context)\n    {\n      // Shorthand\n      var entry = this.__data[source];\n\n      if (!entry) {\n        entry = this.__data[source] = {};\n      }\n\n      // Normalize context\n      if (callback && !context) {\n        context = window;\n      }\n\n      // Already known image source\n      if (entry.loaded || entry.loading || entry.failed)\n      {\n        if (callback)\n        {\n          if (entry.loading) {\n            entry.callbacks.push(callback, context);\n          } else {\n            callback.call(context, source, entry);\n          }\n        }\n      }\n      else\n      {\n        // Updating entry\n        entry.loading = true;\n        entry.callbacks = [];\n\n        if (callback) {\n          entry.callbacks.push(callback, context);\n        }\n\n        // Create image element\n        var el = document.createElement('img');\n\n        // Create common callback routine\n        var boundCallback = qx.lang.Function.listener(this.__onload, this, el, source);\n\n        // Assign callback to element\n        el.onload = boundCallback;\n        el.onerror = boundCallback;\n\n        // Start loading of image\n        el.src = source;\n\n        // save the element for aborting\n        entry.element = el;\n      }\n    },\n\n\n    /**\n     * Abort the loading for the given url.\n     *\n     * @param source {String} URL of the image to abort its loading.\n     */\n    abort : function (source)\n    {\n      var entry = this.__data[source];\n\n      if (entry && !entry.loaded)\n      {\n        entry.aborted = true;\n\n        var callbacks = entry.callbacks;\n        var element = entry.element;\n\n        // Cleanup listeners\n        element.onload = element.onerror = null;\n\n        // prevent further loading\n        element.src = \"\";\n\n        // Cleanup entry\n        delete entry.callbacks;\n        delete entry.element;\n        delete entry.loading;\n\n        for (var i=0, l=callbacks.length; i<l; i+=2) {\n          callbacks[i].call(callbacks[i+1], source, entry);\n        }\n      }\n\n      this.__data[source] = null;\n    },\n\n\n    /**\n     * Calls a method based on qx.globalErrorHandling\n     */\n    __onload: function () {\n      var callback = qx.core.Environment.select(\"qx.globalErrorHandling\", {\n        \"true\": qx.event.GlobalError.observeMethod(this.__onLoadHandler),\n        \"false\": this.__onLoadHandler\n      });\n      callback.apply(this, arguments);\n    },\n\n\n    /**\n     * Internal event listener for all load/error events.\n     *\n     * @signature function(event, element, source)\n     *\n     * @param event {Event} Native event object\n     * @param element {Element} DOM element which represents the image\n     * @param source {String} The image source loaded\n     */\n    __onLoadHandler: function (event, element, source) {\n      // Shorthand\n      var entry = this.__data[source];\n\n      // [BUG #9149]: When loading a SVG IE11 won't have\n      // the width/height of the element set, unless\n      // it is inserted into the DOM.\n      if(qx.bom.client.Engine.getName() == \"mshtml\" &&\n          parseFloat(qx.bom.client.Engine.getVersion()) === 11)\n      {\n        document.body.appendChild(element);\n      }\n\n      var isImageAvailable = function (imgElem) {\n        return (imgElem && imgElem.height !== 0);\n      };\n\n      // [BUG #7497]: IE11 doesn't properly emit an error event\n      // when loading fails so augment success check\n      if (event.type === \"load\" && isImageAvailable(element)) {\n        // Store dimensions\n        entry.loaded = true;\n        entry.width = element.width;\n        entry.height = element.height;\n\n        // try to determine the image format\n        var result = this.__knownImageTypesRegExp.exec(source);\n        if (result != null) {\n          entry.format = result[1];\n        }\n      }\n      else {\n        entry.failed = true;\n      }\n\n      if(qx.bom.client.Engine.getName() == \"mshtml\" &&\n          parseFloat(qx.bom.client.Engine.getVersion()) === 11)\n      {\n        document.body.removeChild(element);\n      }\n\n      // Cleanup listeners\n      element.onload = element.onerror = null;\n\n      // Cache callbacks\n      var callbacks = entry.callbacks;\n\n      // Cleanup entry\n      delete entry.loading;\n      delete entry.callbacks;\n      delete entry.element;\n\n      // Execute callbacks\n      for (var i = 0, l = callbacks.length; i < l; i += 2) {\n        callbacks[i].call(callbacks[i + 1], source, entry);\n      }\n    },\n\n\n    /**\n     * Dispose stored images.\n     */\n    dispose : function()\n    {\n      this.__data = {};\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * This is a simple image class using the low level image features of\n * qooxdoo and wraps it for the qx.html layer.\n */\nqx.Class.define(\"qx.html.Image\",\n{\n  extend : qx.html.Element,\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __paddingTop : null,\n    __paddingLeft: null,\n\n\n    // this member variable is only used for IE browsers to be able\n    // to the tag name which will be set. This is heavily connected to the runtime\n    // change of decorators and the use of external (=unmanaged images). It is\n    // necessary to be able to determine what tag will be used e.g. before the\n    // ImageLoader has finished its loading of an external image.\n    // See Bug #3894 for more details\n    tagNameHint : null,\n\n\n    /**\n     * Maps padding to background-position if the widget is rendered as a\n     * background image\n     * @param paddingLeft {Integer} left padding value\n     * @param paddingTop {Integer} top padding value\n     */\n    setPadding : function(paddingLeft, paddingTop)\n    {\n      this.__paddingLeft = paddingLeft;\n      this.__paddingTop = paddingTop;\n\n      if (this.getNodeName() == \"div\") {\n        this.setStyle(\"backgroundPosition\", paddingLeft + \"px \" + paddingTop + \"px\");\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      ELEMENT API\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    _applyProperty : function(name, value)\n    {\n      this.base(arguments, name, value);\n\n      if (name === \"source\")\n      {\n        var elem = this.getDomElement();\n\n        // To prevent any wrong background-position or -repeat it is necessary\n        // to reset those styles whenever a background-image is updated.\n        // This is only necessary if any backgroundImage was set already.\n        // See bug #3376 for details\n        var styles = this.getAllStyles();\n\n        if (this.getNodeName() == \"div\" && this.getStyle(\"backgroundImage\"))\n        {\n          styles.backgroundRepeat = null;\n        }\n\n        var source = this._getProperty(\"source\");\n        var scale = this._getProperty(\"scale\");\n        var repeat = scale ? \"scale\" : \"no-repeat\";\n\n        // Source can be null in certain circumstances.\n        // See bug #3701 for details.\n        if (source != null) {\n          // Normalize \"\" to null\n          source = source || null;\n\n          styles.paddingTop = this.__paddingTop;\n          styles.paddingLeft = this.__paddingLeft;\n\n          qx.bom.element.Decoration.update(elem, source, repeat, styles);\n        }\n      }\n    },\n\n    // overridden\n    _removeProperty : function(key, direct) {\n      if (key == \"source\") {\n        // Work-around check for null in #_applyProperty, introduced with fix\n        // for bug #3701. Use empty string that is later normalized to null.\n        // This fixes bug #4524.\n        this._setProperty(key, \"\", direct);\n      } else {\n        this._setProperty(key, null, direct);\n      }\n    },\n\n    // overridden\n    _createDomElement : function()\n    {\n      var scale = this._getProperty(\"scale\");\n      var repeat = scale ? \"scale\" : \"no-repeat\";\n\n      if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\"))\n      {\n        var source = this._getProperty(\"source\");\n\n        if (this.tagNameHint != null) {\n          this.setNodeName(this.tagNameHint);\n        } else {\n          this.setNodeName(qx.bom.element.Decoration.getTagName(repeat, source));\n        }\n      }\n      else\n      {\n        this.setNodeName(qx.bom.element.Decoration.getTagName(repeat));\n      }\n\n      return this.base(arguments);\n    },\n\n\n    // overridden\n    // be sure that style attributes are merged and not overwritten\n    _copyData : function(fromMarkup) {\n      return this.base(arguments, true);\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      IMAGE API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Configures the image source\n     *\n     * @param value {Boolean} Whether the HTML mode should be used.\n     * @return {qx.html.Label} This instance for for chaining support.\n     */\n    setSource : function(value)\n    {\n      this._setProperty(\"source\", value);\n      return this;\n    },\n\n\n    /**\n     * Returns the image source.\n     *\n     * @return {String} Current image source.\n     */\n    getSource : function() {\n      return this._getProperty(\"source\");\n    },\n\n\n    /**\n     * Resets the current source to null which means that no image\n     * is shown anymore.\n     * @return {qx.html.Image} The current instance for chaining\n     */\n    resetSource : function()\n    {\n      // webkit browser do not allow to remove the required \"src\" attribute.\n      // If removing the attribute the old image is still visible.\n      if ((qx.core.Environment.get(\"engine.name\") == \"webkit\")) {\n        this._setProperty(\"source\", \"qx/static/blank.gif\");\n      } else {\n        this._removeProperty(\"source\", true);\n      }\n      return this;\n    },\n\n\n    /**\n     * Whether the image should be scaled or not.\n     *\n     * @param value {Boolean} Scale the image\n     * @return {qx.html.Label} This instance for for chaining support.\n     */\n    setScale : function(value)\n    {\n      this._setProperty(\"scale\", value);\n      return this;\n    },\n\n\n    /**\n     * Returns whether the image is scaled or not.\n     *\n     * @return {Boolean} Whether the image is scaled\n     */\n    getScale : function() {\n      return this._getProperty(\"scale\");\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * A cross browser label instance with support for rich HTML and text labels.\n *\n * Text labels supports ellipsis to reduce the text width.\n *\n * The mode can be changed through the method {@link #setRich}\n * which accepts a boolean value. The default mode is \"text\" which is\n * a good choice because it has a better performance.\n */\nqx.Class.define(\"qx.html.Label\",\n{\n  extend : qx.html.Element,\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n\n    __rich : null,\n\n    /*\n    ---------------------------------------------------------------------------\n      ELEMENT API\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    _applyProperty : function(name, value)\n    {\n      this.base(arguments, name, value);\n\n      if (name == \"value\")\n      {\n        var element = this.getDomElement();\n        qx.bom.Label.setValue(element, value);\n      }\n    },\n\n\n    // overridden\n    _createDomElement : function()\n    {\n      var rich = this.__rich;\n      var el = qx.bom.Label.create(this._content, rich);\n      el.style.overflow = 'hidden';\n      return el;\n    },\n\n\n    // overridden\n    // be sure that style attributes are merged and not overwritten\n    _copyData : function(fromMarkup) {\n      return this.base(arguments, true);\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      LABEL API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Toggles between rich HTML mode and pure text mode.\n     *\n     * @param value {Boolean} Whether the HTML mode should be used.\n     * @return {qx.html.Label} This instance for chaining support.\n     */\n    setRich : function(value)\n    {\n      var element = this.getDomElement();\n\n      if (element) {\n        throw new Error(\"The label mode cannot be modified after initial creation\");\n      }\n\n      value = !!value;\n\n      if (this.__rich == value) {\n        return this;\n      }\n\n      this.__rich = value;\n      return this;\n    },\n\n\n    /**\n     * Sets the HTML/text content depending on the content mode.\n     *\n     * @param value {String} The content to be used.\n     * @return {qx.html.Label} This instance for for chaining support.\n     */\n    setValue : function(value)\n    {\n      this._setProperty(\"value\", value);\n      return this;\n    },\n\n\n    /**\n     * Get the current content.\n     *\n     * @return {String} The labels's content\n     */\n    getValue : function() {\n      return this._getProperty(\"value\");\n    },\n\n    /**\n     * Reset the current content\n     *\n     * @return {qx.html.Label} This instance for for chaining support.\n     */\n    resetValue: function() {\n      return this._removeProperty(\"value\");\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Carsten Lergenmueller (carstenl)\n     * Fabian Jakobs (fbjakobs)\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Determines browser-dependent information about the transport layer.\n *\n * This class is used by {@link qx.core.Environment} and should not be used\n * directly. Please check its class comment for details how to use it.\n *\n * @internal\n */\nqx.Bootstrap.define(\"qx.bom.client.Transport\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * Returns the maximum number of parallel requests the current browser\n     * supports per host addressed.\n     *\n     * Note that this assumes one connection can support one request at a time\n     * only. Technically, this is not correct when pipelining is enabled (which\n     * it currently is only for IE 8 and Opera). In this case, the number\n     * returned will be too low, as one connection supports multiple pipelined\n     * requests. This is accepted for now because pipelining cannot be\n     * detected from JavaScript and because modern browsers have enough\n     * parallel connections already - it's unlikely an app will require more\n     * than 4 parallel XMLHttpRequests to one server at a time.\n     *\n     * @internal\n     * @return {Integer} Maximum number of parallel requests\n     */\n    getMaxConcurrentRequestCount: function()\n    {\n      var maxConcurrentRequestCount;\n\n      // Parse version numbers.\n      var versionParts = qx.bom.client.Engine.getVersion().split(\".\");\n      var versionMain = 0;\n      var versionMajor = 0;\n      var versionMinor = 0;\n\n      // Main number\n      if (versionParts[0]) {\n        versionMain = versionParts[0];\n      }\n\n      // Major number\n      if (versionParts[1]) {\n        versionMajor = versionParts[1];\n      }\n\n      // Minor number\n      if (versionParts[2]) {\n        versionMinor = versionParts[2];\n      }\n\n      // IE 8 gives the max number of connections in a property\n      // see http://msdn.microsoft.com/en-us/library/cc197013(VS.85).aspx\n      if (window.maxConnectionsPerServer){\n        maxConcurrentRequestCount = window.maxConnectionsPerServer;\n\n      } else if (qx.bom.client.Engine.getName() == \"opera\") {\n        // Opera: 8 total\n        // see http://operawiki.info/HttpProtocol\n        maxConcurrentRequestCount = 8;\n\n      } else if (qx.bom.client.Engine.getName() == \"webkit\") {\n        // Safari: 4\n        // http://www.stevesouders.com/blog/2008/03/20/roundup-on-parallel-connections/\n\n        // Bug #6917: Distinguish Chrome from Safari, Chrome has 6 connections\n        //       according to\n        //      http://stackoverflow.com/questions/561046/how-many-concurrent-ajax-xmlhttprequest-requests-are-allowed-in-popular-browser\n\n        maxConcurrentRequestCount = 4;\n\n      } else if (qx.bom.client.Engine.getName() == \"gecko\"\n                 && ( (versionMain >1)\n                      || ((versionMain == 1) && (versionMajor > 9))\n                      || ((versionMain == 1) && (versionMajor == 9) && (versionMinor >= 1)))){\n          // FF 3.5 (== Gecko 1.9.1): 6 Connections.\n          // see  http://gemal.dk/blog/2008/03/18/firefox_3_beta_5_will_have_improved_connection_parallelism/\n          maxConcurrentRequestCount = 6;\n\n      } else {\n        // Default is 2, as demanded by RFC 2616\n        // see http://blogs.msdn.com/ie/archive/2005/04/11/407189.aspx\n        maxConcurrentRequestCount = 2;\n      }\n\n      return maxConcurrentRequestCount;\n    },\n\n\n    /**\n     * Checks whether the app is loaded with SSL enabled which means via https.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code>, if the app runs on https\n     */\n    getSsl : function() {\n      return window.location.protocol === \"https:\";\n    },\n\n    /**\n     * Checks what kind of XMLHttpRequest object the browser supports\n     * for the current protocol, if any.\n     *\n     * The standard XMLHttpRequest is preferred over ActiveX XMLHTTP.\n     *\n     * @internal\n     * @return {String}\n     *  <code>\"xhr\"</code>, if the browser provides standard XMLHttpRequest.<br/>\n     *  <code>\"activex\"</code>, if the browser provides ActiveX XMLHTTP.<br/>\n     *  <code>\"\"</code>, if there is not XHR support at all.\n     */\n    getXmlHttpRequest : function() {\n      // Standard XHR can be disabled in IE's security settings,\n      // therefore provide ActiveX as fallback. Additionally,\n      // standard XHR in IE7 is broken for file protocol.\n      var supports = window.ActiveXObject ?\n        (function() {\n          if ( window.location.protocol !== \"file:\" ) {\n            try {\n              new window.XMLHttpRequest();\n              return \"xhr\";\n            } catch(noXhr) {}\n          }\n\n          try {\n            new window.ActiveXObject(\"Microsoft.XMLHTTP\");\n            return \"activex\";\n          } catch(noActiveX) {}\n        })()\n        :\n        (function() {\n          try {\n            new window.XMLHttpRequest();\n            return \"xhr\";\n          } catch(noXhr) {}\n        })();\n\n      return supports || \"\";\n    }\n  },\n\n  defer : function(statics) {\n    qx.core.Environment.add(\"io.maxrequests\", statics.getMaxConcurrentRequestCount);\n    qx.core.Environment.add(\"io.ssl\", statics.getSsl);\n    qx.core.Environment.add(\"io.xhr\", statics.getXmlHttpRequest);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Contains information about images (size, format, clipping, ...) and\n * other resources like CSS files, local data, ...\n */\nqx.Class.define(\"qx.util.ResourceManager\",\n{\n  extend  : qx.core.Object,\n  type    : \"singleton\",\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.base(arguments);\n  },\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Map} the shared image registry */\n    __registry : qx.$$resources || {},\n\n    /** @type {Map} prefix per library used in HTTPS mode for IE */\n    __urlPrefix : {}\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /**\n     * Detects whether there is a high-resolution image available.\n     * A high-resolution image is assumed to have the same file name as\n     * the parameter source, but with a pixelRatio identifier before the file\n     * extension, like \"@2x\".\n     * Medium Resolution: \"example.png\", high-resolution: \"example@2x.png\"\n     *\n     * @param lowResImgSrc {String} source of the low resolution image.\n     * @param factor {Number} Factor to find the right image. If not set calculated by getDevicePixelRatio()\n     * @return {String|Boolean} If a high-resolution image source.\n     */\n     findHighResolutionSource: function(lowResImgSrc, factor) {\n      var pixelRatioCandidates = [\"3\", \"2\", \"1.5\"];\n\n      // Calculate the optimal ratio, based on the rem scale factor of the application and the device pixel ratio.\n      if (!factor) {\n        factor = parseFloat(qx.bom.client.Device.getDevicePixelRatio().toFixed(2));\n      }  \n      if (factor <= 1) {\n        return false;\n      }\n\n      var i = pixelRatioCandidates.length;\n      while (i > 0 && factor > pixelRatioCandidates[--i]) {}\n\n      var hiResImgSrc;\n      var k;\n\n      // Search for best img with a higher resolution.\n      for (k = i; k >= 0; k--) {\n        hiResImgSrc = this.getHighResolutionSource(lowResImgSrc, pixelRatioCandidates[k]);\n        if (hiResImgSrc) {\n          return hiResImgSrc;\n        }\n      }\n\n      // Search for best img with a lower resolution.\n      for (k = i + 1; k < pixelRatioCandidates.length; k++) {\n        hiResImgSrc = this.getHighResolutionSource(lowResImgSrc, pixelRatioCandidates[k]);\n        if (hiResImgSrc) {\n          return hiResImgSrc;\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * Returns the source name for the high-resolution image based on the passed\n     * parameters.\n     * @param source {String} the source of the medium resolution image.\n     * @param pixelRatio {Number} the pixel ratio of the high-resolution image.\n     * @return {String} the high-resolution source name or null if no source could be found.\n     */\n    getHighResolutionSource : function(source, pixelRatio) {\n      var fileExtIndex = source.lastIndexOf('.');\n      if (fileExtIndex > -1) {\n        var pixelRatioIdentifier = \"@\" + pixelRatio + \"x\";\n        var candidate = source.slice(0, fileExtIndex) + pixelRatioIdentifier + source.slice(fileExtIndex);\n\n        if(this.has(candidate)) {\n          return candidate;\n        }\n      }\n      return null;\n    },\n\n    /**\n     * Get all known resource IDs.\n     *\n     * @param pathfragment{String|null|undefined} an optional path fragment to check against with id.indexOf(pathfragment)\n     * @return {Array|null} an array containing the IDs or null if the registry is not initialized\n     */\n    getIds : function(pathfragment) {\n      var registry = this.self(arguments).__registry;\n      if(!registry) {\n        return null;\n      }\n\n      var ids = [];\n      for (var id in registry) {\n        if (registry.hasOwnProperty(id)) {\n          if(pathfragment && id.indexOf(pathfragment) == -1) {\n            continue;\n          }\n          ids.push(id);\n        }\n      }\n\n      return ids;\n    },\n\n    /**\n     * Whether the registry has information about the given resource.\n     *\n     * @param id {String} The resource to get the information for\n     * @return {Boolean} <code>true</code> when the resource is known.\n     */\n    has : function(id) {\n      return !!this.self(arguments).__registry[id];\n    },\n\n\n    /**\n     * Get information about an resource.\n     *\n     * @param id {String} The resource to get the information for\n     * @return {Array} Registered data or <code>null</code>\n     */\n    getData : function(id) {\n      return this.self(arguments).__registry[id] || null;\n    },\n\n\n    /**\n     * Returns the width of the given resource ID,\n     * when it is not a known image <code>0</code> is\n     * returned.\n     *\n     * @param id {String} Resource identifier\n     * @return {Integer} The image width, maybe <code>null</code> when the width is unknown\n     */\n    getImageWidth : function(id)\n    {\n      var size;\n      if (id && id.startsWith(\"@\")) {\n        var part = id.split(\"/\");\n        size = parseInt(part[2],10);\n        if (size) {\n          id = part[0]+\"/\"+part[1];\n        }\n      }\n      var entry = this.self(arguments).__registry[id]; // [ width, height, codepoint ]\n      if (size && entry) {\n        var width = Math.ceil(size / entry[1] * entry[0]);\n        return width;\n      }\n      return entry ? entry[0] : null;\n    },\n\n\n    /**\n     * Returns the height of the given resource ID,\n     * when it is not a known image <code>0</code> is\n     * returned.\n     *\n     * @param id {String} Resource identifier\n     * @return {Integer} The image height, maybe <code>null</code> when the height is unknown\n     */\n    getImageHeight : function(id)\n    {\n      if (id && id.startsWith(\"@\")) {\n        var part = id.split(\"/\");\n        var size = parseInt(part[2],10);\n        if (size) {\n          return size;\n        }\n      }\n      var entry = this.self(arguments).__registry[id];\n      return entry ? entry[1] : null;\n    },\n\n\n    /**\n     * Returns the format of the given resource ID,\n     * when it is not a known image <code>null</code>\n     * is returned.\n     *\n     * @param id {String} Resource identifier\n     * @return {String} File format of the image\n     */\n    getImageFormat : function(id)\n    {\n      if (id && id.startsWith(\"@\")) {\n        return \"font\";\n      }\n\n      var entry = this.self(arguments).__registry[id];\n      return entry ? entry[2] : null;\n    },\n\n    /**\n     * Returns the format of the combined image (png, gif, ...), if the given\n     * resource identifier is an image contained in one, or the empty string\n     * otherwise.\n     *\n     * @param id {String} Resource identifier\n     * @return {String} The type of the combined image containing id\n     */\n    getCombinedFormat : function(id)\n    {\n      var clippedtype = \"\";\n      var entry = this.self(arguments).__registry[id];\n      var isclipped = entry && entry.length > 4 && typeof(entry[4]) == \"string\"\n        && this.constructor.__registry[entry[4]];\n      if (isclipped){\n        var combId  = entry[4];\n        var combImg = this.constructor.__registry[combId];\n        clippedtype = combImg[2];\n      }\n      return clippedtype;\n    },\n\n\n    /**\n     * Converts the given resource ID to a full qualified URI\n     *\n     * @param id {String} Resource ID\n     * @return {String} Resulting URI\n     */\n    toUri : function(id)\n    {\n      if (id == null) {\n        return id;\n      }\n\n      var entry = this.self(arguments).__registry[id];\n      if (!entry) {\n        return id;\n      }\n\n      if (typeof entry === \"string\") {\n        var lib = entry;\n      }\n      else\n      {\n        var lib = entry[3];\n\n        // no lib reference\n        // may mean that the image has been registered dynamically\n        if (!lib) {\n          return id;\n        }\n      }\n\n      var urlPrefix = \"\";\n      if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\") &&\n          qx.core.Environment.get(\"io.ssl\")) {\n        urlPrefix = this.self(arguments).__urlPrefix[lib];\n      }\n\n      return urlPrefix + qx.util.LibraryManager.getInstance().get(lib, \"resourceUri\") + \"/\" + id;\n    },\n\n    /**\n     * Construct a data: URI for an image resource.\n     *\n     * Constructs a data: URI for a given resource id, if this resource is\n     * contained in a base64 combined image. If this is not the case (e.g.\n     * because the combined image has not been loaded yet), returns the direct\n     * URI to the image file itself.\n     *\n     * @param resid {String} resource id of the image\n     * @return {String} \"data:\" or \"http:\" URI\n     */\n    toDataUri : function (resid)\n    {\n      var resentry = this.constructor.__registry[resid];\n      var combined = resentry ? this.constructor.__registry[resentry[4]] : null;\n      var uri;\n      if (combined) {\n        var resstruct = combined[4][resid];\n        uri = \"data:image/\" + resstruct[\"type\"] + \";\" + resstruct[\"encoding\"] +\n              \",\" + resstruct[\"data\"];\n      }\n      else {\n        uri = this.toUri(resid);\n      }\n      return uri;\n    },\n\n    /**\n     * Checks whether a given resource id for an image is a font handle.\n     *\n     * @param resid {String} resource id of the image\n     * @return {Boolean} True if it's a font URI\n     */\n    isFontUri : function (resid)\n    {\n      return resid ? resid.startsWith(\"@\") : false;\n    }\n  },\n\n\n  defer : function(statics)\n  {\n    if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\"))\n    {\n      // To avoid a \"mixed content\" warning in IE when the application is\n      // delivered via HTTPS a prefix has to be added. This will transform the\n      // relative URL to an absolute one in IE.\n      // Though this warning is only displayed in conjunction with images which\n      // are referenced as a CSS \"background-image\", every resource path is\n      // changed when the application is served with HTTPS.\n      if (qx.core.Environment.get(\"io.ssl\"))\n      {\n        for (var lib in qx.$$libraries)\n        {\n          var resourceUri;\n          if (qx.util.LibraryManager.getInstance().get(lib, \"resourceUri\")) {\n            resourceUri = qx.util.LibraryManager.getInstance().get(lib, \"resourceUri\");\n          }\n          else\n          {\n            // default for libraries without a resourceUri set\n            statics.__urlPrefix[lib] = \"\";\n            continue;\n          }\n\n          var href;\n          //first check if there is base url set\n          var baseElements = document.getElementsByTagName(\"base\");\n          if (baseElements.length > 0) {\n            href = baseElements[0].href;\n          }\n\n          // It is valid to to begin a URL with \"//\" so this case has to\n          // be considered. If the to resolved URL begins with \"//\" the\n          // manager prefixes it with \"https:\" to avoid any problems for IE\n          if (resourceUri.match(/^\\/\\//) != null) {\n            statics.__urlPrefix[lib] = window.location.protocol;\n          }\n          // If the resourceUri begins with a single slash, include the current\n          // hostname\n          else if (resourceUri.match(/^\\//) != null)\n          {\n            if (href)\n            {\n              statics.__urlPrefix[lib] = href;\n            }\n            else\n            {\n              statics.__urlPrefix[lib] = window.location.protocol + \"//\" + window.location.host;\n            }\n          }\n          // If the resolved URL begins with \"./\" the final URL has to be\n          // put together using the document.URL property.\n          // IMPORTANT: this is only applicable for the source version\n          else if (resourceUri.match(/^\\.\\//) != null)\n          {\n            var url = document.URL;\n            statics.__urlPrefix[lib] = url.substring(0, url.lastIndexOf(\"/\") + 1);\n          } else if (resourceUri.match(/^http/) != null) {\n            // Let absolute URLs pass through\n            statics.__urlPrefix[lib] = \"\";\n          }\n          else\n          {\n            if (!href)\n            {\n              // check for parameters with URLs as value\n              var index = window.location.href.indexOf(\"?\");\n\n              if (index == -1)\n              {\n                href = window.location.href;\n              }\n              else\n              {\n                href = window.location.href.substring(0, index);\n              }\n            }\n\n            statics.__urlPrefix[lib] = href.substring(0, href.lastIndexOf(\"/\") + 1);\n          }\n        }\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Author:\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Provides read/write access to library-specific information such as\n * source/resource URIs.\n */\nqx.Class.define(\"qx.util.LibraryManager\", {\n\n  extend : qx.core.Object,\n\n  type : \"singleton\",\n\n  statics :\n  {\n    /** @type {Map} The libraries used by this application */\n    __libs : qx.$$libraries || {}\n  },\n\n  members :\n  {\n    /**\n     * Checks whether the library with the given namespace is known to the\n     * application.\n     * @param namespace {String} The library's namespace\n     * @return {Boolean} <code>true</code> if the given library is known\n     */\n    has : function(namespace)\n    {\n      return !!this.self(arguments).__libs[namespace];\n    },\n\n\n    /**\n     * Returns the value of an attribute of the given library\n     * @param namespace {String} The library's namespace\n     * @param key {String} Name of the attribute\n     * @return {var|null} The attribute's value or <code>null</code> if it's not defined\n     */\n    get : function(namespace, key)\n    {\n      return this.self(arguments).__libs[namespace][key] ?\n        this.self(arguments).__libs[namespace][key] : null;\n    },\n\n\n    /**\n     * Sets an attribute on the given library.\n     *\n     * @param namespace {String} The library's namespace\n     * @param key {String} Name of the attribute\n     * @param value {var} Value of the attribute\n     */\n    set : function(namespace, key, value)\n    {\n      this.self(arguments).__libs[namespace][key] = value;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Alexander Steitz (aback)\n\n************************************************************************ */\n\n/**\n * Powerful creation and update features for images used for decoration\n * purposes like for rounded borders, icons, etc.\n *\n * Includes support for image clipping, PNG alpha channel support, additional\n * repeat options like <code>scale-x</code> or <code>scale-y</code>.\n */\nqx.Class.define(\"qx.bom.element.Decoration\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Boolean} Whether clipping hints should be logged */\n    DEBUG : false,\n\n    /** @type {Map} Collect warnings for potential clipped images */\n    __warnings : {},\n\n    /** @type {Map} List of repeat modes which supports the IE AlphaImageLoader */\n    __alphaFixRepeats : qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" :\n      {\n        \"scale-x\" : true,\n        \"scale-y\" : true,\n        \"scale\" : true,\n        \"no-repeat\" : true\n      },\n\n      \"default\" : null\n    }),\n\n\n    /** @type {Map} Mapping between background repeat and the tag to create */\n    __repeatToTagname :\n    {\n      \"scale-x\" : \"img\",\n      \"scale-y\" : \"img\",\n      \"scale\" : \"img\",\n      \"repeat\" : \"div\",\n      \"no-repeat\" : \"div\",\n      \"repeat-x\" : \"div\",\n      \"repeat-y\" : \"div\"\n    },\n\n\n    /**\n     * Updates the element to display the given source\n     * with the repeat option.\n     *\n     * @param element {Element} DOM element to update\n     * @param source {String} Any valid URI\n     * @param repeat {String} One of <code>scale-x</code>, <code>scale-y</code>,\n     *   <code>scale</code>, <code>repeat</code>, <code>repeat-x</code>,\n     *   <code>repeat-y</code>, <code>repeat</code>\n     * @param style {Map} Additional styles to apply\n     */\n    update : function(element, source, repeat, style)\n    {\n      var tag = this.getTagName(repeat, source);\n      if (tag != element.tagName.toLowerCase()) {\n        throw new Error(\"Image modification not possible because elements could not be replaced at runtime anymore!\");\n      }\n\n      var ret = this.getAttributes(source, repeat, style);\n\n      if (tag === \"img\") {\n        element.src = ret.src || qx.util.ResourceManager.getInstance().toUri(\"qx/static/blank.gif\");\n      }\n\n      // Fix for old background position\n      if (element.style.backgroundPosition != \"\" && ret.style.backgroundPosition === undefined) {\n        ret.style.backgroundPosition = null;\n      }\n\n      // Fix for old clip\n      if (element.style.clip != \"\" && ret.style.clip === undefined) {\n        ret.style.clip = null;\n      }\n\n      // Apply new styles\n      qx.bom.element.Style.setStyles(element, ret.style);\n\n      // we need to apply the filter to prevent black rendering artifacts\n      // http://blog.hackedbrain.com/archive/2007/05/21/6110.aspx\n      if (qx.core.Environment.get(\"css.alphaimageloaderneeded\"))\n      {\n        try {\n          element.filters[\"DXImageTransform.Microsoft.AlphaImageLoader\"].apply();\n        } catch(e) {}\n      }\n    },\n\n\n    /**\n     * Creates the HTML for a decorator image element with the given options.\n     *\n     * @param source {String} Any valid URI\n     * @param repeat {String} One of <code>scale-x</code>, <code>scale-y</code>,\n     *   <code>scale</code>, <code>repeat</code>, <code>repeat-x</code>,\n     *   <code>repeat-y</code>, <code>repeat</code>\n     * @param style {Map} Additional styles to apply\n     * @return {String} Decorator image HTML\n     */\n    create : function(source, repeat, style)\n    {\n      var tag = this.getTagName(repeat, source);\n      var ret = this.getAttributes(source, repeat, style);\n      var css = qx.bom.element.Style.compile(ret.style);\n      var ResourceManager = qx.util.ResourceManager.getInstance();\n\n      if (ResourceManager.isFontUri(source)) {\n        var font = qx.theme.manager.Font.getInstance().resolve(source.match(/@([^/]+)/)[1]);\n\n        var styles = qx.lang.Object.clone(font.getStyles());\n        styles['width'] = style.width;\n        styles['height'] = style.height;\n        styles['fontSize'] = (parseInt(style.width) > parseInt(style.height) ? style.height : style.width);\n        styles['display'] = style.display;\n        styles['verticalAlign'] = style.verticalAlign;\n        styles['position'] = style.position;\n\n        var css = \"\";\n        for (var _style in styles) {\n          if (styles.hasOwnProperty(_style)) {\n            css += qx.bom.Style.getCssName(_style) + \": \" + styles[_style] + \";\";\n          }\n        }\n\n        var resource = ResourceManager.getData(source);\n        var charCode;\n        if (resource) {\n          charCode = resource[2];\n        }\n        else {\n          charCode = parseInt(qx.theme.manager.Font.getInstance().resolve(source.match(/@([^/]+)\\/(.*)$/)[2]), 16);\n          qx.core.Assert.assertNumber(charCode, \"Font source needs either a glyph name or the unicode number in hex\");\n        }\n        \n        return '<div style=\"' + css + '\">' + String.fromCharCode(charCode) + '</div>';\n      }\n      else {\n        if (tag === \"img\") {\n          return '<img src=\"' + ret.src + '\" style=\"' + css + '\"/>';\n        } else {\n          return '<div style=\"' + css + '\"></div>';\n        }\n      }\n    },\n\n\n    /**\n     * Translates the given repeat option to a tag name. Useful\n     * for systems which depends on early information of the tag\n     * name to prepare element like {@link qx.html.Image}.\n     *\n     * @param repeat {String} One of <code>scale-x</code>, <code>scale-y</code>,\n     *   <code>scale</code>, <code>repeat</code>, <code>repeat-x</code>,\n     *   <code>repeat-y</code>, <code>repeat</code>\n     * @param source {String?null} Source used to identify the image format\n     * @return {String} The tag name: <code>div</code> or <code>img</code>\n     */\n    getTagName : function(repeat, source)\n    {\n      if (source && qx.core.Environment.get(\"css.alphaimageloaderneeded\") &&\n          this.__alphaFixRepeats[repeat] && source.endsWith(\".png\"))\n      {\n        return \"div\";\n      }\n\n      return this.__repeatToTagname[repeat];\n    },\n\n\n    /**\n     * This method is used to collect all needed attributes for\n     * the tag name detected by {@link #getTagName}.\n     *\n     * @param source {String} Image source\n     * @param repeat {String} Repeat mode of the image\n     * @param style {Map} Additional styles to apply\n     * @return {String} Markup for image\n     */\n    getAttributes : function(source, repeat, style)\n    {\n      if (!style) {\n        style = {};\n      }\n\n      if (!style.position) {\n        style.position = \"absolute\";\n      }\n\n      if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\"))\n      {\n        // Add a fix for small blocks where IE has a minHeight\n        // of the fontSize in quirks mode\n        style.fontSize = 0;\n        style.lineHeight = 0;\n      }\n      else if ((qx.core.Environment.get(\"engine.name\") == \"webkit\"))\n      {\n        // This stops images from being draggable in webkit\n        style.WebkitUserDrag = \"none\";\n      }\n\n      var format = qx.util.ResourceManager.getInstance().getImageFormat(source) ||\n                   qx.io.ImageLoader.getFormat(source);\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (source != null && format == null) {\n          qx.log.Logger.warn(\"ImageLoader: Not recognized format of external image '\" + source + \"'!\");\n        }\n      }\n\n      var result;\n\n      // Enable AlphaImageLoader in IE6/IE7/IE8\n      if (qx.core.Environment.get(\"css.alphaimageloaderneeded\") &&\n          this.__alphaFixRepeats[repeat] && format === \"png\")\n      {\n        var dimension = this.__getDimension(source);\n        this.__normalizeWidthHeight(style, dimension.width, dimension.height);\n        result = this.processAlphaFix(style, repeat, source);\n      }\n      else\n      {\n        delete style.clip;\n        if (repeat === \"scale\") {\n          result = this.__processScale(style, repeat, source);\n        } else  if (repeat === \"scale-x\" || repeat === \"scale-y\") {\n          result = this.__processScaleXScaleY(style, repeat, source);\n        } else {\n          // Native repeats or \"no-repeat\"\n          result = this.__processRepeats(style, repeat, source);\n        }\n      }\n\n      return result;\n    },\n\n\n    /**\n     * Normalize the given width and height values\n     *\n     * @param style {Map} style information\n     * @param width {Integer?null} width as number or null\n     * @param height {Integer?null} height as number or null\n     */\n    __normalizeWidthHeight : function(style, width, height)\n    {\n      if (style.width == null && width != null) {\n        style.width = width + \"px\";\n      }\n\n      if (style.height == null && height != null) {\n        style.height = height + \"px\";\n      }\n    },\n\n\n    /**\n     * Returns the dimension of the image by calling\n     * {@link qx.util.ResourceManager} or {@link qx.io.ImageLoader}\n     * depending on if the image is a managed one.\n     *\n     * @param source {String} image source\n     * @return {Map} dimension of image\n     */\n    __getDimension : function(source)\n    {\n      var width = qx.util.ResourceManager.getInstance().getImageWidth(source) ||\n                  qx.io.ImageLoader.getWidth(source);\n      var height = qx.util.ResourceManager.getInstance().getImageHeight(source) ||\n                   qx.io.ImageLoader.getHeight(source);\n\n      return {\n        width: width,\n        height: height\n      };\n    },\n\n\n    /**\n     * Get all styles for IE browser which need to load the image\n     * with the help of the AlphaImageLoader\n     *\n     * @param style {Map} style information\n     * @param repeat {String} repeat mode\n     * @param source {String} image source\n     *\n     * @return {Map} style infos\n     */\n    processAlphaFix : function(style, repeat, source)\n    {\n      if (repeat == \"repeat\" || repeat == \"repeat-x\" || repeat == \"repeat-y\") {\n        return style;\n      }\n      var sizingMethod = repeat == \"no-repeat\" ? \"crop\" : \"scale\";\n      var filter = \"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='\" +\n                   qx.util.ResourceManager.getInstance().toUri(source) +\n                   \"', sizingMethod='\" + sizingMethod + \"')\";\n\n      style.filter = filter;\n      style.backgroundImage = style.backgroundRepeat = \"\";\n      delete style[\"background-image\"];\n      delete style[\"background-repeat\"];\n\n      return {\n        style : style\n      };\n    },\n\n\n    /**\n     * Process scaled images.\n     *\n     * @param style {Map} style information\n     * @param repeat {String} repeat mode\n     * @param source {String} image source\n     *\n     * @return {Map} image URI and style infos\n     */\n    __processScale : function(style, repeat, source)\n    {\n      var uri = qx.util.ResourceManager.getInstance().toUri(source);\n      var dimension = this.__getDimension(source);\n\n      this.__normalizeWidthHeight(style, dimension.width, dimension.height);\n\n      return {\n        src : uri,\n        style : style\n      };\n    },\n\n\n    /**\n     * Process images which are either scaled horizontally or\n     * vertically.\n     *\n     * @param style {Map} style information\n     * @param repeat {String} repeat mode\n     * @param sourceid {String} image resource id\n     *\n     * @return {Map} image URI and style infos\n     */\n    __processScaleXScaleY : function(style, repeat, sourceid)\n    {\n      var ResourceManager = qx.util.ResourceManager.getInstance();\n      var clipped = ResourceManager.getCombinedFormat(sourceid);\n      var dimension = this.__getDimension(sourceid);\n      var uri;\n\n      if (clipped)\n      {\n        var data = ResourceManager.getData(sourceid);\n        var combinedid = data[4];\n        if (clipped == \"b64\") {\n          uri = ResourceManager.toDataUri(sourceid);\n        }\n        else {\n          uri = ResourceManager.toUri(combinedid);\n        }\n\n        if (repeat === \"scale-x\") {\n          style = this.__getStylesForClippedScaleX(style, data, dimension.height);\n        } else {\n          style = this.__getStylesForClippedScaleY(style, data, dimension.width);\n        }\n\n        return {\n          src : uri,\n          style : style\n        };\n      }\n\n      // No clipped image available\n      else\n      {\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          this.__checkForPotentialClippedImage(sourceid);\n        }\n\n        if (repeat == \"scale-x\")\n        {\n          style.height = dimension.height == null ? null : dimension.height + \"px\";\n          // note: width is given by the user\n        }\n        else if (repeat == \"scale-y\")\n        {\n          style.width = dimension.width == null ? null : dimension.width + \"px\";\n          // note: height is given by the user\n        }\n\n        uri = ResourceManager.toUri(sourceid);\n        return {\n          src : uri,\n          style : style\n        };\n      }\n    },\n\n\n    /**\n     * Generates the style infos for horizontally scaled clipped images.\n     *\n     * @param style {Map} style infos\n     * @param data {Array} image data retrieved from the {@link qx.util.ResourceManager}\n     * @param height {Integer} image height\n     *\n     * @return {Map} style infos and image URI\n     */\n    __getStylesForClippedScaleX : function(style, data, height)\n    {\n      // Use clipped image (multi-images on x-axis)\n      var imageHeight = qx.util.ResourceManager.getInstance().getImageHeight(data[4]);\n\n      // Add size and clipping\n      style.clip = {top: -data[6], height: height};\n      style.height = imageHeight + \"px\";\n\n      // note: width is given by the user\n\n      // Fix user given y-coordinate to include the combined image offset\n      if (style.top != null) {\n        style.top = (parseInt(style.top, 10) + data[6]) + \"px\";\n      } else if (style.bottom != null) {\n        style.bottom = (parseInt(style.bottom, 10) + height - imageHeight - data[6]) + \"px\";\n      }\n\n      return style;\n    },\n\n\n    /**\n     * Generates the style infos for vertically scaled clipped images.\n     *\n     * @param style {Map} style infos\n     * @param data {Array} image data retrieved from the {@link qx.util.ResourceManager}\n     * @param width {Integer} image width\n     *\n     * @return {Map} style infos and image URI\n     */\n    __getStylesForClippedScaleY : function(style, data, width)\n    {\n      // Use clipped image (multi-images on x-axis)\n      var imageWidth = qx.util.ResourceManager.getInstance().getImageWidth(data[4]);\n\n      // Add size and clipping\n      style.clip = {left: -data[5], width: width};\n      style.width = imageWidth + \"px\";\n\n      // note: height is given by the user\n\n      // Fix user given x-coordinate to include the combined image offset\n      if (style.left != null) {\n        style.left = (parseInt(style.left, 10) + data[5]) + \"px\";\n      } else if (style.right != null) {\n        style.right = (parseInt(style.right, 10) + width - imageWidth - data[5]) + \"px\";\n      }\n\n      return style;\n    },\n\n\n    /**\n     * Process repeated images.\n     *\n     * @param style {Map} style information\n     * @param repeat {String} repeat mode\n     * @param sourceid {String} image resource id\n     *\n     * @return {Map} image URI and style infos\n     */\n    __processRepeats : function(style, repeat, sourceid)\n    {\n      var ResourceManager = qx.util.ResourceManager.getInstance();\n      var clipped = ResourceManager.getCombinedFormat(sourceid);\n      var dimension = this.__getDimension(sourceid);\n\n      // Double axis repeats cannot be clipped\n      if (clipped && repeat !== \"repeat\")\n      {\n        // data = [ 8, 5, \"png\", \"qx\", \"qx/decoration/Modern/arrows-combined.png\", -36, 0]\n        var data = ResourceManager.getData(sourceid);\n        var combinedid = data[4];\n        if (clipped == \"b64\")\n        {\n          var uri = ResourceManager.toDataUri(sourceid);\n          var offx = 0;\n          var offy = 0;\n        }\n        else\n        {\n          var uri  = ResourceManager.toUri(combinedid);\n          var offx = data[5];\n          var offy = data[6];\n\n          // honor padding for combined images\n          if (style.paddingTop || style.paddingLeft || style.paddingRight || style.paddingBottom) {\n            var top = style.paddingTop || 0;\n            var left = style.paddingLeft || 0;\n\n            offx += style.paddingLeft || 0;\n            offy += style.paddingTop || 0;\n\n            style.clip = {left: left, top: top, width: dimension.width, height: dimension.height};\n          }\n        }\n\n        var bg = qx.bom.element.Background.getStyles(uri, repeat, offx, offy);\n        for (var key in bg) {\n          style[key] = bg[key];\n        }\n\n        if (dimension.width != null && style.width == null && (repeat == \"repeat-y\" || repeat === \"no-repeat\")) {\n          style.width = dimension.width + \"px\";\n        }\n\n        if (dimension.height != null && style.height == null && (repeat == \"repeat-x\" || repeat === \"no-repeat\")) {\n          style.height = dimension.height + \"px\";\n        }\n\n        return {\n          style : style\n        };\n      }\n      else\n      {\n        // honor padding\n        var top = style.paddingTop || 0;\n        var left = style.paddingLeft || 0;\n        style.backgroundPosition = left + \"px \" + top + \"px\";\n\n        if (qx.core.Environment.get(\"qx.debug\"))\n        {\n          if (repeat !== \"repeat\") {\n            this.__checkForPotentialClippedImage(sourceid);\n          }\n        }\n\n        this.__normalizeWidthHeight(style, dimension.width, dimension.height);\n        this.__getStylesForSingleRepeat(style, sourceid, repeat);\n\n        return {\n          style : style\n        };\n      }\n    },\n\n\n    /**\n     * Generate all style infos for single repeated images\n     *\n     * @param style {Map} style information\n     * @param repeat {String} repeat mode\n     * @param source {String} image source\n     */\n    __getStylesForSingleRepeat : function(style, source, repeat)\n    {\n      // retrieve the \"backgroundPosition\" style if available to prevent\n      // overwriting with default values\n      var top = null;\n      var left = null;\n      if (style.backgroundPosition)\n      {\n        var backgroundPosition = style.backgroundPosition.split(\" \");\n\n        left = parseInt(backgroundPosition[0], 10);\n        if (isNaN(left)) {\n          left = backgroundPosition[0];\n        }\n\n        top = parseInt(backgroundPosition[1], 10);\n        if (isNaN(top)) {\n          top = backgroundPosition[1];\n        }\n      }\n\n      var bg = qx.bom.element.Background.getStyles(source, repeat, left, top);\n      for (var key in bg) {\n        style[key] = bg[key];\n      }\n\n      // Reset the AlphaImageLoader filter if applied\n      // This prevents IE from setting BOTH CSS filter AND backgroundImage\n      // This is only a fallback if the image is not recognized as PNG\n      // If it's a Alpha-PNG file it *may* result in display problems\n      if (style.filter) {\n        style.filter = \"\";\n      }\n    },\n\n\n    /**\n     * Output a warning if the image can be clipped.\n     *\n     * @param source {String} image source\n     */\n    __checkForPotentialClippedImage : function(source)\n    {\n      if (this.DEBUG && qx.util.ResourceManager.getInstance().has(source) && source.indexOf(\"qx/icon\") == -1)\n      {\n        if (!this.__warnings[source])\n        {\n          qx.log.Logger.debug(\"Potential clipped image candidate: \" + source);\n          this.__warnings[source] = true;\n        }\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Jonathan Weiß (jonathan_rass)\n\n************************************************************************ */\n\n\n/**\n * A generic singleton that fires an \"interval\" event all 100 milliseconds. It\n * can be used whenever one needs to run code periodically. The main purpose of\n * this class is reduce the number of timers.\n * \n * NOTE: Instances of this class must be disposed of after use\n *\n */\n\nqx.Class.define(\"qx.event.Idle\",\n{\n  extend : qx.core.Object,\n  implement : [ qx.core.IDisposable ],\n  type : \"singleton\",\n\n  construct : function()\n  {\n    this.base(arguments);\n  },\n\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events :\n  {\n    /** This event if fired each time the interval time has elapsed */\n    \"interval\" : \"qx.event.type.Event\"\n  },\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /**\n     * Interval for the timer, which periodically fires the \"interval\" event,\n     * in milliseconds.\n     */\n    timeoutInterval :\n    {\n      check: \"Number\",\n      init : 100,\n      apply : \"_applyTimeoutInterval\"\n    }\n  },\n\n\n\n  members :\n  {\n\n    __timer : null,\n\n    // property apply\n    _applyTimeoutInterval : function(value) {\n      if (this.__timer) {\n        this.__timer.setInterval(value);\n      }\n    },\n\n    /**\n     * Fires an \"interval\" event\n     */\n    _onInterval : function() {\n      this.fireEvent(\"interval\");\n    },\n\n    /**\n     * Starts the timer but only if there are listeners for the \"interval\" event\n     */\n    __startTimer: function() {\n      if (!this.__timer && this.hasListener(\"interval\")) {\n          var timer = new qx.event.Timer(this.getTimeoutInterval());\n          timer.addListener(\"interval\", this._onInterval, this);\n          timer.start();\n\n          this.__timer = timer;\n      }\n    },\n\n    /**\n     * Stops the timer but only if there are no listeners for the interval event\n     */\n    __stopTimer: function() {\n      if (this.__timer && !this.hasListener(\"interval\")) {\n        this.__timer.stop();\n        this.__timer.dispose();\n        this.__timer = null;\n      }\n    },\n\n    /*\n     * @Override\n     */\n    addListener: function(type, listener, self, capture) {\n      var result = this.base(arguments, type, listener, self, capture);\n      this.__startTimer();\n      return result;\n    },\n\n    /*\n     * @Override\n     */\n    addListenerOnce: function(type, listener, self, capture) {\n      var result = this.base(arguments, type, listener, self, capture);\n      this.__startTimer();\n      return result;\n    },\n\n    /*\n     * @Override\n     */\n    removeListener: function(type, listener, self, capture) {\n      var result = this.base(arguments, type, listener, self, capture);\n      this.__stopTimer();\n      return result;\n    },\n\n    /*\n     * @Override\n     */\n    removeListenerById: function(id) {\n      var result = this.base(arguments, id);\n      this.__stopTimer();\n      return result;\n    }\n\n  },\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    if (this.__timer) {\n      this.__timer.stop();\n    }\n\n    this.__timer = null;\n  }\n\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n/**\n * Contains methods to compute a position for any object which should\n * be positioned relative to another object.\n */\nqx.Class.define(\"qx.util.placement.Placement\",\n{\n  extend : qx.core.Object,\n\n  construct : function()\n  {\n    this.base(arguments);\n    this.__defaultAxis = qx.util.placement.DirectAxis;\n  },\n\n\n  properties :\n  {\n    /**\n     * The axis object to use for the horizontal placement\n     */\n    axisX : {\n      check: \"Class\"\n    },\n\n    /**\n     * The axis object to use for the vertical placement\n     */\n    axisY : {\n      check: \"Class\"\n    },\n\n    /**\n     * Specify to which edge of the target object, the object should be attached\n     */\n    edge : {\n      check: [\"top\", \"right\", \"bottom\", \"left\"],\n      init: \"top\"\n    },\n\n    /**\n     * Specify with which edge of the target object, the object should be aligned\n     */\n    align : {\n      check: [\"top\", \"right\", \"bottom\", \"left\", \"center\", \"middle\"],\n      init: \"right\"\n    }\n  },\n\n\n  statics :\n  {\n    __instance : null,\n\n    /**\n     * DOM and widget independent method to compute the location\n     * of an object to make it relative to any other object.\n     *\n     * @param size {Map} With the keys <code>width</code> and <code>height</code>\n     *   of the object to align\n     * @param area {Map} Available area to position the object. Has the keys\n     *   <code>width</code> and <code>height</code>. Normally this is the parent\n     *   object of the one to align.\n     * @param target {Map} Location of the object to align the object to. This map\n     *   should have the keys <code>left</code>, <code>top</code>, <code>right</code>\n     *   and <code>bottom</code>.\n     * @param offsets {Map} Map with all offsets for each direction.\n     *   Comes with the keys <code>left</code>, <code>top</code>,\n     *   <code>right</code> and <code>bottom</code>.\n     * @param position {String} Alignment of the object on the target, any of\n     *   \"top-left\", \"top-center\", \"top-right\", \"bottom-left\", \"bottom-center\", \"bottom-right\",\n     *   \"left-top\", \"left-middle\", \"left-bottom\", \"right-top\", \"right-middle\", \"right-bottom\".\n     * @param modeX {String} Horizontal placement mode. Valid values are:\n     *   <ul>\n     *   <li><code>direct</code>: place the object directly at the given\n     *   location.</li>\n     *   <li><code>keep-align</code>: if parts of the object is outside of the visible\n     *   area it is moved to the best fitting 'edge' and 'alignment' of the target.\n     *   It is guaranteed the the new position attaches the object to one of the\n     *   target edges and that that is aligned with a target edge.</li>\n     *   <li>best-fit</li>: If parts of the object are outside of the visible\n     *   area it is moved into the view port ignoring any offset, and position\n     *   values.\n     *   </ul>\n     * @param modeY {String} Vertical placement mode. Accepts the same values as\n     *   the 'modeX' argument.\n     * @return {Map} A map with the final location stored in the keys\n     *   <code>left</code> and <code>top</code>.\n     */\n    compute: function(size, area, target, offsets, position, modeX, modeY)\n    {\n      this.__instance = this.__instance || new qx.util.placement.Placement();\n\n      var splitted = position.split(\"-\");\n      var edge = splitted[0];\n      var align = splitted[1];\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (align === \"center\" || align === \"middle\")\n        {\n          var expected = \"middle\";\n          if (edge === \"top\" || edge === \"bottom\") {\n            expected = \"center\";\n          }\n          qx.core.Assert.assertEquals(expected, align, \"Please use '\" + edge + \"-\" + expected + \"' instead!\");\n        }\n      }\n\n      this.__instance.set({\n        axisX: this.__getAxis(modeX),\n        axisY: this.__getAxis(modeY),\n        edge: edge,\n        align: align\n      });\n\n      return this.__instance.compute(size, area, target, offsets);\n    },\n\n\n    __direct : null,\n    __keepAlign : null,\n    __bestFit : null,\n\n    /**\n     * Get the axis implementation for the given mode\n     *\n     * @param mode {String} One of <code>direct</code>, <code>keep-align</code> or\n     *   <code>best-fit</code>\n     * @return {qx.util.placement.AbstractAxis}\n     */\n    __getAxis : function(mode)\n    {\n      switch(mode)\n      {\n        case \"direct\":\n          this.__direct = this.__direct || qx.util.placement.DirectAxis;\n          return this.__direct;\n\n        case \"keep-align\":\n          this.__keepAlign = this.__keepAlign || qx.util.placement.KeepAlignAxis;\n          return this.__keepAlign;\n\n        case \"best-fit\":\n          this.__bestFit = this.__bestFit || qx.util.placement.BestFitAxis;\n          return this.__bestFit;\n\n        default:\n          throw new Error(\"Invalid 'mode' argument!'\");\n      }\n    }\n  },\n\n\n  members :\n  {\n    __defaultAxis : null,\n\n    /**\n     * DOM and widget independent method to compute the location\n     * of an object to make it relative to any other object.\n     *\n     * @param size {Map} With the keys <code>width</code> and <code>height</code>\n     *   of the object to align\n     * @param area {Map} Available area to position the object. Has the keys\n     *   <code>width</code> and <code>height</code>. Normally this is the parent\n     *   object of the one to align.\n     * @param target {Map} Location of the object to align the object to. This map\n     *   should have the keys <code>left</code>, <code>top</code>, <code>right</code>\n     *   and <code>bottom</code>.\n     * @param offsets {Map} Map with all offsets for each direction.\n     *   Comes with the keys <code>left</code>, <code>top</code>,\n     *   <code>right</code> and <code>bottom</code>.\n     * @return {Map} A map with the final location stored in the keys\n     *   <code>left</code> and <code>top</code>.\n     */\n    compute : function(size, area, target, offsets)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        this.assertObject(size, \"size\");\n        this.assertNumber(size.width, \"size.width\");\n        this.assertNumber(size.height, \"size.height\");\n\n        this.assertObject(area, \"area\");\n        this.assertNumber(area.width, \"area.width\");\n        this.assertNumber(area.height, \"area.height\");\n\n        this.assertObject(target, \"target\");\n        this.assertNumber(target.top, \"target.top\");\n        this.assertNumber(target.right, \"target.right\");\n        this.assertNumber(target.bottom, \"target.bottom\");\n        this.assertNumber(target.left, \"target.left\");\n\n        this.assertObject(offsets, \"offsets\");\n        this.assertNumber(offsets.top, \"offsets.top\");\n        this.assertNumber(offsets.right, \"offsets.right\");\n        this.assertNumber(offsets.bottom, \"offsets.bottom\");\n        this.assertNumber(offsets.left, \"offsets.left\");\n      }\n\n      var axisX = this.getAxisX() || this.__defaultAxis;\n      var left = axisX.computeStart(\n        size.width,\n        {start: target.left, end: target.right},\n        {start: offsets.left, end: offsets.right},\n        area.width,\n        this.__getPositionX()\n      );\n\n      var axisY = this.getAxisY() || this.__defaultAxis;\n      var top = axisY.computeStart(\n        size.height,\n        {start: target.top, end: target.bottom},\n        {start: offsets.top, end: offsets.bottom},\n        area.height,\n        this.__getPositionY()\n      );\n\n      return {\n        left: left,\n        top: top\n      };\n    },\n\n\n    /**\n     * Get the position value for the horizontal axis\n     *\n     * @return {String} the position\n     */\n    __getPositionX : function()\n    {\n      var edge = this.getEdge();\n      var align = this.getAlign();\n\n      if (edge == \"left\") {\n        return \"edge-start\";\n      } else if (edge == \"right\") {\n        return \"edge-end\";\n      } else if (align == \"left\") {\n        return \"align-start\";\n      } else if (align == \"center\") {\n        return \"align-center\";\n      } else if (align == \"right\") {\n        return \"align-end\";\n      }\n    },\n\n\n    /**\n     * Get the position value for the vertical axis\n     *\n     * @return {String} the position\n     */\n    __getPositionY : function()\n    {\n      var edge = this.getEdge();\n      var align = this.getAlign();\n\n      if (edge == \"top\") {\n        return \"edge-start\";\n      } else if (edge == \"bottom\") {\n        return \"edge-end\";\n      } else if (align == \"top\") {\n        return \"align-start\";\n      } else if (align == \"middle\") {\n        return \"align-center\";\n      } else if (align == \"bottom\") {\n        return \"align-end\";\n      }\n    }\n  },\n\n\n  destruct : function()\n  {\n    this._disposeObjects('__defaultAxis');\n  }\n});","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n     * Mustafa Sak (msak)\n\n************************************************************************ */\n\n/**\n * A wrapper for CSS font styles. Fond objects can be applied to instances\n * of {@link qx.html.Element}.\n */\nqx.Class.define(\"qx.bom.Font\",\n{\n  extend : qx.core.Object,\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param size {String?} The font size (Unit: pixel)\n   * @param family {String[]?} A sorted list of font families\n   */\n  construct : function(size, family)\n  {\n    this.base(arguments);\n\n    this.__lookupMap =\n    {\n      fontFamily: \"\",\n      fontSize: null,\n      fontWeight: null,\n      fontStyle: null,\n      textDecoration: null,\n      lineHeight: null,\n      color: null,\n      textShadow: null\n    };\n\n    if (size !== undefined) {\n      this.setSize(size);\n    }\n\n    if (family !== undefined) {\n      this.setFamily(family);\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * Converts a typical CSS font definition string to an font object\n     *\n     * Example string: <code>bold italic 20px Arial</code>\n     *\n     * @param str {String} the CSS string\n     * @return {qx.bom.Font} the created instance\n     */\n    fromString : function(str)\n    {\n      var font = new qx.bom.Font();\n      var parts = str.split(/\\s+/);\n      var name = [];\n      var part;\n\n      for (var i=0; i<parts.length; i++)\n      {\n        switch(part = parts[i])\n        {\n          case \"bold\":\n            font.setBold(true);\n            break;\n\n          case \"italic\":\n            font.setItalic(true);\n            break;\n\n          case \"underline\":\n            font.setDecoration(\"underline\");\n            break;\n\n          default:\n            var temp = parseInt(part, 10);\n\n            if (temp == part || qx.lang.String.contains(part, \"px\")) {\n              font.setSize(temp);\n            } else {\n              name.push(part);\n            }\n\n            break;\n        }\n      }\n\n      if (name.length > 0) {\n        font.setFamily(name);\n      }\n\n      return font;\n    },\n\n\n    /**\n     * Converts a map property definition into a font object.\n     *\n     * @param config {Map} map of property values\n     * @return {qx.bom.Font} the created instance\n     */\n    fromConfig : function(config)\n    {\n      var font = new qx.bom.Font;\n      font.set(config);\n      return font;\n    },\n\n\n    /** @type {Map} Default (empty) CSS styles */\n    __defaultStyles :\n    {\n      fontFamily: \"\",\n      fontSize: \"\",\n      fontWeight: \"\",\n      fontStyle: \"\",\n      textDecoration: \"\",\n      lineHeight: 1.2,\n      color: \"\",\n      textShadow: \"\"\n    },\n\n\n    /**\n     * Returns a map of all properties in empty state.\n     *\n     * This is useful for resetting previously configured\n     * font styles.\n     *\n     * @return {Map} Default styles\n     */\n    getDefaultStyles : function() {\n      return this.__defaultStyles;\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /** The font size (Unit: pixel) */\n    size :\n    {\n      check : \"Integer\",\n      nullable : true,\n      apply : \"_applySize\"\n    },\n\n    /**\n     * The line height as scaling factor of the default line height. A value\n     * of 1 corresponds to the default line height\n     */\n    lineHeight :\n    {\n      check : \"Number\",\n      nullable: true,\n      apply : \"_applyLineHeight\"\n    },\n\n    /**\n     * Characters that are used to test if the font has loaded properly. These\n     * default to \"WEei\" in `qx.bom.webfont.Validator` and can be overridden\n     * for certain cases like icon fonts that do not provide the predefined\n     * characters.\n     */\n    comparisonString :\n    {\n      check : \"String\",\n      init : null,\n      nullable : true\n    },\n\n    /**\n     * Version identifier that is appended to the URL to be loaded. Fonts\n     * that are defined thru themes may be managed by the resource manager.\n     * In this case updated fonts persist due to aggressive fontface caching\n     * of some browsers. To get around this, set the `version` property to\n     * the version of your font. It will be appended to the CSS URL and forces\n     * the browser to re-validate.\n     *\n     * The version needs to be URL friendly, so only characters, numbers,\n     * dash and dots are allowed here.\n     */\n    version :\n    {\n      check : function(value) {\n        return value === null || (typeof value === \"string\" && /^[a-zA-Z0-9.-]+$/.test(value));\n      },\n      init : null,\n      nullable : true\n    },\n\n    /** A sorted list of font families */\n    family :\n    {\n      check : \"Array\",\n      nullable : true,\n      apply : \"_applyFamily\"\n    },\n\n    /** Whether the font is bold */\n    bold :\n    {\n      check : \"Boolean\",\n      nullable : true,\n      apply : \"_applyBold\"\n    },\n\n    /** Whether the font is italic */\n    italic :\n    {\n      check : \"Boolean\",\n      nullable : true,\n      apply : \"_applyItalic\"\n    },\n\n    /** The text decoration for this font */\n    decoration :\n    {\n      check : [ \"underline\", \"line-through\", \"overline\" ],\n      nullable : true,\n      apply : \"_applyDecoration\"\n    },\n\n    /** The text color for this font */\n    color :\n    {\n      check : \"Color\",\n      nullable: true,\n      apply: \"_applyColor\"\n    },\n\n    /** The text shadow for this font */\n    textShadow :\n    {\n      nullable : true,\n      check : \"String\",\n      apply : \"_applyTextShadow\"\n    },\n    /** The weight property of the font as opposed to just setting it to 'bold' by setting the bold property to true */\n    weight :\n    {\n      nullable : true,\n      check : \"String\",\n      apply : \"_applyWeight\"\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __lookupMap : null,\n\n\n    // property apply\n    _applySize : function(value, old) {\n      this.__lookupMap.fontSize = value === null ? null : value + \"px\";\n    },\n\n\n    _applyLineHeight : function(value, old) {\n      this.__lookupMap.lineHeight = value === null ? null : value;\n    },\n\n\n    // property apply\n    _applyFamily : function(value, old)\n    {\n      var family = \"\";\n\n      for (var i=0, l=value.length; i<l; i++)\n      {\n        // in FireFox 2 and WebKit fonts like 'serif' or 'sans-serif' must\n        // not be quoted!\n        if (value[i].indexOf(\" \") > 0) {\n          family += '\"' + value[i] + '\"';\n        } else {\n          family += value[i];\n        }\n\n        if (i !== l-1) {\n          family += \",\";\n        }\n      }\n\n      // font family is a special case. In order to render the labels correctly\n      // we have to return a font family - even if it's an empty string to prevent\n      // the browser from applying the element style\n      this.__lookupMap.fontFamily = family;\n    },\n\n\n    // property apply\n    _applyBold : function(value, old) {\n      this.__lookupMap.fontWeight = value == null ? null : value ? \"bold\" : \"normal\";\n    },\n\n\n    // property apply\n    _applyItalic : function(value, old) {\n      this.__lookupMap.fontStyle = value == null ? null : value ? \"italic\" : \"normal\";\n    },\n\n\n    // property apply\n    _applyDecoration : function(value, old) {\n      this.__lookupMap.textDecoration = value == null ? null : value;\n    },\n\n    // property apply\n    _applyColor : function(value, old) {\n      this.__lookupMap.color = null;\n      if (value) {\n        this.__lookupMap.color = qx.theme.manager.Color.getInstance().resolve(value);\n      }\n    },\n\n    // property apply\n    _applyWeight : function(value, old) {\n      this.__lookupMap.fontWeight = value;\n    },\n\n    // property apply\n    _applyTextShadow : function(value, old) {\n      this.__lookupMap.textShadow = value == null ? null : value;\n    },\n\n\n    /**\n     * Get a map of all CSS styles, which will be applied to the widget. Only\n     * the styles which are set are returned.\n     *\n     * @return {Map} Map containing the current styles. The keys are property\n     * names which can directly be used with the <code>set</code> method of each\n     * widget.\n     */\n    getStyles : function() {\n      return this.__lookupMap;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n************************************************************************ */\n\n/**\n * Requests web fonts from {@link qx.bom.webfonts.Manager} and fires events\n * when their loading status is known.\n */\nqx.Class.define(\"qx.bom.webfonts.WebFont\", {\n\n  extend : qx.bom.Font,\n\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events :\n  {\n    /**\n     * Fired when the status of a web font has been determined. The event data\n     * is a map with the keys \"family\" (the font-family name) and \"valid\"\n     * (Boolean).\n     */\n    \"changeStatus\" : \"qx.event.type.Data\"\n  },\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /**\n     * The source of the webfont.\n     */\n    sources :\n    {\n      nullable : true,\n      apply : \"_applySources\"\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __families : null,\n\n    // property apply\n    _applySources : function(value, old) {\n      var families = [];\n\n      for (var i=0, l=value.length; i<l; i++) {\n        var familyName = this._quoteFontFamily(value[i].family);\n        families.push(familyName);\n        var sourcesList = value[i];\n        sourcesList.comparisonString = this.getComparisonString();\n        sourcesList.version = this.getVersion();\n        qx.bom.webfonts.Manager.getInstance().require(familyName, sourcesList, this._onWebFontChangeStatus, this);\n      }\n\n      this.setFamily(families.concat(this.getFamily()));\n    },\n\n\n    /**\n     * Propagates web font status changes\n     *\n     * @param ev {qx.event.type.Data} \"changeStatus\"\n     */\n    _onWebFontChangeStatus : function(ev)\n    {\n      var result = ev.getData();\n      this.fireDataEvent(\"changeStatus\", result);\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        if (result.valid === false) {\n          this.warn(\"WebFont \" + result.family + \" was not applied, perhaps the source file could not be loaded.\");\n        }\n      }\n    },\n\n\n    /**\n     * Makes sure font-family names containing spaces are properly quoted\n     *\n     * @param familyName {String} A font-family CSS value\n     * @return {String} The quoted family name\n     */\n    _quoteFontFamily : function(familyName)\n    {\n      return familyName.replace(/[\"']/g, \"\");\n    }\n\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * This class is responsible for applying CSS3 animations to plain DOM elements.\n *\n * The implementation is mostly a cross-browser wrapper for applying the\n * animations, including transforms. If the browser does not support\n * CSS animations, but you have set a keep frame, the keep frame will be applied\n * immediately, thus making the animations optional.\n *\n * The API aligns closely to the spec wherever possible.\n *\n * http://www.w3.org/TR/css3-animations/\n *\n * {@link qx.bom.element.Animation} is the class, which takes care of the\n * feature detection for CSS animations and decides which implementation\n * (CSS or JavaScript) should be used. Most likely, this implementation should\n * be the one to use.\n */\nqx.Bootstrap.define(\"qx.bom.element.AnimationCss\",\n{\n  statics : {\n    // initialization\n    __sheet : null,\n    __rulePrefix : \"Anni\",\n    __id : 0,\n    /** Static map of rules */\n    __rules : {},\n\n    /** The used keys for transforms. */\n    __transitionKeys : {\n      \"scale\": true,\n      \"rotate\" : true,\n      \"skew\" : true,\n      \"translate\" : true\n    },\n\n    /** Map of cross browser CSS keys. */\n    __cssAnimationKeys : qx.core.Environment.get(\"css.animation\"),\n\n\n    /**\n     * This is the main function to start the animation in reverse mode.\n     * For further details, take a look at the documentation of the wrapper\n     * {@link qx.bom.element.Animation}.\n     * @param el {Element} The element to animate.\n     * @param desc {Map} Animation description.\n     * @param duration {Integer?} The duration of the animation which will\n     *   override the duration given in the description.\n     * @return {qx.bom.element.AnimationHandle} The handle.\n     */\n    animateReverse : function(el, desc, duration) {\n      return this._animate(el, desc, duration, true);\n    },\n\n    /**\n     * This is the main function to start the animation. For further details,\n     * take a look at the documentation of the wrapper\n     * {@link qx.bom.element.Animation}.\n     * @param el {Element} The element to animate.\n     * @param desc {Map} Animation description.\n     * @param duration {Integer?} The duration of the animation which will\n     *   override the duration given in the description.\n     * @return {qx.bom.element.AnimationHandle} The handle.\n     */\n    animate : function(el, desc, duration) {\n      return this._animate(el, desc, duration, false);\n    },\n\n\n    /**\n     * Internal method to start an animation either reverse or not.\n     * {@link qx.bom.element.Animation}.\n     * @param el {Element} The element to animate.\n     * @param desc {Map} Animation description.\n     * @param duration {Integer?} The duration of the animation which will\n     *   override the duration given in the description.\n     * @param reverse {Boolean} <code>true</code>, if the animation should be\n     *   reversed.\n     * @return {qx.bom.element.AnimationHandle} The handle.\n     */\n    _animate : function(el, desc, duration, reverse) {\n      this.__normalizeDesc(desc);\n\n      // debug validation\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.__validateDesc(desc);\n      }\n\n      // reverse the keep property if the animation is reverse as well\n      var keep = desc.keep;\n      if (keep != null && (reverse || (desc.alternate && desc.repeat % 2 == 0))) {\n        keep = 100 - keep;\n      }\n\n      if (!this.__sheet) {\n        this.__sheet = qx.bom.Stylesheet.createElement();\n      }\n      var keyFrames = desc.keyFrames;\n\n      if (duration == undefined) {\n        duration = desc.duration;\n      }\n\n      // if animations are supported\n      if (this.__cssAnimationKeys != null) {\n        var name = this.__addKeyFrames(keyFrames, reverse);\n\n        var style =\n          name + \" \" +\n          duration + \"ms \" +\n          desc.timing + \" \" +\n          (desc.delay ? desc.delay + \"ms \" : \"\") +\n          desc.repeat + \" \" +\n          (desc.alternate ? \"alternate\" : \"\");\n\n        qx.bom.Event.addNativeListener(el, this.__cssAnimationKeys[\"start-event\"], this.__onAnimationStart);\n        qx.bom.Event.addNativeListener(el, this.__cssAnimationKeys[\"iteration-event\"], this.__onAnimationIteration);\n        qx.bom.Event.addNativeListener(el, this.__cssAnimationKeys[\"end-event\"], this.__onAnimationEnd);\n\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          if (qx.bom.element.Style.get(el, \"display\") == \"none\") {\n            qx.log.Logger.warn(el, \"Some browsers will not animate elements with display==none\");\n          }\n        }\n\n        el.style[qx.lang.String.camelCase(this.__cssAnimationKeys[\"name\"])] = style;\n        // use the fill mode property if available and suitable\n        if (keep && keep == 100 && this.__cssAnimationKeys[\"fill-mode\"]) {\n          el.style[this.__cssAnimationKeys[\"fill-mode\"]] = \"forwards\";\n        }\n      }\n\n      var animation = new qx.bom.element.AnimationHandle();\n      animation.desc = desc;\n      animation.el = el;\n      animation.keep = keep;\n      el.$$animation = animation;\n\n      // additional transform keys\n      if (desc.origin != null) {\n        qx.bom.element.Transform.setOrigin(el, desc.origin);\n      }\n\n      // fallback for browsers not supporting animations\n      if (this.__cssAnimationKeys == null) {\n        window.setTimeout(function() {\n          qx.bom.element.AnimationCss.__onAnimationEnd({target: el});\n        }, 0);\n      }\n\n      return animation;\n    },\n\n\n    /**\n     * Handler for the animation start.\n     * @param e {Event} The native event from the browser.\n     */\n    __onAnimationStart : function(e) {\n      if (e.target.$$animation) {\n        e.target.$$animation.emit(\"start\", e.target);\n      }\n    },\n\n\n    /**\n     * Handler for the animation iteration.\n     * @param e {Event} The native event from the browser.\n     */\n    __onAnimationIteration : function(e)\n    {\n      // It could happen that an animation end event is fired before an\n      // animation iteration appears [BUG #6928]\n      if (e.target != null && e.target.$$animation != null) {\n        e.target.$$animation.emit(\"iteration\", e.target);\n      }\n    },\n\n\n    /**\n     * Handler for the animation end.\n     * @param e {Event} The native event from the browser.\n     */\n    __onAnimationEnd : function(e) {\n      var el = e.target;\n      var animation = el.$$animation;\n\n      // ignore events when already cleaned up\n      if (!animation) {\n        return;\n      }\n\n      var desc = animation.desc;\n\n      if (qx.bom.element.AnimationCss.__cssAnimationKeys != null) {\n        // reset the styling\n        var key = qx.lang.String.camelCase(\n          qx.bom.element.AnimationCss.__cssAnimationKeys[\"name\"]\n        );\n        el.style[key] = \"\";\n\n        qx.bom.Event.removeNativeListener(\n          el,\n          qx.bom.element.AnimationCss.__cssAnimationKeys[\"name\"],\n          qx.bom.element.AnimationCss.__onAnimationEnd\n        );\n      }\n\n      if (desc.origin != null) {\n        qx.bom.element.Transform.setOrigin(el, \"\");\n      }\n\n      qx.bom.element.AnimationCss.__keepFrame(el, desc.keyFrames[animation.keep]);\n\n      el.$$animation = null;\n      animation.el = null;\n      animation.ended = true;\n\n      animation.emit(\"end\", el);\n    },\n\n\n    /**\n     * Helper method which takes an element and a key frame description and\n     * applies the properties defined in the given frame to the element. This\n     * method is used to keep the state of the animation.\n     * @param el {Element} The element to apply the frame to.\n     * @param endFrame {Map} The description of the end frame, which is basically\n     *   a map containing CSS properties and values including transforms.\n     */\n    __keepFrame : function(el, endFrame) {\n      // keep the element at this animation step\n      var transforms;\n      for (var style in endFrame) {\n        if (style in qx.bom.element.AnimationCss.__transitionKeys) {\n          if (!transforms) {\n            transforms = {};\n          }\n          transforms[style] = endFrame[style];\n        } else {\n          el.style[qx.lang.String.camelCase(style)] = endFrame[style];\n        }\n      }\n\n      // transform keeping\n      if (transforms) {\n        qx.bom.element.Transform.transform(el, transforms);\n      }\n    },\n\n\n    /**\n     * Preprocessing of the description to make sure every necessary key is\n     * set to its default.\n     * @param desc {Map} The description of the animation.\n     */\n    __normalizeDesc : function(desc) {\n      if (!desc.hasOwnProperty(\"alternate\")) {\n        desc.alternate = false;\n      }\n      if (!desc.hasOwnProperty(\"keep\")) {\n        desc.keep = null;\n      }\n      if (!desc.hasOwnProperty(\"repeat\")) {\n        desc.repeat = 1;\n      }\n      if (!desc.hasOwnProperty(\"timing\")) {\n        desc.timing = \"linear\";\n      }\n      if (!desc.hasOwnProperty(\"origin\")) {\n        desc.origin = null;\n      }\n    },\n\n\n    /**\n     * Debugging helper to validate the description.\n     * @signature function(desc)\n     * @param desc {Map} The description of the animation.\n     */\n    __validateDesc : qx.core.Environment.select(\"qx.debug\", {\n      \"true\" : function(desc) {\n        var possibleKeys = [\n          \"origin\", \"duration\", \"keep\", \"keyFrames\", \"delay\",\n          \"repeat\", \"timing\", \"alternate\"\n        ];\n\n        // check for unknown keys\n        for (var name in desc) {\n          if (!(possibleKeys.indexOf(name) != -1)) {\n            qx.Bootstrap.warn(\"Unknown key '\" + name + \"' in the animation description.\");\n          }\n        };\n\n        if (desc.keyFrames == null) {\n          qx.Bootstrap.warn(\"No 'keyFrames' given > 0\");\n        } else {\n          // check the key frames\n          for (var pos in desc.keyFrames) {\n            if (pos < 0 || pos > 100) {\n              qx.Bootstrap.warn(\"Keyframe position needs to be between 0 and 100\");\n            }\n          }\n        }\n      },\n\n      \"default\" : null\n    }),\n\n\n    /**\n     * Helper to add the given frames to an internal CSS stylesheet. It parses\n     * the description and adds the key frames to the sheet.\n     * @param frames {Map} A map of key frames that describe the animation.\n     * @param reverse {Boolean} <code>true</code>, if the key frames should\n     *   be added in reverse order.\n     * @return {String} The generated name of the keyframes rule.\n     */\n    __addKeyFrames : function(frames, reverse) {\n      var rule = \"\";\n\n      // for each key frame\n      for (var position in frames) {\n        rule += (reverse ? -(position - 100) : position) + \"% {\";\n\n        var frame = frames[position];\n        var transforms;\n        // each style\n        for (var style in frame) {\n          if (style in this.__transitionKeys) {\n            if (!transforms) {\n              transforms = {};\n            }\n            transforms[style] = frame[style];\n          } else {\n            var propName = qx.bom.Style.getPropertyName(style);\n            var prefixed = (propName !== null) ?\n              qx.bom.Style.getCssName(propName) : \"\";\n            rule += (prefixed || style) + \":\" + frame[style] + \";\";\n          }\n        }\n\n        // transform handling\n        if (transforms) {\n          rule += qx.bom.element.Transform.getCss(transforms);\n        }\n\n        rule += \"} \";\n      }\n\n      // cached shorthand\n      if (this.__rules[rule]) {\n        return this.__rules[rule];\n      }\n\n      var name = this.__rulePrefix + this.__id++;\n      var selector = this.__cssAnimationKeys[\"keyframes\"] + \" \" + name;\n      qx.bom.Stylesheet.addRule(this.__sheet, selector, rule);\n\n      this.__rules[rule] = name;\n\n      return name;\n    },\n\n\n    /**\n     * Internal helper to reset the cache.\n     */\n    __clearCache: function() {\n      this.__id = 0;\n      if (this.__sheet) {\n        this.__sheet.ownerNode.remove();\n        this.__sheet = null;\n        this.__rules = {};\n      }\n    }\n  },\n\n\n  defer : function(statics) {\n    // iOS 8 seems to stumble over the old sheet object on tab\n    // changes or leaving the browser [BUG #8986]\n    if (qx.core.Environment.get(\"os.name\") === \"ios\" &&\n      parseInt(qx.core.Environment.get(\"os.version\")) >= 8\n    ) {\n      document.addEventListener(\"visibilitychange\", function() {\n        if (!document.hidden) {\n          statics.__clearCache();\n        }\n      }, false);\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n\n/**\n * This class offers the same API as the CSS3 animation layer in\n * {@link qx.bom.element.AnimationCss} but uses JavaScript to fake the behavior.\n *\n * {@link qx.bom.element.Animation} is the class, which takes care of the\n * feature detection for CSS animations and decides which implementation\n * (CSS or JavaScript) should be used. Most likely, this implementation should\n * be the one to use.\n *\n * @ignore(qx.bom.element.Style.*)\n * @use(qx.bom.element.AnimationJs#play)\n */\nqx.Bootstrap.define(\"qx.bom.element.AnimationJs\",\n{\n  statics :\n  {\n    /**\n     * The maximal time a frame should take.\n     */\n    __maxStepTime : 30,\n\n    /**\n     * The supported CSS units.\n     */\n    __units : [\"%\", \"in\", \"cm\", \"mm\", \"em\", \"ex\", \"pt\", \"pc\", \"px\"],\n\n    /** The used keys for transforms. */\n    __transitionKeys : {\n      \"scale\": true,\n      \"rotate\" : true,\n      \"skew\" : true,\n      \"translate\" : true\n    },\n\n    /**\n     * This is the main function to start the animation. For further details,\n     * take a look at the documentation of the wrapper\n     * {@link qx.bom.element.Animation}.\n     * @param el {Element} The element to animate.\n     * @param desc {Map} Animation description.\n     * @param duration {Integer?} The duration of the animation which will\n     *   override the duration given in the description.\n     * @return {qx.bom.element.AnimationHandle} The handle.\n     */\n    animate : function(el, desc, duration) {\n      return this._animate(el, desc, duration, false);\n    },\n\n\n    /**\n     * This is the main function to start the animation in reversed mode.\n     * For further details, take a look at the documentation of the wrapper\n     * {@link qx.bom.element.Animation}.\n     * @param el {Element} The element to animate.\n     * @param desc {Map} Animation description.\n     * @param duration {Integer?} The duration of the animation which will\n     *   override the duration given in the description.\n     * @return {qx.bom.element.AnimationHandle} The handle.\n     */\n    animateReverse : function(el, desc, duration) {\n      return this._animate(el, desc, duration, true);\n    },\n\n\n    /**\n     * Helper to start the animation, either in reversed order or not.\n     *\n     * @param el {Element} The element to animate.\n     * @param desc {Map} Animation description.\n     * @param duration {Integer?} The duration of the animation which will\n     *   override the duration given in the description.\n     * @param reverse {Boolean} <code>true</code>, if the animation should be\n     *   reversed.\n     * @return {qx.bom.element.AnimationHandle} The handle.\n     */\n    _animate : function(el, desc, duration, reverse) {\n      // stop if an animation is already running\n      if (el.$$animation) {\n        return el.$$animation;\n      }\n\n      desc = qx.lang.Object.clone(desc, true);\n\n      if (duration == undefined) {\n        duration = desc.duration;\n      }\n\n      var keyFrames = desc.keyFrames;\n\n      var keys = this.__getOrderedKeys(keyFrames);\n      var stepTime = this.__getStepTime(duration, keys);\n      var steps = parseInt(duration / stepTime, 10);\n\n      this.__normalizeKeyFrames(keyFrames, el);\n\n      var delta = this.__calculateDelta(steps, stepTime, keys, keyFrames, duration, desc.timing);\n      var handle = new qx.bom.element.AnimationHandle();\n      handle.jsAnimation = true;\n\n      if (reverse) {\n        delta.reverse();\n        handle.reverse = true;\n      }\n\n      handle.desc = desc;\n      handle.el = el;\n      handle.delta = delta;\n      handle.stepTime = stepTime;\n      handle.steps = steps;\n      el.$$animation = handle;\n\n      handle.i = 0;\n      handle.initValues = {};\n      handle.repeatSteps = this.__applyRepeat(steps, desc.repeat);\n\n      var delay = desc.delay || 0;\n      var self = this;\n      handle.delayId = window.setTimeout(function() {\n        handle.delayId = null;\n        self.play(handle);\n      }, delay);\n      return handle;\n    },\n\n\n    /**\n     * Try to normalize the keyFrames by adding the default / set values of the\n     * element.\n     * @param keyFrames {Map} The map of key frames.\n     * @param el {Element} The element to animate.\n     */\n    __normalizeKeyFrames : function(keyFrames, el) {\n      // collect all possible keys and its units\n      var units = {};\n      for (var percent in keyFrames) {\n        for (var name in keyFrames[percent]) {\n          // prefixed key calculation\n          var prefixed = qx.bom.Style.getPropertyName(name);\n          if (prefixed && prefixed != name) {\n            var prefixedName = qx.bom.Style.getCssName(prefixed);\n            keyFrames[percent][prefixedName] = keyFrames[percent][name];\n            delete keyFrames[percent][name];\n            name = prefixedName;\n          }\n          // check for the available units\n          if (units[name] == undefined) {\n            var item = keyFrames[percent][name];\n            if (typeof item == \"string\") {\n              units[name] = this.__getUnit(item);\n            } else {\n              units[name] = \"\";\n            }\n          }\n        };\n      }\n      // add all missing keys\n      for (var percent in keyFrames) {\n        var frame = keyFrames[percent];\n        for (var name in units) {\n          if (frame[name] == undefined) {\n            if (name in el.style) {\n              // get the computed style if possible\n              if (window.getComputedStyle) {\n                frame[name] = window.getComputedStyle(el, null)[name];\n              } else {\n                frame[name] = el.style[name];\n              }\n            } else {\n              frame[name] = el[name];\n            }\n            // if its a unit we know, set 0 as fallback\n            if (frame[name] === \"\" && this.__units.indexOf(units[name]) != -1) {\n              frame[name] = \"0\" + units[name];\n            }\n          }\n        };\n      };\n    },\n\n\n    /**\n     * Checks for transform keys and returns a cloned frame\n     * with the right transform style set.\n     * @param frame {Map} A single key frame of the description.\n     * @return {Map} A modified clone of the given frame.\n     */\n    __normalizeKeyFrameTransforms : function(frame) {\n      frame = qx.lang.Object.clone(frame);\n      var transforms;\n      for (var name in frame) {\n        if (name in this.__transitionKeys) {\n          if (!transforms) {\n            transforms = {};\n          }\n          transforms[name] = frame[name];\n          delete frame[name];\n        }\n      };\n      if (transforms) {\n        var transformStyle = qx.bom.element.Transform.getCss(transforms).split(\":\");\n        if (transformStyle.length > 1) {\n          frame[transformStyle[0]] = transformStyle[1].replace(\";\", \"\");\n        }\n      }\n      return frame;\n    },\n\n\n    /**\n     * Precalculation of the delta which will be applied during the animation.\n     * The whole deltas will be calculated prior to the animation and stored\n     * in a single array. This method takes care of that calculation.\n     *\n     * @param steps {Integer} The amount of steps to take to the end of the\n     *   animation.\n     * @param stepTime {Integer} The amount of milliseconds each step takes.\n     * @param keys {Array} Ordered list of keys in the key frames map.\n     * @param keyFrames {Map} The map of key frames.\n     * @param duration {Integer} Time in milliseconds the animation should take.\n     * @param timing {String} The given timing function.\n     * @return {Array} An array containing the animation deltas.\n     */\n    __calculateDelta : function(steps, stepTime, keys, keyFrames, duration, timing) {\n      var delta = new Array(steps);\n\n      var keyIndex = 1;\n      delta[0] = this.__normalizeKeyFrameTransforms(keyFrames[0]);\n      var last = keyFrames[0];\n      var next = keyFrames[keys[keyIndex]];\n      var stepsToNext = Math.floor(keys[keyIndex] / (stepTime / duration * 100));\n\n      var calculationIndex = 1; // is used as counter for the timing calculation\n      // for every step\n      for (var i=1; i < delta.length; i++) {\n        // switch key frames if we crossed a percent border\n        if (i * stepTime / duration * 100 > keys[keyIndex]) {\n          last = next;\n          keyIndex++;\n          next = keyFrames[keys[keyIndex]];\n          stepsToNext = Math.floor(keys[keyIndex] / (stepTime / duration * 100)) - stepsToNext;\n          calculationIndex = 1;\n        }\n\n        delta[i] = {};\n\n        var transforms;\n        // for every property\n        for (var name in next) {\n          var nItem = next[name] + \"\";\n\n          // transform values\n          if (name in this.__transitionKeys) {\n            if (!transforms) {\n              transforms = {};\n            }\n\n            if (qx.Bootstrap.isArray(last[name])) {\n              if (!qx.Bootstrap.isArray(next[name])) {\n                next[name] = [next[name]];\n              }\n              transforms[name] = [];\n              for (var j = 0; j < next[name].length; j++) {\n                var item = next[name][j] + \"\";\n                var x = calculationIndex / stepsToNext;\n                transforms[name][j] = this.__getNextValue(item, last[name], timing, x);\n              }\n            } else {\n              var x = calculationIndex / stepsToNext;\n              transforms[name] = this.__getNextValue(nItem, last[name], timing, x);\n            }\n\n          // color values\n          } else if (nItem.charAt(0) == \"#\") {\n            // get the two values from the frames as RGB arrays\n            var value0 = qx.util.ColorUtil.cssStringToRgb(last[name]);\n            var value1 = qx.util.ColorUtil.cssStringToRgb(nItem);\n            var stepValue = [];\n            // calculate every color channel\n            for (var j=0; j < value0.length; j++) {\n              var range = value0[j] - value1[j];\n              var x = calculationIndex / stepsToNext;\n              var timingX = qx.bom.AnimationFrame.calculateTiming(timing, x);\n              stepValue[j] = parseInt(value0[j] - range * timingX, 10);\n            }\n\n            delta[i][name] = qx.util.ColorUtil.rgbToHexString(stepValue);\n\n          } else if (!isNaN(parseFloat(nItem))) {\n            var x = calculationIndex / stepsToNext;\n            delta[i][name] = this.__getNextValue(nItem, last[name], timing, x);\n          } else {\n            delta[i][name] = last[name] + \"\";\n          }\n        }\n        // save all transformations in the delta values\n        if (transforms) {\n          var transformStyle = qx.bom.element.Transform.getCss(transforms).split(\":\");\n          if (transformStyle.length > 1) {\n            delta[i][transformStyle[0]] = transformStyle[1].replace(\";\", \"\");\n          }\n        }\n\n        calculationIndex++;\n      }\n      // make sure the last key frame is right\n      delta[delta.length -1] = this.__normalizeKeyFrameTransforms(keyFrames[100]);\n\n      return delta;\n    },\n\n\n    /**\n     * Ties to parse out the unit of the given value.\n     *\n     * @param item {String} A CSS value including its unit.\n     * @return {String} The unit of the given value.\n     */\n    __getUnit : function(item) {\n      return item.substring((parseFloat(item) + \"\").length, item.length);\n    },\n\n\n    /**\n     * Returns the next value based on the given arguments.\n     *\n     * @param nextItem {String} The CSS value of the next frame\n     * @param lastItem {String} The CSS value of the last frame\n     * @param timing {String} The timing used for the calculation\n     * @param x {Number} The x position of the animation on the time axis\n     * @return {String} The calculated value including its unit.\n     */\n    __getNextValue : function(nextItem, lastItem, timing, x) {\n      var range = parseFloat(nextItem) - parseFloat(lastItem);\n      return (parseFloat(lastItem) + range * qx.bom.AnimationFrame.calculateTiming(timing, x)) + this.__getUnit(nextItem);\n    },\n\n\n    /**\n     * Internal helper for the {@link qx.bom.element.AnimationHandle} to play\n     * the animation.\n     * @internal\n     * @param handle {qx.bom.element.AnimationHandle} The hand which\n     *   represents the animation.\n     * @return {qx.bom.element.AnimationHandle} The handle for chaining.\n     */\n    play : function(handle) {\n      handle.emit(\"start\", handle.el);\n      var id = window.setInterval(function() {\n        handle.repeatSteps--;\n        var values = handle.delta[handle.i % handle.steps];\n        // save the init values\n        if (handle.i === 0) {\n          for (var name in values) {\n            if (handle.initValues[name] === undefined) {\n              // animate element property\n              if (handle.el[name] !== undefined) {\n                handle.initValues[name] = handle.el[name];\n              }\n              // animate CSS property\n              else if (qx.bom.element.Style) {\n                handle.initValues[name] = qx.bom.element.Style.get(\n                  handle.el, qx.lang.String.camelCase(name)\n                );\n              } else {\n                handle.initValues[name] = handle.el.style[qx.lang.String.camelCase(name)];\n              }\n            }\n          }\n        }\n        qx.bom.element.AnimationJs.__applyStyles(handle.el, values);\n\n        handle.i++;\n        // iteration condition\n        if (handle.i % handle.steps == 0) {\n          handle.emit(\"iteration\", handle.el);\n          if (handle.desc.alternate) {\n            handle.delta.reverse();\n          }\n        }\n        // end condition\n        if (handle.repeatSteps < 0) {\n          qx.bom.element.AnimationJs.stop(handle);\n        }\n      }, handle.stepTime);\n\n      handle.animationId = id;\n\n      return handle;\n    },\n\n\n    /**\n     * Internal helper for the {@link qx.bom.element.AnimationHandle} to pause\n     * the animation.\n     * @internal\n     * @param handle {qx.bom.element.AnimationHandle} The hand which\n     *   represents the animation.\n     * @return {qx.bom.element.AnimationHandle} The handle for chaining.\n     */\n\n    pause : function(handle) {\n      // stop the interval\n      window.clearInterval(handle.animationId);\n      handle.animationId = null;\n\n      return handle;\n    },\n\n\n    /**\n     * Internal helper for the {@link qx.bom.element.AnimationHandle} to stop\n     * the animation.\n     * @internal\n     * @param handle {qx.bom.element.AnimationHandle} The hand which\n     *   represents the animation.\n     * @return {qx.bom.element.AnimationHandle} The handle for chaining.\n     */\n    stop : function(handle) {\n      var desc = handle.desc;\n      var el = handle.el;\n      var initValues = handle.initValues;\n      if (handle.animationId) {\n        window.clearInterval(handle.animationId);\n      }\n\n      // clear the delay if the animation has not been started\n      if (handle.delayId) {\n        window.clearTimeout(handle.delayId);\n      }\n\n      // check if animation is already stopped\n      if (el == undefined) {\n        return handle;\n      }\n\n      // if we should keep a frame\n      var keep = desc.keep;\n      if (keep != undefined && !handle.stopped) {\n        if (handle.reverse || (desc.alternate && desc.repeat && desc.repeat % 2 == 0)) {\n          keep = 100 - keep;\n        }\n        this.__applyStyles(el, this.__normalizeKeyFrameTransforms(desc.keyFrames[keep]));\n      } else {\n        this.__applyStyles(el, initValues);\n      }\n\n      el.$$animation = null;\n      handle.el = null;\n      handle.ended = true;\n      handle.animationId = null;\n\n      handle.emit(\"end\", el);\n\n      return handle;\n    },\n\n\n    /**\n     * Takes care of the repeat key of the description.\n     * @param steps {Integer} The number of steps one iteration would take.\n     * @param repeat {Integer|String} It can be either a number how often the\n     * animation should be repeated or the string 'infinite'.\n     * @return {Integer} The number of steps to animate.\n     */\n    __applyRepeat : function(steps, repeat) {\n      if (repeat == undefined) {\n        return steps;\n      }\n      if (repeat == \"infinite\") {\n        return Number.MAX_VALUE;\n      }\n      return steps * repeat;\n    },\n\n\n    /**\n     * Central method to apply css styles and element properties.\n     * @param el {Element} The DOM element to apply the styles.\n     * @param styles {Map} A map containing styles and values.\n     */\n    __applyStyles : function(el, styles) {\n      for (var key in styles) {\n        // ignore undefined values (might be a bad detection)\n        if (styles[key] === undefined) {\n          continue;\n        }\n\n        // apply element property value - only if a CSS property\n        // is *not* available\n        if (typeof el.style[key] === \"undefined\" && key in el) {\n          el[key] = styles[key];\n          continue;\n        }\n\n        var name = qx.bom.Style.getPropertyName(key) || key;\n        if (qx.bom.element.Style) {\n          qx.bom.element.Style.set(el, name, styles[key]);\n        } else {\n          el.style[name] = styles[key];\n        }\n      }\n    },\n\n\n    /**\n     * Dynamic calculation of the steps time considering a max step time.\n     * @param duration {Number} The duration of the animation.\n     * @param keys {Array} An array containing the ordered set of key frame keys.\n     * @return {Integer} The best suited step time.\n     */\n    __getStepTime : function(duration, keys) {\n      // get min difference\n      var minDiff = 100;\n      for (var i=0; i < keys.length - 1; i++) {\n        minDiff = Math.min(minDiff, keys[i+1] - keys[i]);\n      };\n\n      var stepTime = duration * minDiff / 100;\n      while (stepTime > this.__maxStepTime) {\n        stepTime = stepTime / 2;\n      }\n      return Math.round(stepTime);\n    },\n\n\n    /**\n     * Helper which returns the ordered keys of the key frame map.\n     * @param keyFrames {Map} The map of key frames.\n     * @return {Array} An ordered list of keys.\n     */\n    __getOrderedKeys : function(keyFrames) {\n      var keys = Object.keys(keyFrames);\n      for (var i=0; i < keys.length; i++) {\n        keys[i] = parseInt(keys[i], 10);\n      };\n      keys.sort(function(a,b) {return a-b;});\n      return keys;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Mouse wheel event object.\n */\nqx.Class.define(\"qx.event.type.MouseWheel\",\n{\n  extend : qx.event.type.Mouse,\n\n  members :\n  {\n    // overridden\n    stop : function()\n    {\n      this.stopPropagation();\n      this.preventDefault();\n    },\n\n\n    /**\n     * Get the amount the wheel has been scrolled\n     *\n     * @param axis {String?} Optional parameter which defines the scroll axis.\n     *   The value can either be <code>\"x\"</code> or <code>\"y\"</code>.\n     * @return {Integer} Scroll wheel movement for the given axis. If no axis\n     *   is given, the y axis is used.\n     */\n    getWheelDelta : function(axis) {\n      return qx.util.Wheel.getDelta(this._native, axis);\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2010 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Tino Butz (tbtz)\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * Unify Project\n\n     Homepage:\n       http://unify-project.org\n\n     Copyright:\n       2009-2010 Deutsche Telekom AG, Germany, http://telekom.com\n\n     License:\n       MIT: http://www.opensource.org/licenses/mit-license.php\n\n************************************************************************ */\n\n\n/**\n * Orientation event object.\n */\nqx.Class.define(\"qx.event.type.Orientation\",\n{\n    extend : qx.event.type.Event,\n\n\n    /*\n    *****************************************************************************\n       MEMBERS\n    *****************************************************************************\n    */\n\n    members :\n    {\n    __orientation : null,\n    __mode : null,\n\n\n    /**\n     * Initialize the fields of the event. The event must be initialized before\n     * it can be dispatched.\n     *\n     * @param orientation {String} One of <code>0</code>, <code>90</code> or <code>-90</code>\n     * @param mode {String} <code>landscape</code> or <code>portrait</code>\n     * @return {qx.event.type.Orientation} The initialized event instance\n     */\n    init : function(orientation, mode)\n    {\n      this.base(arguments, false, false);\n\n      this.__orientation = orientation;\n      this.__mode = mode;\n\n      return this;\n    },\n\n\n    /**\n     * Get a copy of this object\n     *\n     * @param embryo {qx.event.type.Orientation?null} Optional event class, which will\n     *     be configured using the data of this event instance. The event must be\n     *     an instance of this event class. If the data is <code>null</code>,\n     *     a new pooled instance is created.\n     *\n     * @return {qx.event.type.Orientation} a copy of this object\n     */\n    clone : function(embryo)\n    {\n      var clone = this.base(arguments, embryo);\n\n      clone.__orientation = this.__orientation;\n      clone.__mode = this.__mode;\n\n      return clone;\n    },\n\n\n    /**\n     * Returns the current orientation of the viewport in degree.\n     *\n     * All possible values and their meaning:\n     *\n     * * <code>0</code>: \"Portrait\"\n     * * <code>-90</code>: \"Landscape (right, screen turned clockwise)\"\n     * * <code>90</code>: \"Landscape (left, screen turned counterclockwise)\"\n     * * <code>180</code>: \"Portrait (upside-down portrait)\"\n     *\n     * @return {Integer} The current orientation in degree\n     */\n    getOrientation: function() {\n      return this.__orientation;\n    },\n\n\n    /**\n     * Whether the viewport orientation is currently in landscape mode.\n     *\n     * @return {Boolean} <code>true</code> when the viewport orientation\n     *     is currently in landscape mode.\n     */\n    isLandscape : function() {\n      return this.__mode == \"landscape\";\n    },\n\n\n    /**\n     * Whether the viewport orientation is currently in portrait mode.\n     *\n     * @return {Boolean} <code>true</code> when the viewport orientation\n     *     is currently in portrait mode.\n     */\n    isPortrait : function()\n    {\n      return this.__mode == \"portrait\";\n    }\n  }\n});","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2010 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n     * Tino Butz (tbtz)\n\n************************************************************************ */\n\n\n/**\n * Touch event object.\n *\n * For more information see:\n *     https://developer.apple.com/library/safari/#documentation/UserExperience/Reference/TouchEventClassReference/TouchEvent/TouchEvent.html\n */\nqx.Class.define(\"qx.event.type.Touch\",\n{\n    extend : qx.event.type.Dom,\n\n\n    /*\n    *****************************************************************************\n       MEMBERS\n    *****************************************************************************\n    */\n\n    members :\n    {\n      // overridden\n      _cloneNativeEvent : function(nativeEvent, clone)\n      {\n        var clone = this.base(arguments, nativeEvent, clone);\n\n        clone.pageX = nativeEvent.pageX;\n        clone.pageY = nativeEvent.pageY;\n        clone.offsetX = nativeEvent.offsetX;\n        clone.offsetY = nativeEvent.offsetY;\n\n        // Workaround for BUG #6491\n        clone.layerX = (nativeEvent.offsetX || nativeEvent.layerX);\n        clone.layerY = (nativeEvent.offsetY || nativeEvent.layerY);\n\n        clone.scale = nativeEvent.scale;\n        clone.rotation = nativeEvent.rotation;\n        clone._rotation = nativeEvent._rotation;\n        clone.delta = nativeEvent.delta;\n        clone.srcElement = nativeEvent.srcElement;\n\n        clone.targetTouches = [];\n        for (var i = 0; i < nativeEvent.targetTouches.length; i++) {\n          clone.targetTouches[i] = nativeEvent.targetTouches[i];\n        }\n\n        clone.changedTouches = [];\n        for (i = 0; i < nativeEvent.changedTouches.length; i++) {\n          clone.changedTouches[i] = nativeEvent.changedTouches[i];\n        }\n\n        clone.touches = [];\n        for (i = 0; i < nativeEvent.touches.length; i++) {\n          clone.touches[i] = nativeEvent.touches[i];\n        }\n\n        return clone;\n      },\n\n\n      // overridden\n      stop : function() {\n        this.stopPropagation();\n      },\n\n\n      /**\n       * Returns an array of native Touch objects representing all current\n       * touches on the document.\n       * Returns an empty array for the \"touchend\" event.\n       *\n       * @return {Object[]} Array of touch objects. For more information see:\n       *     https://developer.apple.com/library/safari/#documentation/UserExperience/Reference/TouchClassReference/Touch/Touch.html\n       */\n      getAllTouches : function() {\n        return this._native.touches;\n      },\n\n\n      /**\n       * Returns an array of native Touch objects representing all touches\n       * associated with the event target element.\n       * Returns an empty array for the \"touchend\" event.\n       *\n       * @return {Object[]} Array of touch objects. For more information see:\n       *     https://developer.apple.com/library/safari/#documentation/UserExperience/Reference/TouchClassReference/Touch/Touch.html\n       */\n      getTargetTouches : function() {\n        return this._native.targetTouches;\n      },\n\n\n      /**\n       * Returns an array of native Touch objects representing all touches of\n       * the target element that changed in this event.\n       *\n       * On the \"touchstart\" event the array contains all touches that were\n       * added to the target element.\n       * On the \"touchmove\" event the array contains all touches that were\n       * moved on the target element.\n       * On the \"touchend\" event the array contains all touches that used\n       * to be on the target element.\n       *\n       * @return {Object[]} Array of touch objects. For more information see:\n       *     https://developer.apple.com/library/safari/#documentation/UserExperience/Reference/TouchClassReference/Touch/Touch.html\n       */\n      getChangedTargetTouches : function() {\n        return this._native.changedTouches;\n      },\n\n\n      /**\n       * Checks whether more than one touch is associated with the event target\n       * element.\n       *\n       * @return {Boolean} Is multi-touch\n       */\n      isMultiTouch : function() {\n        return this.__getEventSpecificTouches().length > 1;\n      },\n\n\n      /**\n       * Returns the distance between two fingers since the start of the event.\n       * The distance is a multiplier of the initial distance.\n       * Initial value: 1.0.\n       * Gestures:\n       * < 1.0, pinch close / zoom out.\n       * > 1.0, pinch open / to zoom in.\n       *\n       * @return {Float} The scale distance between two fingers\n       */\n      getScale : function() {\n        return this._native.scale;\n      },\n\n\n      /**\n       * Returns the delta of the rotation since the start of the event, in degrees.\n       * Initial value is 0.0\n       * Clockwise > 0\n       * Counter-clockwise < 0.\n       *\n       * @return {Float} The rotation delta\n       */\n      getRotation : function() {\n        if(typeof this._native._rotation === \"undefined\") {\n          return this._native.rotation;\n        } else {\n          return this._native._rotation;\n        }\n      },\n\n\n      /**\n       * Returns an array with the calculated delta coordinates of all active touches,\n       * relative to the position on <code>touchstart</code> event.\n       *\n       * @return {Array} an array with objects for each active touch which contains the delta as <code>x</code> and\n       * <code>y</code>, the touch identifier as <code>identifier</code> and the movement axis as <code>axis</code>.\n       */\n      getDelta : function() {\n        return this._native.delta;\n      },\n\n\n      /**\n       * Get the horizontal position at which the event occurred relative to the\n       * left of the document. This property takes into account any scrolling of\n       * the page.\n       *\n       * @param touchIndex {Integer ? 0} The index of the Touch object\n       * @return {Integer} The horizontal position of the touch in the document.\n       */\n      getDocumentLeft : function(touchIndex) {\n        return this.__getEventSpecificTouch(touchIndex).pageX;\n      },\n\n\n      /**\n       * Get the vertical position at which the event occurred relative to the\n       * top of the document. This property takes into account any scrolling of\n       * the page.\n       *\n       * @param touchIndex {Integer ? 0} The index of the Touch object\n       * @return {Integer} The vertical position of the touch in the document.\n       */\n      getDocumentTop : function(touchIndex) {\n        return this.__getEventSpecificTouch(touchIndex).pageY;\n      },\n\n\n      /**\n       * Get the horizontal coordinate at which the event occurred relative to\n       * the origin of the screen coordinate system.\n       *\n       * @param touchIndex {Integer ? 0} The index of the Touch object\n       * @return {Integer} The horizontal position of the touch\n       */\n      getScreenLeft : function(touchIndex) {\n        return this.__getEventSpecificTouch(touchIndex).screenX;\n      },\n\n\n      /**\n       * Get the vertical coordinate at which the event occurred relative to\n       * the origin of the screen coordinate system.\n       *\n       * @param touchIndex {Integer ? 0} The index of the Touch object\n       * @return {Integer} The vertical position of the touch\n       */\n      getScreenTop: function(touchIndex) {\n        return this.__getEventSpecificTouch(touchIndex).screenY;\n      },\n\n\n      /**\n       * Get the the horizontal coordinate at which the event occurred relative\n       * to the viewport.\n       *\n       * @param touchIndex {Integer ? 0} The index of the Touch object\n       * @return {Integer} The horizontal position of the touch\n       */\n      getViewportLeft : function(touchIndex) {\n        return this.__getEventSpecificTouch(touchIndex).clientX;\n      },\n\n\n      /**\n       * Get the vertical coordinate at which the event occurred relative\n       * to the viewport.\n       *\n       * @param touchIndex {Integer ? 0} The index of the Touch object\n       * @return {Integer} The vertical position of the touch\n       */\n      getViewportTop : function(touchIndex) {\n        return this.__getEventSpecificTouch(touchIndex).clientY;\n      },\n\n\n      /**\n       * Returns the unique identifier for a certain touch object.\n       *\n       * @param touchIndex {Integer ? 0} The index of the Touch object\n       * @return {Integer} Unique identifier of the touch object\n       */\n      getIdentifier : function(touchIndex) {\n        return this.__getEventSpecificTouch(touchIndex).identifier;\n      },\n\n\n      /**\n       * Returns an event specific touch on the target element. This function is\n       * used as the \"touchend\" event only offers Touch objects in the\n       * changedTouches array.\n       *\n       * @param touchIndex {Integer ? 0} The index of the Touch object to\n       *     retrieve\n       * @return {Object} A native Touch object\n       */\n      __getEventSpecificTouch : function(touchIndex)\n      {\n        touchIndex = touchIndex == null ? 0 : touchIndex;\n        return this.__getEventSpecificTouches()[touchIndex];\n      },\n\n\n      /**\n       * Returns the event specific touches on the target element. This function\n       * is used as the \"touchend\" event only offers Touch objects in the\n       * changedTouches array.\n       *\n       * @return {Object[]} Array of native Touch objects\n       */\n      __getEventSpecificTouches : function()\n      {\n        var touches = (this._isTouchEnd() ? this.getChangedTargetTouches(): this.getTargetTouches());\n        return touches;\n      },\n\n\n      /**\n       * Indicates if the event occurs during the \"touchend\" phase. Needed to\n       * determine the event specific touches. Override this method if you derive\n       * from this class and want to indicate that the specific event occurred\n       * during the \"touchend\" phase.\n       *\n       * @return {Boolean} Whether the event occurred during the \"touchend\" phase\n       */\n      _isTouchEnd : function()\n      {\n        return (this.getType() == \"touchend\" || this.getType() == \"touchcancel\");\n      }\n    }\n  });\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n/**\n * Contains detection for QuickTime, Windows Media, DivX, Silverlight and gears.\n * If no version could be detected the version is set to an empty string as\n * default.\n *\n * This class is used by {@link qx.core.Environment} and should not be used\n * directly. Please check its class comment for details how to use it.\n *\n * @internal\n */\nqx.Bootstrap.define(\"qx.bom.client.Plugin\",\n{\n  statics :\n  {\n    /**\n     * Checks for the availability of google gears plugin.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if gears is available\n     */\n    getGears : function() {\n      return !!(window.google && window.google.gears);\n    },\n\n\n    /**\n     * Checks for ActiveX availability.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if ActiveX is available\n     *\n     * @ignore(window.ActiveXObject)\n     */\n    getActiveX : function()\n    {\n      if (typeof window.ActiveXObject === \"function\") {\n        return true;\n      }\n      try {\n        // in IE11 Preview, ActiveXObject is undefined but instances can\n        // still be created\n        return window.ActiveXObject !== undefined && \n          (typeof (new window.ActiveXObject(\"Microsoft.XMLHTTP\")) === \"object\" ||\n           typeof (new window.ActiveXObject(\"MSXML2.DOMDocument.6.0\")) === \"object\"\n          );\n      } catch(ex) {\n        return false;\n      }\n    },\n\n    /**\n     * Checks for Skypes 'Click to call' availability.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if the plugin is available.\n     */\n    getSkype : function()\n    {\n      // IE Support\n      if (qx.bom.client.Plugin.getActiveX()) {\n       try {\n         new window.ActiveXObject(\"Skype.Detection\");\n         return true;\n       } catch (e) {}\n      }\n\n      var mimeTypes = navigator.mimeTypes;\n      if (mimeTypes) {\n        // FF support\n        if (\"application/x-skype\" in mimeTypes) {\n          return true;\n        }\n        // webkit support\n        for (var i=0; i < mimeTypes.length; i++) {\n          var desc = mimeTypes[i];\n          if (desc.type.indexOf(\"skype.click2call\") != -1) {\n            return true;\n          }\n        };\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Database of supported features.\n     * Filled with additional data at initialization\n     */\n    __db :\n    {\n      quicktime :\n      {\n        plugin : [ \"QuickTime\" ],\n        control : \"QuickTimeCheckObject.QuickTimeCheck.1\"\n        // call returns boolean: instance.IsQuickTimeAvailable(0)\n      },\n\n      wmv :\n      {\n        plugin : [ \"Windows Media\" ],\n        control : \"WMPlayer.OCX.7\"\n        // version string in: instance.versionInfo\n      },\n\n      divx :\n      {\n        plugin : [ \"DivX Web Player\" ],\n        control : \"npdivx.DivXBrowserPlugin.1\"\n      },\n\n      silverlight :\n      {\n        plugin : [ \"Silverlight\" ],\n        control : \"AgControl.AgControl\"\n        // version string in: instance.version (Silverlight 1.0)\n        // version string in: instance.settings.version (Silverlight 1.1)\n        // version check possible using instance.IsVersionSupported\n      },\n\n      pdf :\n      {\n        plugin : [ \"Chrome PDF Viewer\", \"Adobe Acrobat\" ],\n        control : \"AcroPDF.PDF\"\n        // this is detecting Acrobat PDF version > 7 and Chrome PDF Viewer\n      }\n    },\n\n\n    /**\n     * Fetches the version of the quicktime plugin.\n     * @return {String} The version of the plugin, if available,\n     *   an empty string otherwise\n     * @internal\n     */\n    getQuicktimeVersion : function() {\n      var entry = qx.bom.client.Plugin.__db[\"quicktime\"];\n      return qx.bom.client.Plugin.__getVersion(entry.control, entry.plugin);\n    },\n\n\n    /**\n     * Fetches the version of the windows media plugin.\n     * @return {String} The version of the plugin, if available,\n     *   an empty string otherwise\n     * @internal\n     */\n    getWindowsMediaVersion : function() {\n      var entry = qx.bom.client.Plugin.__db[\"wmv\"];\n      return qx.bom.client.Plugin.__getVersion(entry.control, entry.plugin, true);\n    },\n\n\n    /**\n     * Fetches the version of the divx plugin.\n     * @return {String} The version of the plugin, if available,\n     *   an empty string otherwise\n     * @internal\n     */\n    getDivXVersion : function() {\n      var entry = qx.bom.client.Plugin.__db[\"divx\"];\n      return qx.bom.client.Plugin.__getVersion(entry.control, entry.plugin);\n    },\n\n\n    /**\n     * Fetches the version of the silverlight plugin.\n     * @return {String} The version of the plugin, if available,\n     *   an empty string otherwise\n     * @internal\n     */\n    getSilverlightVersion : function() {\n      var entry = qx.bom.client.Plugin.__db[\"silverlight\"];\n      return qx.bom.client.Plugin.__getVersion(entry.control, entry.plugin);\n    },\n\n\n    /**\n     * Fetches the version of the pdf plugin.\n     *\n     * There are two built-in PDF viewer shipped with browsers:\n     *\n     * <ul>\n     *  <li>Chrome PDF Viewer</li>\n     *  <li>PDF.js (Firefox)</li>\n     * </ul>\n     *\n     * While the Chrome PDF Viewer is implemented as plugin and therefore\n     * detected by this method PDF.js is <strong>not</strong>.\n     *\n     * See the dedicated environment key (<em>plugin.pdfjs</em>) instead,\n     * which you might check additionally.\n     *\n     * @return {String} The version of the plugin, if available,\n     *  an empty string otherwise\n     * @internal\n     */\n    getPdfVersion : function() {\n      var entry = qx.bom.client.Plugin.__db[\"pdf\"];\n      return qx.bom.client.Plugin.__getVersion(entry.control, entry.plugin);\n    },\n\n\n    /**\n     * Checks if the quicktime plugin is available.\n     * @return {Boolean} <code>true</code> if the plugin is available\n     * @internal\n     */\n    getQuicktime : function() {\n      var entry = qx.bom.client.Plugin.__db[\"quicktime\"];\n      return qx.bom.client.Plugin.__isAvailable(entry.control, entry.plugin);\n    },\n\n\n    /**\n     * Checks if the windows media plugin is available.\n     * @return {Boolean} <code>true</code> if the plugin is available\n     * @internal\n     */\n    getWindowsMedia : function() {\n      var entry = qx.bom.client.Plugin.__db[\"wmv\"];\n      return qx.bom.client.Plugin.__isAvailable(entry.control, entry.plugin, true);\n    },\n\n\n    /**\n     * Checks if the divx plugin is available.\n     * @return {Boolean} <code>true</code> if the plugin is available\n     * @internal\n     */\n    getDivX : function() {\n      var entry = qx.bom.client.Plugin.__db[\"divx\"];\n      return qx.bom.client.Plugin.__isAvailable(entry.control, entry.plugin);\n    },\n\n\n    /**\n     * Checks if the silverlight plugin is available.\n     * @return {Boolean} <code>true</code> if the plugin is available\n     * @internal\n     */\n    getSilverlight : function() {\n      var entry = qx.bom.client.Plugin.__db[\"silverlight\"];\n      return qx.bom.client.Plugin.__isAvailable(entry.control, entry.plugin);\n    },\n\n\n    /**\n     * Checks if the pdf plugin is available.\n     *\n     * There are two built-in PDF viewer shipped with browsers:\n     *\n     * <ul>\n     *  <li>Chrome PDF Viewer</li>\n     *  <li>PDF.js (Firefox)</li>\n     * </ul>\n     *\n     * While the Chrome PDF Viewer is implemented as plugin and therefore\n     * detected by this method PDF.js is <strong>not</strong>.\n     *\n     * See the dedicated environment key (<em>plugin.pdfjs</em>) instead,\n     * which you might check additionally.\n     *\n     * @return {Boolean} <code>true</code> if the plugin is available\n     * @internal\n     */\n    getPdf : function() {\n      var entry = qx.bom.client.Plugin.__db[\"pdf\"];\n      return qx.bom.client.Plugin.__isAvailable(entry.control, entry.plugin);\n    },\n\n\n    /**\n     * Internal helper for getting the version of a given plugin.\n     *\n     * @param activeXName {String} The name which should be used to generate\n     *   the test ActiveX Object.\n     * @param pluginNames {Array} The names with which the plugins are listed in\n     *   the navigator.plugins list.\n     * @param forceActiveX {Boolean?false} Force detection using ActiveX\n     *   for IE11 plugins that aren't listed in navigator.plugins\n     * @return {String} The version of the plugin as string.\n     */\n    __getVersion : function(activeXName, pluginNames, forceActiveX) {\n      var available = qx.bom.client.Plugin.__isAvailable(\n        activeXName, pluginNames, forceActiveX\n      );\n      // don't check if the plugin is not available\n      if (!available) {\n        return \"\";\n      }\n\n      // IE checks\n      if (qx.bom.client.Engine.getName() == \"mshtml\" &&\n        (qx.bom.client.Browser.getDocumentMode() < 11 || forceActiveX))\n      {\n        try {\n          var obj = new window.ActiveXObject(activeXName);\n          var version;\n\n          // pdf version detection\n          if (obj.GetVersions && obj.GetVersions()) {\n            version = obj.GetVersions().split(',');\n            if (version.length > 1) {\n              version = version[0].split('=');\n              if (version.length === 2) {\n                return version[1];\n              }\n            }\n          }\n\n          version = obj.versionInfo;\n          if (version != undefined) {\n            return version;\n          }\n\n          version = obj.version;\n          if (version != undefined) {\n            return version;\n          }\n\n          version = obj.settings.version;\n          if (version != undefined) {\n            return version;\n          }\n        } catch (ex) {\n          return \"\";\n        }\n\n        return \"\";\n\n      // all other browsers\n      } else {\n        var plugins = navigator.plugins;\n\n        var verreg = /([0-9]\\.[0-9])/g;\n        for (var i = 0; i < plugins.length; i++)\n        {\n          var plugin = plugins[i];\n\n          for (var j = 0; j < pluginNames.length; j++)\n          {\n            if (plugin.name.indexOf(pluginNames[j]) !== -1)\n            {\n              if (verreg.test(plugin.name) || verreg.test(plugin.description)) {\n                return RegExp.$1;\n              }\n            }\n          }\n        }\n\n        return \"\";\n      }\n    },\n\n\n    /**\n     * Internal helper for getting the availability of a given plugin.\n     *\n     * @param activeXName {String} The name which should be used to generate\n     *   the test ActiveX Object.\n     * @param pluginNames {Array} The names with which the plugins are listed in\n     *   the navigator.plugins list.\n     * @param forceActiveX {Boolean?false} Force detection using ActiveX\n     *   for IE11 plugins that aren't listed in navigator.plugins\n     * @return {Boolean} <code>true</code>, if the plugin available\n     */\n    __isAvailable : function(activeXName, pluginNames, forceActiveX) {\n      // IE checks\n      if (qx.bom.client.Engine.getName() == \"mshtml\" &&\n        (qx.bom.client.Browser.getDocumentMode() < 11 || forceActiveX))\n      {\n\n        if (!this.getActiveX()) {\n          return false;\n        }\n\n        try {\n          new ActiveXObject(activeXName);\n        } catch(ex) {\n          return false;\n        }\n\n        return true;\n      // all other\n      } else {\n\n        var plugins = navigator.plugins;\n        if (!plugins) {\n          return false;\n        }\n\n        var name;\n        for (var i = 0; i < plugins.length; i++)\n        {\n          name = plugins[i].name;\n\n          for (var j = 0; j < pluginNames.length; j++)\n          {\n            if (name.indexOf(pluginNames[j]) !== -1) {\n              return true;\n            }\n          }\n        }\n\n        return false;\n      }\n    }\n  },\n\n  defer : function(statics) {\n    qx.core.Environment.add(\"plugin.gears\", statics.getGears);\n    qx.core.Environment.add(\"plugin.quicktime\", statics.getQuicktime);\n    qx.core.Environment.add(\"plugin.quicktime.version\", statics.getQuicktimeVersion);\n    qx.core.Environment.add(\"plugin.windowsmedia\", statics.getWindowsMedia);\n    qx.core.Environment.add(\"plugin.windowsmedia.version\", statics.getWindowsMediaVersion);\n    qx.core.Environment.add(\"plugin.divx\", statics.getDivX);\n    qx.core.Environment.add(\"plugin.divx.version\", statics.getDivXVersion);\n    qx.core.Environment.add(\"plugin.silverlight\", statics.getSilverlight);\n    qx.core.Environment.add(\"plugin.silverlight.version\", statics.getSilverlightVersion);\n    qx.core.Environment.add(\"plugin.pdf\", statics.getPdf);\n    qx.core.Environment.add(\"plugin.pdf.version\", statics.getPdfVersion);\n    qx.core.Environment.add(\"plugin.activex\", statics.getActiveX);\n    qx.core.Environment.add(\"plugin.skype\", statics.getSkype);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Cross browser XML document creation API\n *\n * The main purpose of this class is to allow you to create XML document objects in a\n * cross-browser fashion. Use <code>create</code> to create an empty document,\n * <code>fromString</code> to create one from an existing XML text. Both methods\n * return a *native DOM object*. That means you use standard DOM methods on such\n * an object (e.g. <code>createElement</code>).\n *\n * The following links provide further information on XML documents:\n *\n * * <a href=\"http://www.w3.org/TR/DOM-Level-2-Core/core.html#i-Document\">W3C Interface Specification</a>\n * * <a href=\"http://msdn2.microsoft.com/en-us/library/ms535918.aspx\">MS xml Object</a>\n * * <a href=\"http://msdn2.microsoft.com/en-us/library/ms764622.aspx\">MSXML GUIDs and ProgIDs</a>\n * * <a href=\"https://developer.mozilla.org/en-US/docs/Parsing_and_serializing_XML\">MDN Parsing and Serializing XML</a>\n */\nqx.Bootstrap.define(\"qx.xml.Document\",\n{\n  statics :\n  {\n    /** @type {String} ActiveX class name of DOMDocument (IE specific) */\n    DOMDOC : null,\n\n    /** @type {String} ActiveX class name of XMLHttpRequest (IE specific) */\n    XMLHTTP : null,\n\n\n    /**\n     * Whether the given element is a XML document or element\n     * which is part of a XML document.\n     *\n     * @param elem {Document|Element} Any DOM Document or Element\n     * @return {Boolean} Whether the document is a XML document\n     */\n    isXmlDocument : function(elem)\n    {\n      if (elem.nodeType === 9) {\n        return elem.documentElement.nodeName !== \"HTML\";\n      } else if (elem.ownerDocument) {\n        return this.isXmlDocument(elem.ownerDocument);\n      } else {\n        return false;\n      }\n    },\n\n\n    /**\n     * Create an XML document.\n     *\n     * Returns a native DOM document object, set up for XML.\n     *\n     * @param namespaceUri {String ? null} The namespace URI of the document element to create or null.\n     * @param qualifiedName {String ? null} The qualified name of the document element to be created or null.\n     * @return {Document} empty XML object\n     *\n     * @ignore(ActiveXObject)\n     */\n    create : function(namespaceUri, qualifiedName)\n    {\n      // ActiveX - This is the preferred way for IE9 as well since it has no XPath\n      // support when using the native implementation.createDocument\n      if (qx.core.Environment.get(\"plugin.activex\")) {\n        var obj = new ActiveXObject(this.DOMDOC);\n        //The SelectionLanguage property is no longer needed in MSXML 6; trying\n        // to set it causes an exception in IE9.\n        if (this.DOMDOC == \"MSXML2.DOMDocument.3.0\") {\n          obj.setProperty(\"SelectionLanguage\", \"XPath\");\n        }\n\n        if (qualifiedName)\n        {\n          var str = '<\\?xml version=\"1.0\" encoding=\"utf-8\"?>\\n<';\n\n          str += qualifiedName;\n\n          if (namespaceUri) {\n            str += \" xmlns='\" + namespaceUri + \"'\";\n          }\n\n          str += \" />\";\n          obj.loadXML(str);\n        }\n\n        return obj;\n      }\n\n      if (qx.core.Environment.get(\"xml.implementation\")) {\n        return document.implementation.createDocument(namespaceUri || \"\", qualifiedName || \"\", null);\n      }\n\n      throw new Error(\"No XML implementation available!\");\n    },\n\n\n    /**\n     * The string passed in is parsed into a DOM document.\n     *\n     * @param str {String} the string to be parsed\n     * @return {Document} XML document with given content\n     * @signature function(str)\n     *\n     * @ignore(DOMParser)\n     */\n    fromString : function(str)\n    {\n      // Legacy IE/ActiveX\n      if (qx.core.Environment.get(\"plugin.activex\")) {\n        var dom = qx.xml.Document.create();\n        dom.loadXML(str);\n        return dom;\n      }\n\n      if (qx.core.Environment.get(\"xml.domparser\")) {\n        var parser = new DOMParser();\n        return parser.parseFromString(str, \"text/xml\");\n      }\n\n      throw new Error(\"No XML implementation available!\");\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics)\n  {\n    // Detecting available ActiveX implementations.\n    if (qx.core.Environment.get(\"plugin.activex\"))\n    {\n      // According to information on the Microsoft XML Team's WebLog\n      // it is recommended to check for availability of MSXML versions 6.0 and 3.0.\n      // http://blogs.msdn.com/xmlteam/archive/2006/10/23/using-the-right-version-of-msxml-in-internet-explorer.aspx\n      var domDoc = [ \"MSXML2.DOMDocument.6.0\", \"MSXML2.DOMDocument.3.0\" ];\n      var httpReq = [ \"MSXML2.XMLHTTP.6.0\", \"MSXML2.XMLHTTP.3.0\" ];\n\n      for (var i=0, l=domDoc.length; i<l; i++)\n      {\n        try\n        {\n          // Keep both objects in sync with the same version.\n          // This is important as there were compatibility issues detected.\n          new ActiveXObject(domDoc[i]);\n          new ActiveXObject(httpReq[i]);\n        }\n        catch(ex) {\n          continue;\n        }\n\n        // Update static constants\n        statics.DOMDOC = domDoc[i];\n        statics.XMLHTTP = httpReq[i];\n\n        // Stop loop here\n        break;\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Cross browser abstractions to work with labels.\n */\nqx.Bootstrap.define(\"qx.bom.Label\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Map} Contains all supported styles */\n    __styles :\n    {\n      fontFamily : 1,\n      fontSize : 1,\n      fontWeight : 1,\n      fontStyle : 1,\n      lineHeight : 1,\n      wordBreak : 1\n    },\n\n\n    /**\n     * Generates the helper DOM element for text measuring\n     *\n     * @return {Element} Helper DOM element\n     */\n    __prepareText : function()\n    {\n      var el = this.__createMeasureElement(false);\n      document.body.insertBefore(el, document.body.firstChild);\n\n      return this._textElement = el;\n    },\n\n\n    /**\n     * Generates the helper DOM element for HTML measuring\n     *\n     * @return {Element} Helper DOM element\n     */\n    __prepareHtml : function()\n    {\n      var el = this.__createMeasureElement(true);\n      document.body.insertBefore(el, document.body.firstChild);\n\n      return this._htmlElement = el;\n    },\n\n\n    /**\n     * Creates the measure element\n     *\n     * @param html {Boolean?false} Whether HTML markup should be used.\n     * @return {Element} The measure element\n     */\n    __createMeasureElement : function(html)\n    {\n      var el = qx.dom.Element.create(\"div\");\n      var style = el.style;\n\n      style.width = style.height = \"auto\";\n      style.left = style.top = \"-1000px\";\n      style.visibility = \"hidden\";\n      style.position = \"absolute\";\n      style.overflow = \"visible\";\n      style.display = \"block\";\n\n      if (html)\n      {\n        style.whiteSpace = \"normal\";\n      }\n      else\n      {\n        style.whiteSpace = \"nowrap\";\n\n        if (!qx.core.Environment.get(\"css.textoverflow\") &&\n          qx.core.Environment.get(\"html.xul\"))\n        {\n          var inner = document.createElementNS(\"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\", \"label\");\n\n          // Force style inheritance for font styles to omit usage of\n          // CSS \"label\" selector, See bug #1349 for details.\n          var style = inner.style;\n          style.padding = \"0\";\n          style.margin = \"0\";\n          style.width = \"auto\";\n\n          for (var key in this.__styles) {\n            style[key] = \"inherit\";\n          }\n\n          el.appendChild(inner);\n        }\n      }\n\n      return el;\n    },\n\n\n    /**\n     * Returns a map of all styles which should be applied as\n     * a basic set.\n     *\n     * @param html {Boolean?false} Whether HTML markup should be used.\n     * @return {Map} Initial styles which should be applied to a label element.\n     */\n    __getStyles : function(html)\n    {\n      var styles = {};\n\n      styles.overflow = \"hidden\";\n      if (html)\n      {\n        styles.whiteSpace = \"normal\";\n      }\n      else if (!qx.core.Environment.get(\"css.textoverflow\") &&\n        qx.core.Environment.get(\"html.xul\"))\n      {\n        styles.display = \"block\";\n      }\n      else\n      {\n        styles.whiteSpace = \"nowrap\";\n        styles[qx.core.Environment.get(\"css.textoverflow\")] = \"ellipsis\";\n      }\n\n      return styles;\n    },\n\n\n    /**\n     * Creates a label.\n     *\n     * The default mode is 'text' which means that the overlapping text is cut off\n     * using ellipsis automatically. Text wrapping is disabled in this mode\n     * as well. Spaces are normalized. Umlauts and other special symbols are only\n     * allowed in unicode mode as normal characters.\n     *\n     * In the HTML mode you can insert any HTML, but loose the capability to cut\n     * of overlapping text. Automatic text wrapping is enabled by default.\n     *\n     * It is not possible to modify the mode afterwards.\n     *\n     * @param content {String} Content of the label\n     * @param html {Boolean?false} Whether HTML markup should be used.\n     * @param win {Window?null} Window to create the element for\n     * @return {Element} The created iframe node\n     */\n    create : function(content, html, win)\n    {\n      if (!win) {\n        win = window;\n      }\n\n      var el = win.document.createElement(\"div\");\n\n      if (html)\n      {\n        el.useHtml = true;\n      }\n\n      if (!qx.core.Environment.get(\"css.textoverflow\") &&\n        qx.core.Environment.get(\"html.xul\"))\n      {\n        // Gecko as of Firefox 2.x and 3.0 does not support ellipsis\n        // for text overflow. We use this feature from XUL instead.\n        var xulel = win.document.createElementNS(\"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\", \"label\");\n\n        var style = xulel.style;\n        style.cursor = \"inherit\";\n        style.color = \"inherit\";\n        style.overflow = \"hidden\";\n        style.maxWidth = \"100%\";\n        style.padding = \"0\";\n        style.margin = \"0\";\n        style.width = \"auto\";\n\n        // Force style inheritance for font styles to omit usage of\n        // CSS \"label\" selector, See bug #1349 for details.\n        for (var key in this.__styles) {\n          xulel.style[key] = \"inherit\";\n        }\n\n        xulel.setAttribute(\"crop\", \"end\");\n\n        el.appendChild(xulel);\n      }\n      else\n      {\n        qx.bom.element.Style.setStyles(el, this.__getStyles(html));\n      }\n\n      if (content) {\n        this.setValue(el, content);\n      }\n\n      return el;\n    },\n\n\n    /** Sanitizer function */\n    __sanitizer : null,\n\n\n    /**\n     * Sets a function to sanitize values. It will be used by {@link #setValue}.\n     * The function to sanitize will get the <code>string</code> value and\n     * should return a sanitized / cleared <code>string</code>.\n     *\n     * @param func {Function | null} Function to sanitize / clean HTML code\n     *  from given string parameter\n     */\n    setSanitizer : function(func)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        if (func) {\n          qx.core.Assert.assertFunction(func);\n        }\n      }\n\n      qx.bom.Label.__sanitizer = func;\n    },\n\n\n    /**\n     * Sets the content of the element.\n     *\n     * The possibilities of the value depends on the mode\n     * defined using {@link #create}.\n     *\n     * @param element {Element} DOM element to modify.\n     * @param value {String} Content to insert.\n     */\n    setValue : function(element, value)\n    {\n      value = value || \"\";\n\n      if (element.useHtml) {\n        if (qx.bom.Label.__sanitizer && typeof(qx.bom.Label.__sanitizer) === \"function\") {\n          value = qx.bom.Label.__sanitizer(value);\n        }\n        element.innerHTML = value;\n      } else if (!qx.core.Environment.get(\"css.textoverflow\") &&\n        qx.core.Environment.get(\"html.xul\"))\n      {\n        element.firstChild.setAttribute(\"value\", value);\n      } else {\n        qx.bom.element.Attribute.set(element, \"text\", value);\n      }\n    },\n\n\n    /**\n     * Returns the content of the element.\n     *\n     * @param element {Element} DOM element to query.\n     * @return {String} Content stored in the element.\n     */\n    getValue : function(element)\n    {\n      if (element.useHtml) {\n        return element.innerHTML;\n      } else if (!qx.core.Environment.get(\"css.textoverflow\") &&\n        qx.core.Environment.get(\"html.xul\"))\n      {\n        return element.firstChild.getAttribute(\"value\") || \"\";\n      } else {\n        return qx.bom.element.Attribute.get(element, \"text\");\n      }\n    },\n\n\n    /**\n     * Returns the preferred dimensions of the given HTML content.\n     *\n     * @param content {String} The HTML markup to measure\n     * @param styles {Map?null} Optional styles to apply\n     * @param width {Integer} To support width for height it is possible to limit the width\n     * @return {Map} A map with preferred <code>width</code> and <code>height</code>.\n     */\n    getHtmlSize : function(content, styles, width)\n    {\n      var element = this._htmlElement || this.__prepareHtml();\n\n      // apply width\n      element.style.width = width != undefined ? width + \"px\" : \"auto\";\n      // insert content\n      element.innerHTML = content;\n\n      return this.__measureSize(element, styles);\n    },\n\n\n    /**\n     * Returns the preferred dimensions of the given text.\n     *\n     * @param text {String} The text to measure\n     * @param styles {Map} Optional styles to apply\n     * @return {Map} A map with preferred <code>width</code> and <code>height</code>.\n     */\n    getTextSize : function(text, styles)\n    {\n      var element = this._textElement || this.__prepareText();\n\n      if (!qx.core.Environment.get(\"css.textoverflow\") &&\n        qx.core.Environment.get(\"html.xul\"))\n      {\n        element.firstChild.setAttribute(\"value\", text);\n      } else {\n        qx.bom.element.Attribute.set(element, \"text\", text);\n      }\n\n      return this.__measureSize(element, styles);\n    },\n\n\n    /**\n     * Measure the size of the given element\n     *\n     * @param element {Element} The element to measure\n     * @param styles {Map?null} Optional styles to apply\n     * @return {Map} A map with preferred <code>width</code> and <code>height</code>.\n     */\n    __measureSize : function(element, styles)\n    {\n      // sync styles\n      var keys = this.__styles;\n\n      if (!styles) {\n        styles = {};\n      }\n\n      for (var key in keys) {\n        element.style[key] = styles[key] || \"\";\n      }\n\n      // detect size\n      var size = qx.bom.element.Dimension.getSize(element);\n\n      // all modern browser are needing one more pixel for width\n      size.width++;\n\n      return size;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * The background class contains methods to compute and set the background image\n * of a DOM element.\n *\n * It fixes a background position issue in Firefox 2.\n */\nqx.Class.define(\"qx.bom.element.Background\",\n{\n  statics :\n  {\n    /** @type {Array} Internal helper to improve compile performance */\n    __tmpl :\n    [\n      \"background-image:url(\", null, \");\",\n      \"background-position:\", null, \";\",\n      \"background-repeat:\", null, \";\"\n    ],\n\n\n    /** @type {Map} Empty styles when no image is given */\n    __emptyStyles :\n    {\n      backgroundImage : null,\n      backgroundPosition : null,\n      backgroundRepeat : null\n    },\n\n\n    /**\n     * Computes the background position CSS value\n     *\n     * @param left {Integer|String} either an integer pixel value or a CSS\n     *    string value\n     * @param top {Integer|String} either an integer pixel value or a CSS\n     *    string value\n     * @return {String} The background position CSS value\n     */\n    __computePosition : function(left, top)\n    {\n      // Correcting buggy Firefox background-position implementation\n      // Have problems with identical values\n      var engine = qx.core.Environment.get(\"engine.name\");\n      var version = qx.core.Environment.get(\"engine.version\");\n      if (engine == \"gecko\" && version < 1.9 && left == top && typeof left == \"number\") {\n        top += 0.01;\n      }\n\n      if (left) {\n        var leftCss = (typeof left == \"number\") ? left + \"px\" : left;\n      } else {\n        leftCss = \"0\";\n      }\n      if (top) {\n        var topCss = (typeof top == \"number\") ? top + \"px\" : top;\n      } else {\n        topCss = \"0\";\n      }\n\n      return leftCss + \" \" + topCss;\n    },\n\n\n    /**\n     * Compiles the background into a CSS compatible string.\n     *\n     * @param source {String?null} The URL of the background image\n     * @param repeat {String?null} The background repeat property. valid values\n     *     are <code>repeat</code>, <code>repeat-x</code>,\n     *     <code>repeat-y</code>, <code>no-repeat</code>\n     * @param left {Integer|String?null} The horizontal offset of the image\n     *      inside of the image element. If the value is an integer it is\n     *      interpreted as pixel value otherwise the value is taken as CSS value.\n     *      CSS the values are \"center\", \"left\" and \"right\"\n     * @param top {Integer|String?null} The vertical offset of the image\n     *      inside of the image element. If the value is an integer it is\n     *      interpreted as pixel value otherwise the value is taken as CSS value.\n     *      CSS the values are \"top\", \"bottom\" and \"center\"\n     * @return {String} CSS string\n     */\n    compile : function(source, repeat, left, top)\n    {\n      var position = this.__computePosition(left, top);\n      var backgroundImageUrl = qx.util.ResourceManager.getInstance().toUri(source);\n\n      // Updating template\n      var tmpl = this.__tmpl;\n\n      tmpl[1] = \"'\" + backgroundImageUrl + \"'\";  // Put in quotes so spaces work\n      tmpl[4] = position;\n      tmpl[7] = repeat;\n\n      return tmpl.join(\"\");\n    },\n\n\n    /**\n     * Get standard css background styles\n     *\n     * @param source {String} The URL of the background image\n     * @param repeat {String?null} The background repeat property. valid values\n     *     are <code>repeat</code>, <code>repeat-x</code>,\n     *     <code>repeat-y</code>, <code>no-repeat</code>\n     * @param left {Integer|String?null} The horizontal offset of the image\n     *      inside of the image element. If the value is an integer it is\n     *      interpreted as pixel value otherwise the value is taken as CSS value.\n     *      CSS the values are \"center\", \"left\" and \"right\"\n     * @param top {Integer|String?null} The vertical offset of the image\n     *      inside of the image element. If the value is an integer it is\n     *      interpreted as pixel value otherwise the value is taken as CSS value.\n     *      CSS the values are \"top\", \"bottom\" and \"center\"\n     * @return {Map} A map of CSS styles\n     */\n    getStyles : function(source, repeat, left, top)\n    {\n      if (!source) {\n        return this.__emptyStyles;\n      }\n\n      var position = this.__computePosition(left, top);\n      var backgroundImageUrl = qx.util.ResourceManager.getInstance().toUri(source);\n\n      var backgroundImageCssString = \"url('\" + backgroundImageUrl + \"')\"; // Put in quotes so spaces work\n      var map = {\n        backgroundPosition : position,\n        backgroundImage : backgroundImageCssString\n      };\n\n      if (repeat != null) {\n        map.backgroundRepeat = repeat;\n      }\n      return map;\n    },\n\n\n    /**\n     * Set the background on the given DOM element\n     *\n     * @param element {Element} The element to modify\n     * @param source {String?null} The URL of the background image\n     * @param repeat {String?null} The background repeat property. valid values\n     *     are <code>repeat</code>, <code>repeat-x</code>,\n     *     <code>repeat-y</code>, <code>no-repeat</code>\n     * @param left {Integer?null} The horizontal offset of the image inside of\n     *     the image element.\n     * @param top {Integer?null} The vertical offset of the image inside of\n     *     the image element.\n     */\n    set : function(element, source, repeat, left, top)\n    {\n      var styles = this.getStyles(source, repeat, left, top);\n      for (var prop in styles) {\n        element.style[prop] = styles[prop];\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n/**\n * Abstract class to compute the position of an object on one axis.\n */\nqx.Bootstrap.define(\"qx.util.placement.AbstractAxis\",\n{\n  extend : Object,\n\n  statics :\n  {\n    /**\n     * Computes the start of the object on the axis\n     *\n     * @param size {Integer} Size of the object to align\n     * @param target {Map} Location of the object to align the object to. This map\n     *   should have the keys <code>start</code> and <code>end</code>.\n     * @param offsets {Map} Map with all offsets on each side.\n     *   Comes with the keys <code>start</code> and <code>end</code>.\n     * @param areaSize {Integer} Size of the axis.\n     * @param position {String} Alignment of the object on the target. Valid values are\n     *   <ul>\n     *   <li><code>edge-start</code> The object is placed before the target</li>\n     *   <li><code>edge-end</code> The object is placed after the target</li>\n     *   <li><code>align-start</code>The start of the object is aligned with the start of the target</li>\n     *   <li><code>align-center</code>The center of the object is aligned with the center of the target</li>\n     *   <li><code>align-end</code>The end of the object is aligned with the end of the object</li>\n     *   </ul>\n     * @return {Integer} The computed start position of the object.\n     * @abstract\n     */\n    computeStart : function(size, target, offsets, areaSize, position) {\n      throw new Error(\"abstract method call!\");\n    },\n\n\n    /**\n     * Computes the start of the object by taking only the attachment and\n     * alignment into account. The object by be not fully visible.\n     *\n     * @param size {Integer} Size of the object to align\n     * @param target {Map} Location of the object to align the object to. This map\n     *   should have the keys <code>start</code> and <code>end</code>.\n     * @param offsets {Map} Map with all offsets on each side.\n     *   Comes with the keys <code>start</code> and <code>end</code>.\n     * @param position {String} Accepts the same values as the <code> position</code>\n     *   argument of {@link #computeStart}.\n     * @return {Integer} The computed start position of the object.\n     */\n    _moveToEdgeAndAlign : function(size, target, offsets, position)\n    {\n      switch(position)\n      {\n        case \"edge-start\":\n          return target.start - offsets.end - size;\n\n        case \"edge-end\":\n          return target.end + offsets.start;\n\n        case \"align-start\":\n          return target.start + offsets.start;\n\n        case \"align-center\":\n          return target.start + parseInt((target.end - target.start - size) / 2, 10) + offsets.start;\n\n        case \"align-end\":\n          return target.end - offsets.end - size;\n      }\n    },\n\n\n    /**\n     * Whether the object specified by <code>start</code> and <code>size</code>\n     * is completely inside of the axis' range..\n     *\n     * @param start {Integer} Computed start position of the object\n     * @param size {Integer} Size of the object\n     * @param areaSize {Integer} The size of the axis\n     * @return {Boolean} Whether the object is inside of the axis' range\n     */\n    _isInRange : function(start, size, areaSize) {\n      return start >= 0 && start + size <= areaSize;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n/**\n * Places the object directly at the specified position. It is not moved if\n * parts of the object are outside of the axis' range.\n */\nqx.Bootstrap.define(\"qx.util.placement.DirectAxis\",\n{\n  statics :\n  {\n    /**\n     * Computes the start of the object by taking only the attachment and\n     * alignment into account. The object by be not fully visible.\n     *\n     * @param size {Integer} Size of the object to align\n     * @param target {Map} Location of the object to align the object to. This map\n     *   should have the keys <code>start</code> and <code>end</code>.\n     * @param offsets {Map} Map with all offsets on each side.\n     *   Comes with the keys <code>start</code> and <code>end</code>.\n     * @param position {String} Accepts the same values as the <code> position</code>\n     *   argument of {@link #computeStart}.\n     * @return {Integer} The computed start position of the object.\n     */\n    _moveToEdgeAndAlign : qx.util.placement.AbstractAxis._moveToEdgeAndAlign,\n\n    /**\n     * Computes the start of the object on the axis\n     *\n     * @param size {Integer} Size of the object to align\n     * @param target {Map} Location of the object to align the object to. This map\n     *   should have the keys <code>start</code> and <code>end</code>.\n     * @param offsets {Map} Map with all offsets on each side.\n     *   Comes with the keys <code>start</code> and <code>end</code>.\n     * @param areaSize {Integer} Size of the axis.\n     * @param position {String} Alignment of the object on the target. Valid values are\n     *   <ul>\n     *   <li><code>edge-start</code> The object is placed before the target</li>\n     *   <li><code>edge-end</code> The object is placed after the target</li>\n     *   <li><code>align-start</code>The start of the object is aligned with the start of the target</li>\n     *   <li><code>align-center</code>The center of the object is aligned with the center of the target</li>\n     *   <li><code>align-end</code>The end of the object is aligned with the end of the object</li>\n     *   </ul>\n     * @return {Integer} The computed start position of the object.\n     */\n    computeStart : function(size, target, offsets, areaSize, position) {\n      return this._moveToEdgeAndAlign(size, target, offsets, position);\n    }\n  }\n});","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n/**\n * Places the object to the target. If parts of the object are outside of the\n * range this class places the object at the best \"edge\", \"alignment\"\n * combination so that the overlap between object and range is maximized.\n */\nqx.Bootstrap.define(\"qx.util.placement.KeepAlignAxis\",\n{\n  statics :\n  {\n    /**\n     * Computes the start of the object by taking only the attachment and\n     * alignment into account. The object by be not fully visible.\n     *\n     * @param size {Integer} Size of the object to align\n     * @param target {Map} Location of the object to align the object to. This map\n     *   should have the keys <code>start</code> and <code>end</code>.\n     * @param offsets {Map} Map with all offsets on each side.\n     *   Comes with the keys <code>start</code> and <code>end</code>.\n     * @param position {String} Accepts the same values as the <code> position</code>\n     *   argument of {@link #computeStart}.\n     * @return {Integer} The computed start position of the object.\n     */\n    _moveToEdgeAndAlign : qx.util.placement.AbstractAxis._moveToEdgeAndAlign,\n\n    /**\n     * Whether the object specified by <code>start</code> and <code>size</code>\n     * is completely inside of the axis' range..\n     *\n     * @param start {Integer} Computed start position of the object\n     * @param size {Integer} Size of the object\n     * @param areaSize {Integer} The size of the axis\n     * @return {Boolean} Whether the object is inside of the axis' range\n     */\n    _isInRange : qx.util.placement.AbstractAxis._isInRange,\n\n    /**\n     * Computes the start of the object on the axis\n     *\n     * @param size {Integer} Size of the object to align\n     * @param target {Map} Location of the object to align the object to. This map\n     *   should have the keys <code>start</code> and <code>end</code>.\n     * @param offsets {Map} Map with all offsets on each side.\n     *   Comes with the keys <code>start</code> and <code>end</code>.\n     * @param areaSize {Integer} Size of the axis.\n     * @param position {String} Alignment of the object on the target. Valid values are\n     *   <ul>\n     *   <li><code>edge-start</code> The object is placed before the target</li>\n     *   <li><code>edge-end</code> The object is placed after the target</li>\n     *   <li><code>align-start</code>The start of the object is aligned with the start of the target</li>\n     *   <li><code>align-center</code>The center of the object is aligned with the center of the target</li>\n     *   <li><code>align-end</code>The end of the object is aligned with the end of the object</li>\n     *   </ul>\n     * @return {Integer} The computed start position of the object.\n     */\n    computeStart : function(size, target, offsets, areaSize, position)\n    {\n      var start = this._moveToEdgeAndAlign(size, target, offsets, position);\n      var range1End, range2Start;\n\n      if (this._isInRange(start, size, areaSize)) {\n        return start;\n      }\n\n      if (position == \"edge-start\" || position == \"edge-end\")\n      {\n        range1End = target.start - offsets.end;\n        range2Start = target.end + offsets.start;\n      }\n      else\n      {\n        range1End = target.end - offsets.end;\n        range2Start = target.start + offsets.start;\n      }\n\n      if (range1End > areaSize - range2Start) {\n        start = Math.max(0, range1End - size);\n      } else {\n        start = range2Start;\n      }\n\n      return start;\n    }\n  }\n});","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n/**\n * Places the object according to the target. If parts of the object are outside\n * of the axis' range the object's start is adjusted so that the overlap between\n * the object and the axis is maximized.\n */\nqx.Bootstrap.define(\"qx.util.placement.BestFitAxis\",\n{\n  statics :\n  {\n    /**\n     * Whether the object specified by <code>start</code> and <code>size</code>\n     * is completely inside of the axis' range..\n     *\n     * @param start {Integer} Computed start position of the object\n     * @param size {Integer} Size of the object\n     * @param areaSize {Integer} The size of the axis\n     * @return {Boolean} Whether the object is inside of the axis' range\n     */\n    _isInRange : qx.util.placement.AbstractAxis._isInRange,\n\n    /**\n     * Computes the start of the object by taking only the attachment and\n     * alignment into account. The object by be not fully visible.\n     *\n     * @param size {Integer} Size of the object to align\n     * @param target {Map} Location of the object to align the object to. This map\n     *   should have the keys <code>start</code> and <code>end</code>.\n     * @param offsets {Map} Map with all offsets on each side.\n     *   Comes with the keys <code>start</code> and <code>end</code>.\n     * @param position {String} Accepts the same values as the <code> position</code>\n     *   argument of {@link #computeStart}.\n     * @return {Integer} The computed start position of the object.\n     */\n    _moveToEdgeAndAlign : qx.util.placement.AbstractAxis._moveToEdgeAndAlign,\n\n    /**\n     * Computes the start of the object on the axis\n     *\n     * @param size {Integer} Size of the object to align\n     * @param target {Map} Location of the object to align the object to. This map\n     *   should have the keys <code>start</code> and <code>end</code>.\n     * @param offsets {Map} Map with all offsets on each side.\n     *   Comes with the keys <code>start</code> and <code>end</code>.\n     * @param areaSize {Integer} Size of the axis.\n     * @param position {String} Alignment of the object on the target. Valid values are\n     *   <ul>\n     *   <li><code>edge-start</code> The object is placed before the target</li>\n     *   <li><code>edge-end</code> The object is placed after the target</li>\n     *   <li><code>align-start</code>The start of the object is aligned with the start of the target</li>\n     *   <li><code>align-center</code>The center of the object is aligned with the center of the target</li>\n     *   <li><code>align-end</code>The end of the object is aligned with the end of the object</li>\n     *   </ul>\n     * @return {Integer} The computed start position of the object.\n     */\n    computeStart : function(size, target, offsets, areaSize, position)\n    {\n      var start = this._moveToEdgeAndAlign(size, target, offsets, position);\n\n      if (this._isInRange(start, size, areaSize)) {\n        return start;\n      }\n\n      if (start < 0) {\n        start = Math.min(0, areaSize - size);\n      }\n\n      if (start + size > areaSize) {\n        start = Math.max(0, areaSize - size);\n      }\n\n      return start;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n************************************************************************ */\n\n/**\n * Manages font-face definitions, making sure that each rule is only applied\n * once. It supports adding fonts of the same family but with different style\n * and weight. For instance, the following declaration uses 4 different source\n * files and combine them in a single font family.\n *\n * <pre class='javascript'>\n *   sources: [\n *     {\n *       family: \"Sansation\",\n *       source: [\n *         \"fonts/Sansation-Regular.ttf\"\n *       ]\n *     },\n *     {\n *       family: \"Sansation\",\n *       fontWeight: \"bold\",\n *       source: [\n *         \"fonts/Sansation-Bold.ttf\",\n *       ]\n *     },\n *     {\n *       family: \"Sansation\",\n *       fontStyle: \"italic\",\n *       source: [\n *         \"fonts/Sansation-Italic.ttf\",\n *       ]\n *     },\n *     {\n *       family: \"Sansation\",\n *       fontWeight: \"bold\",\n *       fontStyle: \"italic\",\n *       source: [\n *         \"fonts/Sansation-BoldItalic.ttf\",\n *       ]\n *     }\n *   ]\n * </pre>\n * \n * This class does not need to be disposed, except when you want to abort the loading\n * and validation process.\n */\nqx.Class.define(\"qx.bom.webfonts.Manager\", {\n\n  extend : qx.core.Object,\n\n  type : \"singleton\",\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.base(arguments);\n    this.__createdStyles = [];\n    this.__validators = {};\n    this.__queue = [];\n    this.__preferredFormats = this.getPreferredFormats();\n  },\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * List of known font definition formats (i.e. file extensions). Used to\n     * identify the type of each font file configured for a web font.\n     */\n    FONT_FORMATS : [\"eot\", \"woff2\", \"woff\", \"ttf\", \"svg\"],\n\n    /**\n     * Timeout (in ms) to wait before deciding that a web font was not loaded.\n     */\n    VALIDATION_TIMEOUT : 5000\n  },\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __createdStyles : null,\n    __styleSheet : null,\n    __validators : null,\n    __preferredFormats : null,\n    __queue : null,\n    __queueInterval : null,\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PUBLIC API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Adds the necessary font-face rule for a web font to the document. Also\n     * creates a web font Validator ({@link qx.bom.webfonts.Validator}) that\n     * checks if the webFont was applied correctly.\n     *\n     * @param familyName {String} Name of the web font\n     * @param sourcesList {Object} List of source URLs along with their style\n     * (e.g. fontStyle: \"italic\") and weight (e.g. fontWeight: \"bold\").\n     * For maximum compatibility, this should include EOT, WOFF and TTF versions\n     * of the font.\n     * @param callback {Function?} Optional event listener callback that will be\n     * executed once the validator has determined whether the webFont was\n     * applied correctly.\n     * See {@link qx.bom.webfonts.Validator#changeStatus}\n     * @param context {Object?} Optional context for the callback function\n     */\n    require : function(familyName, sourcesList, callback, context)\n    {\n      var sourceUrls = sourcesList.source;\n      var comparisonString = sourcesList.comparisonString;\n      var version = sourcesList.version;\n      var fontWeight = sourcesList.fontWeight;\n      var fontStyle = sourcesList.fontStyle;\n      var sources = [];\n      for (var i=0,l=sourceUrls.length; i<l; i++) {\n        var split = sourceUrls[i].split(\"#\");\n        var src = qx.util.ResourceManager.getInstance().toUri(split[0]);\n        if (split.length > 1) {\n          src = src + \"#\" + split[1];\n        }\n        sources.push(src);\n      }\n\n      // old IEs need a break in between adding @font-face rules\n      if (qx.core.Environment.get(\"engine.name\") == \"mshtml\" && (\n          parseInt(qx.core.Environment.get(\"engine.version\")) < 9 ||\n          qx.core.Environment.get(\"browser.documentmode\") < 9)) {\n        if (!this.__queueInterval) {\n          this.__queueInterval = new qx.event.Timer(100);\n          this.__queueInterval.addListener(\"interval\", this.__flushQueue, this);\n        }\n\n        if (!this.__queueInterval.isEnabled()) {\n          this.__queueInterval.start();\n        }\n\n        this.__queue.push([familyName, sources, fontWeight, fontStyle, comparisonString, version, callback, context]);\n      } else {\n        this.__require(familyName, sources, fontWeight, fontStyle, comparisonString, version, callback, context);\n      }\n    },\n\n\n    /**\n     * Removes a font's font-face definition from the style sheet. This means\n     * the font will no longer be available and any elements using it will\n     * fall back to the their regular font-families.\n     *\n     * @param familyName {String} font-family name\n     * @param fontWeight {String} the font-weight.\n     * @param fontStyle {String} the font-style.\n     */\n    remove : function(familyName, fontWeight, fontStyle) {\n      var fontLookupKey = this.__createFontLookupKey(familyName, fontWeight, fontStyle);\n      var index = null;\n      for (var i=0,l=this.__createdStyles.length; i<l; i++) {\n        if (this.__createdStyles[i] == fontLookupKey) {\n          index = i;\n          this.__removeRule(familyName, fontWeight, fontStyle);\n          break;\n        }\n      }\n      if (index !== null) {\n        qx.lang.Array.removeAt(this.__createdStyles, index);\n      }\n      if (familyName in this.__validators) {\n        this.__validators[familyName].dispose();\n        delete this.__validators[familyName];\n      }\n    },\n\n\n    /**\n     * Returns the preferred font format(s) for the currently used browser. Some\n     * browsers support multiple formats, e.g. WOFF and TTF or WOFF and EOT. In\n     * those cases, WOFF is considered the preferred format.\n     *\n     * @return {String[]} List of supported font formats ordered by preference\n     * or empty Array if none could be determined\n     */\n    getPreferredFormats : function()\n    {\n      var preferredFormats = [];\n      var browser = qx.core.Environment.get(\"browser.name\");\n      var browserVersion = qx.core.Environment.get(\"browser.version\");\n      var os = qx.core.Environment.get(\"os.name\");\n      var osVersion = qx.core.Environment.get(\"os.version\");\n\n      if ((browser == \"edge\" && browserVersion >= 14) ||\n          (browser == \"firefox\" && browserVersion >= 69) ||\n          (browser == \"chrome\" && browserVersion >= 36)) {\n        preferredFormats.push(\"woff2\");\n      }\n\n      if ((browser == \"ie\" && qx.core.Environment.get(\"browser.documentmode\") >= 9) ||\n          (browser == \"edge\" && browserVersion >= 12) ||\n          (browser == \"firefox\" && browserVersion >= 3.6) ||\n          (browser == \"chrome\" && browserVersion >= 6)) {\n        preferredFormats.push(\"woff\");\n      }\n\n      if ((browser == \"edge\" && browserVersion >= 12) ||\n          (browser == \"opera\" && browserVersion >= 10) ||\n          (browser == \"safari\" && browserVersion >= 3.1) ||\n          (browser == \"firefox\" && browserVersion >= 3.5) ||\n          (browser == \"chrome\" && browserVersion >= 4) ||\n          (browser == \"mobile safari\" && os == \"ios\" && osVersion >= 4.2)) {\n        preferredFormats.push(\"ttf\");\n      }\n\n      if (browser == \"ie\" && browserVersion >= 4) {\n        preferredFormats.push(\"eot\");\n      }\n\n      if (browser == \"mobileSafari\" && os == \"ios\" && osVersion >= 4.1) {\n        preferredFormats.push(\"svg\");\n      }\n\n      return preferredFormats;\n    },\n\n\n    /**\n     * Removes the styleSheet element used for all web font definitions from the\n     * document. This means all web fonts declared by the manager will no longer\n     * be available and elements using them will fall back to their regular\n     * font-families\n     */\n    removeStyleSheet : function()\n    {\n      this.__createdStyles = [];\n      if (this.__styleSheet) {\n        qx.bom.Stylesheet.removeSheet(this.__styleSheet);\n      }\n      this.__styleSheet = null;\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PRIVATE API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Creates a lookup key to index the created fonts.\n     * @param familyName {String} font-family name\n     * @param fontWeight {String} the font-weight.\n     * @param fontStyle {String} the font-style.\n     * @return {string} the font lookup key\n     */\n    __createFontLookupKey: function (familyName, fontWeight, fontStyle) {\n      var lookupKey = familyName + \"_\" + (fontWeight ? fontWeight : \"normal\") + \"_\" + (fontStyle ? fontStyle : \"normal\");\n      return lookupKey;\n    },\n\n    /**\n     * Does the actual work of adding stylesheet rules and triggering font\n     * validation\n     *\n     * @param familyName {String} Name of the web font\n     * @param sources {String[]} List of source URLs. For maximum compatibility,\n     * this should include EOT, WOFF and TTF versions of the font.\n     * @param fontWeight {String} the web font should be registered using a\n     * fontWeight font weight.\n     * @param fontStyle {String} the web font should be registered using an\n     * fontStyle font style.\n     * @param comparisonString {String} String to check whether the font has loaded or not\n     * @param version {String?} Optional version that is appended to the font URL to be able to override caching\n     * @param callback {Function?} Optional event listener callback that will be\n     * executed once the validator has determined whether the webFont was\n     * applied correctly.\n     * @param context {Object?} Optional context for the callback function\n     */\n    __require : function(familyName, sources, fontWeight, fontStyle, comparisonString, version, callback, context)\n    {\n      var fontLookupKey = this.__createFontLookupKey(familyName, fontWeight, fontStyle);\n      if (!this.__createdStyles.includes(fontLookupKey)) {\n        var sourcesMap = this.__getSourcesMap(sources);\n        var rule = this.__getRule(familyName, fontWeight, fontStyle, sourcesMap, version);\n\n        if (!rule) {\n          throw new Error(\"Couldn't create @font-face rule for WebFont \" + familyName + \"!\");\n        }\n\n        if (!this.__styleSheet) {\n          this.__styleSheet = qx.bom.Stylesheet.createElement();\n        }\n\n        try {\n          this.__addRule(rule);\n        }\n        catch(ex) {\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            this.warn(\"Error while adding @font-face rule:\", ex.message);\n            return;\n          }\n        }\n        this.__createdStyles.push(fontLookupKey);\n      }\n\n      if (!this.__validators[familyName]) {\n        this.__validators[familyName] = new qx.bom.webfonts.Validator(familyName, comparisonString);\n        this.__validators[familyName].setTimeout(qx.bom.webfonts.Manager.VALIDATION_TIMEOUT);\n        this.__validators[familyName].addListenerOnce(\"changeStatus\", this.__onFontChangeStatus, this);\n      }\n\n      if (callback) {\n        var cbContext = context || window;\n        this.__validators[familyName].addListenerOnce(\"changeStatus\", callback, cbContext);\n      }\n\n      this.__validators[familyName].validate();\n    },\n\n\n    /**\n     * Processes the next item in the queue\n     */\n    __flushQueue : function()\n    {\n      if (this.__queue.length == 0) {\n        this.__queueInterval.stop();\n        return;\n      }\n      var next = this.__queue.shift();\n      this.__require.apply(this, next);\n    },\n\n\n    /**\n     * Removes the font-face declaration if a font could not be validated\n     *\n     * @param ev {qx.event.type.Data} qx.bom.webfonts.Validator#changeStatus\n     */\n    __onFontChangeStatus : function(ev)\n    {\n      var result = ev.getData();\n      if (result.valid === false) {\n        qx.event.Timer.once(function() {\n          this.remove(result.family);\n        }, this, 250);\n      }\n    },\n\n\n    /**\n     * Uses a naive regExp match to determine the format of each defined source\n     * file for a webFont. Returns a map with the format names as keys and the\n     * corresponding source URLs as values.\n     *\n     * @param sources {String[]} Array of source URLs\n     * @return {Map} Map of formats and URLs\n     */\n    __getSourcesMap : function(sources)\n    {\n      var formats = qx.bom.webfonts.Manager.FONT_FORMATS;\n      var sourcesMap = {};\n      var reg = new RegExp(\"\\.(\" + formats.join(\"|\") + \")\");\n      for (var i=0, l=sources.length; i<l; i++) {\n        var match = reg.exec(sources[i]);\n        if (match) {\n          var type = match[1];\n          sourcesMap[type] = sources[i];\n        }\n      }\n      return sourcesMap;\n    },\n\n\n    /**\n     * Assembles the body of a font-face rule for a single webFont.\n     *\n     * @param familyName {String} Font-family name\n     * @param fontWeight {String} the web font should be registered using a\n     * fontWeight font weight.\n     * @param fontStyle {String} the web font should be registered using an\n     * fontStyle font style.\n     * @param sourcesMap {Map} Map of font formats and sources\n     * @param version {String?} Optional version to be appended to the URL\n     * @return {String} The computed CSS rule\n     */\n    __getRule : function(familyName, fontWeight, fontStyle, sourcesMap, version)\n    {\n      var rules = [];\n\n      var formatList = this.__preferredFormats.length > 0\n        ? this.__preferredFormats : qx.bom.webfonts.Manager.FONT_FORMATS;\n\n      for (var i=0,l=formatList.length; i<l; i++) {\n        var format = formatList[i];\n        if (sourcesMap[format]) {\n          rules.push(this.__getSourceForFormat(format, sourcesMap[format], version));\n        }\n      }\n\n      var rule = \"src: \" + rules.join(\",\\n\") + \";\";\n\n      rule = \"font-family: \" + familyName + \";\\n\" + rule;\n      rule = rule + \"\\nfont-style: \" + (fontStyle ? fontStyle : \"normal\") + \";\";\n      rule = rule + \"\\nfont-weight: \" + (fontWeight ? fontWeight : \"normal\") + \";\";\n\n      return rule;\n    },\n\n\n    /**\n     * Returns the full src value for a given font URL depending on the type\n\n     * @param format {String} The font format, one of eot, woff2, woff, ttf, svg\n     * @param url {String} The font file's URL\n     * @param version {String?} Optional version to be appended to the URL\n     * @return {String} The src directive\n     */\n    __getSourceForFormat : function(format, url, version)\n    {\n      if (version) {\n        url += \"?\" + version;\n      }\n\n      switch(format) {\n        case \"eot\": return \"url('\" + url + \"');\" +\n          \"src: url('\" + url + \"?#iefix') format('embedded-opentype')\";\n        case \"woff2\":\n          return \"url('\" + url + \"') format('woff2')\";\n        case \"woff\":\n          return \"url('\" + url + \"') format('woff')\";\n        case \"ttf\":\n          return \"url('\" + url + \"') format('truetype')\";\n        case \"svg\":\n          return \"url('\" + url + \"') format('svg')\";\n        default:\n          return null;\n      }\n    },\n\n\n    /**\n     * Adds a font-face rule to the document\n     *\n     * @param rule {String} The body of the CSS rule\n     */\n    __addRule : function(rule)\n    {\n      var completeRule = \"@font-face {\" + rule + \"}\\n\";\n\n      if (qx.core.Environment.get(\"browser.name\") == \"ie\" &&\n          qx.core.Environment.get(\"browser.documentmode\") < 9) {\n        var cssText = this.__fixCssText(this.__styleSheet.cssText);\n        cssText += completeRule;\n        this.__styleSheet.cssText = cssText;\n      }\n      else {\n        this.__styleSheet.insertRule(completeRule, this.__styleSheet.cssRules.length);\n      }\n    },\n\n\n    /**\n     * Removes the font-face declaration for the given font-family from the\n     * stylesheet\n     *\n     * @param familyName {String} The font-family name\n     * @param fontWeight {String} fontWeight font-weight.\n     * @param fontStyle {String} fontStyle font-style.\n     */\n    __removeRule : function(familyName, fontWeight, fontStyle)\n    {\n      // In IE and edge even if the rule was added with font-style first\n      // and font-weight second, it is not guaranteed that the attributes\n      // remain in that order. Therefore we check for both version,\n      // style first, weight second and weight first, style second.\n      // Without this fix the rule isn't found and removed reliable. \n      var regtext = \n        \"@font-face.*?\" + familyName + \n        \"(.*font-style: *\" + (fontStyle ? fontStyle : \"normal\") + \n        \".*font-weight: *\" + (fontWeight ? fontWeight : \"normal\")+\")|\" +\n        \"(.*font-weight: *\" + (fontWeight ? fontWeight : \"normal\") + \n        \".*font-style: *\" + (fontStyle ? fontStyle : \"normal\")+\")\"\n        ;\n      var reg = new RegExp(regtext, \"m\");\n      for (var i=0,l=document.styleSheets.length; i<l; i++) {\n        var sheet = document.styleSheets[i];\n        if (sheet.cssText) {\n          var cssText = sheet.cssText.replace(/\\n/g, \"\").replace(/\\r/g, \"\");\n          cssText = this.__fixCssText(cssText);\n          if (reg.exec(cssText)) {\n            cssText = cssText.replace(reg, \"\");\n          }\n          sheet.cssText = cssText;\n        }\n        else if (sheet.cssRules) {\n          for (var j=0,m=sheet.cssRules.length; j<m; j++) {\n            var cssText = sheet.cssRules[j].cssText.replace(/\\n/g, \"\").replace(/\\r/g, \"\");\n            if (reg.exec(cssText)) {\n              this.__styleSheet.deleteRule(j);\n              return;\n            }\n          }\n        }\n      }\n    },\n\n    /**\n     * IE 6 and 7 omit the trailing quote after the format name when\n     * querying cssText. This needs to be fixed before cssText is replaced\n     * or all rules will be invalid and no web fonts will work any more.\n     *\n     * @param cssText {String} CSS text\n     * @return {String} Fixed CSS text\n     */\n    __fixCssText : function(cssText)\n    {\n      return cssText.replace(\"'eot)\", \"'eot')\")\n        .replace(\"('embedded-opentype)\", \"('embedded-opentype')\");\n    }\n\n  },\n\n  /*\n  *****************************************************************************\n    DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    if (this.__queueInterval) {\n      this.__queueInterval.stop();\n      this.__queueInterval.dispose();\n    }\n    delete this.__createdStyles;\n    this.removeStyleSheet();\n    for (var prop in this.__validators) {\n      this.__validators[prop].dispose();\n    }\n    qx.bom.webfonts.Validator.removeDefaultHelperElements();\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n\n/**\n * This is a simple handle, which will be returned when an animation is\n * started using the {@link qx.bom.element.Animation#animate} method. It\n * basically controls the animation.\n *\n * @ignore(qx.bom.element.AnimationJs)\n */\nqx.Bootstrap.define(\"qx.bom.element.AnimationHandle\",\n{\n  extend : qx.event.Emitter,\n\n\n  construct : function() {\n    var css = qx.core.Environment.get(\"css.animation\");\n    this.__playState = css && css[\"play-state\"];\n    this.__playing = true;\n    this.addListenerOnce(\"end\", this.__setEnded, this);\n  },\n\n\n  events: {\n    /** Fired when the animation started via {@link qx.bom.element.Animation}. */\n    \"start\" : \"Element\",\n\n    /**\n     * Fired when the animation started via {@link qx.bom.element.Animation} has\n     * ended.\n     */\n    \"end\" : \"Element\",\n\n    /** Fired on every iteration of the animation. */\n    \"iteration\" : \"Element\"\n  },\n\n\n  members :\n  {\n    __playState : null,\n    __playing : false,\n    __ended : false,\n\n\n    /**\n     * Accessor of the playing state.\n     * @return {Boolean} <code>true</code>, if the animations is playing.\n     */\n    isPlaying : function() {\n      return this.__playing;\n    },\n\n\n    /**\n     * Accessor of the ended state.\n     * @return {Boolean} <code>true</code>, if the animations has ended.\n     */\n    isEnded : function() {\n      return this.__ended;\n    },\n\n\n    /**\n     * Accessor of the paused state.\n     * @return {Boolean} <code>true</code>, if the animations is paused.\n     */\n    isPaused : function() {\n      return this.el.style[this.__playState] == \"paused\";\n    },\n\n\n    /**\n     * Pauses the animation, if running. If not running, it will be ignored.\n     */\n    pause : function() {\n      if (this.el) {\n        this.el.style[this.__playState] = \"paused\";\n        this.el.$$animation.__playing = false;\n        // in case the animation is based on JS\n        if (this.animationId && qx.bom.element.AnimationJs) {\n          qx.bom.element.AnimationJs.pause(this);\n        }\n      }\n    },\n\n\n    /**\n     * Resumes an animation. This does not start the animation once it has ended.\n     * In this case you need to start a new Animation.\n     */\n    play : function() {\n      if (this.el) {\n        this.el.style[this.__playState] = \"running\";\n        this.el.$$animation.__playing = true;\n        // in case the animation is based on JS\n        if (this.i != undefined && qx.bom.element.AnimationJs) {\n          qx.bom.element.AnimationJs.play(this);\n        }\n      }\n    },\n\n\n    /**\n     * Stops the animation if running.\n     */\n    stop : function() {\n      if (this.el && qx.core.Environment.get(\"css.animation\") && !this.jsAnimation) {\n        this.el.style[this.__playState] = \"\";\n        this.el.style[qx.core.Environment.get(\"css.animation\").name] = \"\";\n        this.el.$$animation.__playing = false;\n        this.el.$$animation.__ended = true;\n      }\n      // in case the animation is based on JS\n      else if (this.jsAnimation) {\n        this.stopped = true;\n        qx.bom.element.AnimationJs.stop(this);\n      }\n    },\n\n    /**\n     * Set the animation state to ended\n     */\n    __setEnded : function(){\n      this.__playing = false;\n      this.__ended = true;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n\n/**\n * Responsible for checking all relevant CSS transform properties.\n *\n * Specs:\n * http://www.w3.org/TR/css3-2d-transforms/\n * http://www.w3.org/TR/css3-3d-transforms/\n *\n * @internal\n */\nqx.Bootstrap.define(\"qx.bom.client.CssTransform\",\n{\n  statics :\n  {\n    /**\n     * Main check method which returns an object if CSS animations are\n     * supported. This object contains all necessary keys to work with CSS\n     * animations.\n     * <ul>\n     *  <li><code>name</code> The name of the css transform style</li>\n     *  <li><code>style</code> The name of the css transform-style style</li>\n     *  <li><code>origin</code> The name of the transform-origin style</li>\n     *  <li><code>3d</code> Whether 3d transforms are supported</li>\n     *  <li><code>perspective</code> The name of the perspective style</li>\n     *  <li><code>perspective-origin</code> The name of the perspective-origin style</li>\n     *  <li><code>backface-visibility</code> The name of the backface-visibility style</li>\n     * </ul>\n     *\n     * @internal\n     * @return {Object|null} The described object or null, if animations are\n     *   not supported.\n     */\n    getSupport : function() {\n      var name = qx.bom.client.CssTransform.getName();\n      if (name != null) {\n        return {\n          \"name\" : name,\n          \"style\" : qx.bom.client.CssTransform.getStyle(),\n          \"origin\" : qx.bom.client.CssTransform.getOrigin(),\n          \"3d\" : qx.bom.client.CssTransform.get3D(),\n          \"perspective\" : qx.bom.client.CssTransform.getPerspective(),\n          \"perspective-origin\" : qx.bom.client.CssTransform.getPerspectiveOrigin(),\n          \"backface-visibility\" : qx.bom.client.CssTransform.getBackFaceVisibility()\n        };\n      }\n      return null;\n    },\n\n    /**\n     * Checks for the style name used to set the transform origin.\n     * @internal\n     * @return {String|null} The name of the style or null, if the style is\n     *   not supported.\n     */\n    getStyle : function() {\n      return qx.bom.Style.getPropertyName(\"transformStyle\");\n    },\n\n\n    /**\n     * Checks for the style name used to set the transform origin.\n     * @internal\n     * @return {String|null} The name of the style or null, if the style is\n     *   not supported.\n     */\n    getPerspective : function() {\n      return qx.bom.Style.getPropertyName(\"perspective\");\n    },\n\n\n    /**\n     * Checks for the style name used to set the perspective origin.\n     * @internal\n     * @return {String|null} The name of the style or null, if the style is\n     *   not supported.\n     */\n    getPerspectiveOrigin : function() {\n      return qx.bom.Style.getPropertyName(\"perspectiveOrigin\");\n    },\n\n\n    /**\n     * Checks for the style name used to set the backface visibility.\n     * @internal\n     * @return {String|null} The name of the style or null, if the style is\n     *   not supported.\n     */\n    getBackFaceVisibility : function() {\n      return qx.bom.Style.getPropertyName(\"backfaceVisibility\");\n    },\n\n\n    /**\n     * Checks for the style name used to set the transform origin.\n     * @internal\n     * @return {String|null} The name of the style or null, if the style is\n     *   not supported.\n     */\n    getOrigin : function() {\n      return qx.bom.Style.getPropertyName(\"transformOrigin\");\n    },\n\n\n    /**\n     * Checks for the style name used for transforms.\n     * @internal\n     * @return {String|null} The name of the style or null, if the style is\n     *   not supported.\n     */\n    getName : function() {\n      return qx.bom.Style.getPropertyName(\"transform\");\n    },\n\n\n    /**\n     * Checks if 3D transforms are supported.\n     * @internal\n     * @return {Boolean} <code>true</code>, if 3D transformations are supported\n     */\n    get3D : function() {\n      return qx.bom.client.CssTransform.getPerspective() != null;\n    }\n  },\n\n\n\n  defer : function(statics) {\n    qx.core.Environment.add(\"css.transform\", statics.getSupport);\n    qx.core.Environment.add(\"css.transform.3d\", statics.get3D);\n  }\n});","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n\n/**\n * This class is responsible for applying CSS3 transforms to plain DOM elements.\n * The implementation is mostly a cross browser wrapper for applying the\n * transforms.\n * The API is keep to the spec as close as possible.\n *\n * http://www.w3.org/TR/css3-3d-transforms/\n */\nqx.Bootstrap.define(\"qx.bom.element.Transform\",\n{\n  statics :\n  {\n    /** Internal storage of the CSS names */\n    __cssKeys : qx.core.Environment.get(\"css.transform\"),\n\n\n    /**\n     * Method to apply multiple transforms at once to the given element. It\n     * takes a map containing the transforms you want to apply plus the values\n     * e.g.<code>{scale: 2, rotate: \"5deg\"}</code>.\n     * The values can be either singular, which means a single value will\n     * be added to the CSS. If you give an array, the values will be split up\n     * and each array entry will be used for the X, Y or Z dimension in that\n     * order e.g. <code>{scale: [2, 0.5]}</code> will result in a element\n     * double the size in X direction and half the size in Y direction.\n     * The values can be either singular, which means a single value will\n     * be added to the CSS. If you give an array, the values will be join to\n     * a string.\n     * 3d suffixed properties will be taken for translate and scale if they are\n     * available and an array with three values is given.\n     * Make sure your browser supports all transformations you apply.\n     *\n     * @param el {Element} The element to apply the transformation.\n     * @param transforms {Map} The map containing the transforms and value.\n     */\n    transform : function(el, transforms) {\n      var transformCss = this.getTransformValue(transforms);\n      if (this.__cssKeys != null) {\n        var style = this.__cssKeys[\"name\"];\n        el.style[style] = transformCss;\n      }\n    },\n\n\n    /**\n     * Translates the given element by the given value. For further details, take\n     * a look at the {@link #transform} method.\n     * @param el {Element} The element to apply the transformation.\n     * @param value {String|Array} The value to translate e.g. <code>\"10px\"</code>.\n     */\n    translate : function(el, value) {\n      this.transform(el, {translate: value});\n    },\n\n\n    /**\n     * Scales the given element by the given value. For further details, take\n     * a look at the {@link #transform} method.\n     * @param el {Element} The element to apply the transformation.\n     * @param value {Number|Array} The value to scale.\n     */\n    scale : function(el, value) {\n      this.transform(el, {scale: value});\n    },\n\n\n    /**\n     * Rotates the given element by the given value. For further details, take\n     * a look at the {@link #transform} method.\n     * @param el {Element} The element to apply the transformation.\n     * @param value {String|Array} The value to rotate e.g. <code>\"90deg\"</code>.\n     */\n    rotate : function(el, value) {\n      this.transform(el, {rotate: value});\n    },\n\n\n    /**\n     * Skews the given element by the given value. For further details, take\n     * a look at the {@link #transform} method.\n     * @param el {Element} The element to apply the transformation.\n     * @param value {String|Array} The value to skew e.g. <code>\"90deg\"</code>.\n     */\n    skew : function(el, value) {\n      this.transform(el, {skew: value});\n    },\n\n\n    /**\n     * Converts the given map to a string which could be added to a css\n     * stylesheet.\n     * @param transforms {Map} The transforms map. For a detailed description,\n     * take a look at the {@link #transform} method.\n     * @return {String} The CSS value.\n     */\n    getCss : function(transforms) {\n      var transformCss = this.getTransformValue(transforms);\n      if (this.__cssKeys != null) {\n        var style = this.__cssKeys[\"name\"];\n        return qx.bom.Style.getCssName(style) + \":\" + transformCss + \";\";\n      }\n      return \"\";\n    },\n\n\n    /**\n     * Sets the transform-origin property of the given element.\n     *\n     * Spec: http://www.w3.org/TR/css3-3d-transforms/#transform-origin-property\n     * @param el {Element} The dom element to set the property.\n     * @param value {String} CSS position values like <code>50% 50%</code> or\n     *   <code>left top</code>.\n     */\n    setOrigin : function(el, value) {\n      if (this.__cssKeys != null) {\n        el.style[this.__cssKeys[\"origin\"]] = value;\n      }\n    },\n\n\n    /**\n     * Returns the transform-origin property of the given element.\n     *\n     * Spec: http://www.w3.org/TR/css3-3d-transforms/#transform-origin-property\n     * @param el {Element} The dom element to read the property.\n     * @return {String} The set property, e.g. <code>50% 50%</code>\n     */\n    getOrigin : function(el) {\n      if (this.__cssKeys != null) {\n        return el.style[this.__cssKeys[\"origin\"]];\n      }\n      return \"\";\n    },\n\n\n    /**\n     * Sets the transform-style property of the given element.\n     *\n     * Spec: http://www.w3.org/TR/css3-3d-transforms/#transform-style-property\n     * @param el {Element} The dom element to set the property.\n     * @param value {String} Either <code>flat</code> or <code>preserve-3d</code>.\n     */\n    setStyle : function(el, value) {\n      if (this.__cssKeys != null) {\n        el.style[this.__cssKeys[\"style\"]] = value;\n      }\n    },\n\n\n    /**\n     * Returns the transform-style property of the given element.\n     *\n     * Spec: http://www.w3.org/TR/css3-3d-transforms/#transform-style-property\n     * @param el {Element} The dom element to read the property.\n     * @return {String} The set property, either <code>flat</code> or\n     *   <code>preserve-3d</code>.\n     */\n    getStyle : function(el) {\n      if (this.__cssKeys != null) {\n        return el.style[this.__cssKeys[\"style\"]];\n      }\n      return \"\";\n    },\n\n\n    /**\n     * Sets the perspective property of the given element.\n     *\n     * Spec: http://www.w3.org/TR/css3-3d-transforms/#perspective-property\n     * @param el {Element} The dom element to set the property.\n     * @param value {Number} The perspective layer. Numbers between 100\n     *   and 5000 give the best results.\n     */\n    setPerspective : function(el, value) {\n      if (this.__cssKeys != null) {\n        el.style[this.__cssKeys[\"perspective\"]] = value + \"px\";\n      }\n    },\n\n\n    /**\n     * Returns the perspective property of the given element.\n     *\n     * Spec: http://www.w3.org/TR/css3-3d-transforms/#perspective-property\n     * @param el {Element} The dom element to read the property.\n     * @return {String} The set property, e.g. <code>500</code>\n     */\n    getPerspective : function(el) {\n      if (this.__cssKeys != null) {\n        return el.style[this.__cssKeys[\"perspective\"]];\n      }\n      return \"\";\n    },\n\n\n    /**\n     * Sets the perspective-origin property of the given element.\n     *\n     * Spec: http://www.w3.org/TR/css3-3d-transforms/#perspective-origin-property\n     * @param el {Element} The dom element to set the property.\n     * @param value {String} CSS position values like <code>50% 50%</code> or\n     *   <code>left top</code>.\n     */\n    setPerspectiveOrigin : function(el, value) {\n      if (this.__cssKeys != null) {\n        el.style[this.__cssKeys[\"perspective-origin\"]] = value;\n      }\n    },\n\n\n    /**\n     * Returns the perspective-origin property of the given element.\n     *\n     * Spec: http://www.w3.org/TR/css3-3d-transforms/#perspective-origin-property\n     * @param el {Element} The dom element to read the property.\n     * @return {String} The set property, e.g. <code>50% 50%</code>\n     */\n    getPerspectiveOrigin : function(el) {\n      if (this.__cssKeys != null) {\n        var value = el.style[this.__cssKeys[\"perspective-origin\"]];\n        if (value != \"\") {\n          return value;\n        } else {\n          var valueX = el.style[this.__cssKeys[\"perspective-origin\"] + \"X\"];\n          var valueY = el.style[this.__cssKeys[\"perspective-origin\"] + \"Y\"];\n          if (valueX != \"\") {\n            return valueX + \" \" + valueY;\n          }\n        }\n      }\n      return \"\";\n    },\n\n\n    /**\n     * Sets the backface-visibility property of the given element.\n     *\n     * Spec: http://www.w3.org/TR/css3-3d-transforms/#backface-visibility-property\n     * @param el {Element} The dom element to set the property.\n     * @param value {Boolean} <code>true</code> if the backface should be visible.\n     */\n    setBackfaceVisibility : function(el, value) {\n      if (this.__cssKeys != null) {\n        el.style[this.__cssKeys[\"backface-visibility\"]] = value ? \"visible\" : \"hidden\";\n      }\n    },\n\n\n    /**\n     * Returns the backface-visibility property of the given element.\n     *\n     * Spec: http://www.w3.org/TR/css3-3d-transforms/#backface-visibility-property\n     * @param el {Element} The dom element to read the property.\n     * @return {Boolean} <code>true</code>, if the backface is visible.\n     */\n    getBackfaceVisibility : function(el) {\n      if (this.__cssKeys != null) {\n        return el.style[this.__cssKeys[\"backface-visibility\"]] == \"visible\";\n      }\n      return true;\n    },\n\n\n    /**\n     * Converts the given transforms map to a valid CSS string.\n     *\n     * @param transforms {Map} A map containing the transforms.\n     * @return {String} The CSS transforms.\n     */\n    getTransformValue : function(transforms) {\n      var value = \"\";\n      var properties3d = [\"translate\", \"scale\"];\n\n      for (var property in transforms) {\n        var params = transforms[property];\n\n        // if an array is given\n        if (qx.Bootstrap.isArray(params)) {\n          // use 3d properties for translate and scale if all 3 parameter are given\n          if (params.length === 3 &&\n            properties3d.indexOf(property) > -1 &&\n            qx.core.Environment.get(\"css.transform.3d\")\n          ) {\n            value += this._compute3dProperty(property, params);\n          }\n\n          // use axis related properties\n          else {\n            value += this._computeAxisProperties(property, params);\n          }\n\n        // case for single values given\n        } else {\n          // single value case\n          value += property + \"(\" + params + \") \";\n        }\n      }\n\n      return value.trim();\n    },\n\n\n    /**\n     * Helper function to create 3d property.\n     *\n     * @param property {String} Property of transform, e.g. translate\n     * @param params {Array} Array with three values, each one stands for an axis.\n     *\n     * @return {String} Computed property and its value\n     */\n    _compute3dProperty : function(property, params)\n    {\n      var cssValue = \"\";\n      property += \"3d\";\n\n      for (var i=0; i < params.length; i++) {\n        if (params[i] == null) {\n          params[i] = 0;\n        }\n      }\n\n      cssValue += property + \"(\" + params.join(\", \") + \") \";\n\n      return cssValue;\n    },\n\n\n    /**\n     * Helper function to create axis related properties.\n     *\n     * @param property {String} Property of transform, e.g. rotate\n     * @param params {Array} Array with values, each one stands for an axis.\n     *\n     * @return {String} Computed property and its value\n     */\n    _computeAxisProperties : function(property, params)\n    {\n      var value = \"\";\n      var dimensions = [\"X\", \"Y\", \"Z\"];\n      for (var i=0; i < params.length; i++) {\n        if (params[i] == null ||\n          (i == 2 && !qx.core.Environment.get(\"css.transform.3d\"))) {\n          continue;\n        }\n        value += property + dimensions[i] + \"(\";\n        value += params[i];\n        value += \") \";\n      }\n\n      return value;\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Daniel Wagner (d_wagner)\n\n************************************************************************ */\n/**\n * Internal class which contains the checks used by {@link qx.core.Environment}.\n * All checks in here are marked as internal which means you should never use\n * them directly.\n *\n * This class should contain all XML-related checks\n *\n * @internal\n */\nqx.Bootstrap.define(\"qx.bom.client.Xml\",\n{\n  statics:\n  {\n    /**\n     * Checks if XML is supported\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if XML is supported\n     */\n    getImplementation : function() {\n      return document.implementation && document.implementation.hasFeature &&\n        document.implementation.hasFeature(\"XML\", \"1.0\");\n    },\n\n\n    /**\n     * Checks if an XML DOMParser is available\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if DOMParser is supported\n     */\n    getDomParser : function() {\n      return typeof window.DOMParser !== \"undefined\";\n    },\n\n\n    /**\n     * Checks if the proprietary selectSingleNode method is available on XML DOM\n     * nodes.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if selectSingleNode is available\n     */\n    getSelectSingleNode : function()\n    {\n      return typeof qx.xml.Document.create().selectSingleNode !== \"undefined\";\n    },\n\n\n    /**\n     * Checks if the proprietary selectNodes method is available on XML DOM\n     * nodes.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if selectSingleNode is available\n     */\n    getSelectNodes : function()\n    {\n      return typeof qx.xml.Document.create().selectNodes !== \"undefined\";\n    },\n\n\n    /**\n     * Checks availability of the getElementsByTagNameNS XML DOM method.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if getElementsByTagNameNS is available\n     */\n    getElementsByTagNameNS : function()\n    {\n      return typeof qx.xml.Document.create().getElementsByTagNameNS !== \"undefined\";\n    },\n\n\n    /**\n     * Checks if MSXML-style DOM Level 2 properties are supported.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if DOM Level 2 properties are supported\n     */\n    getDomProperties : function()\n    {\n      var doc = qx.xml.Document.create();\n      return (\"getProperty\" in doc && typeof doc.getProperty(\"SelectionLanguage\") === \"string\");\n    },\n\n\n    /**\n     * Checks if the getAttributeNS and setAttributeNS methods are supported on\n     * XML DOM elements\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if get/setAttributeNS is supported\n     */\n    getAttributeNS : function()\n    {\n      var docElem = qx.xml.Document.fromString(\"<a></a>\").documentElement;\n      return typeof docElem.getAttributeNS === \"function\" &&\n        typeof docElem.setAttributeNS === \"function\";\n    },\n\n\n    /**\n     * Checks if the createElementNS method is supported on XML DOM documents\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if createElementNS is supported\n     */\n    getCreateElementNS : function()\n    {\n      return typeof qx.xml.Document.create().createElementNS === \"function\";\n    },\n\n\n    /**\n     * Checks if the proprietary createNode method is supported on XML DOM\n     * documents\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if DOM Level 2 properties are supported\n     */\n    getCreateNode : function()\n    {\n      return typeof qx.xml.Document.create().createNode !== \"undefined\";\n    },\n\n\n    /**\n     * Checks if the proprietary getQualifiedItem method is supported for XML\n     * element attributes\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if DOM Level 2 properties are supported\n     */\n    getQualifiedItem : function()\n    {\n      var docElem = qx.xml.Document.fromString(\"<a></a>\").documentElement;\n      return typeof docElem.attributes.getQualifiedItem !== \"undefined\";\n    }\n  },\n\n  defer : function(statics)\n  {\n    qx.core.Environment.add(\"xml.implementation\", statics.getImplementation);\n    qx.core.Environment.add(\"xml.domparser\", statics.getDomParser);\n    qx.core.Environment.add(\"xml.selectsinglenode\", statics.getSelectSingleNode);\n    qx.core.Environment.add(\"xml.selectnodes\", statics.getSelectNodes);\n    qx.core.Environment.add(\"xml.getelementsbytagnamens\", statics.getElementsByTagNameNS);\n    qx.core.Environment.add(\"xml.domproperties\", statics.getDomProperties);\n    qx.core.Environment.add(\"xml.attributens\", statics.getAttributeNS);\n    qx.core.Environment.add(\"xml.createelementns\", statics.getCreateElementNS);\n    qx.core.Environment.add(\"xml.createnode\", statics.getCreateNode);\n    qx.core.Environment.add(\"xml.getqualifieditem\", statics.getQualifiedItem);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n************************************************************************ */\n\n/**\n * Checks whether a given font is available on the document and fires events\n * accordingly.\n * \n * This class does not need to be disposed, unless you want to abort the validation\n * early\n */\nqx.Class.define(\"qx.bom.webfonts.Validator\", {\n\n  extend : qx.core.Object,\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param fontFamily {String} The name of the font to be verified\n   * @param comparisonString {String?} String to be used to detect whether a font was loaded or not\n   * whether the font has loaded properly\n   */\n  construct : function(fontFamily, comparisonString)\n  {\n    this.base(arguments);\n\n    if (comparisonString) {\n      this.setComparisonString(comparisonString);\n    }\n\n    if (fontFamily) {\n      this.setFontFamily(fontFamily);\n      this.__requestedHelpers = this._getRequestedHelpers();\n    }\n  },\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * Sets of serif and sans-serif fonts to be used for size comparisons.\n     * At least one of these fonts should be present on any system.\n     */\n    COMPARISON_FONTS : {\n      sans : [\"Arial\", \"Helvetica\", \"sans-serif\"],\n      serif : [\"Times New Roman\", \"Georgia\", \"serif\"]\n    },\n\n\n    /**\n     * Map of common CSS attributes to be used for all  size comparison elements\n     */\n    HELPER_CSS : {\n      position: \"absolute\",\n      margin: \"0\",\n      padding: \"0\",\n      top: \"-1000px\",\n      left: \"-1000px\",\n      fontSize: \"350px\",\n      width: \"auto\",\n      height: \"auto\",\n      lineHeight: \"normal\",\n      fontVariant: \"normal\",\n      visibility: \"hidden\"\n    },\n\n\n    /**\n     * The string to be used in the size comparison elements. This is the default string\n     * which is used for the {@link #COMPARISON_FONTS} and the font to be validated. It\n     * can be overridden for the font to be validated using the {@link #comparisonString}\n     * property.\n     */\n    COMPARISON_STRING : \"WEei\",\n    __defaultSizes : null,\n    __defaultHelpers : null,\n\n\n    /**\n     * Removes the two common helper elements used for all size comparisons from\n     * the DOM\n     */\n    removeDefaultHelperElements : function()\n    {\n      var defaultHelpers = qx.bom.webfonts.Validator.__defaultHelpers;\n      if (defaultHelpers) {\n        for (var prop in defaultHelpers) {\n          document.body.removeChild(defaultHelpers[prop]);\n        }\n      }\n      delete qx.bom.webfonts.Validator.__defaultHelpers;\n    }\n  },\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /**\n     * The font-family this validator should check\n     */\n    fontFamily :\n    {\n      nullable : true,\n      init : null,\n      apply : \"_applyFontFamily\"\n    },\n\n    /**\n     * Comparison string used to check whether the font has loaded or not.\n     */\n    comparisonString :\n    {\n      nullable : true,\n      init : null\n    },\n\n    /**\n     * Time in milliseconds from the beginning of the check until it is assumed\n     * that a font is not available\n     */\n    timeout :\n    {\n      check : \"Integer\",\n      init : 5000\n    }\n  },\n\n\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events :\n  {\n    /**\n     * Fired when the status of a web font has been determined. The event data\n     * is a map with the keys \"family\" (the font-family name) and \"valid\"\n     * (Boolean).\n     */\n    \"changeStatus\" : \"qx.event.type.Data\"\n  },\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __requestedHelpers : null,\n    __checkTimer : null,\n    __checkStarted : null,\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PUBLIC API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Validates the font\n     */\n    validate : function()\n    {\n      this.__checkStarted = new Date().getTime();\n\n      if (this.__checkTimer) {\n        this.__checkTimer.restart();\n      }\n      else {\n        this.__checkTimer = new qx.event.Timer(100);\n        this.__checkTimer.addListener(\"interval\", this.__onTimerInterval, this);\n        // Give the browser a chance to render the new elements\n        qx.event.Timer.once(function() {\n          this.__checkTimer.start();\n        }, this, 0);\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PROTECTED API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Removes the helper elements from the DOM\n     */\n    _reset : function()\n    {\n      if (this.__requestedHelpers) {\n        for (var prop in this.__requestedHelpers) {\n          var elem = this.__requestedHelpers[prop];\n          document.body.removeChild(elem);\n        }\n        this.__requestedHelpers = null;\n      }\n    },\n\n\n    /**\n     * Checks if the font is available by comparing the widths of the elements\n     * using the generic fonts to the widths of the elements using the font to\n     * be validated\n     *\n     * @return {Boolean} Whether or not the font caused the elements to differ\n     * in size\n     */\n    _isFontValid : function()\n    {\n      if (!qx.bom.webfonts.Validator.__defaultSizes) {\n        this.__init();\n      }\n\n      if (!this.__requestedHelpers) {\n        this.__requestedHelpers = this._getRequestedHelpers();\n      }\n\n      // force rerendering for chrome\n      this.__requestedHelpers.sans.style.visibility = \"visible\";\n      this.__requestedHelpers.sans.style.visibility = \"hidden\";\n      this.__requestedHelpers.serif.style.visibility = \"visible\";\n      this.__requestedHelpers.serif.style.visibility = \"hidden\";\n\n      var requestedSans = qx.bom.element.Dimension.getWidth(this.__requestedHelpers.sans);\n      var requestedSerif = qx.bom.element.Dimension.getWidth(this.__requestedHelpers.serif);\n\n      var cls = qx.bom.webfonts.Validator;\n      if (requestedSans !== cls.__defaultSizes.sans ||\n          requestedSerif !== cls.__defaultSizes.serif)\n      {\n        return true;\n      }\n      return false;\n    },\n\n\n    /**\n     * Creates the two helper elements styled with the font to be checked\n     *\n     * @return {Map} A map with the keys <pre>sans</pre> and <pre>serif</pre>\n     * and the created span elements as values\n     */\n    _getRequestedHelpers : function()\n    {\n      var fontsSans = [this.getFontFamily()].concat(qx.bom.webfonts.Validator.COMPARISON_FONTS.sans);\n      var fontsSerif = [this.getFontFamily()].concat(qx.bom.webfonts.Validator.COMPARISON_FONTS.serif);\n      return {\n        sans : this._getHelperElement(fontsSans, this.getComparisonString()),\n        serif : this._getHelperElement(fontsSerif, this.getComparisonString())\n      };\n    },\n\n\n    /**\n     * Creates a span element with the comparison text (either {@link #COMPARISON_STRING} or\n     * {@link #comparisonString}) and styled with the default CSS ({@link #HELPER_CSS}) plus\n     * the given font-family value and appends it to the DOM\n     *\n     * @param fontFamily {String} font-family string\n     * @param comparisonString {String?} String to be used to detect whether a font was loaded or not\n     * @return {Element} the created DOM element\n     */\n    _getHelperElement : function(fontFamily, comparisonString)\n    {\n      var styleMap = qx.lang.Object.clone(qx.bom.webfonts.Validator.HELPER_CSS);\n      if (fontFamily) {\n        if (styleMap.fontFamily) {\n          styleMap.fontFamily += \",\" + fontFamily.join(\",\");\n        }\n        else {\n          styleMap.fontFamily = fontFamily.join(\",\");\n        }\n      }\n\n      var elem = document.createElement(\"span\");\n      elem.innerHTML = comparisonString || qx.bom.webfonts.Validator.COMPARISON_STRING;\n      qx.bom.element.Style.setStyles(elem, styleMap);\n      document.body.appendChild(elem);\n      return elem;\n    },\n\n\n    // property apply\n    _applyFontFamily : function(value, old)\n    {\n      if (value !== old) {\n        this._reset();\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PRIVATE API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Creates the default helper elements and gets their widths\n     */\n    __init : function()\n    {\n      var cls = qx.bom.webfonts.Validator;\n      if (!cls.__defaultHelpers) {\n        cls.__defaultHelpers = {\n          sans : this._getHelperElement(cls.COMPARISON_FONTS.sans),\n          serif : this._getHelperElement(cls.COMPARISON_FONTS.serif)\n        };\n      }\n\n      cls.__defaultSizes = {\n        sans : qx.bom.element.Dimension.getWidth(cls.__defaultHelpers.sans),\n        serif: qx.bom.element.Dimension.getWidth(cls.__defaultHelpers.serif)\n      };\n    },\n\n\n    /**\n     * Triggers helper element size comparison and fires a ({@link #changeStatus})\n     * event with the result.\n     */\n    __onTimerInterval : function()\n    {\n      if (this._isFontValid()) {\n        this.__checkTimer.stop();\n        this._reset();\n        this.fireDataEvent(\"changeStatus\", {\n          family : this.getFontFamily(),\n          valid : true\n        });\n      }\n      else\n      {\n        var now = new Date().getTime();\n        if (now - this.__checkStarted >= this.getTimeout()) {\n          this.__checkTimer.stop();\n          this._reset();\n          this.fireDataEvent(\"changeStatus\", {\n            family : this.getFontFamily(),\n            valid : false\n          });\n        }\n      }\n    }\n\n  },\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    this._reset();\n    this.__checkTimer.stop();\n    this.__checkTimer.removeListener(\"interval\", this.__onTimerInterval, this);\n    this._disposeObjects(\"__checkTimer\");\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Processes the incoming log entry and displays it by means of the native\n * logging capabilities of the client.\n *\n * Supported browsers:\n * * Firefox <4 using FireBug (if available).\n * * Firefox >=4 using the Web Console.\n * * WebKit browsers using the Web Inspector/Developer Tools.\n * * Internet Explorer 8+ using the F12 Developer Tools.\n * * Opera >=10.60 using either the Error Console or Dragonfly\n *\n * Currently unsupported browsers:\n * * Opera <10.60\n *\n * @require(qx.log.appender.Formatter)\n * @require(qx.bom.client.Html)\n */\nqx.Bootstrap.define(\"qx.log.appender.Native\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * Processes a single log entry\n     *\n     * @param entry {Map} The entry to process\n     */\n    process : function(entry)\n    {\n      if (qx.core.Environment.get(\"html.console\")) {\n        // Firefox 4's Web Console doesn't support \"debug\"\n        var level = console[entry.level] ? entry.level : \"log\";\n        if (console[level]) {\n          var formatter = qx.log.appender.Formatter.getFormatter();\n          var args = formatter.toText(entry);\n          console[level](args);\n        }\n      }\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.log.Logger.register(statics);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Windows classic color theme\n */\nqx.Theme.define(\"qx.theme.classic.Color\",\n{\n  colors :\n  {\n    \"background\" : \"#EBE9ED\",\n    \"background-light\" : \"#F3F0F5\",\n    \"light-background\" : \"#EBE9ED\", // compatibility\n    \"background-focused\" : \"#F3F8FD\",\n    \"background-focused-inner\" : \"#DBEAF9\",\n    \"background-disabled\" : \"#F4F4F4\",\n    \"background-selected\" : \"#3E6CA8\",\n    \"background-field\" : \"white\",\n    \"background-pane\" : \"#FAFBFE\",\n    \"background-invalid\" : \"#FFE0E0\",\n\n    \"border-lead\" : \"#888888\",\n\n    \"border-light\" : \"white\",\n    \"border-light-shadow\" : \"#DCDFE4\",\n    \"border-dark-shadow\" : \"#A7A6AA\",\n    \"border-dark\" : \"#85878C\",\n\n    // alias for compatibility reasons\n    \"border-main\" : \"#85878C\",\n\n    \"border-focused-light\" : \"#BCCEE5\",\n    \"border-focused-light-shadow\" : \"#A5BDDE\",\n    \"border-focused-dark-shadow\" : \"#7CA0CF\",\n    \"border-focused-dark\" : \"#3E6CA8\",\n\n    \"border-separator\" : \"#808080\",\n\n    // shadows\n    \"shadow\" : qx.core.Environment.get(\"css.rgba\") ? \"rgba(0, 0, 0, 0.4)\" : \"#666666\",\n\n    \"invalid\" : \"#990000\",\n    \"border-focused-invalid\" : \"#FF9999\",\n\n    \"text\" : \"black\",\n    \"text-disabled\" : \"#A7A6AA\",\n    \"text-selected\" : \"white\",\n    \"text-focused\" : \"#3E5B97\",\n    \"text-placeholder\" : \"#CBC8CD\",\n\n    \"tooltip\" : \"#FFFFE1\",\n    \"tooltip-text\" : \"black\",\n    \"tooltip-invalid\" : \"#C82C2C\",\n\n    \"button\" : \"#EBE9ED\",\n    \"button-hovered\" : \"#F6F5F7\",\n    \"button-abandoned\" : \"#F9F8E9\",\n    \"button-checked\" : \"#F3F0F5\",\n\n    \"window-active-caption-text\" : [ 255, 255, 255 ],\n    \"window-inactive-caption-text\" : [ 255, 255, 255 ],\n    \"window-active-caption\" : [ 51, 94, 168 ],\n    \"window-inactive-caption\" : [ 111, 161, 217 ],\n\n    \"date-chooser\" : \"white\",\n    \"date-chooser-title\" : [ 116, 116, 116 ],\n    \"date-chooser-selected\" : [ 52, 52, 52 ],\n\n    \"effect\" : [ 254, 200, 60 ],\n    \"table-pane\" : \"white\",\n    \"table-header\" : [ 242, 242, 242 ],\n    \"table-header-border\" : [ 214, 213, 217 ],\n    \"table-header-cell\" : [ 235, 234, 219 ],\n    \"table-header-cell-hover\" : [ 255, 255, 255 ],\n    \"table-focus-indicator\" : [ 179, 217, 255 ],\n    \"table-row-background-focused-selected\" : [ 90, 138, 211 ],\n    \"table-row-background-focused\" : [ 221, 238, 255 ],\n    \"table-row-background-selected\" : [ 51, 94, 168 ],\n    \"table-row-background-even\" : [ 250, 248, 243 ],\n    \"table-row-background-odd\" : [ 255, 255, 255 ],\n    \"table-row-selected\" : [ 255, 255, 255 ],\n    \"table-row\" : [ 0, 0, 0],\n    \"table-row-line\" : \"#EEE\",\n    \"table-column-line\" : \"#EEE\",\n\n    \"progressive-table-header\" : \"#AAAAAA\",\n\n    \"progressive-table-row-background-even\" : [ 250, 248, 243 ],\n    \"progressive-table-row-background-odd\"  : [ 255, 255, 255 ],\n\n    \"progressive-progressbar-background\"         : \"gray\",\n    \"progressive-progressbar-indicator-done\"     : \"#CCCCCC\",\n    \"progressive-progressbar-indicator-undone\"   : \"white\",\n    \"progressive-progressbar-percent-background\" : \"gray\",\n    \"progressive-progressbar-percent-text\"       : \"white\"\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n     2006 STZ-IDA, Germany, http://www.stz-ida.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n   * Sebastian Werner (wpbasti)\n   * Andreas Ecker (ecker)\n   * Til Schneider (til132)\n   * Martin Wittemann (martinwittemann)\n\n************************************************************************* */\n\n/* ************************************************************************\n\n\n************************************************************************* */\n\n/**\n * The classic qooxdoo decoration theme.\n */\nqx.Theme.define(\"qx.theme.classic.Decoration\",\n{\n  aliases : {\n    decoration : \"qx/decoration/Classic\"\n  },\n\n  decorations :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      CORE\n    ---------------------------------------------------------------------------\n    */\n\n    \"main\" :\n    {\n      style :\n      {\n        width : 1,\n        color : \"border-dark\"\n      }\n    },\n\n\n    \"keyboard-focus\" :\n    {\n      style :\n      {\n        width : 1,\n        color : \"black\",\n        style : \"dotted\"\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      THREE DIMENSIONAL\n    ---------------------------------------------------------------------------\n    */\n\n    \"inset\" :\n    {\n      style :\n      {\n        width : 1,\n        innerWidth: 1,\n        color : [ \"border-dark-shadow\", \"border-light\", \"border-light\", \"border-dark-shadow\" ],\n        innerColor : [ \"border-dark\", \"border-light-shadow\", \"border-light-shadow\", \"border-dark\" ]\n      }\n    },\n\n    \"outset\" :\n    {\n      style :\n      {\n        width : 1,\n        innerWidth: 1,\n        color : [ \"border-light-shadow\", \"border-dark\", \"border-dark\", \"border-light-shadow\" ],\n        innerColor : [ \"border-light\", \"border-dark-shadow\", \"border-dark-shadow\", \"border-light\" ]\n      }\n    },\n\n    \"groove\" :\n    {\n      style :\n      {\n        width : 1,\n        innerWidth: 1,\n        color : [ \"border-dark-shadow\", \"border-light\", \"border-light\", \"border-dark-shadow\" ],\n        innerColor : [ \"border-light\", \"border-dark-shadow\", \"border-dark-shadow\", \"border-light\" ]\n      }\n    },\n\n    \"ridge\" :\n    {\n      style :\n      {\n        width : 1,\n        innerWidth: 1,\n        color : [ \"border-light\", \"border-dark-shadow\", \"border-dark-shadow\", \"border-light\" ],\n        innerColor : [ \"border-dark-shadow\", \"border-light\", \"border-light\", \"border-dark-shadow\" ]\n      }\n    },\n\n    \"inset-thin\" :\n    {\n      style :\n      {\n        width : 1,\n        color : [ \"border-dark-shadow\", \"border-light\", \"border-light\", \"border-dark-shadow\" ]\n      }\n    },\n\n    \"outset-thin\" :\n    {\n      style :\n      {\n        width : 1,\n        color : [ \"border-light\", \"border-dark-shadow\", \"border-dark-shadow\", \"border-light\" ]\n      }\n    },\n\n    \"focused-inset\" :\n    {\n      style :\n      {\n        width : 1,\n        innerWidth: 1,\n        color : [ \"border-focused-dark-shadow\", \"border-focused-light\", \"border-focused-light\", \"border-focused-dark-shadow\" ],\n        innerColor : [ \"border-focused-dark\", \"border-focused-light-shadow\", \"border-focused-light-shadow\", \"border-focused-dark\" ]\n      }\n    },\n\n    \"focused-outset\" :\n    {\n      style :\n      {\n        width : 1,\n        innerWidth: 1,\n        color : [ \"border-focused-light-shadow\", \"border-focused-dark\", \"border-focused-dark\", \"border-focused-light-shadow\" ],\n        innerColor : [ \"border-focused-light\", \"border-focused-dark-shadow\", \"border-focused-dark-shadow\", \"border-focused-light\" ]\n      }\n    },\n\n    \"border-invalid\" :\n    {\n      style :\n      {\n        width : 1,\n        innerWidth: 1,\n        color : [ \"border-dark-shadow\", \"border-light\", \"border-light\", \"border-dark-shadow\" ],\n        innerColor : \"invalid\"\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SEPARATOR\n    ---------------------------------------------------------------------------\n    */\n\n    \"separator-horizontal\" :\n    {\n      style :\n      {\n        widthLeft : 1,\n        colorLeft : \"border-separator\"\n      }\n    },\n\n    \"separator-vertical\" :\n    {\n      style :\n      {\n        widthTop : 1,\n        colorTop : \"border-separator\"\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      WINDOW\n    ---------------------------------------------------------------------------\n    */\n\n    \"window\" :\n    {\n      include: \"outset\",\n      style : {\n        shadowLength : 1,\n        shadowBlurRadius : 2,\n        shadowColor : \"shadow\"\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      LIST ITEM\n    ---------------------------------------------------------------------------\n    */\n\n    \"lead-item\" :\n    {\n      style :\n      {\n        width : 1,\n        style : \"dotted\",\n        color : \"border-lead\"\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TOOL TIP / POPUP\n    ---------------------------------------------------------------------------\n    */\n\n    \"tooltip\" :\n    {\n      style :\n      {\n        width : 1,\n        color : \"tooltip-text\",\n        shadowLength : 1,\n        shadowBlurRadius : 5,\n        shadowColor : \"shadow\"\n      }\n    },\n\n\n    \"tooltip-error\" :\n    {\n      style : {\n        width : 1,\n        color : \"tooltip-text\",\n        shadowLength : 1,\n        shadowBlurRadius : 5,\n        shadowColor : \"shadow\"\n      }\n    },\n\n\n    \"popup\" :\n    {\n      include : \"main\",\n\n      style : {\n        shadowLength : 2,\n        shadowBlurRadius : 2,\n        shadowColor : \"shadow\"\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TOOLBAR\n    ---------------------------------------------------------------------------\n    */\n\n    \"toolbar-separator\" :\n    {\n      style :\n      {\n        widthLeft : 1,\n        colorLeft : \"border-dark-shadow\"\n      }\n    },\n\n    \"toolbar-part-handle\" :\n    {\n      style :\n      {\n        width : 1,\n        style : \"solid\",\n\n        colorTop    : \"white\",\n        colorLeft   : \"white\",\n        colorRight  : \"border-dark-shadow\",\n        colorBottom : \"border-dark-shadow\"\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      MENU\n    ---------------------------------------------------------------------------\n    */\n\n    \"menu\" :\n    {\n      include : \"outset\",\n      style :\n      {\n        shadowLength : 1,\n        shadowBlurRadius : 3,\n        shadowColor : \"shadow\"\n      }\n    },\n\n\n    \"menu-separator\" :\n    {\n      style :\n      {\n        widthTop: 1,\n        widthBottom: 1,\n        colorTop : \"border-dark\",\n        colorBottom : \"border-light\"\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      DATE CHOOSER\n    ---------------------------------------------------------------------------\n    */\n\n    \"datechooser-date-pane\" :\n    {\n      style :\n      {\n        widthTop: 1,\n        colorTop : \"gray\",\n        style : \"solid\"\n      }\n    },\n\n\n    \"datechooser-weekday\" :\n    {\n      style :\n      {\n        widthBottom: 1,\n        colorBottom : \"gray\",\n        style : \"solid\"\n      }\n    },\n\n    \"datechooser-week\" :\n    {\n      style :\n      {\n        widthRight: 1,\n        colorRight : \"gray\",\n        style : \"solid\"\n      }\n    },\n\n    \"datechooser-week-header\" :\n    {\n      style :\n      {\n        widthBottom : 1,\n        colorBottom : \"gray\",\n        widthRight: 1,\n        colorRight : \"gray\",\n\n        style : \"solid\"\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TAB VIEW\n    ---------------------------------------------------------------------------\n    */\n\n    \"tabview-page-button-top\" :\n    {\n      style :\n      {\n        width : 1,\n        color : [ \"border-light-shadow\", \"border-dark\", \"border-dark\", \"border-light-shadow\" ],\n\n        innerWidth : 1,\n        innerColor : [ \"border-light\", \"border-dark-shadow\", \"border-dark-shadow\", \"border-light\" ],\n\n        widthBottom : 0,\n        innerWidthBottom : 0\n      }\n    },\n\n    \"tabview-page-button-bottom\" :\n    {\n      style :\n      {\n        width : 1,\n        color : [ \"border-light-shadow\", \"border-dark\", \"border-dark\", \"border-light-shadow\" ],\n\n        innerWidth : 1,\n        innerColor : [ \"border-light\", \"border-dark-shadow\", \"border-dark-shadow\", \"border-light\" ],\n\n        widthTop : 0,\n        innerWidthTop : 0\n      }\n    },\n\n    \"tabview-page-button-left\" :\n    {\n      style :\n      {\n        width : 1,\n        color : [ \"border-light-shadow\", \"border-dark\", \"border-dark\", \"border-light-shadow\" ],\n\n        innerWidth : 1,\n        innerColor : [ \"border-light\", \"border-dark-shadow\", \"border-dark-shadow\", \"border-light\" ],\n\n        widthRight : 0,\n        innerWidthRight : 0\n      }\n    },\n\n    \"tabview-page-button-right\" :\n    {\n      style :\n      {\n        width : 1,\n        color : [ \"border-light-shadow\", \"border-dark\", \"border-dark\", \"border-light-shadow\" ],\n\n        innerWidth : 1,\n        innerColor : [ \"border-light\", \"border-dark-shadow\", \"border-dark-shadow\", \"border-light\" ],\n\n        widthLeft : 0,\n        innerWidthLeft : 0\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TABLE\n    ---------------------------------------------------------------------------\n    */\n\n    \"table-statusbar\" :\n    {\n      style :\n      {\n        widthTop : 1,\n        colorTop : \"border-dark-shadow\",\n        styleTop : \"solid\"\n      }\n    },\n\n    \"table-scroller-header\" :\n    {\n      style :\n      {\n        widthBottom : 1,\n        colorBottom : \"table-header-border\",\n        styleBottom : \"solid\"\n      }\n    },\n\n    \"table-scroller-focus-indicator\" :\n    {\n      style :\n      {\n        width : 2,\n        color : \"table-focus-indicator\",\n        style : \"solid\"\n      }\n    },\n\n    \"table-header-cell\" :\n    {\n      style :\n      {\n        widthRight : 1,\n        colorRight : \"table-header-border\",\n        styleRight : \"solid\"\n      }\n    },\n\n    \"table-header-cell-hovered\" :\n    {\n      style :\n      {\n        widthRight : 1,\n        colorRight : \"table-header-border\",\n        styleRight : \"solid\",\n\n        widthBottom : 2,\n        colorBottom : \"effect\",\n        styleBottom : \"solid\"\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      PROGRESSBAR\n    ---------------------------------------------------------------------------\n    */\n\n    \"progressbar\" :\n    {\n      style:\n      {\n        backgroundColor: \"#FFF\",\n        width: 1,\n        color: \"border-separator\"\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n   * Sebastian Werner (wpbasti)\n   * Andreas Ecker (ecker)\n\n************************************************************************* */\n\n/**\n * The classic qooxdoo font theme.\n */\nqx.Theme.define(\"qx.theme.classic.Font\",\n{\n  fonts :\n  {\n    \"default\" :\n    {\n      size : 11,\n      lineHeight : 1.4,\n      family : [ \"Lucida Grande\", \"Tahoma\", \"Verdana\", \"Bitstream Vera Sans\", \"Liberation Sans\" ]\n    },\n\n    \"bold\" :\n    {\n      size : 11,\n      lineHeight : 1.4,\n      family : [ \"Lucida Grande\", \"Tahoma\", \"Verdana\", \"Bitstream Vera Sans\", \"Liberation Sans\" ],\n      bold : true\n    },\n\n    \"small\" :\n    {\n      size : 10,\n      lineHeight : 1.4,\n      family : [ \"Lucida Grande\", \"Tahoma\", \"Verdana\", \"Bitstream Vera Sans\", \"Liberation Sans\" ]\n    },\n\n    \"monospace\" :\n    {\n      size : 11,\n      lineHeight : 1.4,\n      family : [ \"DejaVu Sans Mono\", \"Courier New\", \"monospace\" ]\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n     2006 STZ-IDA, Germany, http://www.stz-ida.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n   * Sebastian Werner (wpbasti)\n   * Andreas Ecker (ecker)\n   * Til Schneider (til132)\n   * Martin Wittemann (martinwittemann)\n\n************************************************************************* */\n\n/* ************************************************************************\n\n\n************************************************************************* */\n\n/**\n * The classic qooxdoo appearance theme.\n *\n * @asset(qx/icon/Oxygen/16/apps/office-calendar.png)\n * @asset(qx/icon/Oxygen/16/places/folder-open.png)\n * @asset(qx/icon/Oxygen/16/places/folder.png)\n * @asset(qx/icon/Oxygen/16/mimetypes/text-plain.png)\n * @asset(qx/icon/Oxygen/16/actions/view-refresh.png)\n * @asset(qx/icon/Oxygen/16/actions/window-close.png)\n * @asset(qx/icon/Oxygen/16/actions/dialog-cancel.png)\n * @asset(qx/icon/Oxygen/16/actions/dialog-ok.png)\n *\n * @asset(qx/decoration/Classic/*)\n */\nqx.Theme.define(\"qx.theme.classic.Appearance\",\n{\n  appearances :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      CORE\n    ---------------------------------------------------------------------------\n    */\n\n    \"widget\" : {},\n\n    \"label\" :\n    {\n      style : function(states)\n      {\n        return {\n          textColor : states.disabled ? \"text-disabled\" : undefined\n        };\n      }\n    },\n\n    \"image\" :\n    {\n      style : function(states)\n      {\n        return {\n          opacity : !states.replacement && states.disabled ? 0.3 : undefined\n        };\n      }\n    },\n\n    \"atom\" : {},\n    \"atom/label\" : \"label\",\n    \"atom/icon\" : \"image\",\n\n    \"root\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"background\",\n          textColor : \"text\",\n          font : \"default\"\n        };\n      }\n    },\n\n    \"popup\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"popup\",\n          backgroundColor : \"background-pane\"\n        };\n      }\n    },\n\n    \"tooltip\" :\n    {\n      include : \"popup\",\n\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"tooltip\",\n          textColor : \"tooltip-text\",\n          decorator : \"tooltip\",\n          padding : [ 1, 3, 2, 3 ],\n          offset : [ 15, 5, 5, 5 ]\n        };\n      }\n    },\n\n    \"tooltip/atom\" : \"atom\",\n\n    \"tooltip-error\" :\n    {\n      include : \"tooltip\",\n\n      style : function(states)\n      {\n        return {\n          textColor: \"text-selected\",\n          showTimeout: 100,\n          hideTimeout: 10000,\n          decorator: \"tooltip-error\",\n          font: \"bold\",\n          backgroundColor: \"tooltip-invalid\"\n        };\n      }\n    },\n\n    \"tooltip-error/atom\" : \"atom\",\n\n    \"iframe\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"white\",\n          decorator : \"inset\"\n        };\n      }\n    },\n\n    \"move-frame\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"main\"\n        };\n      }\n    },\n\n    \"resize-frame\" : \"move-frame\",\n\n    \"dragdrop-cursor\" :\n    {\n      style : function(states)\n      {\n        var icon = \"nodrop\";\n\n        if (states.copy) {\n          icon = \"copy\";\n        } else if (states.move) {\n          icon = \"move\";\n        } else if (states.alias) {\n          icon = \"alias\";\n        }\n\n        return {\n          source : \"decoration/cursors/\" + icon + \".gif\",\n          position : \"right-top\",\n          offset : [ 2, 16, 2, 6 ]\n        };\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      BUTTON\n    ---------------------------------------------------------------------------\n    */\n\n    \"button-frame\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        if (states.pressed || states.abandoned || states.checked) {\n          var decorator = !states.inner && states.focused ? \"focused-inset\" : \"inset\";\n          var padding = [ 4, 3, 2, 5 ];\n        } else {\n          var decorator = !states.inner && states.focused ? \"focused-outset\" : \"outset\";\n          var padding = [ 3, 4 ];\n        }\n\n        return {\n          backgroundColor : states.abandoned ? \"button-abandoned\" : states.hovered ? \"button-hovered\" : states.checked ? \"button-checked\" : \"button\",\n          decorator : decorator,\n          padding : padding\n        };\n      }\n    },\n\n    \"button\" :\n    {\n      alias : \"button-frame\",\n      include : \"button-frame\",\n\n      style : function(states)\n      {\n        return {\n          center : true\n        };\n      }\n    },\n\n    \"hover-button\" :\n    {\n      alias : \"atom\",\n      include : \"atom\",\n\n      style : function(states)\n      {\n        return {\n          backgroundColor : states.hovered ? \"background-selected\" : undefined,\n          textColor : states.hovered ? \"text-selected\" : undefined\n        };\n      }\n    },\n\n    \"menubutton\" : {\n      include : \"button\",\n      alias : \"button\",\n\n      style : function(states) {\n        return {\n          icon : \"decoration/arrows/down.gif\",\n          iconPosition : \"right\"\n        };\n      }\n    },\n\n    \"splitbutton\" : {},\n    \"splitbutton/button\" : \"button\",\n    \"splitbutton/arrow\" :\n    {\n      alias : \"button\",\n      include : \"button\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"decoration/arrows/down.gif\"\n        };\n      }\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SCROLLAREA\n    ---------------------------------------------------------------------------\n    */\n\n    \"scrollarea/corner\" :\n    {\n      style : function()\n      {\n        return {\n          backgroundColor : \"background\"\n        };\n      }\n    },\n\n    \"scrollarea\" : \"widget\",\n    \"scrollarea/pane\" : \"widget\",\n    \"scrollarea/scrollbar-x\" : \"scrollbar\",\n    \"scrollarea/scrollbar-y\" : \"scrollbar\",\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      LIST\n    ---------------------------------------------------------------------------\n    */\n\n    \"list\" :\n    {\n      alias : \"scrollarea\",\n\n      style : function(states)\n      {\n        var backgroundColor;\n\n        var focused = !!states.focused;\n        var invalid = !!states.invalid;\n        var disabled = !!states.disabled;\n\n        if (invalid && !disabled) {\n          backgroundColor = \"background-invalid\";\n        } else if (focused && !invalid && !disabled) {\n          backgroundColor = \"background-focused\";\n        } else if (disabled) {\n          backgroundColor = \"background-disabled\";\n        } else {\n          backgroundColor = \"white\";\n        }\n\n        return {\n          decorator       : states.focused ? \"focused-inset\" : \"inset\",\n          backgroundColor : backgroundColor\n        };\n      }\n    },\n\n    \"listitem\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        return {\n          gap             : 4,\n          padding         : states.lead ? [ 2, 4 ] : [ 3, 5 ],\n          backgroundColor : states.selected ? \"background-selected\" : undefined,\n          textColor       : states.selected ? \"text-selected\" : undefined,\n          decorator       : states.lead ? \"lead-item\" : undefined,\n          opacity : states.drag ? 0.5 : undefined\n        };\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      FORM FIELDS\n    ---------------------------------------------------------------------------\n    */\n    \"form-renderer-label\" : {\n      include : \"label\",\n      style : function() {\n        return {\n          paddingTop: 4\n        };\n      }\n    },\n\n    \"textfield\" :\n    {\n      style : function(states)\n      {\n        var backgroundColor;\n\n        var focused = !!states.focused;\n        var invalid = !!states.invalid;\n        var disabled = !!states.disabled;\n\n        if (invalid && !disabled) {\n          backgroundColor = \"background-invalid\";\n        } else if (focused && !invalid && !disabled) {\n          backgroundColor = \"background-focused\";\n        } else if (disabled) {\n          backgroundColor = \"background-disabled\";\n        } else {\n          backgroundColor = \"background-field\";\n        }\n\n        var textColor;\n        if (states.disabled) {\n          textColor = \"text-disabled\";\n        } else if (states.showingPlaceholder) {\n          textColor = \"text-placeholder\";\n        } else {\n          textColor = undefined;\n        }\n\n        return {\n          decorator       : states.focused ? \"focused-inset\" : \"inset\",\n          padding         : [ 2, 3 ],\n          textColor       : textColor,\n          backgroundColor : backgroundColor\n        };\n      }\n    },\n\n    \"textarea\" : \"textfield\",\n\n    \"checkbox\":\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        // The \"disabled\" icon is set to an icon **without** the -disabled\n        // suffix on purpose. This is because the Image widget handles this\n        // already by replacing the current image with a disabled version\n        // (if available). If no disabled image is found, the opacity style\n        // is used.\n        var icon;\n\n        // Checked\n        if (states.checked) {\n          if (states.disabled) {\n            icon = \"checkbox-checked\";\n          } else if (states.focused) {\n            icon = \"checkbox-checked-focused\";\n          } else if (states.pressed) {\n            icon = \"checkbox-checked-pressed\";\n          } else if (states.hovered) {\n            icon = \"checkbox-checked-hovered\";\n          } else {\n            icon = \"checkbox-checked\";\n          }\n\n        // Undetermined\n        } else if (states.undetermined) {\n          if (states.disabled) {\n            icon = \"checkbox-undetermined\";\n          } else if (states.focused) {\n            icon = \"checkbox-undetermined-focused\";\n          } else if (states.hovered) {\n            icon = \"checkbox-undetermined-hovered\";\n          } else {\n            icon = \"checkbox-undetermined\";\n          }\n\n        // Focused & Pressed & Hovered (when enabled)\n        } else if (!states.disabled) {\n          if (states.focused) {\n            icon = \"checkbox-focused\";\n          } else if (states.pressed) {\n            icon = \"checkbox-pressed\";\n          } else if (states.hovered ) {\n            icon = \"checkbox-hovered\";\n          }\n        }\n\n        // Unchecked\n        icon = icon || \"checkbox\";\n\n        var invalid = states.invalid && !states.disabled ? \"-invalid\" : \"\";\n\n        return {\n          icon: \"decoration/form/\" + icon + invalid + \".png\",\n          gap: 6\n        };\n      }\n    },\n\n    \"radiobutton\":\n    {\n      alias : \"checkbox\",\n      include : \"checkbox\",\n\n      style : function(states)\n      {\n        // \"disabled\" state is not handled here with purpose. The image widget\n        // does handle this already by replacing the current image with a\n        // disabled version (if available). If no disabled image is found the\n        // opacity style is used.\n        var icon;\n        if (states.checked && states.focused) {\n          icon = \"radiobutton-checked-focused\";\n        } else if (states.checked && states.disabled) {\n          icon = \"radiobutton-checked-disabled\";\n        } else if (states.checked && states.pressed) {\n          icon = \"radiobutton-checked-pressed\";\n        } else if (states.checked && states.hovered) {\n          icon = \"radiobutton-checked-hovered\";\n        } else if (states.checked) {\n          icon = \"radiobutton-checked\";\n        } else if (states.focused) {\n          icon = \"radiobutton-focused\";\n        } else if (states.pressed) {\n          icon = \"radiobutton-pressed\";\n        } else if (states.hovered) {\n          icon = \"radiobutton-hovered\";\n        } else {\n          icon = \"radiobutton\";\n        }\n\n        var invalid = states.invalid && !states.disabled ? \"-invalid\" : \"\";\n\n        return {\n          icon: \"decoration/form/\" + icon + invalid + \".png\"\n        };\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SPINNER\n    ---------------------------------------------------------------------------\n    */\n\n    \"spinner\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : states.focused ? \"focused-inset\" : \"inset\",\n          textColor : states.disabled ? \"text-disabled\" : undefined\n        };\n      }\n    },\n\n    \"spinner/textfield\" :\n    {\n      include : \"textfield\",\n\n      style : function(states)\n      {\n        return {\n          decorator : undefined,\n          padding: [2, 3]\n        };\n      }\n    },\n\n    \"spinner/upbutton\" :\n    {\n      alias : \"button\",\n      include : \"button\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"decoration/arrows/up-small.gif\",\n          padding : states.pressed ? [2, 2, 0, 4] : [1, 3, 1, 3],\n          backgroundColor : states.hovered ? \"button-hovered\" : \"button\"\n        };\n      }\n    },\n\n    \"spinner/downbutton\" :\n    {\n      alias : \"button\",\n      include : \"button\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"decoration/arrows/down-small.gif\",\n          padding : states.pressed ? [2, 2, 0, 4] : [1, 3, 1, 3],\n          backgroundColor : states.hovered ? \"button-hovered\" : \"button\"\n        };\n      }\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      DATEFIELD\n    ---------------------------------------------------------------------------\n    */\n\n    \"datefield\" : \"combobox\",\n\n    \"datefield/button\" :\n    {\n      alias : \"combobox/button\",\n      include : \"combobox/button\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"icon/16/apps/office-calendar.png\",\n          padding : [0, 3],\n          backgroundColor : undefined,\n          decorator : undefined\n        };\n      }\n    },\n\n    \"datefield/list\" :\n    {\n      alias : \"datechooser\",\n      include : \"datechooser\",\n\n      style : function(states)\n      {\n        return {\n          decorator: states.focused ? \"focused-inset\" : \"inset\"\n        };\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      GROUP BOX\n    ---------------------------------------------------------------------------\n    */\n\n    \"groupbox\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"background\"\n        };\n      }\n    },\n\n    \"groupbox/legend\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"background\",\n          textColor : states.invalid ? \"invalid\" : undefined,\n          padding   : [1, 0, 1, 4]\n        };\n      }\n    },\n\n    \"groupbox/frame\" :\n    {\n      style : function(states)\n      {\n        return {\n          padding : [ 12, 9 ],\n          marginTop: 10,\n          decorator  : \"groove\"\n        };\n      }\n    },\n\n    \"check-groupbox\" : \"groupbox\",\n\n    \"check-groupbox/legend\" :\n    {\n      alias : \"checkbox\",\n      include : \"checkbox\",\n\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"background\",\n          textColor : states.invalid ? \"invalid\" : undefined,\n          padding   : [1, 0, 1, 4]\n        };\n      }\n    },\n\n    \"radio-groupbox\" : \"groupbox\",\n\n    \"radio-groupbox/legend\" :\n    {\n      alias : \"radiobutton\",\n      include : \"radiobutton\",\n\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"background\",\n          textColor : states.invalid ? \"invalid\" : undefined,\n          padding   : [1, 0, 1, 4]\n        };\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TOOLBAR\n    ---------------------------------------------------------------------------\n    */\n\n    \"toolbar\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"background\"\n        };\n      }\n    },\n\n    \"toolbar/part\" : {},\n    \"toolbar/part/container\" : {},\n\n    \"toolbar/part/handle\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"toolbar-part-handle\",\n          backgroundColor : \"background\",\n          padding   : [ 0, 1 ],\n          margin    : [ 3, 2 ],\n          allowGrowY : true\n        };\n      }\n    },\n\n    \"toolbar-separator\" :\n    {\n      style : function(states)\n      {\n        return {\n          margin    : [ 3, 2 ],\n          decorator : \"toolbar-separator\"\n        };\n      }\n    },\n\n    \"toolbar-button\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        if (states.pressed || states.checked || states.abandoned)\n        {\n          var border = \"inset-thin\";\n          var padding = [ 3, 2, 1, 4 ];\n        }\n        else if (states.hovered && !states.disabled)\n        {\n          var border = \"outset-thin\";\n          var padding = [ 2, 3 ];\n        }\n        else\n        {\n          var border = undefined;\n          var padding = [ 3, 4 ];\n        }\n\n        return {\n          cursor  : \"default\",\n          decorator : border,\n          padding : padding,\n          backgroundColor : states.abandoned ? \"button-abandoned\" : states.checked ? \"background-light\" : \"button\"\n        };\n      }\n    },\n\n    \"toolbar-menubutton\" :\n    {\n      alias : \"toolbar-button\",\n      include : \"toolbar-button\",\n\n      style : function(states)\n      {\n        return {\n          showArrow : true\n        };\n      }\n    },\n\n    \"toolbar-menubutton/arrow\" :\n    {\n      alias : \"image\",\n      include : \"image\",\n\n      style : function(states)\n      {\n        return {\n          source : \"decoration/arrows/down-small.gif\"\n        };\n      }\n    },\n\n    \"toolbar-splitbutton\" : {},\n    \"toolbar-splitbutton/button\" : \"toolbar-button\",\n    \"toolbar-splitbutton/arrow\" :\n    {\n      alias : \"toolbar-button\",\n      include : \"toolbar-button\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"decoration/arrows/down.gif\"\n        };\n      }\n    },\n\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SLIDEBAR\n    ---------------------------------------------------------------------------\n    */\n\n    \"slidebar\" : {},\n    \"slidebar/scrollpane\" : {},\n    \"slidebar/content\" : {},\n\n    \"slidebar/button-forward\" :\n    {\n      alias : \"button\",\n      include : \"button\",\n\n      style : function(states)\n      {\n        return {\n          icon : states.vertical ?\n            \"decoration/arrows/down.gif\" :\n            \"decoration/arrows/next.gif\"\n        };\n      }\n    },\n\n    \"slidebar/button-backward\" :\n    {\n      alias : \"button\",\n      include : \"button\",\n\n      style : function(states)\n      {\n        return {\n          icon : states.vertical ?\n            \"decoration/arrows/up.gif\" :\n           \"decoration/arrows/left.gif\"\n        };\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TABVIEW\n    ---------------------------------------------------------------------------\n    */\n\n    \"tabview\" : {},\n\n    \"tabview/bar\" :\n    {\n      alias : \"slidebar\",\n\n      style : function(states)\n      {\n        var marginTop=0, marginRight=0, marginBottom=0, marginLeft=0;\n\n        if (states.barTop) {\n          marginBottom = -2;\n        } else if (states.barBottom) {\n          marginTop = -2;\n        } else if (states.barRight) {\n          marginLeft = -2;\n        } else {\n          marginRight = -2;\n        }\n\n        return {\n          marginBottom : marginBottom,\n          marginTop : marginTop,\n          marginLeft : marginLeft,\n          marginRight : marginRight\n        };\n      }\n    },\n\n\n    \"tabview/bar/button-forward\" :\n    {\n      include : \"slidebar/button-forward\",\n      alias : \"slidebar/button-forward\",\n\n      style : function(states)\n      {\n        if (states.barTop || states.barBottom)\n        {\n          return {\n            marginTop : 2,\n            marginBottom: 2\n          };\n        }\n        else\n        {\n          return {\n            marginLeft : 2,\n            marginRight : 2\n          };\n        }\n      }\n    },\n\n    \"tabview/bar/button-backward\" :\n    {\n      include : \"slidebar/button-backward\",\n      alias : \"slidebar/button-backward\",\n\n      style : function(states)\n      {\n        if (states.barTop || states.barBottom)\n        {\n          return {\n            marginTop : 2,\n            marginBottom: 2\n          };\n        }\n        else\n        {\n          return {\n            marginLeft : 2,\n            marginRight : 2\n          };\n        }\n      }\n    },\n\n    \"tabview/pane\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"background\",\n          decorator : \"outset\",\n          padding : 10\n        };\n      }\n    },\n\n    \"tabview-page\" : \"widget\",\n\n    \"tabview-page/button\" :\n    {\n      style : function(states)\n      {\n        var decorator;\n        var marginTop=0, marginRight=0, marginBottom=0, marginLeft=0;\n\n        if (states.barTop || states.barBottom) {\n          var paddingTop=2, paddingBottom=2, paddingLeft=6, paddingRight=6;\n        } else {\n          var paddingTop=6, paddingBottom=6, paddingLeft=6, paddingRight=6;\n        }\n\n        if (states.barTop)\n        {\n          decorator = \"tabview-page-button-top\";\n        }\n        else if (states.barRight)\n        {\n          decorator = \"tabview-page-button-right\";\n        }\n        else if (states.barBottom)\n        {\n          decorator = \"tabview-page-button-bottom\";\n        }\n        else\n        {\n          decorator = \"tabview-page-button-left\";\n        }\n\n        if (states.checked)\n        {\n          if (states.barTop || states.barBottom)\n          {\n            paddingLeft += 2;\n            paddingRight += 2;\n          }\n          else\n          {\n            paddingTop += 2;\n            paddingBottom += 2;\n          }\n        }\n        else\n        {\n          if (states.barTop || states.barBottom)\n          {\n            marginBottom += 2;\n            marginTop += 2;\n          }\n          else if (states.barLeft || states.barRight)\n          {\n            marginRight += 2;\n            marginLeft += 2;\n          }\n        }\n\n        if (states.checked)\n        {\n          if (!states.firstTab)\n          {\n            if (states.barTop || states.barBottom) {\n              marginLeft = -4;\n            } else {\n              marginTop = -4;\n            }\n          }\n\n          if (!states.lastTab)\n          {\n            if (states.barTop || states.barBottom) {\n              marginRight = -4;\n            } else {\n              marginBottom = -4;\n            }\n          }\n        }\n\n        return {\n          zIndex : states.checked ? 10 : 5,\n          decorator : decorator,\n          backgroundColor : \"background\",\n          padding : [ paddingTop, paddingRight, paddingBottom, paddingLeft ],\n          margin : [ marginTop, marginRight, marginBottom, marginLeft ],\n          textColor : states.disabled ? \"text-disabled\" : undefined\n        };\n      }\n    },\n\n    \"tabview-page/button/label\" :\n    {\n      alias : \"label\",\n\n      style : function(states)\n      {\n        return {\n          padding : states.focused ? [0, 1, 0, 1] : [1, 2, 1, 2],\n          decorator : states.focused ? \"keyboard-focus\" : undefined\n        };\n      }\n    },\n\n    \"tabview-page/button/icon\" : \"image\",\n    \"tabview-page/button/close-button\" :\n    {\n      alias : \"atom\",\n      style : function(states)\n      {\n        return {\n          icon : \"qx/icon/Oxygen/16/actions/window-close.png\"\n        };\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SCROLLBAR\n    ---------------------------------------------------------------------------\n    */\n\n    \"scrollbar\" : {},\n\n    \"scrollbar/slider\" :\n    {\n      alias : \"slider\",\n\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"background-light\"\n        };\n      }\n    },\n\n    \"scrollbar/slider/knob\" :\n    {\n      include : \"button-frame\",\n\n      style : function(states)\n      {\n        return {\n          height    : 14,\n          width     : 14,\n\n          minHeight : states.horizontal ? undefined : 9,\n          minWidth  : states.horizontal ? 9 : undefined\n        };\n      }\n    },\n\n\n    \"scrollbar/button\" :\n    {\n      alias : \"button\",\n      include : \"button\",\n\n      style : function(states)\n      {\n        var padding;\n        if (states.up || states.down)\n        {\n          if (states.pressed || states.abandoned || states.checked) {\n            padding = [ 5, 2, 3, 4 ];\n          } else {\n            padding = [ 4, 3 ];\n          }\n        }\n        else\n        {\n          if (states.pressed || states.abandoned || states.checked) {\n            padding = [ 4, 3, 2, 5 ];\n          } else {\n            padding = [ 3, 4 ];\n          }\n        }\n\n        var icon = \"decoration/arrows/\";\n        if (states.left) {\n          icon += \"left.gif\";\n        } else if (states.right) {\n          icon += \"right.gif\";\n        } else if (states.up) {\n          icon += \"up.gif\";\n        } else {\n          icon += \"down.gif\";\n        }\n\n        return {\n          padding : padding,\n          icon : icon\n        };\n      }\n    },\n\n    \"scrollbar/button-begin\" : \"scrollbar/button\",\n    \"scrollbar/button-end\" : \"scrollbar/button\",\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SLIDER\n    ---------------------------------------------------------------------------\n    */\n\n    \"slider\" :\n    {\n      style : function(states)\n      {\n        var backgroundColor;\n\n        if (states.disabled) {\n          backgroundColor = \"background-disabled\";\n        } else if (states.invalid) {\n          backgroundColor = \"background-invalid\";\n        } else if (states.focused) {\n          backgroundColor = \"background-light\";\n        } else {\n          backgroundColor = \"background-field\";\n        }\n\n        return {\n          backgroundColor :  backgroundColor,\n          decorator : states.focused ? \"focused-inset\" : \"inset\"\n        };\n      }\n    },\n\n    \"slider/knob\" :\n    {\n      include : \"button-frame\",\n\n      style : function(states)\n      {\n        return {\n          width: 14,\n          height: 14,\n          decorator : \"outset\"\n        };\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TREE\n    ---------------------------------------------------------------------------\n    */\n\n    \"tree-folder/open\" :\n    {\n      style : function(states)\n      {\n        return {\n          source : states.opened ? \"decoration/tree/minus.gif\" : \"decoration/tree/plus.gif\"\n        };\n      }\n    },\n\n\n    \"tree-folder\" :\n    {\n      style : function(states)\n      {\n        return {\n          padding : [2, 3, 2, 0],\n          icon : states.opened ? \"icon/16/places/folder-open.png\" : \"icon/16/places/folder.png\",\n          iconOpened : \"icon/16/places/folder-open.png\",\n          opacity : states.drag ? 0.5 : undefined\n        };\n      }\n    },\n\n    \"tree-folder/icon\" :\n    {\n      style : function(states)\n      {\n        return {\n          padding : [0, 4, 0, 0]\n        };\n      }\n    },\n\n    \"tree-folder/label\" :\n    {\n      style : function(states)\n      {\n        return {\n          padding : [ 1, 2 ],\n          backgroundColor : states.selected ? \"background-selected\" : undefined,\n          textColor : states.selected ? \"text-selected\" : undefined\n        };\n      }\n    },\n\n    \"tree-file\" :\n    {\n      include : \"tree-folder\",\n      alias : \"tree-folder\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"icon/16/mimetypes/text-plain.png\",\n          opacity : states.drag ? 0.5 : undefined\n        };\n      }\n    },\n\n    \"tree\" :\n    {\n      include : \"list\",\n      alias : \"list\",\n\n      style : function(states)\n      {\n        return {\n          contentPadding : [4, 4, 4, 4]\n        };\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TREEVIRTUAL\n    ---------------------------------------------------------------------------\n    */\n\n    \"treevirtual\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"main\"\n        };\n      }\n    },\n\n    \"treevirtual-folder\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon : (states.opened\n                  ? \"icon/16/places/folder-open.png\"\n                  : \"icon/16/places/folder.png\"),\n          opacity : states.drag ? 0.5 : undefined\n        };\n      }\n    },\n\n    \"treevirtual-file\" :\n    {\n      include : \"treevirtual-folder\",\n      alias : \"treevirtual-folder\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"icon/16/mimetypes/text-plain.png\",\n          opacity : states.drag ? 0.5 : undefined\n        };\n      }\n    },\n\n    \"treevirtual-line\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon       : \"decoration/treevirtual/line.gif\"\n        };\n      }\n    },\n\n    \"treevirtual-contract\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon        : \"decoration/tree/minus.gif\"\n        };\n      }\n    },\n\n    \"treevirtual-expand\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon        : \"decoration/tree/plus.gif\"\n        };\n      }\n    },\n\n    \"treevirtual-only-contract\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon        : \"decoration/treevirtual/only_minus.gif\"\n        };\n      }\n    },\n\n    \"treevirtual-only-expand\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon        : \"decoration/treevirtual/only_plus.gif\"\n        };\n      }\n    },\n\n    \"treevirtual-start-contract\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon        : \"decoration/treevirtual/start_minus.gif\"\n        };\n      }\n    },\n\n    \"treevirtual-start-expand\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon        : \"decoration/treevirtual/start_plus.gif\"\n        };\n      }\n    },\n\n    \"treevirtual-end-contract\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon        : \"decoration/treevirtual/end_minus.gif\"\n        }\n      }\n    },\n\n    \"treevirtual-end-expand\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon        : \"decoration/treevirtual/end_plus.gif\"\n        }\n      }\n    },\n\n    \"treevirtual-cross-contract\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon        : \"decoration/treevirtual/cross_minus.gif\"\n        }\n      }\n    },\n\n    \"treevirtual-cross-expand\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon        : \"decoration/treevirtual/cross_plus.gif\"\n        }\n      }\n    },\n\n\n    \"treevirtual-end\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon        : \"decoration/treevirtual/end.gif\"\n        }\n      }\n    },\n\n    \"treevirtual-cross\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon        : \"decoration/treevirtual/cross.gif\"\n        }\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      WINDOW\n    ---------------------------------------------------------------------------\n    */\n\n    \"window\" :\n    {\n      style : function(states)\n      {\n        return {\n          contentPadding : [ 10, 10, 10, 10 ],\n          backgroundColor : \"background\",\n          decorator : states.maximized ? undefined : \"window\"\n        };\n      }\n    },\n\n    \"window-resize-frame\" : \"resize-frame\",\n\n    \"window/pane\" : {},\n\n    \"window/captionbar\" :\n    {\n      style : function(states)\n      {\n        return {\n          padding : 1,\n          backgroundColor : states.active ? \"window-active-caption\" : \"window-inactive-caption\",\n          textColor : states.active ? \"window-active-caption-text\" : \"window-inactive-caption-text\"\n        };\n      }\n    },\n\n    \"window/icon\" :\n    {\n      style : function(states)\n      {\n        return {\n          marginRight : 4\n        };\n      }\n    },\n\n    \"window/title\" :\n    {\n      style : function(states)\n      {\n        return {\n          cursor : \"default\",\n          font : \"bold\",\n          marginRight : 20,\n          alignY: \"middle\"\n        };\n      }\n    },\n\n    \"window/minimize-button\" :\n    {\n      include : \"button\",\n      alias : \"button\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"decoration/window/minimize.gif\",\n          padding : states.pressed || states.abandoned ? [ 2, 1, 0, 3] : [ 1, 2 ]\n        };\n      }\n    },\n\n    \"window/restore-button\" :\n    {\n      include : \"button\",\n      alias : \"button\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"decoration/window/restore.gif\",\n          padding : states.pressed || states.abandoned ? [ 2, 1, 0, 3] : [ 1, 2 ]\n        };\n      }\n    },\n\n    \"window/maximize-button\" :\n    {\n      include : \"button\",\n      alias : \"button\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"decoration/window/maximize.gif\",\n          padding : states.pressed || states.abandoned ? [ 2, 1, 0, 3] : [ 1, 2 ]\n        };\n      }\n    },\n\n    \"window/close-button\" :\n    {\n      include : \"button\",\n      alias : \"button\",\n\n      style : function(states)\n      {\n        return {\n          marginLeft : 2,\n          icon : \"decoration/window/close.gif\",\n          padding : states.pressed || states.abandoned ? [ 2, 1, 0, 3] : [ 1, 2 ]\n        };\n      }\n    },\n\n    \"window/statusbar\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"inset-thin\",\n          padding : [ 2, 6 ]\n        };\n      }\n    },\n\n    \"window/statusbar-text\" : \"label\",\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      RESIZER\n    ---------------------------------------------------------------------------\n    */\n\n    \"resizer\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"outset\"\n        };\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SPLITPANE\n    ---------------------------------------------------------------------------\n    */\n\n    \"splitpane\" : {},\n\n    \"splitpane/splitter\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"background\"\n        };\n      }\n    },\n\n    \"splitpane/splitter/knob\" :\n    {\n      style : function(states)\n      {\n        return {\n          source : states.horizontal ? \"decoration/splitpane/knob-horizontal.png\" : \"decoration/splitpane/knob-vertical.png\",\n          padding : 2\n        };\n      }\n    },\n\n    \"splitpane/slider\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"border-dark\",\n          opacity : 0.3\n        };\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SELECTBOX\n    ---------------------------------------------------------------------------\n    */\n\n    \"selectbox\" :\n    {\n      include: \"button-frame\",\n\n      style : function(states)\n      {\n        var background = \"button\";\n        if (states.invalid && !states.disabled) {\n          background = \"background-invalid\";\n        } else if (states.abandoned) {\n          background = \"button-abandoned\";\n        } else if (!states.abandoned && states.hovered) {\n          background = \"button-hovered\";\n        } else if (!states.abandoned && !states.hovered && states.checked) {\n          background = \"button-checked\";\n        }\n\n        return {\n          backgroundColor : background\n        };\n      }\n    },\n\n    \"selectbox/atom\" : \"atom\",\n    \"selectbox/popup\" : \"popup\",\n    \"selectbox/list\" : \"list\",\n\n    \"selectbox/arrow\" :\n    {\n      include : \"image\",\n\n      style : function(states)\n      {\n        return {\n          source : \"decoration/arrows/down.gif\",\n          paddingRight : 4,\n          paddingLeft : 5\n        };\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      DATE CHOOSER\n    ---------------------------------------------------------------------------\n    */\n\n    \"datechooser\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"outset\"\n        }\n      }\n    },\n\n    \"datechooser/navigation-bar\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"date-chooser\",\n          textColor : states.disabled ? \"text-disabled\" : states.invalid ? \"invalid\" : undefined,\n          padding : [2, 10]\n        };\n      }\n    },\n\n    \"datechooser/last-year-button-tooltip\" : \"tooltip\",\n    \"datechooser/last-month-button-tooltip\" : \"tooltip\",\n    \"datechooser/next-year-button-tooltip\" : \"tooltip\",\n    \"datechooser/next-month-button-tooltip\" : \"tooltip\",\n\n    \"datechooser/last-year-button\"  : \"datechooser/button\",\n    \"datechooser/last-month-button\" : \"datechooser/button\",\n    \"datechooser/next-year-button\"  : \"datechooser/button\",\n    \"datechooser/next-month-button\" : \"datechooser/button\",\n    \"datechooser/button/icon\" : {},\n\n    \"datechooser/button\" :\n    {\n      style : function(states)\n      {\n        var result = {\n          width  : 17,\n          show   : \"icon\"\n        };\n\n        if (states.lastYear) {\n          result.icon = \"decoration/arrows/rewind.gif\";\n        } else if (states.lastMonth) {\n          result.icon = \"decoration/arrows/left.gif\";\n        } else if (states.nextYear) {\n          result.icon = \"decoration/arrows/forward.gif\";\n        } else if (states.nextMonth) {\n          result.icon = \"decoration/arrows/right.gif\";\n        }\n\n        if (states.pressed || states.checked || states.abandoned) {\n          result.decorator = \"inset-thin\";\n        } else if (states.hovered) {\n          result.decorator = \"outset-thin\";\n        } else {\n          result.decorator = undefined;\n        }\n\n        if (states.pressed || states.checked || states.abandoned) {\n          result.padding = [ 2, 0, 0, 2 ];\n        } else if (states.hovered) {\n          result.padding = 1;\n        } else {\n          result.padding = 2;\n        }\n\n        return result;\n      }\n    },\n\n    \"datechooser/month-year-label\" :\n    {\n      style : function(states)\n      {\n        return {\n          font          : \"bold\",\n          textAlign     : \"center\"\n        };\n      }\n    },\n\n    \"datechooser/date-pane\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator       : \"datechooser-date-pane\",\n          backgroundColor : \"date-chooser\"\n        };\n      }\n    },\n\n    \"datechooser/weekday\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator       : \"datechooser-weekday\",\n          font            : \"bold\",\n          textAlign       : \"center\",\n          textColor       : states.disabled ? \"text-disabled\" : states.weekend ? \"date-chooser-title\" : \"date-chooser\",\n          backgroundColor : states.weekend ? \"date-chooser\" : \"date-chooser-title\"\n        };\n      }\n    },\n\n    \"datechooser/day\" :\n    {\n      style : function(states)\n      {\n        return {\n          textAlign       : \"center\",\n          decorator       : states.today ? \"main\" : undefined,\n          textColor       : states.disabled ? \"text-disabled\" : states.selected ? \"text-selected\" : states.otherMonth ? \"text-disabled\" : undefined,\n          backgroundColor : states.disabled ? undefined : states.selected ? \"date-chooser-selected\" : undefined,\n          padding         : [ 2, 4 ]\n        };\n      }\n    },\n\n    \"datechooser/week\" :\n    {\n      style : function(states)\n      {\n        return {\n          textAlign : \"center\",\n          textColor : \"date-chooser-title\",\n          padding   : [ 2, 4 ],\n          decorator : states.header ? \"datechooser-week-header\" : \"datechooser-week\"\n        };\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      COMBOBOX\n    ---------------------------------------------------------------------------\n    */\n\n    \"combobox\" :\n    {\n      style : function(states)\n      {\n        var backgroundColor;\n\n        if (states.disabled) {\n          backgroundColor = \"background-disabled\";\n        } else if (states.invalid) {\n          backgroundColor = \"background-invalid\";\n        } else if (states.focused) {\n          backgroundColor = \"background-focused\";\n        } else {\n          backgroundColor = \"background-field\";\n        }\n\n        return {\n          decorator       : states.focused ? \"focused-inset\" : \"inset\",\n          textColor       : states.disabled ? \"text-disabled\" : undefined,\n          backgroundColor : backgroundColor\n        };\n      }\n    },\n\n    \"combobox/button\" :\n    {\n      alias : \"button\",\n      include : \"button\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"decoration/arrows/down.gif\",\n          backgroundColor : states.hovered ? \"button-hovered\" : \"button\"\n        };\n      }\n    },\n\n    \"combobox/popup\" : \"popup\",\n    \"combobox/list\" : \"list\",\n\n    \"combobox/textfield\" :\n    {\n      include : \"textfield\",\n\n      style : function(states)\n      {\n        return {\n          decorator : undefined,\n          padding: [2, 3],\n          backgroundColor: undefined\n        };\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      MENU\n    ---------------------------------------------------------------------------\n    */\n\n    \"menu\" :\n    {\n      style : function(states)\n      {\n        var result =\n        {\n          backgroundColor : \"background\",\n          decorator : \"menu\",\n          spacingX : 6,\n          spacingY : 1,\n          iconColumnWidth : 16,\n          arrowColumnWidth : 4,\n          padding : 1,\n          placementModeY : states.submenu || states.contextmenu ? \"best-fit\" : \"keep-align\"\n        };\n\n        if (states.submenu)\n        {\n          result.position = \"right-top\";\n          result.offset = [-2, -3];\n        }\n\n        if (states.contextmenu) {\n          result.offset = 4;\n        }\n\n        return result;\n      }\n    },\n\n    \"menu/slidebar\" : \"menu-slidebar\",\n\n    \"menu-slidebar\" : \"widget\",\n\n    \"menu-slidebar-button\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : states.hovered  ? \"background-selected\" : undefined,\n          padding : 6,\n          center : true\n        };\n      }\n    },\n\n    \"menu-slidebar/button-backward\" :\n    {\n      include : \"menu-slidebar-button\",\n\n      style : function(states)\n      {\n        return {\n          icon : states.hovered ? \"decoration/arrows/up-invert.gif\" : \"decoration/arrows/up.gif\"\n        };\n      }\n    },\n\n    \"menu-slidebar/button-forward\" :\n    {\n      include : \"menu-slidebar-button\",\n\n      style : function(states)\n      {\n        return {\n          icon : states.hovered ? \"decoration/arrows/down-invert.gif\" : \"decoration/arrows/down.gif\"\n        };\n      }\n    },\n\n    \"menu-separator\" :\n    {\n      style : function(states)\n      {\n        return {\n          height : 0,\n          decorator : \"menu-separator\",\n          marginTop : 4,\n          marginBottom: 4,\n          marginLeft : 2,\n          marginRight : 2\n        }\n      }\n    },\n\n    \"menu-button\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        return {\n          backgroundColor : states.selected ? \"background-selected\" : undefined,\n          textColor : states.selected ? \"text-selected\" : undefined,\n          padding : [ 2, 6 ]\n        };\n      }\n    },\n\n    \"menu-button/icon\" :\n    {\n      include : \"image\",\n\n      style : function(states)\n      {\n        return {\n          alignY : \"middle\"\n        };\n      }\n    },\n\n    \"menu-button/label\" :\n    {\n      include : \"label\",\n\n      style : function(states)\n      {\n        return {\n          alignY : \"middle\",\n          padding : 1\n        };\n      }\n    },\n\n    \"menu-button/shortcut\" :\n    {\n      include : \"label\",\n\n      style : function(states)\n      {\n        return {\n          alignY : \"middle\",\n          marginLeft : 14,\n          padding : 1\n        };\n      }\n    },\n\n    \"menu-button/arrow\" :\n    {\n      include : \"image\",\n\n      style : function(states)\n      {\n        return {\n          source : states.selected ? \"decoration/arrows/right-invert.gif\" : \"decoration/arrows/right.gif\",\n          alignY : \"middle\"\n        };\n      }\n    },\n\n    \"menu-checkbox\" :\n    {\n      alias : \"menu-button\",\n      include : \"menu-button\",\n\n      style : function(states)\n      {\n        return {\n          icon : !states.checked ? undefined :\n            states.selected ? \"decoration/menu/checkbox-invert.gif\" :\n              \"decoration/menu/checkbox.gif\"\n        }\n      }\n    },\n\n    \"menu-radiobutton\" :\n    {\n      alias : \"menu-button\",\n      include : \"menu-button\",\n\n      style : function(states)\n      {\n        return {\n          icon : !states.checked ? undefined :\n            states.selected ? \"decoration/menu/radiobutton-invert.gif\" :\n              \"decoration/menu/radiobutton.gif\"\n        }\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      MENU BAR\n    ---------------------------------------------------------------------------\n    */\n\n    \"menubar\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"background\",\n          decorator       : \"outset\"\n        };\n      }\n    },\n\n    \"menubar-button\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        return {\n          padding : [ 2, 6 ],\n          backgroundColor : states.pressed || states.hovered && !states.disabled ? \"background-selected\" : undefined,\n          textColor : states.pressed || states.hovered ? \"text-selected\" : undefined\n        };\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      COLOR SELECTOR\n    ---------------------------------------------------------------------------\n    */\n\n    \"colorselector\" : \"widget\",\n    \"colorselector/control-bar\" : \"widget\",\n    \"colorselector/visual-pane\" : \"groupbox\",\n    \"colorselector/control-pane\": \"widget\",\n    \"colorselector/preset-grid\" : \"widget\",\n\n    \"colorselector/colorbucket\":\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"inset-thin\",\n          width : 16,\n          height : 16\n        }\n      }\n    },\n\n    \"colorselector/preset-field-set\" : \"groupbox\",\n    \"colorselector/input-field-set\" : {\n      include : \"groupbox\",\n      alias : \"groupbox\",\n      style : function() {\n        return {\n          paddingTop: 12\n        }\n      }\n    },\n\n    \"colorselector/preview-field-set\" : {\n      include : \"groupbox\",\n      alias : \"groupbox\",\n      style : function() {\n        return {\n          paddingTop: 12\n        }\n      }\n    },\n\n    \"colorselector/hex-field-composite\" : \"widget\",\n    \"colorselector/hex-field\" : \"textfield\",\n\n    \"colorselector/rgb-spinner-composite\" : \"widget\",\n    \"colorselector/rgb-spinner-red\" : \"spinner\",\n    \"colorselector/rgb-spinner-green\" : \"spinner\",\n    \"colorselector/rgb-spinner-blue\" : \"spinner\",\n\n    \"colorselector/hsb-spinner-composite\" : \"widget\",\n    \"colorselector/hsb-spinner-hue\" : \"spinner\",\n    \"colorselector/hsb-spinner-saturation\" : \"spinner\",\n    \"colorselector/hsb-spinner-brightness\" : \"spinner\",\n\n    \"colorselector/preview-content-old\":\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"inset-thin\",\n          width : 50,\n          height : 10\n        }\n      }\n    },\n\n    \"colorselector/preview-content-new\":\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"inset-thin\",\n          backgroundColor : \"white\",\n          width : 50,\n          height : 10\n        }\n      }\n    },\n\n    \"colorselector/hue-saturation-field\":\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"inset-thin\",\n          margin : 5\n        }\n      }\n    },\n\n    \"colorselector/brightness-field\":\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"inset-thin\",\n          margin : [5, 7]\n        }\n      }\n    },\n\n    \"colorselector/hue-saturation-pane\": \"widget\",\n    \"colorselector/hue-saturation-handle\" : \"widget\",\n    \"colorselector/brightness-pane\": \"widget\",\n    \"colorselector/brightness-handle\" : \"widget\",\n\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TABLE\n    ---------------------------------------------------------------------------\n    */\n\n    \"table\" : \"widget\",\n\n    \"table/statusbar\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"table-statusbar\",\n          paddingLeft : 2,\n          paddingRight : 2\n        };\n      }\n    },\n\n    \"table/column-button\" :\n    {\n      alias : \"button\",\n      style : function(states)\n      {\n        var border, padding;\n\n        if (states.pressed || states.checked || states.abandoned)\n        {\n          border = \"inset-thin\";\n          padding = [ 3, 2, 1, 4 ];\n        }\n        else if (states.hovered)\n        {\n          border = \"outset-thin\";\n          padding = [ 2, 3 ];\n        }\n        else\n        {\n          border = undefined;\n          padding = [ 3, 4 ];\n        }\n\n        return {\n          decorator : border,\n          padding : padding,\n          backgroundColor : states.abandoned ? \"button-abandoned\" : \"button\",\n          icon : \"decoration/table/select-column-order.png\"\n        };\n      }\n    },\n\n    \"table-column-reset-button\" :\n    {\n      extend : \"menu-button\",\n      alias : \"menu-button\",\n\n      style : function()\n      {\n        return {\n          icon : \"icon/16/actions/view-refresh.png\"\n        }\n      }\n    },\n\n    \"table-scroller/scrollbar-x\": \"scrollbar\",\n    \"table-scroller/scrollbar-y\": \"scrollbar\",\n\n    \"table-scroller\" : \"widget\",\n\n    \"table-scroller/header\":\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"table-scroller-header\",\n          backgroundColor : \"table-header\"\n        };\n      }\n    },\n\n    \"table-scroller/pane\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"table-pane\"\n        };\n      }\n    },\n\n    \"table-scroller/focus-indicator\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"table-scroller-focus-indicator\"\n        };\n      }\n    },\n\n    \"table-scroller/resize-line\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor: \"table-header-border\",\n          width: 3\n        };\n      }\n    },\n\n    \"table-header-cell\" :\n    {\n      alias : \"atom\",\n      style : function(states)\n      {\n        return {\n          minWidth: 13,\n          paddingLeft : 2,\n          paddingRight : 2,\n          paddingBottom : states.hovered ? 0 : 2,\n          decorator : states.hovered ? \"table-header-cell-hovered\" : \"table-header-cell\",\n          backgroundColor : states.hovered ? \"table-header-cell-hover\" : \"table-header-cell\",\n          sortIcon : states.sorted ?\n              (states.sortedAscending ? \"decoration/table/ascending.png\" : \"decoration/table/descending.png\")\n              : undefined\n        }\n      }\n    },\n\n    \"table-header-cell/icon\" : {\n      style : function(states)\n      {\n        return {\n          marginRight: 4,\n          opacity : states.disabled ? 0.3 : 1\n        }\n      }\n    },\n\n    \"table-header-cell/sort-icon\" : {\n      style : function(states)\n      {\n        return {\n          alignY : \"middle\",\n          opacity : states.disabled ? 0.3 : 1\n        }\n      }\n    },\n\n    \"table-editor-textfield\" :\n    {\n      include : \"textfield\",\n\n      style : function(states)\n      {\n        return {\n          decorator : undefined,\n          padding : [ 2, 2 ]\n        };\n      }\n    },\n\n    \"table-editor-selectbox\" :\n    {\n      include : \"selectbox\",\n      alias : \"selectbox\",\n\n      style : function(states)\n      {\n        return {\n          padding : [ 0, 2 ]\n        };\n      }\n    },\n\n    \"table-editor-combobox\" :\n    {\n      include : \"combobox\",\n      alias : \"combobox\",\n\n      style : function(states)\n      {\n        return {\n          decorator : undefined\n        };\n      }\n    },\n\n    \"progressive-table-header\" : {\n      alias: \"table-scroller/header\"\n    },\n\n    \"progressive-table-header-cell\" : {\n      style : function(states) {\n        return {\n          decorator: \"table-header-cell\",\n          backgroundColor: \"table-header-cell\",\n          padding: [0, 6, 0, 6]\n        };\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      COLOR POPUP\n    ---------------------------------------------------------------------------\n    */\n\n\n    \"colorpopup\" :\n    {\n      alias : \"popup\",\n      include : \"popup\",\n\n      style : function(states)\n      {\n        return {\n          decorator : \"outset\",\n          padding : 5,\n          backgroundColor : \"background\"\n        }\n      }\n    },\n\n    \"colorpopup/field\":\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"inset-thin\",\n          margin : 2,\n          width : 14,\n          height : 14,\n          backgroundColor : \"background\"\n        }\n      }\n    },\n\n    \"colorpopup/selector-button\" : \"button\",\n    \"colorpopup/auto-button\" : \"button\",\n\n    \"colorpopup/preview-pane\" : \"groupbox\",\n\n    \"colorpopup/current-preview\":\n    {\n      style : function(state)\n      {\n        return {\n          height : 20,\n          padding: 4,\n          marginLeft : 4,\n          decorator : \"inset-thin\",\n          allowGrowX : true\n        }\n      }\n    },\n\n    \"colorpopup/selected-preview\":\n    {\n      style : function(state)\n      {\n        return {\n          height : 20,\n          padding: 4,\n          marginRight : 4,\n          decorator : \"inset-thin\",\n          allowGrowX : true\n        }\n      }\n    },\n\n    \"colorpopup/colorselector-okbutton\":\n    {\n      alias : \"button\",\n      include : \"button\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"icon/16/actions/dialog-ok.png\"\n        };\n      }\n    },\n\n    \"colorpopup/colorselector-cancelbutton\":\n   {\n      alias : \"button\",\n      include : \"button\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"icon/16/actions/dialog-cancel.png\"\n        };\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      VIRTUAL WIDGETS\n    ---------------------------------------------------------------------------\n    */\n    \"virtual-list\" : \"list\",\n    \"virtual-list/row-layer\" : \"row-layer\",\n\n    \"row-layer\" : \"widget\",\n    \"column-layer\" : \"widget\",\n\n    \"group-item\" :\n    {\n      include : \"label\",\n      alias : \"label\",\n\n      style : function(states)\n      {\n        return {\n          padding : 4,\n          backgroundColor : \"#BABABA\",\n          textColor : \"white\",\n          font: \"bold\"\n        };\n      }\n    },\n\n    \"virtual-selectbox\" : \"selectbox\",\n    \"virtual-selectbox/dropdown\" : \"popup\",\n    \"virtual-selectbox/dropdown/list\" : {\n      alias : \"virtual-list\"\n    },\n\n    \"virtual-combobox\" : \"combobox\",\n    \"virtual-combobox/dropdown\" : \"popup\",\n    \"virtual-combobox/dropdown/list\" : {\n      alias : \"virtual-list\"\n    },\n\n    \"virtual-tree\" :\n    {\n      include : \"tree\",\n      alias : \"tree\",\n\n      style : function(states)\n      {\n        return {\n          itemHeight : 21\n        };\n      }\n    },\n\n    \"virtual-tree-folder\" : \"tree-folder\",\n    \"virtual-tree-file\" : \"tree-file\",\n\n    \"cell\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor: states.selected ?\n            \"table-row-background-selected\" :\n            \"table-row-background-even\",\n          textColor: states.selected ? \"text-selected\" : \"text\",\n          padding: [3, 6]\n        }\n      }\n    },\n\n    \"cell-string\" : \"cell\",\n    \"cell-number\" :\n    {\n      include : \"cell\",\n      style : function(states)\n      {\n        return {\n          textAlign : \"right\"\n        }\n      }\n    },\n    \"cell-image\" : \"cell\",\n    \"cell-boolean\" : \"cell\",\n    \"cell-atom\" : \"cell\",\n    \"cell-date\" : \"cell\",\n    \"cell-html\" : \"cell\",\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PROGRESSBAR\n    ---------------------------------------------------------------------------\n    */\n    \"progressbar\":\n    {\n      style: function(states) {\n        return {\n          decorator: \"progressbar\",\n          padding: [1],\n          backgroundColor: \"white\",\n          width : 200,\n          height : 20\n        }\n      }\n    },\n\n    \"progressbar/progress\":\n    {\n      style: function(states) {\n        return {\n          backgroundColor: states.disabled ? \"background-disabled\" : \"background-selected\"\n        }\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      APPLICATION\n    ---------------------------------------------------------------------------\n    */\n\n    \"app-header\":\n    {\n      style : function(states)\n      {\n        return {\n          textColor : \"text-selected\",\n          backgroundColor: \"background-selected\",\n          padding : [8, 12]\n        };\n      }\n    },\n\n    \"app-header-label\": \"label\",\n\n    \"app-splitpane\" : {\n      alias : \"splitpane\",\n      style : function(states) {\n        return {\n          padding: [0, 10, 10, 10],\n          backgroundColor: \"light-background\"\n        }\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n/**\n * KDE Oxygen icons\n */\nqx.Theme.define(\"qx.theme.icon.Oxygen\",\n{\n  title : \"Oxygen\",\n  aliases : {\n    \"icon\" : \"qx/icon/Oxygen\"\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * Classic Windows Theme\n */\nqx.Theme.define(\"qx.theme.Classic\",\n{\n  title : \"Classic Windows\",\n\n  meta :\n  {\n    color : qx.theme.classic.Color,\n    decoration : qx.theme.classic.Decoration,\n    font : qx.theme.classic.Font,\n    appearance : qx.theme.classic.Appearance,\n    icon : qx.theme.icon.Oxygen\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n     * Tristan Koch (trkoch)\n\n************************************************************************ */\n\n/**\n * Indigo color theme\n */\nqx.Theme.define(\"qx.theme.indigo.Color\",\n{\n  colors :\n  {\n    // main\n    \"background\" : \"white\",\n    \"dark-blue\" : \"#323335\",\n    \"light-background\" : \"#F4F4F4\",\n    \"font\" : \"#262626\",\n\n\n    \"highlight\" : \"#3D72C9\", // bright blue\n    \"highlight-shade\" : \"#5583D0\", // bright blue\n\n    // backgrounds\n    \"background-selected\" : \"#3D72C9\",\n    \"background-selected-disabled\" : \"#CDCDCD\",\n    \"background-selected-dark\" : \"#323335\",\n    \"background-disabled\" : \"#F7F7F7\",\n    \"background-disabled-checked\" : \"#BBBBBB\",\n    \"background-pane\" : \"white\",\n\n    // tabview\n    \"tabview-unselected\" : \"#1866B5\",\n    \"tabview-button-border\" : \"#134983\",\n    \"tabview-label-active-disabled\" : \"#D9D9D9\",\n\n    // text colors\n    \"link\" : \"#24B\",\n\n    // scrollbar\n    \"scrollbar-bright\" : \"#F1F1F1\",\n    \"scrollbar-dark\" : \"#EBEBEB\",\n\n    // form\n    \"button\" : \"#E8F0E3\",\n    \"button-border\" : \"#BBB\",\n    \"button-border-hovered\" : \"#939393\",\n    \"invalid\" : \"#C00F00\",\n    \"button-box-bright\" : \"#F9F9F9\",\n    \"button-box-dark\" : \"#E3E3E3\",\n    \"button-box-bright-pressed\" : \"#BABABA\",\n    \"button-box-dark-pressed\" : \"#EBEBEB\",\n    \"border-lead\" : \"#888888\",\n\n    // window\n    \"window-border\" : \"#dddddd\",\n    \"window-border-inner\" : \"#F4F4F4\",\n\n    // group box\n    \"white-box-border\" : \"#dddddd\",\n\n    // shadows\n    \"shadow\" : qx.core.Environment.get(\"css.rgba\") ? \"rgba(0, 0, 0, 0.4)\" : \"#666666\",\n\n    // borders\n    \"border-main\" : \"#dddddd\",\n    \"border-light\" : \"#B7B7B7\",\n    \"border-light-shadow\" : \"#686868\",\n\n    // separator\n    \"border-separator\" : \"#808080\",\n\n    // text\n    \"text\" : \"#262626\",\n    \"text-disabled\" : \"#A7A6AA\",\n    \"text-selected\" : \"white\",\n    \"text-placeholder\" : \"#CBC8CD\",\n\n    // tooltip\n    \"tooltip\" : \"#FE0\",\n    \"tooltip-text\" : \"black\",\n\n    // table\n    \"table-header\" : [ 242, 242, 242 ],\n    \"table-focus-indicator\" : \"#3D72C9\",\n\n    // used in table code\n    \"table-header-cell\" : [ 235, 234, 219 ],\n    \"table-row-background-focused-selected\" : \"#3D72C9\",\n    \"table-row-background-focused\" : \"#F4F4F4\",\n    \"table-row-background-selected\" : [ 51, 94, 168 ],\n    \"table-row-background-even\" : \"white\",\n    \"table-row-background-odd\" : \"white\",\n    \"table-row-selected\" : [ 255, 255, 255 ],\n    \"table-row\" : [ 0, 0, 0],\n    \"table-row-line\" : \"#EEE\",\n    \"table-column-line\" : \"#EEE\",\n\n    // used in progressive code\n    \"progressive-table-header\" : \"#AAAAAA\",\n    \"progressive-table-row-background-even\" : [ 250, 248, 243 ],\n    \"progressive-table-row-background-odd\" : [ 255, 255, 255 ],\n    \"progressive-progressbar-background\" : \"gray\",\n    \"progressive-progressbar-indicator-done\" : \"#CCCCCC\",\n    \"progressive-progressbar-indicator-undone\" : \"white\",\n    \"progressive-progressbar-percent-background\" : \"gray\",\n    \"progressive-progressbar-percent-text\" : \"white\"\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n   * Martin Wittemann (martinwittemann)\n\n************************************************************************* */\n\n/**\n * The simple qooxdoo decoration theme.\n */\nqx.Theme.define(\"qx.theme.simple.Decoration\",\n{\n  aliases : {\n    decoration : \"qx/decoration/Simple\"\n  },\n\n  decorations :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      CORE\n    ---------------------------------------------------------------------------\n    */\n\n    \"border-blue\" :\n    {\n      style :\n      {\n        width : 4,\n        color : \"background-selected\"\n      }\n    },\n\n\n    \"main\" :\n    {\n      style :\n      {\n        width : 1,\n        color : \"border-main\"\n      }\n    },\n\n    \"main-dark\" :\n    {\n      style :\n      {\n        width : 1,\n        color : \"button-border\"\n      }\n    },\n\n\n    \"popup\" :\n    {\n      style :\n      {\n        width: 1,\n        color: \"window-border\",\n        shadowLength : 2,\n        shadowBlurRadius : 5,\n        shadowColor : \"shadow\"\n      }\n    },\n\n\n    \"dragover\" :\n    {\n      style : {\n        bottom: [2, \"solid\", \"dark-blue\"]\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      BUTTON\n    ---------------------------------------------------------------------------\n    */\n    \"button-box\" :\n    {\n      style :\n      {\n        radius : 3,\n        width : 1,\n        color : \"button-border\",\n        gradientStart : [\"button-box-bright\", 40],\n        gradientEnd : [\"button-box-dark\", 70],\n        backgroundColor : \"button-box-bright\"\n      }\n    },\n\n    \"button-box-pressed\" :\n    {\n      include : \"button-box\",\n\n      style :\n      {\n        gradientStart : [\"button-box-bright-pressed\", 40],\n        gradientEnd : [\"button-box-dark-pressed\", 70],\n        backgroundColor : \"button-box-bright-pressed\"\n      }\n    },\n\n    \"button-box-pressed-hovered\" :\n    {\n      include : \"button-box-pressed\",\n\n      style :\n      {\n        color : \"button-border-hovered\"\n      }\n    },\n\n    \"button-box-hovered\" :\n    {\n      include : \"button-box\",\n\n      style :\n      {\n        color : \"button-border-hovered\"\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      BUTTON INVALID\n    ---------------------------------------------------------------------------\n    */\n    \"button-box-invalid\" :\n    {\n      include : \"button-box\",\n\n      style :\n      {\n        color : \"invalid\"\n      }\n    },\n\n    \"button-box-pressed-invalid\" :\n    {\n      include : \"button-box-pressed\",\n\n      style :\n      {\n        color : \"invalid\"\n      }\n    },\n\n    \"button-box-hovered-invalid\" : {include: \"button-box-invalid\"},\n\n    \"button-box-pressed-hovered-invalid\" : {include: \"button-box-pressed-invalid\"},\n\n\n    /*\n    ---------------------------------------------------------------------------\n      BUTTON FOCUSED\n    ---------------------------------------------------------------------------\n    */\n    \"button-box-focused\" :\n    {\n      include : \"button-box\",\n\n      style :\n      {\n        color : \"background-selected\"\n      }\n    },\n\n    \"button-box-pressed-focused\" :\n    {\n      include : \"button-box-pressed\",\n\n      style :\n      {\n        color : \"background-selected\"\n      }\n    },\n\n    \"button-box-hovered-focused\" : {include: \"button-box-focused\"},\n\n    \"button-box-pressed-hovered-focused\" : {include: \"button-box-pressed-focused\"},\n\n\n    /*\n    ---------------------------------------------------------------------------\n      BUTTON RIGHT\n    ---------------------------------------------------------------------------\n    */\n    \"button-box-right\" :\n    {\n      include : \"button-box\",\n\n      style :\n      {\n        radius : [0, 3, 3, 0]\n      }\n    },\n\n    \"button-box-pressed-right\" :\n    {\n      include : \"button-box-pressed\",\n\n      style :\n      {\n        radius : [0, 3, 3, 0]\n      }\n    },\n\n    \"button-box-pressed-hovered-right\" :\n    {\n      include : \"button-box-pressed-hovered\",\n\n      style :\n      {\n        radius : [0, 3, 3, 0]\n      }\n    },\n\n    \"button-box-hovered-right\" :\n    {\n      include : \"button-box-hovered\",\n\n      style :\n      {\n        radius : [0, 3, 3, 0]\n      }\n    },\n\n    \"button-box-focused-right\" :\n    {\n      include : \"button-box-focused\",\n\n      style :\n      {\n        radius : [0, 3, 3, 0]\n      }\n    },\n\n    \"button-box-hovered-focused-right\" :\n    {\n      include : \"button-box-hovered-focused\",\n\n      style :\n      {\n        radius : [0, 3, 3, 0]\n      }\n    },\n\n    \"button-box-pressed-focused-right\" :\n    {\n      include : \"button-box-pressed-focused\",\n\n      style :\n      {\n        radius : [0, 3, 3, 0]\n      }\n    },\n\n    \"button-box-pressed-hovered-focused-right\" :\n    {\n      include : \"button-box-pressed-hovered-focused\",\n\n      style :\n      {\n        radius : [0, 3, 3, 0]\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      BUTTON BORDERLESS RIGHT\n    ---------------------------------------------------------------------------\n    */\n    \"button-box-right-borderless\" :\n    {\n      include : \"button-box\",\n\n      style :\n      {\n        radius : [0, 3, 3, 0],\n        width: [1, 1, 1, 0]\n      }\n    },\n\n    \"button-box-pressed-right-borderless\" :\n    {\n      include : \"button-box-pressed\",\n\n      style :\n      {\n        radius : [0, 3, 3, 0],\n        width: [1, 1, 1, 0]\n      }\n    },\n\n    \"button-box-pressed-hovered-right-borderless\" :\n    {\n      include : \"button-box-pressed-hovered\",\n\n      style :\n      {\n        radius : [0, 3, 3, 0],\n        width: [1, 1, 1, 0]\n      }\n    },\n\n    \"button-box-hovered-right-borderless\" :\n    {\n      include : \"button-box-hovered\",\n\n      style :\n      {\n        radius : [0, 3, 3, 0],\n        width: [1, 1, 1, 0]\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      BUTTON TOP RIGHT\n    ---------------------------------------------------------------------------\n    */\n    \"button-box-top-right\" :\n    {\n      include : \"button-box\",\n\n      style :\n      {\n        radius : [0, 3, 0, 0],\n        width: [1, 1, 1, 0]\n      }\n    },\n\n    \"button-box-pressed-top-right\" :\n    {\n      include : \"button-box-pressed\",\n\n      style :\n      {\n        radius : [0, 3, 0, 0],\n        width: [1, 1, 1, 0]\n      }\n    },\n\n    \"button-box-pressed-hovered-top-right\" :\n    {\n      include : \"button-box-pressed-hovered\",\n\n      style :\n      {\n        radius : [0, 3, 0, 0],\n        width: [1, 1, 1, 0]\n      }\n    },\n\n    \"button-box-hovered-top-right\" :\n    {\n      include : \"button-box-hovered\",\n\n      style :\n      {\n        radius : [0, 3, 0, 0],\n        width: [1, 1, 1, 0]\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      BUTTON BOTOM RIGHT\n    ---------------------------------------------------------------------------\n    */\n    \"button-box-bottom-right\" :\n    {\n      include : \"button-box\",\n\n      style :\n      {\n        radius : [0, 0, 3, 0],\n        width : [0, 1, 1, 0]\n      }\n    },\n\n    \"button-box-pressed-bottom-right\" :\n    {\n      include : \"button-box-pressed\",\n\n      style :\n      {\n        radius : [0, 0, 3, 0],\n        width : [0, 1, 1, 0]\n      }\n    },\n\n    \"button-box-pressed-hovered-bottom-right\" :\n    {\n      include : \"button-box-pressed-hovered\",\n\n      style :\n      {\n        radius : [0, 0, 3, 0],\n        width : [0, 1, 1, 0]\n      }\n    },\n\n    \"button-box-hovered-bottom-right\" :\n    {\n      include : \"button-box-hovered\",\n\n      style :\n      {\n        radius : [0, 0, 3, 0],\n        width : [0, 1, 1, 0]\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      BUTTON BOTOM LEFT\n    ---------------------------------------------------------------------------\n    */\n    \"button-box-bottom-left\" :\n    {\n      include : \"button-box\",\n\n      style :\n      {\n        radius : [0, 0, 0, 3],\n        width : [0, 0, 1, 1]\n      }\n    },\n\n    \"button-box-pressed-bottom-left\" :\n    {\n      include : \"button-box-pressed\",\n\n      style :\n      {\n        radius : [0, 0, 0, 3],\n        width : [0, 0, 1, 1]\n      }\n    },\n\n    \"button-box-pressed-hovered-bottom-left\" :\n    {\n      include : \"button-box-pressed-hovered\",\n\n      style :\n      {\n        radius : [0, 0, 0, 3],\n        width : [0, 0, 1, 1]\n      }\n    },\n\n    \"button-box-hovered-bottom-left\" :\n    {\n      include : \"button-box-hovered\",\n\n      style :\n      {\n        radius : [0, 0, 0, 3],\n        width : [0, 0, 1, 1]\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      BUTTON TOP LEFT\n    ---------------------------------------------------------------------------\n    */\n    \"button-box-top-left\" :\n    {\n      include : \"button-box\",\n\n      style :\n      {\n        radius : [3, 0, 0, 0],\n        width : [1, 0, 0, 1]\n      }\n    },\n\n    \"button-box-pressed-top-left\" :\n    {\n      include : \"button-box-pressed\",\n\n      style :\n      {\n        radius : [3, 0, 0, 0],\n        width : [1, 0, 0, 1]\n      }\n    },\n\n    \"button-box-pressed-hovered-top-left\" :\n    {\n      include : \"button-box-pressed-hovered\",\n\n      style :\n      {\n        radius : [3, 0, 0, 0],\n        width : [1, 0, 0, 1]\n      }\n    },\n\n    \"button-box-hovered-top-left\" :\n    {\n      include : \"button-box-hovered\",\n\n      style :\n      {\n        radius : [3, 0, 0, 0],\n        width : [1, 0, 0, 1]\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      BUTTON MIDDLE\n    ---------------------------------------------------------------------------\n    */\n    \"button-box-middle\" :\n    {\n      include : \"button-box\",\n\n      style :\n      {\n        radius : 0,\n        width : [1, 0, 1, 1]\n      }\n    },\n\n    \"button-box-pressed-middle\" :\n    {\n      include : \"button-box-pressed\",\n\n      style :\n      {\n        radius : 0,\n        width : [1, 0, 1, 1]\n      }\n    },\n\n    \"button-box-pressed-hovered-middle\" :\n    {\n      include : \"button-box-pressed-hovered\",\n\n      style :\n      {\n        radius : 0,\n        width : [1, 0, 1, 1]\n      }\n    },\n\n    \"button-box-hovered-middle\" :\n    {\n      include : \"button-box-hovered\",\n\n      style :\n      {\n        radius : 0,\n        width : [1, 0, 1, 1]\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      BUTTON LEFT\n    ---------------------------------------------------------------------------\n    */\n    \"button-box-left\" :\n    {\n      include : \"button-box\",\n\n      style :\n      {\n        radius : [3, 0, 0, 3],\n        width : [1, 0, 1, 1]\n      }\n    },\n\n    \"button-box-pressed-left\" :\n    {\n      include : \"button-box-pressed\",\n\n      style :\n      {\n        radius : [3, 0, 0, 3],\n        width : [1, 0, 1, 1]\n      }\n    },\n\n    \"button-box-pressed-hovered-left\" :\n    {\n      include : \"button-box-pressed-hovered\",\n\n      style :\n      {\n        radius : [3, 0, 0, 3],\n        width : [1, 0, 1, 1]\n      }\n    },\n\n    \"button-box-hovered-left\" :\n    {\n      include : \"button-box-hovered\",\n\n      style :\n      {\n        radius : [3, 0, 0, 3],\n        width : [1, 0, 1, 1]\n      }\n    },\n\n    \"button-box-focused-left\" :\n    {\n      include : \"button-box-focused\",\n\n      style :\n      {\n        radius : [3, 0, 0, 3],\n        width : [1, 0, 1, 1]\n      }\n    },\n\n    \"button-box-hovered-focused-left\" :\n    {\n      include : \"button-box-hovered-focused\",\n\n      style :\n      {\n        radius : [3, 0, 0, 3],\n        width : [1, 0, 1, 1]\n      }\n    },\n\n    \"button-box-pressed-hovered-focused-left\" :\n    {\n      include : \"button-box-pressed-hovered-focused\",\n\n      style :\n      {\n        radius : [3, 0, 0, 3],\n        width : [1, 0, 1, 1]\n      }\n    },\n\n    \"button-box-pressed-focused-left\" :\n    {\n      include : \"button-box-pressed-focused\",\n\n      style :\n      {\n        radius : [3, 0, 0, 3],\n        width : [1, 0, 1, 1]\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SEPARATOR\n    ---------------------------------------------------------------------------\n    */\n\n    \"separator-horizontal\" :\n    {\n      style :\n      {\n        widthLeft : 1,\n        colorLeft : \"border-separator\"\n      }\n    },\n\n    \"separator-vertical\" :\n    {\n      style :\n      {\n        widthTop : 1,\n        colorTop : \"border-separator\"\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SCROLL KNOB\n    ---------------------------------------------------------------------------\n    */\n    \"scroll-knob\" :\n    {\n      style :\n      {\n        radius : 3,\n        width : 1,\n        color : \"button-border\",\n        backgroundColor : \"scrollbar-bright\"\n      }\n    },\n\n    \"scroll-knob-pressed\" :\n    {\n      include : \"scroll-knob\",\n\n      style :\n      {\n        backgroundColor : \"scrollbar-dark\"\n      }\n    },\n\n    \"scroll-knob-hovered\" :\n    {\n      include: \"scroll-knob\",\n\n      style :\n      {\n        color : \"button-border-hovered\"\n      }\n    },\n\n    \"scroll-knob-pressed-hovered\" :\n    {\n      include: \"scroll-knob-pressed\",\n\n      style :\n      {\n        color : \"button-border-hovered\"\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      HOVER BUTTON\n    ---------------------------------------------------------------------------\n    */\n    \"button-hover\" :\n    {\n      style :\n      {\n        backgroundColor : \"button\",\n        radius : 3\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      WINDOW\n    ---------------------------------------------------------------------------\n    */\n    \"window\" :\n    {\n      style :\n      {\n        width : 1,\n        color : \"window-border\",\n        innerWidth : 4,\n        innerColor: \"window-border-inner\",\n        shadowLength : 1,\n        shadowBlurRadius : 3,\n        shadowColor : \"shadow\",\n        backgroundColor : \"background\"\n      }\n    },\n\n    \"window-active\" :\n    {\n      include : \"window\",\n\n      style :\n      {\n        shadowLength : 2,\n        shadowBlurRadius : 5\n      }\n    },\n\n\n    \"window-caption\" : {\n      style :\n      {\n        width : [0, 0, 2, 0],\n        color : \"window-border-inner\"\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      GROUP BOX\n    ---------------------------------------------------------------------------\n    */\n    \"white-box\" :\n    {\n      style :\n      {\n        width: 1,\n        color: \"white-box-border\",\n        shadowBlurRadius : 2,\n        shadowColor : \"#999999\",\n        radius: 7,\n        backgroundColor : \"white\",\n        shadowLength: 0\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TEXT FIELD\n    ---------------------------------------------------------------------------\n    */\n    \"inset\" :\n    {\n      style :\n      {\n        width : 1,\n        color : [ \"border-light-shadow\", \"border-light\", \"border-light\", \"border-light\" ]\n      }\n    },\n\n    \"focused-inset\" :\n    {\n      style :\n      {\n        width : 2,\n        color : \"background-selected\"\n      }\n    },\n\n    \"border-invalid\" :\n    {\n      style :\n      {\n        width : 2,\n        color : \"invalid\"\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      LIST ITEM\n    ---------------------------------------------------------------------------\n    */\n\n    \"lead-item\" :\n    {\n      style :\n      {\n        width : 1,\n        style : \"dotted\",\n        color : \"border-lead\"\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TOOL TIP\n    ---------------------------------------------------------------------------\n    */\n\n    \"tooltip\" :\n    {\n      style :\n      {\n        width : 1,\n        color : \"tooltip-text\",\n        shadowLength : 1,\n        shadowBlurRadius : 2,\n        shadowColor : \"shadow\"\n      }\n    },\n\n\n    \"tooltip-error\" :\n    {\n      style : {\n        radius: 5,\n        backgroundColor: \"invalid\"\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TOOLBAR\n    ---------------------------------------------------------------------------\n    */\n\n    \"toolbar-separator\" :\n    {\n      style :\n      {\n        widthLeft : 1,\n        colorLeft : \"button-border\"\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      MENU\n    ---------------------------------------------------------------------------\n    */\n    \"menu-separator\" :\n    {\n      style :\n      {\n        widthTop: 1,\n        colorTop : \"background-selected\"\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      MENU BAR\n    ---------------------------------------------------------------------------\n    */\n    \"menubar-button-hovered\" :\n    {\n      style :\n      {\n        width : 1,\n        color : \"border-main\",\n        radius : 3,\n        backgroundColor : \"white\"\n      }\n    },\n\n\n    \"menubar-button-pressed\" :\n    {\n      include : \"menubar-button-hovered\",\n\n      style :\n      {\n        radius : [3, 3, 0, 0],\n        width : [1, 1, 0, 1]\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      DATE CHOOSER\n    ---------------------------------------------------------------------------\n    */\n\n    \"datechooser-date-pane\" :\n    {\n      style :\n      {\n        widthTop: 1,\n        colorTop : \"gray\",\n        style : \"solid\"\n      }\n    },\n\n\n    \"datechooser-weekday\" :\n    {\n      style :\n      {\n        widthBottom: 1,\n        colorBottom : \"gray\",\n        style : \"solid\"\n      }\n    },\n\n    \"datechooser-week\" :\n    {\n      style :\n      {\n        widthRight: 1,\n        colorRight : \"gray\",\n        style : \"solid\"\n      }\n    },\n\n    \"datechooser-week-header\" :\n    {\n      style :\n      {\n        widthBottom : 1,\n        colorBottom : \"gray\",\n        widthRight: 1,\n        colorRight : \"gray\",\n        style : \"solid\"\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TAB VIEW\n    ---------------------------------------------------------------------------\n    */\n\n    \"tabview-page-button-top\" :\n    {\n      style :\n      {\n        width : [1, 1, 0, 1],\n        backgroundColor: \"background\",\n        color : \"border-main\",\n        radius : [3, 3, 0, 0]\n      }\n    },\n\n    \"tabview-page-button-bottom\" : {\n      include : \"tabview-page-button-top\",\n\n      style :\n      {\n        radius : [0, 0, 3, 3],\n        width : [0, 1, 1, 1]\n      }\n    },\n\n    \"tabview-page-button-left\" : {\n      include : \"tabview-page-button-top\",\n\n      style :\n      {\n        radius : [3, 0, 0, 3],\n        width : [1, 0, 1, 1]\n      }\n    },\n\n    \"tabview-page-button-right\" : {\n      include : \"tabview-page-button-top\",\n\n      style :\n      {\n        radius : [0, 3, 3, 0],\n        width : [1, 1, 1, 0]\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TABLE\n    ---------------------------------------------------------------------------\n    */\n\n    \"statusbar\" :\n    {\n      style :\n      {\n        widthTop : 1,\n        colorTop : \"background-selected\",\n        styleTop : \"solid\"\n      }\n    },\n\n    \"table-scroller-focus-indicator\" :\n    {\n      style :\n      {\n        width : 2,\n        color : \"table-focus-indicator\",\n        style : \"solid\"\n      }\n    },\n\n    \"table-header\" :\n    {\n      include : \"button-box\",\n\n      style :\n      {\n        radius : 0,\n        width : [1, 0, 1, 0]\n      }\n    },\n\n    \"table-header-column-button\" :\n    {\n      include : \"table-header\",\n      style : {\n        width : 1,\n        color : \"button-border\"\n      }\n    },\n\n    \"table-header-cell\" :\n    {\n      style :\n      {\n        widthRight : 1,\n        color : \"button-border\"\n      }\n    },\n\n    \"table-header-cell-first\" :\n    {\n      include : \"table-header-cell\",\n      style : {\n        widthLeft : 1\n      }\n    },\n\n    \"progressive-table-header\" :\n    {\n      include : \"button-box\",\n\n      style :\n      {\n        radius : 0,\n        width : [1, 0, 1, 1]\n      }\n    },\n\n    \"progressive-table-header-cell\" :\n    {\n      style :\n      {\n        widthRight: 1,\n        color : \"button-border\"\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PROGRESSBAR\n    ---------------------------------------------------------------------------\n    */\n\n    \"progressbar\" :\n    {\n      style:\n      {\n        backgroundColor: \"#FFF\",\n        width: 1,\n        color: \"border-separator\"\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      RADIO BUTTON\n    ---------------------------------------------------------------------------\n    */\n    \"radiobutton\" :\n    {\n      style :\n      {\n        radius : 10,\n        width : 1,\n        color : \"button-border\",\n        innerColor: \"background\",\n        innerWidth: 2\n      }\n    },\n\n    \"radiobutton-focused\" :\n    {\n      include : \"radiobutton\",\n      style :\n      {\n        color : \"background-selected\"\n      }\n    },\n\n    \"radiobutton-invalid\" :\n    {\n      include : \"radiobutton\",\n      style :\n      {\n        color : \"invalid\"\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CHECK BOX\n    ---------------------------------------------------------------------------\n    */\n\n    \"checkbox\" :\n    {\n      style :\n      {\n        width : 1,\n        color : \"button-border\"\n      }\n    },\n\n    \"checkbox-focused\" :\n    {\n      include : \"checkbox\",\n      style :\n      {\n        color : \"background-selected\"\n      }\n    },\n\n    \"checkbox-invalid\" :\n    {\n      include : \"checkbox\",\n      style :\n      {\n        color : \"invalid\"\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n   * Martin Wittemann (martinwittemann)\n\n************************************************************************* */\n\n/**\n * The indigo qooxdoo decoration theme.\n */\nqx.Theme.define(\"qx.theme.indigo.Decoration\",\n{\n  extend : qx.theme.simple.Decoration,\n\n  aliases : {\n    decoration : \"qx/decoration/Simple\"\n  },\n\n  decorations :\n  {\n    \"window\" :\n    {\n      style :\n      {\n        width : 1,\n        color : \"window-border\",\n        shadowLength : 1,\n        shadowBlurRadius : 3,\n        shadowColor : \"shadow\",\n        backgroundColor : \"background\",\n        radius: 3\n      }\n    },\n\n\n    \"window-caption\" : {\n      style :\n      {\n        radius: [3, 3, 0, 0],\n        color: \"window-border\",\n        widthBottom: 1\n      }\n    },\n\n    \"window-caption-active\" : {\n      style :\n      {\n        radius: [3, 3, 0, 0],\n        color: \"highlight\",\n        widthBottom: 3\n      }\n    },\n\n\n    \"white-box\" :\n    {\n      style :\n      {\n        width: 1,\n        color: \"white-box-border\",\n        backgroundColor : \"white\"\n      }\n    },\n\n    \"statusbar\" :\n    {\n      style :\n      {\n        widthTop : 1,\n        colorTop : \"border-main\",\n        styleTop : \"solid\"\n      }\n    },\n\n\n    \"app-header\" : {\n      style :\n      {\n        innerWidthBottom : 1,\n        innerColorBottom: \"highlight-shade\",\n        widthBottom: 9,\n        colorBottom: \"highlight\",\n\n        gradientStart : [\"#505154\", 0],\n        gradientEnd : [\"#323335\", 100],\n\n        backgroundColor : \"#323335\"\n      }\n    }\n  }\n});","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n   * Martin Wittemann (martinwittemann)\n\n************************************************************************* */\n\n/* ************************************************************************\n\n\n************************************************************************* */\n\n\n/**\n * The simple qooxdoo font theme.\n *\n * @asset(qx/decoration/Indigo/font/JosefinSlab-SemiBold.woff)\n * @asset(qx/decoration/Indigo/font/JosefinSlab-SemiBold.ttf)\n */\nqx.Theme.define(\"qx.theme.indigo.Font\",\n{\n  fonts :\n  {\n    \"default\" :\n    {\n      size : 12,\n      family : [\"Lucida Grande\", \"DejaVu Sans\", \"Verdana\", \"sans-serif\"],\n      color: \"font\",\n      lineHeight: 1.8\n    },\n\n    \"bold\" :\n    {\n      size : 12,\n      family : [\"Lucida Grande\", \"DejaVu Sans\", \"Verdana\", \"sans-serif\"],\n      bold : true,\n      color: \"font\",\n      lineHeight: 1.8\n    },\n\n    \"headline\" :\n    {\n      size : 22,\n      family : [\"serif\"],\n      sources:\n      [\n        {\n          family : \"JosefinSlab\",\n          source: [\n            \"qx/decoration/Indigo/font/JosefinSlab-SemiBold.woff\",\n            \"qx/decoration/Indigo/font/JosefinSlab-SemiBold.ttf\"\n          ]\n        }\n      ]\n    },\n\n    \"small\" :\n    {\n      size : 11,\n      family : [\"Lucida Grande\", \"DejaVu Sans\", \"Verdana\", \"sans-serif\"],\n      color: \"font\",\n      lineHeight: 1.8\n    },\n\n    \"monospace\" :\n    {\n      size : 11,\n      family : [ \"DejaVu Sans Mono\", \"Courier New\", \"monospace\" ],\n      color: \"font\",\n      lineHeight: 1.8\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n   * Martin Wittemann (martinwittemann)\n\n************************************************************************* */\n\n/* ************************************************************************\n\n\n************************************************************************* */\n\n/**\n * The simple qooxdoo appearance theme.\n *\n * @asset(qx/icon/${qx.icontheme}/16/apps/office-calendar.png)\n * @asset(qx/icon/${qx.icontheme}/16/places/folder-open.png)\n * @asset(qx/icon/${qx.icontheme}/16/places/folder.png)\n * @asset(qx/icon/${qx.icontheme}/16/mimetypes/text-plain.png)\n * @asset(qx/icon/${qx.icontheme}/16/actions/view-refresh.png)\n * @asset(qx/icon/${qx.icontheme}/16/actions/window-close.png)\n * @asset(qx/icon/${qx.icontheme}/16/actions/dialog-cancel.png)\n * @asset(qx/icon/${qx.icontheme}/16/actions/dialog-ok.png)\n */\nqx.Theme.define(\"qx.theme.simple.Appearance\",\n{\n  appearances :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      CORE\n    ---------------------------------------------------------------------------\n    */\n\n    \"widget\" : {},\n\n    \"label\" :\n    {\n      style : function(states)\n      {\n        return {\n          textColor : states.disabled ? \"text-disabled\" : undefined\n        };\n      }\n    },\n\n    \"image\" :\n    {\n      style : function(states)\n      {\n        return {\n          opacity : !states.replacement && states.disabled ? 0.3 : undefined\n        };\n      }\n    },\n\n    \"atom\" : {},\n    \"atom/label\" : \"label\",\n    \"atom/icon\" : \"image\",\n\n    \"root\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"background\",\n          textColor : \"text\",\n          font : \"default\"\n        };\n      }\n    },\n\n    \"popup\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"popup\",\n          backgroundColor : \"background-pane\"\n        };\n      }\n    },\n\n    \"tooltip\" :\n    {\n      include : \"popup\",\n\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"tooltip\",\n          textColor : \"tooltip-text\",\n          decorator : \"tooltip\",\n          padding : [ 1, 3, 2, 3 ],\n          offset : [ 10, 5, 5, 5 ]\n        };\n      }\n    },\n\n    \"tooltip/atom\" : \"atom\",\n\n    \"tooltip-error\" :\n    {\n      include : \"tooltip\",\n\n      style : function(states)\n      {\n        return {\n          textColor: \"text-selected\",\n          showTimeout: 100,\n          hideTimeout: 10000,\n          decorator: \"tooltip-error\",\n          font: \"bold\",\n          backgroundColor: undefined\n        };\n      }\n    },\n\n    \"tooltip-error/atom\" : \"atom\",\n\n    \"iframe\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"white\",\n          decorator : \"main-dark\"\n        };\n      }\n    },\n\n    \"move-frame\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"main-dark\"\n        };\n      }\n    },\n\n    \"resize-frame\" : \"move-frame\",\n\n    \"dragdrop-cursor\" :\n    {\n      style : function(states)\n      {\n        var icon = \"nodrop\";\n\n        if (states.copy) {\n          icon = \"copy\";\n        } else if (states.move) {\n          icon = \"move\";\n        } else if (states.alias) {\n          icon = \"alias\";\n        }\n\n        return {\n          source : qx.theme.simple.Image.URLS[\"cursor-\" + icon],\n          position : \"right-top\",\n          offset : [ 2, 16, 2, 6 ]\n        };\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SLIDEBAR\n    ---------------------------------------------------------------------------\n    */\n\n    \"slidebar\" : {},\n    \"slidebar/scrollpane\" : {},\n    \"slidebar/content\" : {},\n\n    \"slidebar/button-forward\" :\n    {\n      alias : \"button\",\n      include : \"button\",\n\n      style : function(states)\n      {\n        return {\n          icon : qx.theme.simple.Image.URLS[\"arrow-\" + (states.vertical ? \"down\" : \"right\")]\n        };\n      }\n    },\n\n    \"slidebar/button-backward\" :\n    {\n      alias : \"button\",\n      include : \"button\",\n\n      style : function(states)\n      {\n        return {\n          icon : qx.theme.simple.Image.URLS[\"arrow-\" + (states.vertical ? \"up\" : \"left\")]\n        };\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TABLE\n    ---------------------------------------------------------------------------\n    */\n\n    \"table\" : \"widget\",\n\n    \"table/statusbar\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"statusbar\",\n          padding : [2, 5]\n        };\n      }\n    },\n\n    \"table/column-button\" :\n    {\n      alias : \"button\",\n\n      style : function(states)\n      {\n        return {\n          decorator : \"table-header-column-button\",\n          padding : 3,\n          icon : qx.theme.simple.Image.URLS[\"select-column-order\"]\n        };\n      }\n    },\n\n    \"table-column-reset-button\" :\n    {\n      include : \"menu-button\",\n      alias : \"menu-button\",\n\n      style : function()\n      {\n        return {\n          icon : \"icon/16/actions/view-refresh.png\"\n        };\n      }\n    },\n\n    \"table-scroller/scrollbar-x\": \"scrollbar\",\n    \"table-scroller/scrollbar-y\": \"scrollbar\",\n\n    \"table-scroller\" : \"widget\",\n\n    \"table-scroller/header\": {\n      style : function() {\n        return {\n          decorator : \"table-header\"\n        };\n      }\n    },\n\n    \"table-scroller/pane\" : {},\n\n    \"table-scroller/focus-indicator\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"main\"\n        };\n      }\n    },\n\n    \"table-scroller/resize-line\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor: \"button-border\",\n          width: 3\n        };\n      }\n    },\n\n    \"table-header-cell\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        return {\n          decorator : states.first ? \"table-header-cell-first\" : \"table-header-cell\",\n          minWidth: 13,\n          font : \"bold\",\n          paddingTop: 3,\n          paddingLeft: 5,\n          cursor : states.disabled ? undefined : \"pointer\",\n          sortIcon : states.sorted ?\n              (qx.theme.simple.Image.URLS[\"table-\" +\n                 (states.sortedAscending ? \"ascending\" : \"descending\")\n              ]) : undefined\n        };\n      }\n    },\n\n    \"table-header-cell/icon\" :\n    {\n      include : \"atom/icon\",\n\n      style : function(states) {\n        return {\n          paddingRight : 5\n        };\n      }\n    },\n\n    \"table-header-cell/sort-icon\" :\n    {\n      style : function(states)\n      {\n        return {\n          alignY : \"middle\",\n          alignX : \"right\",\n          paddingRight : 5\n        };\n      }\n    },\n\n    \"table-editor-textfield\" :\n    {\n      include : \"textfield\",\n\n      style : function(states)\n      {\n        return {\n          decorator : undefined,\n          padding : [ 2, 2 ]\n        };\n      }\n    },\n\n    \"table-editor-selectbox\" :\n    {\n      include : \"selectbox\",\n      alias : \"selectbox\",\n\n      style : function(states)\n      {\n        return {\n          padding : [ 0, 2 ]\n        };\n      }\n    },\n\n    \"table-editor-combobox\" :\n    {\n      include : \"combobox\",\n      alias : \"combobox\",\n\n      style : function(states)\n      {\n        return {\n          decorator : undefined\n        };\n      }\n    },\n\n    \"progressive-table-header\" : {\n      style : function(states) {\n        return {\n          decorator: \"progressive-table-header\"\n        };\n      }\n    },\n\n    \"progressive-table-header-cell\" : {\n      style : function(states) {\n        return {\n          decorator: \"progressive-table-header-cell\",\n          padding : [5, 6, 5, 6]\n        };\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TREEVIRTUAL\n    ---------------------------------------------------------------------------\n    */\n\n    \"treevirtual\" : {\n      include : \"textfield\",\n      alias : \"table\",\n      style : function(states, superStyles) {\n        return {\n          padding : [superStyles.padding[0] + 2, superStyles.padding[1] + 1]\n        };\n      }\n    },\n\n    \"treevirtual-folder\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon : (states.opened ?\n                  \"icon/16/places/folder-open.png\" : \"icon/16/places/folder.png\"),\n          opacity : states.drag ? 0.5 : undefined\n        };\n      }\n    },\n\n    \"treevirtual-file\" :\n    {\n      include : \"treevirtual-folder\",\n      alias : \"treevirtual-folder\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"icon/16/mimetypes/text-plain.png\",\n          opacity : states.drag ? 0.5 : undefined\n        };\n      }\n    },\n\n    \"treevirtual-line\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon : qx.theme.simple.Image.URLS[\"treevirtual-line\"]\n        };\n      }\n    },\n\n    \"treevirtual-contract\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon : qx.theme.simple.Image.URLS[\"tree-minus\"]\n        };\n      }\n    },\n\n    \"treevirtual-expand\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon : qx.theme.simple.Image.URLS[\"tree-plus\"]\n        };\n      }\n    },\n\n    \"treevirtual-only-contract\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon : qx.theme.simple.Image.URLS[\"treevirtual-minus-only\"]\n        };\n      }\n    },\n\n    \"treevirtual-only-expand\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon : qx.theme.simple.Image.URLS[\"treevirtual-plus-only\"]\n        };\n      }\n    },\n\n    \"treevirtual-start-contract\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon : qx.theme.simple.Image.URLS[\"treevirtual-minus-start\"]\n        };\n      }\n    },\n\n    \"treevirtual-start-expand\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon : qx.theme.simple.Image.URLS[\"treevirtual-plus-start\"]\n        };\n      }\n    },\n\n    \"treevirtual-end-contract\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon : qx.theme.simple.Image.URLS[\"treevirtual-minus-end\"]\n        };\n      }\n    },\n\n    \"treevirtual-end-expand\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon : qx.theme.simple.Image.URLS[\"treevirtual-plus-end\"]\n        };\n      }\n    },\n\n    \"treevirtual-cross-contract\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon : qx.theme.simple.Image.URLS[\"treevirtual-minus-cross\"]\n        };\n      }\n    },\n\n    \"treevirtual-cross-expand\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon : qx.theme.simple.Image.URLS[\"treevirtual-plus-cross\"]\n        };\n      }\n    },\n\n\n    \"treevirtual-end\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon : qx.theme.simple.Image.URLS[\"treevirtual-end\"]\n        };\n      }\n    },\n\n    \"treevirtual-cross\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon : qx.theme.simple.Image.URLS[\"treevirtual-cross\"]\n        };\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      RESIZER\n    ---------------------------------------------------------------------------\n    */\n\n    \"resizer\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"main-dark\"\n        };\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SPLITPANE\n    ---------------------------------------------------------------------------\n    */\n\n    \"splitpane\" : {},\n\n    \"splitpane/splitter\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"light-background\"\n        };\n      }\n    },\n\n    \"splitpane/splitter/knob\" :\n    {\n      style : function(states)\n      {\n        return {\n          source : qx.theme.simple.Image.URLS[\n            \"knob-\" + (states.horizontal ? \"horizontal\" : \"vertical\")\n          ],\n          padding : 2\n        };\n      }\n    },\n\n    \"splitpane/slider\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"border-light-shadow\",\n          opacity : 0.3\n        };\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      MENU\n    ---------------------------------------------------------------------------\n    */\n\n    \"menu\" :\n    {\n      style : function(states)\n      {\n        var result =\n        {\n          backgroundColor : \"background\",\n          decorator : \"main\",\n          spacingX : 6,\n          spacingY : 1,\n          iconColumnWidth : 16,\n          arrowColumnWidth : 4,\n          padding : 1,\n          placementModeY : states.submenu || states.contextmenu ? \"best-fit\" : \"keep-align\"\n        };\n\n        if (states.submenu)\n        {\n          result.position = \"right-top\";\n          result.offset = [-2, -3];\n        }\n\n        if (states.contextmenu) {\n          result.offset = 4;\n        }\n\n        return result;\n      }\n    },\n\n    \"menu/slidebar\" : \"menu-slidebar\",\n\n    \"menu-slidebar\" : \"widget\",\n\n    \"menu-slidebar-button\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : states.hovered  ? \"background-selected\" : undefined,\n          padding : 6,\n          center : true\n        };\n      }\n    },\n\n    \"menu-slidebar/button-backward\" :\n    {\n      include : \"menu-slidebar-button\",\n\n      style : function(states)\n      {\n        return {\n          icon : qx.theme.simple.Image.URLS[\n            \"arrow-up\" + (states.hovered ? \"-invert\" : \"\")\n          ]\n        };\n      }\n    },\n\n    \"menu-slidebar/button-forward\" :\n    {\n      include : \"menu-slidebar-button\",\n\n      style : function(states)\n      {\n        return {\n          icon : qx.theme.simple.Image.URLS[\n            \"arrow-down\" + (states.hovered ? \"-invert\" : \"\")\n          ]\n        };\n      }\n    },\n\n    \"menu-separator\" :\n    {\n      style : function(states)\n      {\n        return {\n          height : 0,\n          decorator : \"menu-separator\",\n          marginTop : 4,\n          marginBottom: 4,\n          marginLeft : 2,\n          marginRight : 2\n        };\n      }\n    },\n\n    \"menu-button\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        return {\n          backgroundColor : states.selected ? \"background-selected\" : undefined,\n          textColor : states.selected ? \"text-selected\" : undefined,\n          padding : [ 2, 6 ]\n        };\n      }\n    },\n\n    \"menu-button/icon\" :\n    {\n      include : \"image\",\n\n      style : function(states)\n      {\n        return {\n          alignY : \"middle\"\n        };\n      }\n    },\n\n    \"menu-button/label\" :\n    {\n      include : \"label\",\n\n      style : function(states)\n      {\n        return {\n          alignY : \"middle\",\n          padding : 1\n        };\n      }\n    },\n\n    \"menu-button/shortcut\" :\n    {\n      include : \"label\",\n\n      style : function(states)\n      {\n        return {\n          alignY : \"middle\",\n          marginLeft : 14,\n          padding : 1\n        };\n      }\n    },\n\n    \"menu-button/arrow\" :\n    {\n      include : \"image\",\n\n      style : function(states)\n      {\n        return {\n          source : qx.theme.simple.Image.URLS[\n            \"arrow-right\" + (states.selected ? \"-invert\" : \"\")\n          ],\n          alignY : \"middle\"\n        };\n      }\n    },\n\n    \"menu-checkbox\" :\n    {\n      alias : \"menu-button\",\n      include : \"menu-button\",\n\n      style : function(states)\n      {\n        return {\n          icon : !states.checked ? undefined :\n            qx.theme.simple.Image.URLS[\n              \"menu-checkbox\" + (states.selected ?  \"-invert\" : \"\")\n            ]\n        };\n      }\n    },\n\n    \"menu-radiobutton\" :\n    {\n      alias : \"menu-button\",\n      include : \"menu-button\",\n\n      style : function(states)\n      {\n        return {\n          icon : !states.checked ? undefined :\n            qx.theme.simple.Image.URLS[\n              \"menu-radiobutton\" + (states.selected ?  \"-invert\" : \"\")\n            ]\n        };\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      MENU BAR\n    ---------------------------------------------------------------------------\n    */\n\n    \"menubar\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"light-background\",\n          padding: [4, 2]\n        };\n      }\n    },\n\n    \"menubar-button\" :\n    {\n      style : function(states)\n      {\n        var decorator;\n        var padding = [2, 6];\n        if (!states.disabled) {\n          if (states.pressed) {\n            decorator = \"menubar-button-pressed\";\n            padding = [1, 5, 2, 5];\n          } else if (states.hovered) {\n            decorator = \"menubar-button-hovered\";\n            padding = [1, 5];\n          }\n        }\n\n        return {\n          padding : padding,\n          cursor : states.disabled ? undefined : \"pointer\",\n          textColor : \"link\",\n          decorator : decorator\n        };\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      VIRTUAL WIDGETS\n    ---------------------------------------------------------------------------\n    */\n    \"virtual-list\" : \"list\",\n    \"virtual-list/row-layer\" : \"row-layer\",\n\n    \"row-layer\" : \"widget\",\n    \"column-layer\" : \"widget\",\n\n    \"group-item\" :\n    {\n      include : \"label\",\n      alias : \"label\",\n\n      style : function(states)\n      {\n        return {\n          padding : 4,\n          backgroundColor : \"#BABABA\",\n          textColor : \"white\",\n          font: \"bold\"\n        };\n      }\n    },\n\n    \"virtual-selectbox\" : \"selectbox\",\n    \"virtual-selectbox/dropdown\" : \"popup\",\n    \"virtual-selectbox/dropdown/list\" : {\n      alias : \"virtual-list\"\n    },\n\n    \"virtual-combobox\" : \"combobox\",\n    \"virtual-combobox/dropdown\" : \"popup\",\n    \"virtual-combobox/dropdown/list\" : {\n      alias : \"virtual-list\"\n    },\n\n    \"virtual-tree\" :\n    {\n      include : \"tree\",\n      alias : \"tree\",\n\n      style : function(states)\n      {\n        return {\n          itemHeight : 21\n        };\n      }\n    },\n\n    \"virtual-tree-folder\" : \"tree-folder\",\n    \"virtual-tree-file\" : \"tree-file\",\n\n    \"cell\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor: states.selected ?\n            \"table-row-background-selected\" :\n            \"table-row-background-even\",\n          textColor: states.selected ? \"text-selected\" : \"text\",\n          padding: [3, 6]\n        };\n      }\n    },\n\n    \"cell-string\" : \"cell\",\n    \"cell-number\" :\n    {\n      include : \"cell\",\n      style : function(states)\n      {\n        return {\n          textAlign : \"right\"\n        };\n      }\n    },\n    \"cell-image\" : \"cell\",\n    \"cell-boolean\" : \"cell\",\n    \"cell-atom\" : \"cell\",\n    \"cell-date\" : \"cell\",\n    \"cell-html\" : \"cell\",\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SCROLLBAR\n    ---------------------------------------------------------------------------\n    */\n\n    \"scrollbar\" : {},\n    \"scrollbar/slider\" : {},\n\n    \"scrollbar/slider/knob\" :\n    {\n      style : function(states)\n      {\n        var decorator = \"scroll-knob\";\n\n        if (!states.disabled) {\n          if (states.hovered && !states.pressed && !states.checked) {\n            decorator = \"scroll-knob-hovered\";\n          } else if (states.hovered && (states.pressed || states.checked)) {\n            decorator = \"scroll-knob-pressed-hovered\";\n          } else if (states.pressed || states.checked) {\n            decorator = \"scroll-knob-pressed\";\n          }\n        }\n\n        return {\n          height : 14,\n          width : 14,\n          cursor : states.disabled ? undefined : \"pointer\",\n          decorator : decorator,\n          minHeight : states.horizontal ? undefined : 20,\n          minWidth : states.horizontal ? 20 : undefined\n        };\n      }\n    },\n\n\n    \"scrollbar/button\" :\n    {\n      style : function(states)\n      {\n        var styles = {};\n        styles.padding = 4;\n\n        var icon = \"\";\n        if (states.left) {\n          icon = \"left\";\n          styles.marginRight = 2;\n        } else if (states.right) {\n          icon += \"right\";\n          styles.marginLeft = 2;\n        } else if (states.up) {\n          icon += \"up\";\n          styles.marginBottom = 2;\n        } else {\n          icon += \"down\";\n          styles.marginTop = 2;\n        }\n\n        styles.icon = qx.theme.simple.Image.URLS[\"arrow-\" + icon];\n\n        styles.cursor = \"pointer\";\n        styles.decorator = \"button-box\";\n        return styles;\n      }\n    },\n\n    \"scrollbar/button-begin\" : \"scrollbar/button\",\n    \"scrollbar/button-end\" : \"scrollbar/button\",\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SCROLLAREA\n    ---------------------------------------------------------------------------\n    */\n\n    \"scrollarea/corner\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"background\"\n        };\n      }\n    },\n\n    \"scrollarea\" : \"widget\",\n    \"scrollarea/pane\" : \"widget\",\n    \"scrollarea/scrollbar-x\" : \"scrollbar\",\n    \"scrollarea/scrollbar-y\" : \"scrollbar\",\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TEXT FIELD\n    ---------------------------------------------------------------------------\n    */\n\n    \"textfield\" :\n    {\n      style : function(states)\n      {\n        var textColor;\n        if (states.disabled) {\n          textColor = \"text-disabled\";\n        } else if (states.showingPlaceholder) {\n          textColor = \"text-placeholder\";\n        } else {\n          textColor = undefined;\n        }\n\n        var decorator;\n        var padding;\n        if (states.disabled) {\n          decorator = \"inset\";\n          padding = [2, 3];\n        } else if (states.invalid) {\n          decorator = \"border-invalid\";\n          padding = [1, 2];\n        } else if (states.focused) {\n          decorator = \"focused-inset\";\n          padding = [1, 2];\n        } else {\n          padding = [2, 3];\n          decorator = \"inset\";\n        }\n\n        return {\n          decorator : decorator,\n          padding   : padding,\n          textColor : textColor,\n          backgroundColor : states.disabled ? \"background-disabled\" : \"white\"\n        };\n      }\n    },\n\n    \"textarea\" : \"textfield\",\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      RADIO BUTTON\n    ---------------------------------------------------------------------------\n    */\n    \"radiobutton/icon\" : {\n      style : function(states)\n      {\n        var decorator = \"radiobutton\";\n\n        if (states.focused && !states.invalid) {\n          decorator = \"radiobutton-focused\";\n        }\n\n        decorator += states.invalid && !states.disabled ? \"-invalid\" : \"\";\n\n        var backgroundColor;\n        if (states.disabled && states.checked) {\n          backgroundColor = \"background-disabled-checked\";\n        } else if (states.disabled) {\n          backgroundColor = \"background-disabled\";\n        } else if (states.checked) {\n          backgroundColor = \"background-selected\";\n        }\n\n        return {\n          decorator : decorator,\n          width: 12,\n          height: 12,\n          backgroundColor : backgroundColor\n        };\n      }\n    },\n\n    \"radiobutton\":\n    {\n      style : function(states)\n      {\n        // set an empty icon to be sure that the icon image is rendered\n        return {\n          icon : qx.theme.simple.Image.URLS[\"blank\"]\n        };\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      FORM\n    ---------------------------------------------------------------------------\n    */\n    \"form-renderer-label\" : {\n      include : \"label\",\n      style : function() {\n        return {\n          paddingTop: 3\n        };\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      CHECK BOX\n    ---------------------------------------------------------------------------\n    */\n    \"checkbox\":\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        // The \"disabled\" icon is set to an icon **without** the -disabled\n        // suffix on purpose. This is because the Image widget handles this\n        // already by replacing the current image with a disabled version\n        // (if available). If no disabled image is found, the opacity style\n        // is used.\n        var icon;\n\n        // Checked\n        if (states.checked) {\n          icon = qx.theme.simple.Image.URLS[\"checkbox-checked\"];\n        // Undetermined\n        } else if (states.undetermined) {\n          icon = qx.theme.simple.Image.URLS[\"checkbox-undetermined\"];\n        // Unchecked\n        } else {\n          // empty icon\n          icon = qx.theme.simple.Image.URLS[\"blank\"];\n        }\n\n        return {\n          icon: icon,\n          gap: 6\n        };\n      }\n    },\n\n\n    \"checkbox/icon\" : {\n      style : function(states)\n      {\n        var decorator = \"checkbox\";\n\n        if (states.focused && !states.invalid) {\n          decorator = \"checkbox-focused\";\n        }\n\n        decorator += states.invalid && !states.disabled ? \"-invalid\" : \"\";\n\n        var padding;\n        // Checked\n        if (states.checked) {\n          padding = 2;\n        // Undetermined\n        } else if (states.undetermined) {\n          padding = [4, 2];\n        }\n\n        return {\n          decorator : decorator,\n          width: 12,\n          height: 12,\n          padding: padding,\n          backgroundColor : \"white\"\n        };\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SPINNER\n    ---------------------------------------------------------------------------\n    */\n\n    \"spinner\" :\n    {\n      style : function(states)\n      {\n        return {\n          textColor : states.disabled ? \"text-disabled\" : undefined\n        };\n      }\n    },\n\n    \"spinner/textfield\" : \"textfield\",\n\n    \"spinner/upbutton\" :\n    {\n      alias : \"combobox/button\",\n      include : \"combobox/button\",\n\n      style : function(states)\n      {\n        var decorator = \"button-box-top-right\";\n\n        if (states.hovered && !states.pressed && !states.checked) {\n          decorator = \"button-box-hovered-top-right\";\n        } else if (states.hovered && (states.pressed || states.checked)) {\n          decorator = \"button-box-pressed-hovered-top-right\";\n        } else if (states.pressed || states.checked) {\n          decorator = \"button-box-pressed-top-right\";\n        }\n\n        return {\n          icon : qx.theme.simple.Image.URLS[\"arrow-up-small\"],\n          decorator : decorator,\n          width: 17\n        };\n      }\n    },\n\n    \"spinner/downbutton\" :\n    {\n      alias : \"combobox/button\",\n      include : \"combobox/button\",\n\n      style : function(states)\n      {\n        var decorator = \"button-box-bottom-right\";\n\n        if (states.hovered && !states.pressed && !states.checked) {\n          decorator = \"button-box-hovered-bottom-right\";\n        } else if (states.hovered && (states.pressed || states.checked)) {\n          decorator = \"button-box-pressed-hovered-bottom-right\";\n        } else if (states.pressed || states.checked) {\n          decorator = \"button-box-pressed-bottom-right\";\n        }\n\n        return {\n          icon : qx.theme.simple.Image.URLS[\"arrow-down-small\"],\n          decorator : decorator,\n          width: 17\n        };\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SELECTBOX\n    ---------------------------------------------------------------------------\n    */\n\n    \"selectbox\" : \"button-frame\",\n\n    \"selectbox/atom\" : \"atom\",\n    \"selectbox/popup\" : \"popup\",\n    \"selectbox/list\" : {\n      alias : \"list\",\n      include : \"list\",\n\n      style : function()\n      {\n        return {\n          decorator : undefined\n        };\n      }\n    },\n\n    \"selectbox/arrow\" :\n    {\n      include : \"image\",\n\n      style : function(states)\n      {\n        return {\n          source : qx.theme.simple.Image.URLS[\"arrow-down\"],\n          paddingRight : 4,\n          paddingLeft : 5\n        };\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      COMBO BOX\n    ---------------------------------------------------------------------------\n    */\n\n    \"combobox\" :{},\n\n    \"combobox/button\" :\n    {\n      alias : \"button-frame\",\n      include : \"button-frame\",\n\n      style : function(states)\n      {\n        var decorator = \"button-box-right-borderless\";\n\n        if (states.hovered && !states.pressed && !states.checked) {\n          decorator = \"button-box-hovered-right-borderless\";\n        } else if (states.hovered && (states.pressed || states.checked)) {\n          decorator = \"button-box-pressed-hovered-right-borderless\";\n        } else if (states.pressed || states.checked) {\n          decorator = \"button-box-pressed-right-borderless\";\n        }\n\n        return {\n          icon : qx.theme.simple.Image.URLS[\"arrow-down\"],\n          decorator : decorator,\n          padding : [0, 5],\n          width: 19\n        };\n      }\n    },\n\n    \"combobox/popup\" : \"popup\",\n    \"combobox/list\" :\n    {\n      alias : \"list\"\n    },\n\n    \"combobox/textfield\" : \"textfield\",\n\n\n    /*\n    ---------------------------------------------------------------------------\n      DATEFIELD\n    ---------------------------------------------------------------------------\n    */\n\n    \"datefield\" : \"textfield\",\n\n    \"datefield/button\" :\n    {\n      alias : \"combobox/button\",\n      include : \"combobox/button\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"icon/16/apps/office-calendar.png\",\n          padding : [0, 0, 0, 3],\n          backgroundColor : undefined,\n          decorator : undefined,\n          width: 19\n        };\n      }\n    },\n\n    \"datefield/textfield\" : {\n      alias : \"textfield\",\n      include : \"textfield\",\n\n      style : function(states)\n      {\n        return {\n          decorator : undefined,\n          padding: 0\n        };\n      }\n    },\n\n    \"datefield/list\" :\n    {\n      alias : \"datechooser\",\n      include : \"datechooser\",\n\n      style : function(states)\n      {\n        return {\n          decorator : undefined\n        };\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      LIST\n    ---------------------------------------------------------------------------\n    */\n\n    \"list\" :\n    {\n      alias : \"scrollarea\",\n      include : \"textfield\"\n    },\n\n    \"listitem\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        var padding = [3, 5, 3, 5];\n        if (states.lead) {\n          padding = [ 2, 4 , 2, 4];\n        }\n        if (states.dragover) {\n          padding[2] -= 2;\n        }\n\n        var backgroundColor;\n        if (states.selected) {\n          backgroundColor = \"background-selected\";\n          if (states.disabled) {\n            backgroundColor += \"-disabled\";\n          }\n        }\n        return {\n          gap : 4,\n          padding : padding,\n          backgroundColor : backgroundColor,\n          textColor : states.selected ? \"text-selected\" : undefined,\n          decorator : states.lead ? \"lead-item\" : states.dragover ? \"dragover\" : undefined,\n          opacity : states.drag ? 0.5 : undefined\n        };\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SLIDER\n    ---------------------------------------------------------------------------\n    */\n\n    \"slider\" :\n    {\n      style : function(states)\n      {\n        var decorator;\n        var padding;\n        if (states.disabled) {\n          decorator = \"inset\";\n          padding = [2, 3];\n        } else if (states.invalid) {\n          decorator = \"border-invalid\";\n          padding = [1, 2];\n        } else if (states.focused) {\n          decorator = \"focused-inset\";\n          padding = [1, 2];\n        } else {\n          padding = [2, 3];\n          decorator = \"inset\";\n        }\n\n        return {\n          decorator : decorator,\n          padding   : padding\n        };\n      }\n    },\n\n    \"slider/knob\" : \"scrollbar/slider/knob\",\n\n\n    /*\n    ---------------------------------------------------------------------------\n      BUTTON\n    ---------------------------------------------------------------------------\n    */\n    \"button-frame\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        var decorator = \"button-box\";\n\n        if (!states.disabled) {\n          if (states.hovered && !states.pressed && !states.checked) {\n            decorator = \"button-box-hovered\";\n          } else if (states.hovered && (states.pressed || states.checked)) {\n            decorator = \"button-box-pressed-hovered\";\n          } else if (states.pressed || states.checked) {\n            decorator = \"button-box-pressed\";\n          }\n        }\n\n        if (states.invalid && !states.disabled) {\n          decorator += \"-invalid\";\n        } else if (states.focused) {\n          decorator += \"-focused\";\n        }\n\n        return {\n          decorator : decorator,\n          padding : [3, 8],\n          cursor: states.disabled ? undefined : \"pointer\",\n          minWidth: 5,\n          minHeight: 5\n        };\n      }\n    },\n\n    \"button-frame/label\" : {\n      alias : \"atom/label\",\n\n      style : function(states)\n      {\n        return {\n          textColor : states.disabled ? \"text-disabled\" : undefined\n        };\n      }\n    },\n\n    \"button\" :\n    {\n      alias : \"button-frame\",\n      include : \"button-frame\",\n\n      style : function(states)\n      {\n        return {\n          center : true\n        };\n      }\n    },\n\n    \"hover-button\" :\n    {\n      alias : \"button\",\n      include : \"button\",\n\n      style : function(states)\n      {\n        return {\n          decorator : states.hovered ? \"button-hover\" : undefined\n        };\n      }\n    },\n\n    \"menubutton\" : {\n      include : \"button\",\n      alias : \"button\",\n\n      style : function(states) {\n        return {\n          icon : qx.theme.simple.Image.URLS[\"arrow-down\"],\n          iconPosition : \"right\"\n        };\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      SPLIT BUTTON\n    ---------------------------------------------------------------------------\n    */\n    \"splitbutton\" : {},\n\n    \"splitbutton/button\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        var decorator = \"button-box\";\n\n        if (!states.disabled) {\n          if (states.pressed || states.checked) {\n            decorator += \"-pressed\";\n          }\n          if (states.hovered) {\n            decorator += \"-hovered\";\n          }\n        }\n\n        if (states.focused) {\n          decorator += \"-focused\";\n        }\n\n        decorator += \"-left\";\n\n        return {\n          decorator : decorator,\n          padding : [3, 8],\n          cursor : states.disabled ? undefined : \"pointer\"\n        };\n      }\n    },\n\n    \"splitbutton/arrow\" : {\n\n      style : function(states)\n      {\n        var decorator = \"button-box\";\n\n        if (!states.disabled) {\n          if (states.pressed || states.checked) {\n            decorator += \"-pressed\";\n          }\n          if (states.hovered) {\n            decorator += \"-hovered\";\n          }\n        }\n\n        if (states.focused) {\n          decorator += \"-focused\";\n        }\n\n        decorator += \"-right\";\n\n        return {\n          icon : qx.theme.simple.Image.URLS[\"arrow-down\"],\n          decorator : decorator,\n          cursor : states.disabled ? undefined : \"pointer\",\n          padding: [3, 4]\n        };\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      GROUP BOX\n    ---------------------------------------------------------------------------\n    */\n\n    \"groupbox\" : {},\n\n    \"groupbox/legend\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        return {\n          textColor : states.invalid ? \"invalid\" : undefined,\n          padding : 5,\n          margin : 4,\n          font: \"bold\"\n        };\n      }\n    },\n\n    \"groupbox/frame\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"background\",\n          padding : [6, 9],\n          margin: [18, 2, 2, 2],\n          decorator  : \"white-box\"\n        };\n      }\n    },\n\n    \"check-groupbox\" : \"groupbox\",\n\n    \"check-groupbox/legend\" :\n    {\n      alias : \"checkbox\",\n      include : \"checkbox\",\n\n      style : function(states)\n      {\n        return {\n          textColor : states.invalid ? \"invalid\" : undefined,\n          padding : 5,\n          margin : 4,\n          font: \"bold\"\n        };\n      }\n    },\n\n    \"radio-groupbox\" : \"groupbox\",\n\n    \"radio-groupbox/legend\" :\n    {\n      alias : \"radiobutton\",\n      include : \"radiobutton\",\n\n      style : function(states)\n      {\n        return {\n          textColor : states.invalid ? \"invalid\" : undefined,\n          padding : 5,\n          margin : 4,\n          font: \"bold\"\n        };\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TREE\n    ---------------------------------------------------------------------------\n    */\n\n    \"tree-folder/open\" :\n    {\n      include : \"image\",\n      style : function(states)\n      {\n        return {\n          source : states.opened ?\n            qx.theme.simple.Image.URLS[\"tree-minus\"] :\n            qx.theme.simple.Image.URLS[\"tree-plus\"]\n        };\n      }\n    },\n\n\n    \"tree-folder\" :\n    {\n      style : function(states)\n      {\n        var backgroundColor;\n        if (states.selected) {\n          backgroundColor = \"background-selected\";\n          if (states.disabled) {\n            backgroundColor += \"-disabled\";\n          }\n        }\n        return {\n          padding : [2, 8, 2, 5],\n          icon : states.opened ? \"icon/16/places/folder-open.png\" : \"icon/16/places/folder.png\",\n          backgroundColor : backgroundColor,\n          iconOpened : \"icon/16/places/folder-open.png\",\n          opacity : states.drag ? 0.5 : undefined\n        };\n      }\n    },\n\n    \"tree-folder/icon\" :\n    {\n      include : \"image\",\n      style : function(states)\n      {\n        return {\n          padding : [0, 4, 0, 0]\n        };\n      }\n    },\n\n    \"tree-folder/label\" :\n    {\n      style : function(states)\n      {\n        return {\n          padding : [ 1, 2 ],\n          textColor : states.selected && !states.disabled ? \"text-selected\" : undefined\n        };\n      }\n    },\n\n    \"tree-file\" :\n    {\n      include : \"tree-folder\",\n      alias : \"tree-folder\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"icon/16/mimetypes/text-plain.png\",\n          opacity : states.drag ? 0.5 : undefined\n        };\n      }\n    },\n\n    \"tree\" :\n    {\n      include : \"list\",\n      alias : \"list\",\n\n      style : function(states)\n      {\n        return {\n          contentPadding : states.invalid && !states.disabled? [3, 0] : [4, 1],\n          padding : states.focused ? 0 : 1\n        };\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      WINDOW\n    ---------------------------------------------------------------------------\n    */\n\n    \"window\" :\n    {\n      style : function(states)\n      {\n        return {\n          contentPadding : [ 10, 10, 10, 10 ],\n          backgroundColor : \"background\",\n          decorator : states.maximized ? undefined : states.active ? \"window-active\" : \"window\"\n        };\n      }\n    },\n\n    \"window-resize-frame\" : \"resize-frame\",\n\n    \"window/pane\" : {},\n\n    \"window/captionbar\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : states.active ? \"light-background\" : \"background-disabled\",\n          padding : 8,\n          font: \"bold\",\n          decorator : \"window-caption\"\n        };\n      }\n    },\n\n    \"window/icon\" :\n    {\n      style : function(states)\n      {\n        return {\n          marginRight : 4\n        };\n      }\n    },\n\n    \"window/title\" :\n    {\n      style : function(states)\n      {\n        return {\n          cursor : \"default\",\n          font : \"bold\",\n          marginRight : 20,\n          alignY: \"middle\"\n        };\n      }\n    },\n\n    \"window/minimize-button\" :\n    {\n      alias : \"button\",\n\n      style : function(states)\n      {\n        return {\n          icon : qx.theme.simple.Image.URLS[\"window-minimize\"],\n          padding : [ 1, 2 ],\n          cursor : states.disabled ? undefined : \"pointer\"\n        };\n      }\n    },\n\n    \"window/restore-button\" :\n    {\n      alias : \"button\",\n\n      style : function(states)\n      {\n        return {\n          icon : qx.theme.simple.Image.URLS[\"window-restore\"],\n          padding : [ 1, 2 ],\n          cursor : states.disabled ? undefined : \"pointer\"\n        };\n      }\n    },\n\n    \"window/maximize-button\" :\n    {\n      alias : \"button\",\n\n      style : function(states)\n      {\n        return {\n          icon : qx.theme.simple.Image.URLS[\"window-maximize\"],\n          padding : [ 1, 2 ],\n          cursor : states.disabled ? undefined : \"pointer\"\n        };\n      }\n    },\n\n    \"window/close-button\" :\n    {\n      alias : \"button\",\n\n      style : function(states)\n      {\n        return {\n          marginLeft : 2,\n          icon : qx.theme.simple.Image.URLS[\"window-close\"],\n          padding : [ 1, 2 ],\n          cursor : states.disabled ? undefined : \"pointer\"\n        };\n      }\n    },\n\n    \"window/statusbar\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"statusbar\",\n          padding : [ 2, 6 ]\n        };\n      }\n    },\n\n    \"window/statusbar-text\" : \"label\",\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      DATE CHOOSER\n    ---------------------------------------------------------------------------\n    */\n\n    \"datechooser\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"main\",\n          minWidth: 220\n        };\n      }\n    },\n\n    \"datechooser/navigation-bar\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"background\",\n          textColor : states.disabled ? \"text-disabled\" : states.invalid ? \"invalid\" : undefined,\n          padding : [2, 10]\n        };\n      }\n    },\n\n    \"datechooser/last-year-button-tooltip\" : \"tooltip\",\n    \"datechooser/last-month-button-tooltip\" : \"tooltip\",\n    \"datechooser/next-year-button-tooltip\" : \"tooltip\",\n    \"datechooser/next-month-button-tooltip\" : \"tooltip\",\n\n    \"datechooser/last-year-button\"  : \"datechooser/button\",\n    \"datechooser/last-month-button\" : \"datechooser/button\",\n    \"datechooser/next-year-button\"  : \"datechooser/button\",\n    \"datechooser/next-month-button\" : \"datechooser/button\",\n    \"datechooser/button/icon\" : {},\n\n    \"datechooser/button\" :\n    {\n      style : function(states)\n      {\n        var result = {\n          width  : 17,\n          show   : \"icon\",\n          cursor : states.disabled ? undefined : \"pointer\"\n        };\n\n        if (states.lastYear) {\n          result.icon = qx.theme.simple.Image.URLS[\"arrow-rewind\"];\n        } else if (states.lastMonth) {\n          result.icon = qx.theme.simple.Image.URLS[\"arrow-left\"];\n        } else if (states.nextYear) {\n          result.icon = qx.theme.simple.Image.URLS[\"arrow-forward\"];\n        } else if (states.nextMonth) {\n          result.icon = qx.theme.simple.Image.URLS[\"arrow-right\"];\n        }\n\n        return result;\n      }\n    },\n\n    \"datechooser/month-year-label\" :\n    {\n      style : function(states)\n      {\n        return {\n          font          : \"bold\",\n          textAlign     : \"center\"\n        };\n      }\n    },\n\n    \"datechooser/date-pane\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator       : \"datechooser-date-pane\",\n          backgroundColor : \"background\"\n        };\n      }\n    },\n\n    \"datechooser/weekday\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator       : \"datechooser-weekday\",\n          font            : \"bold\",\n          textAlign       : \"center\",\n          textColor       : states.disabled ? \"text-disabled\" : states.weekend ? \"background-selected-dark\" : \"background\",\n          backgroundColor : states.weekend ? \"background\" : \"background-selected-dark\",\n          paddingTop: 2\n        };\n      }\n    },\n\n    \"datechooser/day\" :\n    {\n      style : function(states)\n      {\n        return {\n          textAlign       : \"center\",\n          decorator       : states.today ? \"main\" : undefined,\n          textColor       : states.disabled ? \"text-disabled\" : states.selected ? \"text-selected\" : states.otherMonth ? \"text-disabled\" : undefined,\n          backgroundColor : states.disabled ? undefined : states.selected ? \"background-selected\" : undefined,\n          padding         : states.today ? [ 1, 3 ] : [2, 4]\n        };\n      }\n    },\n\n    \"datechooser/week\" :\n    {\n      style : function(states)\n      {\n        return {\n          textAlign : \"center\",\n          textColor : \"background-selected-dark\",\n          padding   : [ 2, 4 ],\n          decorator : states.header ? \"datechooser-week-header\" : \"datechooser-week\"\n        };\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PROGRESSBAR\n    ---------------------------------------------------------------------------\n    */\n    \"progressbar\":\n    {\n      style: function(states) {\n        return {\n          decorator: \"progressbar\",\n          padding: 1,\n          backgroundColor: \"white\",\n          width : 200,\n          height : 20\n        };\n      }\n    },\n\n    \"progressbar/progress\":\n    {\n      style: function(states) {\n        return {\n          backgroundColor: states.disabled ?\n            \"background-disabled-checked\" :\n            \"background-selected\"\n        };\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TOOLBAR\n    ---------------------------------------------------------------------------\n    */\n\n    \"toolbar\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"light-background\",\n          padding : 0\n        };\n      }\n    },\n\n    \"toolbar/part\" : {\n      style : function(states)\n      {\n        return {\n          margin : [0 , 15]\n        };\n      }\n    },\n\n    \"toolbar/part/container\" : {},\n    \"toolbar/part/handle\" : {},\n\n    \"toolbar-separator\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"toolbar-separator\",\n          margin: [7, 0],\n          width: 4\n        };\n      }\n    },\n\n    \"toolbar-button\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        var decorator = \"button-box\";\n\n        if (states.disabled) {\n          decorator = \"button-box\";\n        } else if (states.hovered && !states.pressed && !states.checked) {\n          decorator = \"button-box-hovered\";\n        } else if (states.hovered && (states.pressed || states.checked)) {\n          decorator = \"button-box-pressed-hovered\";\n        } else if (states.pressed || states.checked) {\n          decorator = \"button-box-pressed\";\n        }\n\n        // set the right left and right decorator\n        if (states.left) {\n          decorator += \"-left\";\n        } else if (states.right) {\n          decorator += \"-right\";\n        } else if (states.middle) {\n          decorator += \"-middle\";\n        }\n\n        // set the margin\n        var margin = [7, 10];\n        if (states.left || states.middle || states.right) {\n          margin = [7, 0];\n        }\n\n        return {\n          cursor  : states.disabled ? undefined : \"pointer\",\n          decorator : decorator,\n          margin : margin,\n          padding: [3, 5]\n        };\n      }\n    },\n\n    \"toolbar-menubutton\" :\n    {\n      alias : \"toolbar-button\",\n      include : \"toolbar-button\",\n\n      style : function(states)\n      {\n        return {\n          showArrow : true\n        };\n      }\n    },\n\n    \"toolbar-menubutton/arrow\" :\n    {\n      alias : \"image\",\n      include : \"image\",\n\n      style : function(states)\n      {\n        return {\n          source : qx.theme.simple.Image.URLS[\"arrow-down\"],\n          cursor : states.disabled ? undefined : \"pointer\",\n          padding : [0, 5],\n          marginLeft: 2\n        };\n      }\n    },\n\n    \"toolbar-splitbutton\" : {},\n    \"toolbar-splitbutton/button\" :\n    {\n      alias : \"toolbar-button\",\n      include : \"toolbar-button\",\n\n      style : function(states)\n      {\n        var decorator = \"button-box\";\n\n        if (states.disabled) {\n          decorator = \"button-box\";\n        } else if (states.hovered && !states.pressed && !states.checked) {\n          decorator = \"button-box-hovered\";\n        } else if (states.hovered && (states.pressed || states.checked)) {\n          decorator = \"button-box-pressed-hovered\";\n        } else if (states.pressed || states.checked) {\n          decorator = \"button-box-pressed\";\n        }\n\n        // default margin, when the button is alone\n        var margin = [7, 0, 7, 10];\n        if (states.left || states.middle || states.right) {\n          margin = [7, 0, 7, 0];\n        }\n\n        // set the right left and right decorator\n        if (states.left) {\n          decorator += \"-left\";\n        } else if (states.right) {\n          decorator += \"-middle\";\n        } else if (states.middle) {\n          decorator += \"-middle\";\n        } else {\n          decorator += \"-left\";\n        }\n\n        return {\n          icon : qx.theme.simple.Image.URLS[\"arrow-down\"],\n          decorator : decorator,\n          margin : margin\n        };\n      }\n    },\n\n\n    \"toolbar-splitbutton/arrow\" :\n    {\n      alias : \"toolbar-button\",\n      include : \"toolbar-button\",\n\n      style : function(states)\n      {\n        var decorator = \"button-box\";\n\n        if (states.disabled) {\n          decorator = \"button-box\";\n        } else if (states.hovered && !states.pressed && !states.checked) {\n          decorator = \"button-box-hovered\";\n        } else if (states.hovered && (states.pressed || states.checked)) {\n          decorator = \"button-box-pressed-hovered\";\n        } else if (states.pressed || states.checked) {\n          decorator = \"button-box-pressed\";\n        }\n\n        // default margin, when the button is alone\n        var margin = [7, 10, 7, 0];\n        if (states.left || states.middle || states.right) {\n          margin = [7, 0, 7, 0];\n        }\n\n        // set the right left and right decorator\n        if (states.left) {\n          decorator += \"-middle\";\n        } else if (states.right) {\n          decorator += \"-right\";\n        } else if (states.middle) {\n          decorator += \"-middle\";\n        } else {\n          decorator += \"-right\";\n        }\n\n        return {\n          icon : qx.theme.simple.Image.URLS[\"arrow-down\"],\n          decorator : decorator,\n          margin : margin\n        };\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TABVIEW\n    ---------------------------------------------------------------------------\n    */\n\n    \"tabview\" : {},\n\n    \"tabview/bar\" :\n    {\n      alias : \"slidebar\",\n\n      style : function(states)\n      {\n        var marginTop=0, marginRight=0, marginBottom=0, marginLeft=0;\n\n        if (states.barTop) {\n          marginBottom -= 1;\n        } else if (states.barBottom) {\n          marginTop -= 1;\n        } else if (states.barRight) {\n          marginLeft -= 1;\n        } else {\n          marginRight -= 1;\n        }\n\n        return {\n          marginBottom : marginBottom,\n          marginTop : marginTop,\n          marginLeft : marginLeft,\n          marginRight : marginRight\n        };\n      }\n    },\n\n\n    \"tabview/bar/button-forward\" :\n    {\n      include : \"slidebar/button-forward\",\n      alias : \"slidebar/button-forward\",\n\n      style : function(states)\n      {\n        if (states.barTop) {\n          return {\n            marginTop : 4,\n            marginBottom: 2,\n            decorator : null\n          };\n        } else if (states.barBottom) {\n          return {\n            marginTop : 2,\n            marginBottom: 4,\n            decorator : null\n          };\n        } else if (states.barLeft) {\n          return {\n            marginLeft : 4,\n            marginRight : 2,\n            decorator : null\n          };\n        } else {\n          return {\n            marginLeft : 2,\n            marginRight : 4,\n            decorator : null\n          };\n        }\n      }\n    },\n\n    \"tabview/bar/button-backward\" :\n    {\n      include : \"slidebar/button-backward\",\n      alias : \"slidebar/button-backward\",\n\n      style : function(states)\n      {\n        if (states.barTop) {\n          return {\n            marginTop : 4,\n            marginBottom: 2,\n            decorator : null\n          };\n        } else if (states.barBottom) {\n          return {\n            marginTop : 2,\n            marginBottom: 4,\n            decorator : null\n          };\n        } else if (states.barLeft) {\n          return {\n            marginLeft : 4,\n            marginRight : 2,\n            decorator : null\n          };\n        } else {\n          return {\n            marginLeft : 2,\n            marginRight : 4,\n            decorator : null\n          };\n        }\n      }\n    },\n\n    \"tabview/pane\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"background\",\n          decorator : \"main\",\n          padding : 10\n        };\n      }\n    },\n\n    \"tabview-page\" : \"widget\",\n\n    \"tabview-page/button\" :\n    {\n      style : function(states)\n      {\n        var decorator;\n\n        // default padding\n        if (states.barTop || states.barBottom) {\n          var padding = [8, 16, 8, 13];\n        } else {\n          var padding = [8, 4, 8, 4];\n        }\n\n        // decorator\n        if (states.checked) {\n          if (states.barTop) {\n            decorator = \"tabview-page-button-top\";\n          } else if (states.barBottom) {\n            decorator = \"tabview-page-button-bottom\";\n          } else if (states.barRight) {\n            decorator = \"tabview-page-button-right\";\n          } else if (states.barLeft) {\n            decorator = \"tabview-page-button-left\";\n          }\n        } else {\n          for (var i=0; i < padding.length; i++) {\n            padding[i] += 1;\n          }\n          // reduce the size by 1 because we have different decorator border width\n          if (states.barTop) {\n            padding[2] -= 1;\n          } else if (states.barBottom) {\n            padding[0] -= 1;\n          } else if (states.barRight) {\n            padding[3] -= 1;\n          } else if (states.barLeft) {\n            padding[1] -= 1;\n          }\n        }\n\n        return {\n          zIndex : states.checked ? 10 : 5,\n          decorator : decorator,\n          textColor : states.disabled ? \"text-disabled\" : states.checked ? null : \"link\",\n          padding : padding,\n          cursor: \"pointer\"\n        };\n      }\n    },\n\n    \"tabview-page/button/label\" :\n    {\n      alias : \"label\",\n\n      style : function(states)\n      {\n        return {\n          padding : [0, 1, 0, 1]\n        };\n      }\n    },\n\n    \"tabview-page/button/icon\" : \"image\",\n    \"tabview-page/button/close-button\" :\n    {\n      alias : \"atom\",\n      style : function(states)\n      {\n        return {\n          cursor : states.disabled ? undefined : \"pointer\",\n          icon : qx.theme.simple.Image.URLS[\"tabview-close\"]\n        };\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      COLOR POPUP\n    ---------------------------------------------------------------------------\n    */\n\n\n    \"colorpopup\" :\n    {\n      alias : \"popup\",\n      include : \"popup\",\n\n      style : function(states)\n      {\n        return {\n          padding : 5\n        };\n      }\n    },\n\n    \"colorpopup/field\":\n    {\n      style : function(states)\n      {\n        return {\n          margin : 2,\n          width : 14,\n          height : 14,\n          backgroundColor : \"background\",\n          decorator : \"main-dark\"\n        };\n      }\n    },\n\n    \"colorpopup/selector-button\" : \"button\",\n    \"colorpopup/auto-button\" : \"button\",\n\n    \"colorpopup/preview-pane\" : \"groupbox\",\n\n    \"colorpopup/current-preview\":\n    {\n      style : function(state)\n      {\n        return {\n          height : 20,\n          padding: 4,\n          marginLeft : 4,\n          decorator : \"main-dark\",\n          allowGrowX : true\n        };\n      }\n    },\n\n    \"colorpopup/selected-preview\":\n    {\n      style : function(state)\n      {\n        return {\n          height : 20,\n          padding: 4,\n          marginRight : 4,\n          decorator : \"main-dark\",\n          allowGrowX : true\n        };\n      }\n    },\n\n    \"colorpopup/colorselector-okbutton\":\n    {\n      alias : \"button\",\n      include : \"button\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"icon/16/actions/dialog-ok.png\"\n        };\n      }\n    },\n\n    \"colorpopup/colorselector-cancelbutton\":\n    {\n      alias : \"button\",\n      include : \"button\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"icon/16/actions/dialog-cancel.png\"\n        };\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      COLOR SELECTOR\n    ---------------------------------------------------------------------------\n    */\n\n    \"colorselector\" : \"widget\",\n    \"colorselector/control-bar\" : \"widget\",\n    \"colorselector/visual-pane\" : \"groupbox\",\n    \"colorselector/control-pane\": \"widget\",\n    \"colorselector/preset-grid\" : \"widget\",\n\n    \"colorselector/colorbucket\":\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"main-dark\",\n          width : 16,\n          height : 16\n        };\n      }\n    },\n\n    \"colorselector/preset-field-set\" : \"groupbox\",\n    \"colorselector/input-field-set\" : {\n      include : \"groupbox\",\n      alias : \"groupbox\",\n      style : function() {\n        return {\n          paddingTop: 12\n        };\n      }\n    },\n\n    \"colorselector/preview-field-set\" : {\n      include : \"groupbox\",\n      alias : \"groupbox\",\n      style : function() {\n        return {\n          paddingTop: 12\n        };\n      }\n    },\n\n    \"colorselector/hex-field-composite\" : \"widget\",\n    \"colorselector/hex-field\" : \"textfield\",\n\n    \"colorselector/rgb-spinner-composite\" : \"widget\",\n    \"colorselector/rgb-spinner-red\" : \"spinner\",\n    \"colorselector/rgb-spinner-green\" : \"spinner\",\n    \"colorselector/rgb-spinner-blue\" : \"spinner\",\n\n    \"colorselector/hsb-spinner-composite\" : \"widget\",\n    \"colorselector/hsb-spinner-hue\" : \"spinner\",\n    \"colorselector/hsb-spinner-saturation\" : \"spinner\",\n    \"colorselector/hsb-spinner-brightness\" : \"spinner\",\n\n    \"colorselector/preview-content-old\":\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"main-dark\",\n          width : 50,\n          height : 25\n        };\n      }\n    },\n\n    \"colorselector/preview-content-new\":\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"main-dark\",\n          backgroundColor : \"white\",\n          width : 50,\n          height : 25\n        };\n      }\n    },\n\n    \"colorselector/hue-saturation-field\":\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"main-dark\",\n          margin : 5\n        };\n      }\n    },\n\n    \"colorselector/brightness-field\":\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"main-dark\",\n          margin : [5, 7]\n        };\n      }\n    },\n\n    \"colorselector/hue-saturation-pane\": \"widget\",\n    \"colorselector/hue-saturation-handle\" : \"widget\",\n    \"colorselector/brightness-pane\": \"widget\",\n    \"colorselector/brightness-handle\" : \"widget\",\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      APPLICATION\n    ---------------------------------------------------------------------------\n    */\n\n    \"app-header\" :\n    {\n      style : function(states)\n      {\n        return {\n          font : \"headline\",\n          textColor : \"text-selected\",\n          backgroundColor: \"background-selected-dark\",\n          padding : [8, 12]\n        };\n      }\n    },\n\n    \"app-header-label\" :\n    {\n      style : function(states)\n      {\n        return {\n          paddingTop : 5\n        };\n      }\n    },\n\n\n    \"app-splitpane\" : {\n      alias : \"splitpane\",\n      style : function(states) {\n        return {\n          padding: [0, 10, 10, 10],\n          backgroundColor: \"light-background\"\n        };\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n   * Martin Wittemann (martinwittemann)\n\n************************************************************************* */\n\n/* ************************************************************************\n\n\n************************************************************************* */\n\n/**\n * The simple qooxdoo appearance theme.\n *\n * @asset(qx/icon/${qx.icontheme}/16/apps/office-calendar.png)\n * @asset(qx/icon/${qx.icontheme}/16/places/folder-open.png)\n * @asset(qx/icon/${qx.icontheme}/16/places/folder.png)\n * @asset(qx/icon/${qx.icontheme}/16/mimetypes/text-plain.png)\n * @asset(qx/icon/${qx.icontheme}/16/actions/view-refresh.png)\n * @asset(qx/icon/${qx.icontheme}/16/actions/window-close.png)\n * @asset(qx/icon/${qx.icontheme}/16/actions/dialog-cancel.png)\n * @asset(qx/icon/${qx.icontheme}/16/actions/dialog-ok.png)\n */\nqx.Theme.define(\"qx.theme.indigo.Appearance\",\n{\n  extend : qx.theme.simple.Appearance,\n\n  appearances :\n  {\n    \"colorselector/input-field-set\" : {\n      include : \"groupbox\",\n      alias : \"groupbox\",\n      style : function() {\n        return {\n          paddingTop: 0\n        };\n      }\n    },\n\n    \"colorselector/preview-field-set\" : {\n      include : \"groupbox\",\n      alias : \"groupbox\",\n      style : function() {\n        return {\n          paddingTop: 0\n        };\n      }\n    },\n\n\n    \"toolbar\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"light-background\",\n          padding : [4, 0]\n        };\n      }\n    },\n\n\n    \"splitpane/splitter/knob\" :\n    {\n      style : function(states)\n      {\n        return {\n          source : qx.theme.simple.Image.URLS[\n            \"knob-\" + (states.horizontal ? \"horizontal\" : \"vertical\")\n          ],\n          padding : 3\n        };\n      }\n    },\n\n\n    \"window\" :\n    {\n      style : function(states)\n      {\n        return {\n          contentPadding : [ 10, 10, 10, 10 ],\n          backgroundColor: states.maximized ? \"background\" : undefined,\n          decorator : states.maximized ? undefined : states.active ? \"window-active\" : \"window\"\n        };\n      }\n    },\n\n\n    \"window/captionbar\" :\n    {\n      style : function(states)\n      {\n        var active = states.active && !states.disabled;\n        return {\n          padding : [3, 8, active ? 1 : 3, 8],\n          textColor: active ? \"highlight\" : \"font\",\n          decorator: active ? \"window-caption-active\" : \"window-caption\"\n        };\n      }\n    },\n\n\n    \"window/title\" :\n    {\n      style : function(states)\n      {\n        return {\n          cursor : \"default\",\n          font : \"default\",\n          marginRight : 20,\n          alignY: \"middle\"\n        };\n      }\n    },\n\n\n    \"virtual-tree\" :\n    {\n      include : \"tree\",\n      alias : \"tree\",\n\n      style : function(states)\n      {\n        return {\n          itemHeight : 27\n        };\n      }\n    },\n\n\n    \"app-header\" :\n    {\n      style : function(states)\n      {\n        return {\n          font : \"headline\",\n          textColor : \"text-selected\",\n          decorator: \"app-header\",\n          padding : 10\n        };\n      }\n    },\n\n    \"app-header-label\" :\n    {\n      style : function(states)\n      {\n        return {\n          paddingTop : 5\n        };\n      }\n    },\n\n    \"app-splitpane\" : {\n      alias : \"splitpane\",\n      style : function(states) {\n        return {\n          padding: [0, 10, 10, 10],\n          backgroundColor: \"light-background\"\n        };\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n/**\n * Tango icons\n */\nqx.Theme.define(\"qx.theme.icon.Tango\",\n{\n  title : \"Tango\",\n  aliases : {\n    \"icon\" : \"qx/icon/Tango\"\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n     * Tristan Koch (trkoch)\n\n************************************************************************ */\n/**\n * Simple Theme\n */\nqx.Theme.define(\"qx.theme.Indigo\",\n{\n  title : \"Indigo\",\n\n  meta :\n  {\n    color : qx.theme.indigo.Color,\n    decoration : qx.theme.indigo.Decoration,\n    font : qx.theme.indigo.Font,\n    appearance : qx.theme.indigo.Appearance,\n    icon : qx.theme.icon.Tango\n  }\n});","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2010 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n/* ************************************************************************\n\n\n************************************************************************* */\n/**\n * Mapping class for all images used in the simple theme.\n *\n * @asset(qx/decoration/Simple/*)\n * @asset(qx/static/blank.png)\n */\nqx.Class.define(\"qx.theme.simple.Image\",\n{\n  extend : qx.core.Object,\n\n  statics :\n  {\n    /**\n     * Holds a map containing all the URL to the images.\n     * @internal\n     */\n    URLS :\n    {\n      \"blank\" : \"qx/static/blank.png\",\n\n      // checkbox\n      \"checkbox-checked\" : \"decoration/checkbox/checked.png\",\n      \"checkbox-undetermined\" : \"decoration/checkbox/undetermined.png\",\n\n      // window\n      \"window-minimize\" : \"decoration/window/minimize.gif\",\n      \"window-maximize\" : \"decoration/window/maximize.gif\",\n      \"window-restore\" : \"decoration/window/restore.gif\",\n      \"window-close\" : \"decoration/window/close.gif\",\n\n      // cursor\n      \"cursor-copy\" : \"decoration/cursors/copy.gif\",\n      \"cursor-move\" : \"decoration/cursors/move.gif\",\n      \"cursor-alias\" : \"decoration/cursors/alias.gif\",\n      \"cursor-nodrop\" : \"decoration/cursors/nodrop.gif\",\n\n      // arrows\n      \"arrow-right\" : \"decoration/arrows/right.gif\",\n      \"arrow-left\" : \"decoration/arrows/left.gif\",\n      \"arrow-up\" : \"decoration/arrows/up.gif\",\n      \"arrow-down\" : \"decoration/arrows/down.gif\",\n      \"arrow-forward\" : \"decoration/arrows/forward.gif\",\n      \"arrow-rewind\" : \"decoration/arrows/rewind.gif\",\n      \"arrow-down-small\" : \"decoration/arrows/down-small.gif\",\n      \"arrow-up-small\" : \"decoration/arrows/up-small.gif\",\n      \"arrow-up-invert\" : \"decoration/arrows/up-invert.gif\",\n      \"arrow-down-invert\" : \"decoration/arrows/down-invert.gif\",\n      \"arrow-right-invert\" : \"decoration/arrows/right-invert.gif\",\n\n      // split pane\n      \"knob-horizontal\" : \"decoration/splitpane/knob-horizontal.png\",\n      \"knob-vertical\" : \"decoration/splitpane/knob-vertical.png\",\n\n      // tree\n      \"tree-minus\" : \"decoration/tree/minus.gif\",\n      \"tree-plus\" : \"decoration/tree/plus.gif\",\n\n      // table\n      \"select-column-order\" : \"decoration/table/select-column-order.png\",\n      \"table-ascending\" : \"decoration/table/ascending.png\",\n      \"table-descending\" : \"decoration/table/descending.png\",\n\n      // tree virtual\n      \"treevirtual-line\" : \"decoration/treevirtual/line.gif\",\n      \"treevirtual-minus-only\" : \"decoration/treevirtual/only_minus.gif\",\n      \"treevirtual-plus-only\" : \"decoration/treevirtual/only_plus.gif\",\n      \"treevirtual-minus-start\" : \"decoration/treevirtual/start_minus.gif\",\n      \"treevirtual-plus-start\" : \"decoration/treevirtual/start_plus.gif\",\n      \"treevirtual-minus-end\" : \"decoration/treevirtual/end_minus.gif\",\n      \"treevirtual-plus-end\" : \"decoration/treevirtual/end_plus.gif\",\n      \"treevirtual-minus-cross\" : \"decoration/treevirtual/cross_minus.gif\",\n      \"treevirtual-plus-cross\" : \"decoration/treevirtual/cross_plus.gif\",\n      \"treevirtual-end\" : \"decoration/treevirtual/end.gif\",\n      \"treevirtual-cross\" : \"decoration/treevirtual/cross.gif\",\n\n      // menu\n      \"menu-checkbox\" : \"decoration/menu/checkbox.gif\",\n      \"menu-checkbox-invert\" : \"decoration/menu/checkbox-invert.gif\",\n      \"menu-radiobutton-invert\" : \"decoration/menu/radiobutton-invert.gif\",\n      \"menu-radiobutton\" : \"decoration/menu/radiobutton.gif\",\n\n      // tabview\n      \"tabview-close\" : \"decoration/tabview/close.gif\"\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Alexander Steitz (aback)\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Modern color theme\n */\nqx.Theme.define(\"qx.theme.modern.Color\",\n{\n  colors :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      BACKGROUND COLORS\n    ---------------------------------------------------------------------------\n    */\n\n    // application, desktop, ...\n    \"background-application\" : \"#DFDFDF\",\n\n    // pane color for windows, splitpanes, ...\n    \"background-pane\" : \"#F3F3F3\",\n\n    // textfields, ...\n    \"background-light\" : \"#FCFCFC\",\n\n    // headers, ...\n    \"background-medium\" : \"#EEEEEE\",\n\n    // splitpane\n    \"background-splitpane\" : \"#AFAFAF\",\n\n    // tooltip, ...\n    \"background-tip\" : \"#ffffdd\",\n\n    // error tooltip\n    \"background-tip-error\": \"#C72B2B\",\n\n    // tables, ...\n    \"background-odd\" : \"#E4E4E4\",\n\n    // progress bar\n    \"progressbar-background\" : \"white\",\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TEXT COLORS\n    ---------------------------------------------------------------------------\n    */\n\n    // other types\n    \"text-light\" : \"#909090\",\n    \"text-gray\" : \"#4a4a4a\",\n\n    // labels\n    \"text-label\" : \"#1a1a1a\",\n\n    // group boxes\n    \"text-title\" : \"#314a6e\",\n\n    // text fields\n    \"text-input\" : \"#000000\",\n\n    // states\n    \"text-hovered\"  : \"#001533\",\n    \"text-disabled\" : \"#7B7A7E\",\n    \"text-selected\" : \"#fffefe\",\n    \"text-active\"   : \"#26364D\",\n    \"text-inactive\" : \"#404955\",\n    \"text-placeholder\" : \"#CBC8CD\",\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      BORDER COLORS\n    ---------------------------------------------------------------------------\n    */\n\n    \"border-inner-scrollbar\" : \"white\",\n\n    // menus, tables, scrollbars, list, etc.\n    \"border-main\" : \"#4d4d4d\",\n    \"menu-separator-top\" : \"#C5C5C5\",\n    \"menu-separator-bottom\" : \"#FAFAFA\",\n\n    // between toolbars\n    \"border-separator\" : \"#808080\",\n    \"border-toolbar-button-outer\" : \"#b6b6b6\",\n    \"border-toolbar-border-inner\" : \"#f8f8f8\",\n    \"border-toolbar-separator-right\" : \"#f4f4f4\",\n    \"border-toolbar-separator-left\" : \"#b8b8b8\",\n\n    // text fields\n    \"border-input\" : \"#334866\",\n    \"border-inner-input\" : \"white\",\n\n    // disabled text fields\n    \"border-disabled\" : \"#B6B6B6\",\n\n    // tab view, window\n    \"border-pane\" : \"#00204D\",\n\n    // buttons\n    \"border-button\" : \"#666666\",\n\n    // tables (vertical line)\n    \"border-column\" : \"#CCCCCC\",\n\n    // focus state of text fields\n    \"border-focused\" : \"#99C3FE\",\n\n    // invalid form widgets\n    \"invalid\" : \"#990000\",\n    \"border-focused-invalid\" : \"#FF9999\",\n\n    // drag & drop\n    \"border-dragover\" : \"#33508D\",\n\n    \"keyboard-focus\" : \"black\",\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TABLE COLORS\n    ---------------------------------------------------------------------------\n    */\n\n    // equal to \"background-pane\"\n    \"table-pane\" : \"#F3F3F3\",\n\n    // own table colors\n    // \"table-row-background-selected\" and \"table-row-background-focused-selected\"\n    // are inspired by the colors of the selection decorator\n    \"table-focus-indicator\" : \"#0880EF\",\n    \"table-row-background-focused-selected\" : \"#084FAB\",\n    \"table-row-background-focused\" : \"#80B4EF\",\n    \"table-row-background-selected\" : \"#084FAB\",\n\n    // equal to \"background-pane\" and \"background-odd\"\n    \"table-row-background-even\" : \"#F3F3F3\",\n    \"table-row-background-odd\" : \"#E4E4E4\",\n\n    // equal to \"text-selected\" and \"text-label\"\n    \"table-row-selected\" : \"#fffefe\",\n    \"table-row\" : \"#1a1a1a\",\n\n    // equal to \"border-column\"\n    \"table-row-line\" : \"#CCC\",\n    \"table-column-line\" : \"#CCC\",\n\n    \"table-header-hovered\" : \"white\",\n\n    /*\n    ---------------------------------------------------------------------------\n      PROGRESSIVE TABLE COLORS\n    ---------------------------------------------------------------------------\n    */\n\n    \"progressive-table-header\"              : \"#AAAAAA\",\n    \"progressive-table-header-border-right\" : \"#F2F2F2\",\n\n\n    \"progressive-table-row-background-even\" : \"#F4F4F4\",\n    \"progressive-table-row-background-odd\"  : \"#E4E4E4\",\n\n    \"progressive-progressbar-background\"         : \"gray\",\n    \"progressive-progressbar-indicator-done\"     : \"#CCCCCC\",\n    \"progressive-progressbar-indicator-undone\"   : \"white\",\n    \"progressive-progressbar-percent-background\" : \"gray\",\n    \"progressive-progressbar-percent-text\"       : \"white\",\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CSS ONLY COLORS\n    ---------------------------------------------------------------------------\n    */\n    \"selected-start\" : \"#004DAD\",\n    \"selected-end\" : \"#00368A\",\n    \"background-selected\" : \"#00368A\",\n\n    \"tabview-background\" : \"#07125A\",\n\n    \"shadow\" : qx.core.Environment.get(\"css.rgba\") ? \"rgba(0, 0, 0, 0.4)\" : \"#999999\",\n\n    \"pane-start\" : \"#FBFBFB\",\n    \"pane-end\" : \"#F0F0F0\",\n\n    \"group-background\" : \"#E8E8E8\",\n    \"group-border\" : \"#B4B4B4\",\n\n    \"radiobutton-background\" : \"#EFEFEF\",\n\n    \"checkbox-border\" : \"#314A6E\",\n    \"checkbox-focus\" : \"#87AFE7\",\n    \"checkbox-hovered\" : \"#B2D2FF\",\n    \"checkbox-hovered-inner\" : \"#D1E4FF\",\n    \"checkbox-inner\" : \"#EEEEEE\",\n    \"checkbox-start\" : \"#E4E4E4\",\n    \"checkbox-end\" : \"#F3F3F3\",\n    \"checkbox-disabled-border\" : \"#787878\",\n    \"checkbox-disabled-inner\" : \"#CACACA\",\n    \"checkbox-disabled-start\" : \"#D0D0D0\",\n    \"checkbox-disabled-end\" : \"#D8D8D8\",\n    \"checkbox-hovered-inner-invalid\" : \"#FAF2F2\",\n    \"checkbox-hovered-invalid\" : \"#F7E9E9\",\n\n    \"radiobutton-checked\" : \"#005BC3\",\n    \"radiobutton-disabled\" : \"#D5D5D5\",\n    \"radiobutton-checked-disabled\" : \"#7B7B7B\",\n    \"radiobutton-hovered-invalid\" : \"#F7EAEA\",\n\n    \"tooltip-error\" : \"#C82C2C\",\n\n    \"scrollbar-start\" : \"#CCCCCC\",\n    \"scrollbar-end\" : \"#F1F1F1\",\n    \"scrollbar-slider-start\" : \"#EEEEEE\",\n    \"scrollbar-slider-end\" : \"#C3C3C3\",\n\n    \"button-border-disabled\" : \"#959595\",\n    \"button-start\" : \"#F0F0F0\",\n    \"button-end\" : \"#AFAFAF\",\n    \"button-disabled-start\" : \"#F4F4F4\",\n    \"button-disabled-end\" : \"#BABABA\",\n    \"button-hovered-start\" : \"#F0F9FE\",\n    \"button-hovered-end\" : \"#8EB8D6\",\n    \"button-focused\" : \"#83BAEA\",\n\n    \"border-invalid\" : \"#930000\",\n\n    \"input-start\" : \"#F0F0F0\",\n    \"input-end\" : \"#FBFCFB\",\n    \"input-focused-start\" : \"#D7E7F4\",\n    \"input-focused-end\" : \"#5CB0FD\",\n    \"input-focused-inner-invalid\" : \"#FF6B78\",\n    \"input-border-disabled\" : \"#9B9B9B\",\n    \"input-border-inner\" : \"white\",\n\n    \"toolbar-start\" : \"#EFEFEF\",\n    \"toolbar-end\" : \"#DDDDDD\",\n\n    \"window-border\" : \"#00204D\",\n    \"window-border-caption\" : \"#727272\",\n    \"window-caption-active-text\" : \"white\",\n    \"window-caption-active-start\" : \"#084FAA\",\n    \"window-caption-active-end\" : \"#003B91\",\n    \"window-caption-inactive-start\" : \"#F2F2F2\",\n    \"window-caption-inactive-end\" : \"#DBDBDB\",\n    \"window-statusbar-background\" : \"#EFEFEF\",\n\n    \"tabview-start\" : \"#FCFCFC\",\n    \"tabview-end\" : \"#EEEEEE\",\n    \"tabview-inactive\" : \"#777D8D\",\n    \"tabview-inactive-start\" : \"#EAEAEA\",\n    \"tabview-inactive-end\" : \"#CECECE\",\n\n    \"table-header-start\" : \"#E8E8E8\",\n    \"table-header-end\" : \"#B3B3B3\",\n\n    \"menu-start\" : \"#E8E8E9\",\n    \"menu-end\" : \"#D9D9D9\",\n    \"menubar-start\" : \"#E8E8E8\",\n\n    \"groupitem-start\" : \"#A7A7A7\",\n    \"groupitem-end\" : \"#949494\",\n    \"groupitem-text\" : \"white\",\n    \"virtual-row-layer-background-even\" : \"white\",\n    \"virtual-row-layer-background-odd\" : \"white\"\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n     2006 STZ-IDA, Germany, http://www.stz-ida.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n   * Fabian Jakobs (fjakobs)\n   * Sebastian Werner (wpbasti)\n   * Andreas Ecker (ecker)\n   * Alexander Steitz (aback)\n   * Martin Wittemann (martinwittemann)\n\n************************************************************************* */\n\n/* ************************************************************************\n\n\n************************************************************************ */\n\n/**\n * The modern decoration theme.\n *\n * @asset(qx/decoration/Modern/toolbar/toolbar-part.gif)\n */\nqx.Theme.define(\"qx.theme.modern.Decoration\",\n{\n  aliases : {\n    decoration : \"qx/decoration/Modern\"\n  },\n\n  decorations :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      CORE\n    ---------------------------------------------------------------------------\n    */\n\n    \"main\" :\n    {\n      style :\n      {\n        width : 1,\n        color : \"border-main\"\n      }\n    },\n\n    \"selected\" :\n    {\n      style :\n      {\n        startColorPosition : 0,\n        endColorPosition : 100,\n        startColor : \"selected-start\",\n        endColor : \"selected-end\"\n      }\n    },\n\n    \"dragover\" :\n    {\n      style :\n      {\n        bottom: [2, \"solid\", \"border-dragover\"]\n      }\n    },\n\n    \"pane\" : {\n      style : {\n        width: 1,\n        color: \"tabview-background\",\n        radius : 3,\n        shadowColor : \"shadow\",\n        shadowBlurRadius : 2,\n        shadowLength : 0,\n        gradientStart : [\"pane-start\", 0],\n        gradientEnd : [\"pane-end\", 100]\n      }\n    },\n\n    \"group\" :\n    {\n      style : {\n        backgroundColor : \"group-background\",\n        radius : 4,\n        color : \"group-border\",\n        width: 1\n      }\n    },\n\n\n    \"keyboard-focus\" :\n    {\n      style :\n      {\n        width : 1,\n        color : \"keyboard-focus\",\n        style : \"dotted\"\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      RADIO BUTTON\n    ---------------------------------------------------------------------------\n    */\n    \"radiobutton\" : {\n      style : {\n        backgroundColor : \"radiobutton-background\",\n        radius : 5,\n        width: 1,\n        innerWidth : 2,\n        color : \"checkbox-border\",\n        innerColor : \"radiobutton-background\",\n        shadowLength : 0,\n        shadowBlurRadius : 0,\n        shadowColor : \"checkbox-focus\"\n      }\n    },\n\n    \"radiobutton-checked\" : {\n      include : \"radiobutton\",\n      style : {\n        backgroundColor : \"radiobutton-checked\"\n      }\n    },\n\n    \"radiobutton-checked-focused\" : {\n      include  : \"radiobutton-checked\",\n      style : {\n        shadowBlurRadius : 4\n      }\n    },\n\n    \"radiobutton-checked-hovered\" : {\n      include : \"radiobutton-checked\",\n      style : {\n        innerColor : \"checkbox-hovered\"\n      }\n    },\n\n    \"radiobutton-focused\" : {\n      include : \"radiobutton\",\n      style : {\n        shadowBlurRadius : 4\n      }\n    },\n\n    \"radiobutton-hovered\" : {\n      include : \"radiobutton\",\n      style : {\n        backgroundColor : \"checkbox-hovered\",\n        innerColor : \"checkbox-hovered\"\n      }\n    },\n\n    \"radiobutton-disabled\" : {\n      include : \"radiobutton\",\n      style : {\n        innerColor : \"radiobutton-disabled\",\n        backgroundColor : \"radiobutton-disabled\",\n        color : \"checkbox-disabled-border\"\n      }\n    },\n\n    \"radiobutton-checked-disabled\" : {\n      include : \"radiobutton-disabled\",\n      style : {\n        backgroundColor : \"radiobutton-checked-disabled\"\n      }\n    },\n\n    \"radiobutton-invalid\" : {\n      include : \"radiobutton\",\n      style : {\n        color : \"invalid\"\n      }\n    },\n\n    \"radiobutton-checked-invalid\" : {\n      include : \"radiobutton-checked\",\n      style : {\n        color : \"invalid\"\n      }\n    },\n\n    \"radiobutton-checked-focused-invalid\" : {\n      include  : \"radiobutton-checked-focused\",\n      style : {\n        color : \"invalid\",\n        shadowColor : \"invalid\"\n      }\n    },\n\n    \"radiobutton-checked-hovered-invalid\" : {\n      include : \"radiobutton-checked-hovered\",\n      style : {\n        color : \"invalid\",\n        innerColor : \"radiobutton-hovered-invalid\"\n      }\n    },\n\n    \"radiobutton-focused-invalid\" : {\n      include : \"radiobutton-focused\",\n      style : {\n        color : \"invalid\",\n        shadowColor : \"invalid\"\n      }\n    },\n\n    \"radiobutton-hovered-invalid\" : {\n      include : \"radiobutton-hovered\",\n      style : {\n        color : \"invalid\",\n        innerColor : \"radiobutton-hovered-invalid\",\n        backgroundColor : \"radiobutton-hovered-invalid\"\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SEPARATOR\n    ---------------------------------------------------------------------------\n    */\n\n    \"separator-horizontal\" :\n    {\n      style :\n      {\n        widthLeft : 1,\n        colorLeft : \"border-separator\"\n      }\n    },\n\n    \"separator-vertical\" :\n    {\n      style :\n      {\n        widthTop : 1,\n        colorTop : \"border-separator\"\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TOOLTIP\n    ---------------------------------------------------------------------------\n    */\n    \"tooltip-error\" :\n    {\n      style : {\n        backgroundColor : \"tooltip-error\",\n        radius : 4,\n        shadowColor : \"shadow\",\n        shadowBlurRadius : 2,\n        shadowLength : 1\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      POPUP\n    ---------------------------------------------------------------------------\n    */\n\n    \"popup\" :\n    {\n      style :\n      {\n        width : 1,\n        color : \"border-main\",\n        shadowColor : \"shadow\",\n        shadowBlurRadius : 3,\n        shadowLength : 1\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SCROLLBAR\n    ---------------------------------------------------------------------------\n    */\n    \"scrollbar-horizontal\" :\n    {\n      style : {\n        gradientStart : [\"scrollbar-start\", 0],\n        gradientEnd : [\"scrollbar-end\", 100]\n      }\n    },\n\n    \"scrollbar-vertical\" : {\n      include : \"scrollbar-horizontal\",\n      style : {\n        orientation : \"horizontal\"\n      }\n    },\n\n    \"scrollbar-slider-horizontal\" :\n    {\n      style : {\n        gradientStart : [\"scrollbar-slider-start\", 0],\n        gradientEnd : [\"scrollbar-slider-end\", 100],\n\n        color : \"border-main\",\n        width: 1,\n        radius: 3\n      }\n    },\n\n    \"scrollbar-slider-vertical\" :\n    {\n      include : \"scrollbar-slider-horizontal\",\n      style : {\n        orientation : \"horizontal\"\n      }\n    },\n\n    \"scrollbar-slider-horizontal-disabled\" :\n    {\n      include : \"scrollbar-slider-horizontal\",\n      style : {\n        color : \"button-border-disabled\"\n      }\n    },\n\n    \"scrollbar-slider-vertical-disabled\" :\n    {\n      include : \"scrollbar-slider-vertical\",\n      style : {\n        color : \"button-border-disabled\"\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      BUTTON\n    ---------------------------------------------------------------------------\n    */\n    \"button\" :\n    {\n      style :\n      {\n        radius: 3,\n        color: \"border-button\",\n        width: 1,\n        startColor: \"button-start\",\n        endColor: \"button-end\",\n        startColorPosition: 35,\n        endColorPosition: 100\n      }\n    },\n\n    \"button-disabled\" :\n    {\n      include : \"button\",\n      style : {\n        color : \"button-border-disabled\",\n        startColor: \"button-disabled-start\",\n        endColor: \"button-disabled-end\"\n      }\n    },\n\n    \"button-hovered\" :\n    {\n      include : \"button\",\n      style : {\n        startColor : \"button-hovered-start\",\n        endColor : \"button-hovered-end\"\n      }\n    },\n\n    \"button-checked\" :\n    {\n      include : \"button\",\n      style : {\n        endColor: \"button-start\",\n        startColor: \"button-end\"\n      }\n    },\n\n    \"button-pressed\" :\n    {\n      include : \"button\",\n      style : {\n        endColor : \"button-hovered-start\",\n        startColor : \"button-hovered-end\"\n      }\n    },\n\n    \"button-focused\" : {\n      style :\n      {\n        radius: 3,\n        color: \"border-button\",\n        width: 1,\n        innerColor: \"button-focused\",\n        innerWidth: 2,\n        startColor: \"button-start\",\n        endColor: \"button-end\",\n        startColorPosition: 30,\n        endColorPosition: 100\n      }\n    },\n\n    \"button-checked-focused\" : {\n      include : \"button-focused\",\n      style : {\n        endColor: \"button-start\",\n        startColor: \"button-end\"\n      }\n    },\n\n    // invalid\n    \"button-invalid\" : {\n      include : \"button\",\n      style : {\n        color: \"border-invalid\"\n      }\n    },\n\n    \"button-disabled-invalid\" :\n    {\n      include : \"button-disabled\",\n      style : {\n        color : \"border-invalid\"\n      }\n    },\n\n    \"button-hovered-invalid\" :\n    {\n      include : \"button-hovered\",\n      style : {\n        color : \"border-invalid\"\n      }\n    },\n\n    \"button-checked-invalid\" :\n    {\n      include : \"button-checked\",\n      style : {\n        color : \"border-invalid\"\n      }\n    },\n\n    \"button-pressed-invalid\" :\n    {\n      include : \"button-pressed\",\n      style : {\n        color : \"border-invalid\"\n      }\n    },\n\n    \"button-focused-invalid\" : {\n      include : \"button-focused\",\n      style : {\n        color : \"border-invalid\"\n      }\n    },\n\n    \"button-checked-focused-invalid\" : {\n      include : \"button-checked-focused\",\n      style : {\n        color : \"border-invalid\"\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      CHECK BOX\n    ---------------------------------------------------------------------------\n    */\n    \"checkbox\" : {\n      style : {\n        width: 1,\n        color: \"checkbox-border\",\n        innerWidth : 1,\n        innerColor : \"checkbox-inner\",\n\n        backgroundColor: \"checkbox-end\",\n\n        shadowLength : 0,\n        shadowBlurRadius : 0,\n        shadowColor : \"checkbox-focus\"\n      }\n    },\n\n    \"checkbox-hovered\" : {\n      include : \"checkbox\",\n      style : {\n        innerColor : \"checkbox-hovered-inner\",\n        backgroundColor: \"checkbox-hovered\"\n      }\n    },\n\n    \"checkbox-focused\" : {\n      include : \"checkbox\",\n      style : {\n        shadowBlurRadius : 4\n      }\n    },\n\n    \"checkbox-disabled\" : {\n      include : \"checkbox\",\n      style : {\n        color : \"checkbox-disabled-border\",\n        innerColor : \"checkbox-disabled-inner\",\n        backgroundColor : \"checkbox-disabled-end\"\n      }\n    },\n\n    \"checkbox-invalid\" : {\n      include : \"checkbox\",\n      style : {\n        color : \"invalid\"\n      }\n    },\n\n    \"checkbox-hovered-invalid\" : {\n      include : \"checkbox-hovered\",\n      style : {\n        color : \"invalid\",\n        innerColor : \"checkbox-hovered-inner-invalid\",\n        backgroundColor: \"checkbox-hovered-invalid\"\n      }\n    },\n\n    \"checkbox-focused-invalid\" : {\n      include : \"checkbox-focused\",\n      style : {\n        color : \"invalid\",\n        shadowColor : \"invalid\"\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TEXT FIELD\n    ---------------------------------------------------------------------------\n    */\n\n    \"input\" :\n    {\n      style :\n      {\n        color : \"border-input\",\n        innerColor : \"border-inner-input\",\n        innerWidth: 1,\n        width : 1,\n        backgroundColor : \"background-light\",\n        startColor : \"input-start\",\n        endColor : \"input-end\",\n        startColorPosition : 0,\n        endColorPosition : 12,\n        colorPositionUnit : \"px\"\n      }\n    },\n\n    \"border-invalid\" : {\n      include : \"input\",\n      style : {\n        color : \"border-invalid\"\n      }\n    },\n\n    \"input-focused\" : {\n      include : \"input\",\n      style : {\n        startColor : \"input-focused-start\",\n        innerColor : \"input-focused-end\",\n        endColorPosition : 4\n      }\n    },\n\n    \"input-focused-invalid\" : {\n      include : \"input-focused\",\n      style : {\n        innerColor : \"input-focused-inner-invalid\",\n        color : \"border-invalid\"\n      }\n    },\n\n    \"input-disabled\" : {\n      include : \"input\",\n      style : {\n        color: \"input-border-disabled\"\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TOOLBAR\n    ---------------------------------------------------------------------------\n    */\n\n    \"toolbar\" :\n    {\n      style : {\n        startColorPosition : 40,\n        endColorPosition : 60,\n        startColor : \"toolbar-start\",\n        endColor : \"toolbar-end\"\n      }\n    },\n\n    \"toolbar-button-hovered\" :\n    {\n      style :\n      {\n        color : \"border-toolbar-button-outer\",\n        width: 1,\n        innerWidth: 1,\n        innerColor : \"border-toolbar-border-inner\",\n        radius : 2,\n        gradientStart : [\"button-start\", 30],\n        gradientEnd : [\"button-end\", 100]\n      }\n    },\n\n    \"toolbar-button-checked\" :\n    {\n      include : \"toolbar-button-hovered\",\n\n      style :\n      {\n        gradientStart : [\"button-end\", 30],\n        gradientEnd : [\"button-start\", 100]\n      }\n    },\n\n    \"toolbar-separator\" :\n    {\n      style :\n      {\n        widthLeft : 1,\n        widthRight : 1,\n\n        colorLeft : \"border-toolbar-separator-left\",\n        colorRight : \"border-toolbar-separator-right\",\n\n        styleLeft : \"solid\",\n        styleRight : \"solid\"\n      }\n    },\n\n    \"toolbar-part\" :\n    {\n      style :\n      {\n        backgroundImage  : \"decoration/toolbar/toolbar-part.gif\",\n        backgroundRepeat : \"repeat-y\"\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TABVIEW\n    ---------------------------------------------------------------------------\n    */\n\n    \"tabview-pane\" :\n    {\n      style : {\n        width: 1,\n        color: \"window-border\",\n        radius : 3,\n        gradientStart : [\"tabview-start\", 90],\n        gradientEnd : [\"tabview-end\", 100]\n      }\n    },\n\n    \"tabview-page-button-top-active\" :\n    {\n      style : {\n        radius : [3, 3, 0, 0],\n        width: [1, 1, 0, 1],\n        color: \"tabview-background\",\n        backgroundColor : \"tabview-start\",\n        shadowLength: 1,\n        shadowColor: \"shadow\",\n        shadowBlurRadius: 2\n      }\n    },\n\n    \"tabview-page-button-top-inactive\" :\n    {\n      style : {\n        radius : [3, 3, 0, 0],\n        color: \"tabview-inactive\",\n        colorBottom : \"tabview-background\",\n        width: 1,\n        gradientStart : [\"tabview-inactive-start\", 0],\n        gradientEnd : [\"tabview-inactive-end\", 100]\n      }\n    },\n\n    \"tabview-page-button-bottom-active\" :\n    {\n      include : \"tabview-page-button-top-active\",\n\n      style : {\n        radius : [0, 0, 3, 3],\n        width: [0, 1, 1, 1],\n        backgroundColor : \"tabview-inactive-start\",\n        shadowLength: 0,\n        shadowBlurRadius: 0\n      }\n    },\n\n    \"tabview-page-button-bottom-inactive\" :\n    {\n      include : \"tabview-page-button-top-inactive\",\n\n      style : {\n        radius : [0, 0, 3, 3],\n        width: [0, 1, 1, 1],\n        colorBottom : \"tabview-inactive\",\n        colorTop : \"tabview-background\"\n      }\n    },\n\n    \"tabview-page-button-left-active\" :\n    {\n      include : \"tabview-page-button-top-active\",\n\n      style : {\n        radius : [3, 0, 0, 3],\n        width: [1, 0, 1, 1],\n        shadowLength: 0,\n        shadowBlurRadius: 0\n      }\n    },\n\n    \"tabview-page-button-left-inactive\" :\n    {\n      include : \"tabview-page-button-top-inactive\",\n\n      style : {\n        radius : [3, 0, 0, 3],\n        width: [1, 0, 1, 1],\n        colorBottom : \"tabview-inactive\",\n        colorRight : \"tabview-background\"\n      }\n    },\n\n    \"tabview-page-button-right-active\" :\n    {\n      include : \"tabview-page-button-top-active\",\n\n      style : {\n        radius : [0, 3, 3, 0],\n        width: [1, 1, 1, 0],\n        shadowLength: 0,\n        shadowBlurRadius: 0\n      }\n    },\n\n    \"tabview-page-button-right-inactive\" :\n    {\n      include : \"tabview-page-button-top-inactive\",\n\n      style : {\n        radius : [0, 3, 3, 0],\n        width: [1, 1, 1, 0],\n        colorBottom : \"tabview-inactive\",\n        colorLeft : \"tabview-background\"\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SPLITPANE\n    ---------------------------------------------------------------------------\n    */\n\n    \"splitpane\" :\n    {\n      style :\n      {\n        backgroundColor : \"background-pane\",\n\n        width : 3,\n        color : \"background-splitpane\",\n        style : \"solid\"\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      WINDOW\n    ---------------------------------------------------------------------------\n    */\n    \"window\" :\n    {\n      style : {\n        radius : [5, 5, 0, 0],\n        shadowBlurRadius : 4,\n        shadowLength : 2,\n        shadowColor : \"shadow\"\n      }\n    },\n\n    \"window-incl-statusbar\" : {\n       include : \"window\",\n       style : {\n         radius : [5, 5, 5, 5]\n       }\n    },\n\n    \"window-resize-frame\" :\n    {\n      style : {\n        radius : [5, 5, 0, 0],\n        width : 1,\n        color : \"border-main\"\n      }\n    },\n\n    \"window-resize-frame-incl-statusbar\" :\n    {\n       include : \"window-resize-frame\",\n       style : {\n         radius : [5, 5, 5, 5]\n       }\n    },\n\n    \"window-captionbar-active\" :\n    {\n      style : {\n        width : 1,\n        color : \"window-border\",\n        colorBottom : \"window-border-caption\",\n        radius : [5, 5, 0, 0],\n        gradientStart : [\"window-caption-active-start\", 30],\n        gradientEnd : [\"window-caption-active-end\", 70]\n      }\n    },\n\n    \"window-captionbar-inactive\" :\n    {\n      include : \"window-captionbar-active\",\n      style : {\n        gradientStart : [\"window-caption-inactive-start\", 30],\n        gradientEnd : [\"window-caption-inactive-end\", 70]\n      }\n    },\n\n    \"window-statusbar\" :\n    {\n      style : {\n        backgroundColor : \"window-statusbar-background\",\n        width: [0, 1, 1, 1],\n        color: \"window-border\",\n        radius : [0, 0, 5, 5]\n      }\n    },\n\n    \"window-pane\" :\n    {\n      style :\n      {\n        backgroundColor : \"background-pane\",\n        width : 1,\n        color : \"window-border\",\n        widthTop : 0\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TABLE\n    ---------------------------------------------------------------------------\n    */\n\n    \"table\" :\n    {\n      style :\n      {\n        width : 1,\n        color : \"border-main\",\n        style : \"solid\"\n      }\n    },\n\n    \"table-statusbar\" :\n    {\n      style :\n      {\n        widthTop : 1,\n        colorTop : \"border-main\",\n        style    : \"solid\"\n      }\n    },\n\n    \"table-scroller-header\" :\n    {\n      style :\n      {\n        gradientStart : [\"table-header-start\", 10],\n        gradientEnd : [\"table-header-end\", 90],\n\n        widthBottom : 1,\n        colorBottom : \"border-main\"\n      }\n    },\n\n    \"table-header-cell\" :\n    {\n      style :\n      {\n        widthRight : 1,\n        colorRight : \"border-separator\",\n        styleRight : \"solid\"\n      }\n    },\n\n\n    \"table-header-cell-hovered\" :\n    {\n      style :\n      {\n        widthRight : 1,\n        colorRight : \"border-separator\",\n        styleRight : \"solid\",\n\n        widthBottom : 1,\n        colorBottom : \"table-header-hovered\",\n        styleBottom : \"solid\"\n      }\n    },\n\n    \"table-scroller-focus-indicator\" :\n    {\n      style :\n      {\n        width : 2,\n        color : \"table-focus-indicator\",\n        style : \"solid\"\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PROGRESSIVE\n    ---------------------------------------------------------------------------\n    */\n\n    \"progressive-table-header\" :\n    {\n       style :\n       {\n         width       : 1,\n         color       : \"border-main\",\n         style       : \"solid\"\n       }\n    },\n\n    \"progressive-table-header-cell\" :\n    {\n      style :\n      {\n        gradientStart : [\"table-header-start\", 10],\n        gradientEnd : [\"table-header-end\", 90],\n\n        widthRight : 1,\n        colorRight : \"progressive-table-header-border-right\"\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      MENU\n    ---------------------------------------------------------------------------\n    */\n\n    \"menu\" :\n    {\n      style : {\n        gradientStart : [\"menu-start\", 0],\n        gradientEnd : [\"menu-end\", 100],\n        shadowColor : \"shadow\",\n        shadowBlurRadius : 2,\n        shadowLength : 1,\n        width : 1,\n        color : \"border-main\"\n      }\n    },\n\n    \"menu-separator\" :\n    {\n      style :\n      {\n        widthTop    : 1,\n        colorTop    : \"menu-separator-top\",\n\n        widthBottom : 1,\n        colorBottom : \"menu-separator-bottom\"\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      MENU BAR\n    ---------------------------------------------------------------------------\n    */\n\n    \"menubar\" :\n    {\n      style :\n      {\n        gradientStart : [\"menubar-start\", 0],\n        gradientEnd : [\"menu-end\", 100],\n\n        width : 1,\n        color : \"border-separator\"\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      APPLICATION\n    ---------------------------------------------------------------------------\n    */\n\n    \"app-header\":\n    {\n      style :\n      {\n        gradientStart : [\"#243B58\", 0],\n        gradientEnd : [\"#1D2D45\", 100]\n      }\n\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      PROGRESSBAR\n    ---------------------------------------------------------------------------\n    */\n\n    \"progressbar\" :\n    {\n\n      style:\n      {\n        width: 1,\n        color: \"border-input\"\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      VIRTUAL WIDGETS\n    ---------------------------------------------------------------------------\n    */\n\n    \"group-item\" :\n    {\n      style :\n      {\n        startColorPosition : 0,\n        endColorPosition : 100,\n        startColor : \"groupitem-start\",\n        endColor : \"groupitem-end\"\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n   * Sebastian Werner (wpbasti)\n   * Andreas Ecker (ecker)\n\n************************************************************************* */\n\n/**\n * The modern font theme.\n */\nqx.Theme.define(\"qx.theme.modern.Font\",\n{\n  fonts :\n  {\n    \"default\" :\n    {\n      size : (qx.core.Environment.get(\"os.name\") == \"win\" &&\n        (qx.core.Environment.get(\"os.version\") == \"7\" ||\n        qx.core.Environment.get(\"os.version\") == \"vista\")) ? 12 : 11,\n      lineHeight : 1.4,\n      family : qx.core.Environment.get(\"os.name\") == \"osx\" ?\n        [ \"Lucida Grande\" ] :\n        ((qx.core.Environment.get(\"os.name\") == \"win\" &&\n          (qx.core.Environment.get(\"os.version\") == \"7\" ||\n          qx.core.Environment.get(\"os.version\") == \"vista\"))) ?\n        [ \"Segoe UI\", \"Candara\" ] :\n        [ \"Tahoma\", \"Liberation Sans\", \"Arial\", \"sans-serif\" ]\n    },\n\n    \"bold\" :\n    {\n      size : (qx.core.Environment.get(\"os.name\") == \"win\" &&\n        (qx.core.Environment.get(\"os.version\") == \"7\" ||\n        qx.core.Environment.get(\"os.version\") == \"vista\")) ? 12 : 11,\n      lineHeight : 1.4,\n      family : qx.core.Environment.get(\"os.name\") == \"osx\" ?\n        [ \"Lucida Grande\" ] :\n        ((qx.core.Environment.get(\"os.name\") == \"win\" &&\n          (qx.core.Environment.get(\"os.version\") == \"7\" ||\n          qx.core.Environment.get(\"os.version\") == \"vista\"))) ?\n        [ \"Segoe UI\", \"Candara\" ] :\n        [ \"Tahoma\", \"Liberation Sans\", \"Arial\", \"sans-serif\" ],\n      bold : true\n    },\n\n    \"small\" :\n    {\n      size : (qx.core.Environment.get(\"os.name\") == \"win\" &&\n        (qx.core.Environment.get(\"os.version\") == \"7\" ||\n        qx.core.Environment.get(\"os.version\") == \"vista\")) ? 11 : 10,\n      lineHeight : 1.4,\n      family : qx.core.Environment.get(\"os.name\") == \"osx\" ?\n        [ \"Lucida Grande\" ] :\n        ((qx.core.Environment.get(\"os.name\") == \"win\" &&\n          (qx.core.Environment.get(\"os.version\") == \"7\" ||\n          qx.core.Environment.get(\"os.version\") == \"vista\"))) ?\n        [ \"Segoe UI\", \"Candara\" ] :\n        [ \"Tahoma\", \"Liberation Sans\", \"Arial\", \"sans-serif\" ]\n    },\n\n    \"monospace\" :\n    {\n      size: 11,\n      lineHeight : 1.4,\n      family : qx.core.Environment.get(\"os.name\") == \"osx\" ?\n        [ \"Lucida Console\", \"Monaco\" ] :\n        ((qx.core.Environment.get(\"os.name\") == \"win\" &&\n          (qx.core.Environment.get(\"os.version\") == \"7\" ||\n          qx.core.Environment.get(\"os.version\") == \"vista\"))) ?\n        [ \"Consolas\" ] :\n        [ \"Consolas\", \"DejaVu Sans Mono\", \"Courier New\", \"monospace\" ]\n    }\n  }\n});","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n     2006 STZ-IDA, Germany, http://www.stz-ida.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n   * Sebastian Werner (wpbasti)\n   * Andreas Ecker (ecker)\n   * Fabian Jakobs (fjakobs)\n   * Alexander Steitz (aback)\n   * Martin Wittemann (martinwittemann)\n\n************************************************************************* */\n\n/* ************************************************************************\n\n\n************************************************************************* */\n\n/**\n * The modern appearance theme.\n *\n * @asset(qx/icon/${qx.icontheme}/16/places/folder-open.png)\n * @asset(qx/icon/${qx.icontheme}/16/places/folder.png)\n * @asset(qx/icon/${qx.icontheme}/16/mimetypes/office-document.png)\n\n * @asset(qx/icon/${qx.icontheme}/16/actions/window-close.png)\n\n * @asset(qx/icon/${qx.icontheme}/22/places/folder-open.png)\n * @asset(qx/icon/${qx.icontheme}/22/places/folder.png)\n * @asset(qx/icon/${qx.icontheme}/22/mimetypes/office-document.png)\n\n * @asset(qx/icon/${qx.icontheme}/32/places/folder-open.png)\n * @asset(qx/icon/${qx.icontheme}/32/places/folder.png)\n * @asset(qx/icon/${qx.icontheme}/32/mimetypes/office-document.png)\n\n * @asset(qx/icon/${qx.icontheme}/16/apps/office-calendar.png)\n * @asset(qx/icon/${qx.icontheme}/16/apps/utilities-color-chooser.png)\n * @asset(qx/icon/${qx.icontheme}/16/actions/view-refresh.png)\n\n * @asset(qx/icon/${qx.icontheme}/16/actions/dialog-cancel.png)\n * @asset(qx/icon/${qx.icontheme}/16/actions/dialog-ok.png)\n\n * @asset(qx/decoration/Modern/cursors/*)\n *\n * @asset(qx/decoration/Modern/scrollbar/scrollbar-left.png)\n * @asset(qx/decoration/Modern/scrollbar/scrollbar-right.png)\n * @asset(qx/decoration/Modern/scrollbar/scrollbar-up.png)\n * @asset(qx/decoration/Modern/scrollbar/scrollbar-down.png)\n *\n * @asset(qx/decoration/Modern/toolbar/toolbar-handle-knob.gif)\n *\n * @asset(qx/decoration/Modern/tree/open-selected.png)\n * @asset(qx/decoration/Modern/tree/closed-selected.png)\n * @asset(qx/decoration/Modern/tree/open.png)\n * @asset(qx/decoration/Modern/tree/closed.png)\n *\n * @asset(qx/decoration/Modern/form/checked.png)\n * @asset(qx/decoration/Modern/form/undetermined.png)\n * @asset(qx/decoration/Modern/form/tooltip-error-arrow-right.png)\n * @asset(qx/decoration/Modern/form/tooltip-error-arrow.png)\n *\n * @asset(qx/decoration/Modern/window/minimize-active-hovered.png)\n * @asset(qx/decoration/Modern/window/minimize-active.png)\n * @asset(qx/decoration/Modern/window/minimize-inactive.png)\n * @asset(qx/decoration/Modern/window/restore-active-hovered.png)\n * @asset(qx/decoration/Modern/window/restore-active.png)\n * @asset(qx/decoration/Modern/window/restore-inactive.png)\n * @asset(qx/decoration/Modern/window/maximize-active-hovered.png)\n * @asset(qx/decoration/Modern/window/maximize-active.png)\n * @asset(qx/decoration/Modern/window/maximize-inactive.png)\n * @asset(qx/decoration/Modern/window/close-active-hovered.png)\n * @asset(qx/decoration/Modern/window/close-active.png)\n * @asset(qx/decoration/Modern/window/close-inactive.png)\n *\n * @asset(qx/decoration/Modern/splitpane/knob-horizontal.png)\n * @asset(qx/decoration/Modern/splitpane/knob-vertical.png)\n *\n * @asset(qx/decoration/Modern/arrows/down.png)\n * @asset(qx/decoration/Modern/arrows/up.png)\n * @asset(qx/decoration/Modern/arrows/right.png)\n * @asset(qx/decoration/Modern/arrows/left.png)\n * @asset(qx/decoration/Modern/arrows/rewind.png)\n * @asset(qx/decoration/Modern/arrows/forward.png)\n * @asset(qx/decoration/Modern/arrows/up-invert.png)\n * @asset(qx/decoration/Modern/arrows/down-invert.png)\n * @asset(qx/decoration/Modern/arrows/right-invert.png)\n * @asset(qx/decoration/Modern/arrows/up-small.png)\n * @asset(qx/decoration/Modern/arrows/down-small.png)\n *\n * @asset(qx/decoration/Modern/menu/checkbox-invert.gif)\n * @asset(qx/decoration/Modern/menu/checkbox.gif)\n * @asset(qx/decoration/Modern/menu/radiobutton-invert.gif)\n * @asset(qx/decoration/Modern/menu/radiobutton.gif)\n *\n * @asset(qx/decoration/Modern/table/select-column-order.png)\n * @asset(qx/decoration/Modern/table/ascending.png)\n * @asset(qx/decoration/Modern/table/descending.png)\n * @asset(qx/decoration/Modern/table/boolean-true.png)\n * @asset(qx/decoration/Modern/table/boolean-false.png)\n *\n * @asset(qx/static/blank.gif)\n * @asset(qx/static/blank.png)\n *\n * @asset(qx/decoration/Modern/colorselector/*)\n */\nqx.Theme.define(\"qx.theme.modern.Appearance\",\n{\n  appearances :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      CORE\n    ---------------------------------------------------------------------------\n    */\n\n    \"widget\" : {},\n\n    \"root\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"background-application\",\n          textColor       : \"text-label\",\n          font            : \"default\"\n        };\n      }\n    },\n\n    \"label\" :\n    {\n      style : function(states)\n      {\n        return {\n          textColor : states.disabled ? \"text-disabled\" : undefined\n        };\n      }\n    },\n\n    \"move-frame\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"main\"\n        };\n      }\n    },\n\n    \"resize-frame\" : \"move-frame\",\n\n    \"dragdrop-cursor\" :\n    {\n      style : function(states)\n      {\n        var icon = \"nodrop\";\n\n        if (states.copy) {\n          icon = \"copy\";\n        } else if (states.move) {\n          icon = \"move\";\n        } else if (states.alias) {\n          icon = \"alias\";\n        }\n\n        return {\n          source : \"decoration/cursors/\" + icon + \".gif\",\n          position : \"right-top\",\n          offset : [ 2, 16, 2, 6 ]\n        };\n      }\n    },\n\n    \"image\" :\n    {\n      style : function(states)\n      {\n        return {\n          opacity : !states.replacement && states.disabled ? 0.3 : 1\n        };\n      }\n    },\n\n    \"atom\" : {},\n    \"atom/label\" : \"label\",\n    \"atom/icon\" : \"image\",\n\n    \"popup\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"popup\",\n          backgroundColor : \"background-light\"\n        };\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      BUTTON\n    ---------------------------------------------------------------------------\n    */\n\n    \"button-frame\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        var decorator, textColor;\n        var padding = [3, 9]; // default padding\n\n        if (states.checked && states.focused && !states.inner)\n        {\n          decorator = \"button-checked-focused\";\n          textColor = undefined;\n          padding = [1, 7];\n        }\n        else if (states.disabled)\n        {\n          decorator = \"button-disabled\";\n          textColor = undefined;\n        }\n        else if (states.pressed)\n        {\n          decorator = \"button-pressed\";\n          textColor = \"text-hovered\";\n        }\n        else if (states.checked)\n        {\n          decorator = \"button-checked\";\n          textColor = undefined;\n        }\n        else if (states.hovered)\n        {\n          decorator = \"button-hovered\";\n          textColor = \"text-hovered\";\n        }\n        else if (states.focused && !states.inner)\n        {\n          decorator = \"button-focused\";\n          textColor = undefined;\n          padding = [1, 7];\n        }\n        else\n        {\n          decorator = \"button\";\n          textColor = undefined;\n        }\n\n        if (states.invalid && !states.disabled) {\n          decorator += \"-invalid\";\n        }\n\n        return {\n          decorator : decorator,\n          textColor : textColor,\n          padding : padding,\n          margin : [1, 0]\n        };\n      }\n    },\n\n    \"button-frame/image\" :\n    {\n      style : function(states)\n      {\n        return {\n          opacity : !states.replacement && states.disabled ? 0.5 : 1\n        };\n      }\n    },\n\n    \"button\" :\n    {\n      alias : \"button-frame\",\n      include : \"button-frame\",\n\n      style : function(states)\n      {\n        return {\n          center : true\n        };\n      }\n    },\n\n    \"hover-button\" :\n    {\n      alias : \"atom\",\n      include : \"atom\",\n\n      style : function(states)\n      {\n        var decorator = states.hovered ? \"selected\" : undefined;\n        return {\n          decorator : decorator,\n          textColor : states.hovered ? \"text-selected\" : undefined\n        };\n      }\n    },\n\n    \"menubutton\" : {\n      include : \"button\",\n      alias : \"button\",\n\n      style : function(states) {\n        return {\n          icon : \"decoration/arrows/down.png\",\n          iconPosition : \"right\"\n        };\n      }\n    },\n\n    \"splitbutton\" : {},\n    \"splitbutton/button\" : \"button\",\n    \"splitbutton/arrow\" :\n    {\n      alias : \"button\",\n      include : \"button\",\n\n      style : function(states, superStyles)\n      {\n        return {\n          icon : \"decoration/arrows/down.png\",\n          padding : [superStyles.padding[0], superStyles.padding[1] - 6],\n          marginLeft : 1\n        };\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      FORM FIELDS\n    ---------------------------------------------------------------------------\n    */\n\n    \"form-renderer-label\" : {\n      include : \"label\",\n      style : function() {\n        return {\n          paddingTop: 4\n        };\n      }\n    },\n\n    \"checkbox\":\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        var icon;\n        if (states.checked) {\n          icon = \"decoration/form/checked.png\";\n        } else if (states.undetermined) {\n          icon = \"decoration/form/undetermined.png\";\n        } else {\n          icon = \"qx/static/blank.gif\";\n        }\n\n        return {\n          icon: icon,\n          minWidth : 14,\n          gap: 8,\n          paddingLeft: 2\n        };\n      }\n    },\n\n    \"checkbox/icon\" : {\n      style : function(states)\n      {\n        var decorator;\n\n        if (states.disabled) {\n          decorator = \"checkbox-disabled\";\n        } else if (states.focused) {\n          decorator = \"checkbox-focused\";\n        } else if (states.hovered) {\n          decorator = \"checkbox-hovered\";\n        } else {\n          decorator = \"checkbox\";\n        }\n\n        decorator += states.invalid && !states.disabled ? \"-invalid\" : \"\";\n\n        var padding = states.undetermined ? [3, 1] : 1;\n\n        return {\n          decorator : decorator,\n          padding : padding,\n          width: 10,\n          height: 10\n        };\n      }\n    },\n\n    \"radiobutton\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        return {\n          icon: \"qx/static/blank.png\",\n          gap : 8,\n          paddingLeft: 2\n        };\n      }\n    },\n\n    \"radiobutton/icon\" : {\n      style : function(states)\n      {\n        var decorator;\n\n        if (states.disabled && !states.checked) {\n          decorator = \"radiobutton-disabled\";\n        } else if (states.checked && states.focused) {\n          decorator = \"radiobutton-checked-focused\";\n        } else if (states.checked && states.disabled) {\n          decorator = \"radiobutton-checked-disabled\";\n        } else if (states.checked && states.hovered) {\n          decorator = \"radiobutton-checked-hovered\";\n        } else if (states.checked) {\n          decorator = \"radiobutton-checked\";\n        } else if (states.focused) {\n          decorator = \"radiobutton-focused\";\n        } else if (states.hovered) {\n          decorator = \"radiobutton-hovered\";\n        } else {\n          decorator = \"radiobutton\";\n        }\n\n        decorator += states.invalid && !states.disabled ? \"-invalid\" : \"\";\n\n        return {\n          decorator : decorator,\n          width: 10,\n          height: 10\n        };\n      }\n    },\n\n    \"textfield\" :\n    {\n      style : function(states)\n      {\n        var decorator;\n\n        var focused = !!states.focused;\n        var invalid = !!states.invalid;\n        var disabled = !!states.disabled;\n\n        if (focused && invalid && !disabled) {\n          decorator = \"input-focused-invalid\";\n        } else if (focused && !invalid && !disabled) {\n          decorator = \"input-focused\";\n        } else if (disabled) {\n          decorator = \"input-disabled\";\n        } else if (!focused && invalid && !disabled) {\n          decorator = \"border-invalid\";\n        } else {\n          decorator = \"input\";\n        }\n\n        var textColor;\n        if (states.disabled) {\n          textColor = \"text-disabled\";\n        } else if (states.showingPlaceholder) {\n          textColor = \"text-placeholder\";\n        } else {\n          textColor = \"text-input\";\n        }\n\n        return {\n          decorator : decorator,\n          padding : [ 2, 4, 1 ],\n          textColor : textColor\n        };\n      }\n    },\n\n    \"textarea\" :\n    {\n      include : \"textfield\",\n\n      style : function(states)\n      {\n        return {\n          padding   : 4\n        };\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SPINNER\n    ---------------------------------------------------------------------------\n    */\n\n    \"spinner\" :\n    {\n      style : function(states)\n      {\n        var decorator;\n\n        var focused = !!states.focused;\n        var invalid = !!states.invalid;\n        var disabled = !!states.disabled;\n\n        if (focused && invalid && !disabled) {\n          decorator = \"input-focused-invalid\";\n        } else if (focused && !invalid && !disabled) {\n          decorator = \"input-focused\";\n        } else if (disabled) {\n          decorator = \"input-disabled\";\n        } else if (!focused && invalid && !disabled) {\n          decorator = \"border-invalid\";\n        } else {\n          decorator = \"input\";\n        }\n\n        return {\n          decorator : decorator\n        };\n      }\n    },\n\n    \"spinner/textfield\" :\n    {\n      style : function(states)\n      {\n        return {\n          marginRight: 2,\n          padding: [2, 4, 1],\n          textColor: states.disabled ? \"text-disabled\" : \"text-input\"\n        };\n      }\n    },\n\n    \"spinner/upbutton\" :\n    {\n      alias : \"button-frame\",\n      include : \"button-frame\",\n\n      style : function(states, superStyles)\n      {\n        return {\n          icon : \"decoration/arrows/up-small.png\",\n          padding : [superStyles.padding[0] - 1, superStyles.padding[1] - 5],\n          margin : 0\n        };\n      }\n    },\n\n    \"spinner/downbutton\" :\n    {\n      alias : \"button-frame\",\n      include : \"button-frame\",\n\n      style : function(states, superStyles)\n      {\n        return {\n          icon : \"decoration/arrows/down-small.png\",\n          padding : [superStyles.padding[0] - 1, superStyles.padding[1] - 5],\n          margin : 0\n        };\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      DATEFIELD\n    ---------------------------------------------------------------------------\n    */\n\n    \"datefield\" : \"combobox\",\n\n    \"datefield/button\" :\n    {\n      alias : \"combobox/button\",\n      include : \"combobox/button\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"icon/16/apps/office-calendar.png\",\n          padding : [0, 3],\n          decorator : undefined\n        };\n      }\n    },\n\n    \"datefield/textfield\" : \"combobox/textfield\",\n\n    \"datefield/list\" :\n    {\n      alias : \"datechooser\",\n      include : \"datechooser\",\n\n      style : function(states)\n      {\n        return {\n          decorator : undefined\n        };\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      GROUP BOX\n    ---------------------------------------------------------------------------\n    */\n\n    \"groupbox\" :\n    {\n      style : function(states)\n      {\n        return {\n          legendPosition : \"top\"\n        };\n      }\n    },\n\n    \"groupbox/legend\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        return {\n          padding   : [1, 0, 1, 4],\n          textColor : states.invalid ? \"invalid\" : \"text-title\",\n          font      : \"bold\"\n        };\n      }\n    },\n\n    \"groupbox/frame\" :\n    {\n      style : function(states)\n      {\n        return {\n          padding : 10,\n          margin : 1,\n          decorator : \"group\"\n        };\n      }\n    },\n\n\n    \"check-groupbox\" : \"groupbox\",\n\n    \"check-groupbox/legend\" :\n    {\n      alias : \"checkbox\",\n      include : \"checkbox\",\n\n      style : function(states)\n      {\n        return {\n          padding   : [1, 0, 1, 4],\n          textColor : states.invalid ? \"invalid\" : \"text-title\",\n          font      : \"bold\"\n        };\n      }\n    },\n\n    \"radio-groupbox\" : \"groupbox\",\n\n    \"radio-groupbox/legend\" :\n    {\n      alias : \"radiobutton\",\n      include : \"radiobutton\",\n\n      style : function(states)\n      {\n        return {\n          padding   : [1, 0, 1, 4],\n          textColor : states.invalid ? \"invalid\" : \"text-title\",\n          font      : \"bold\"\n        };\n      }\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SCROLLAREA\n    ---------------------------------------------------------------------------\n    */\n\n    \"scrollarea\" : \"widget\",\n\n    \"scrollarea/corner\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"background-application\"\n        };\n      }\n    },\n\n    \"scrollarea/pane\" : \"widget\",\n    \"scrollarea/scrollbar-x\" : \"scrollbar\",\n    \"scrollarea/scrollbar-y\" : \"scrollbar\",\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SCROLLBAR\n    ---------------------------------------------------------------------------\n    */\n\n    \"scrollbar\" :\n    {\n      style : function(states)\n      {\n        if (states[\"native\"]) {\n          return {};\n        }\n\n        return {\n          width     : states.horizontal ? undefined : 16,\n          height    : states.horizontal ? 16 : undefined,\n          decorator : (states.horizontal ? \"scrollbar-horizontal\" : \"scrollbar-vertical\"),\n          padding   : 1\n        };\n      }\n    },\n\n    \"scrollbar/slider\" :\n    {\n      alias : \"slider\",\n\n      style : function(states)\n      {\n        return {\n          padding : states.horizontal ? [0, 1, 0, 1] : [1, 0, 1, 0]\n        };\n      }\n    },\n\n    \"scrollbar/slider/knob\" :\n    {\n      include : \"button-frame\",\n\n      style : function(states)\n      {\n\n        var decorator = states.horizontal ? \"scrollbar-slider-horizontal\" :\n                                            \"scrollbar-slider-vertical\";\n        if (states.disabled) {\n          decorator += \"-disabled\";\n        }\n\n        return {\n          decorator : decorator,\n          minHeight : states.horizontal ? undefined : 9,\n          minWidth  : states.horizontal ? 9 : undefined,\n          padding : undefined,\n          margin : 0\n        };\n      }\n    },\n\n    \"scrollbar/button\" :\n    {\n      alias : \"button-frame\",\n      include : \"button-frame\",\n\n      style : function(states)\n      {\n        var icon = \"decoration/scrollbar/scrollbar-\";\n        if (states.left) {\n          icon += \"left.png\";\n        } else if (states.right) {\n          icon += \"right.png\";\n        } else if (states.up) {\n          icon += \"up.png\";\n        } else {\n          icon += \"down.png\";\n        }\n\n        if (states.left || states.right)\n        {\n          var paddingLeft = states.left ? 3 : 4;\n          return {\n            padding : [3, 0, 3, paddingLeft],\n            icon : icon,\n            width: 15,\n            height: 14,\n            margin: 0\n          };\n        }\n        else\n        {\n\n          return {\n            padding : 3,\n            icon : icon,\n            width: 14,\n            height: 15,\n            margin: 0\n          };\n        }\n      }\n    },\n\n    \"scrollbar/button-begin\" : \"scrollbar/button\",\n    \"scrollbar/button-end\" : \"scrollbar/button\",\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SLIDER\n    ---------------------------------------------------------------------------\n    */\n\n    \"slider\" :\n    {\n      style : function(states)\n      {\n        var decorator;\n\n        var focused = !!states.focused;\n        var invalid = !!states.invalid;\n        var disabled = !!states.disabled;\n\n        if (focused && invalid && !disabled) {\n          decorator = \"input-focused-invalid\";\n        } else if (focused && !invalid && !disabled) {\n          decorator = \"input-focused\";\n        } else if (disabled) {\n          decorator = \"input-disabled\";\n        } else if (!focused && invalid && !disabled) {\n          decorator = \"border-invalid\";\n        } else {\n          decorator = \"input\";\n        }\n\n        return {\n          decorator : decorator\n        };\n      }\n    },\n\n    \"slider/knob\" :\n    {\n      include : \"button-frame\",\n\n      style : function(states)\n      {\n        return {\n          decorator : states.disabled ? \"scrollbar-slider-horizontal-disabled\" :\n                                        \"scrollbar-slider-horizontal\",\n          height : 14,\n          width : 14,\n          padding: 0,\n          margin: 0\n        };\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      LIST\n    ---------------------------------------------------------------------------\n    */\n\n    \"list\" :\n    {\n      alias : \"scrollarea\",\n\n      style : function(states)\n      {\n        var decorator;\n\n        var focused = !!states.focused;\n        var invalid = !!states.invalid;\n        var disabled = !!states.disabled;\n\n        if (focused && invalid && !disabled) {\n          decorator = \"input-focused-invalid\";\n        } else if (focused && !invalid && !disabled) {\n          decorator = \"input-focused\";\n        } else if (disabled) {\n          decorator = \"input-disabled\";\n        } else if (!focused && invalid && !disabled) {\n          decorator = \"border-invalid\";\n        } else {\n          decorator = \"input\";\n        }\n\n        return {\n          backgroundColor : \"background-light\",\n          decorator : decorator\n        };\n      }\n    },\n\n    \"list/pane\" : \"widget\",\n\n    \"listitem\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        return {\n          padding   : states.dragover ? [4, 4, 2, 4] : 4,\n          textColor : states.selected ? \"text-selected\" : undefined,\n          decorator : states.selected ? \"selected\" : undefined,\n          opacity : states.drag ? 0.5 : undefined\n        };\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SLIDEBAR\n    ---------------------------------------------------------------------------\n    */\n\n    \"slidebar\" : {},\n    \"slidebar/scrollpane\" : {},\n    \"slidebar/content\" : {},\n\n    \"slidebar/button-forward\" :\n    {\n      alias : \"button-frame\",\n      include : \"button-frame\",\n\n      style : function(states)\n      {\n        return {\n          padding : 5,\n          center : true,\n          icon : states.vertical ?\n            \"decoration/arrows/down.png\" :\n            \"decoration/arrows/right.png\"\n        };\n      }\n    },\n\n    \"slidebar/button-backward\" :\n    {\n      alias : \"button-frame\",\n      include : \"button-frame\",\n\n      style : function(states)\n      {\n        return {\n          padding : 5,\n          center : true,\n          icon : states.vertical ?\n            \"decoration/arrows/up.png\" :\n            \"decoration/arrows/left.png\"\n        };\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TABVIEW\n    ---------------------------------------------------------------------------\n    */\n\n    \"tabview\" :\n    {\n      style : function(states)\n      {\n        return {\n          contentPadding : 16\n        };\n      }\n    },\n\n    \"tabview/bar\" :\n    {\n      alias : \"slidebar\",\n\n      style : function(states)\n      {\n        var result =\n        {\n          marginBottom : states.barTop ? -1 : 0,\n          marginTop : states.barBottom ? -4 : 0,\n          marginLeft : states.barRight ? -3: 0,\n          marginRight : states.barLeft ? -1 : 0,\n          paddingTop : 0,\n          paddingRight : 0,\n          paddingBottom : 0,\n          paddingLeft : 0\n        };\n\n        if (states.barTop || states.barBottom)\n        {\n          result.paddingLeft = 5;\n          result.paddingRight = 7;\n        }\n        else\n        {\n          result.paddingTop = 5;\n          result.paddingBottom = 7;\n        }\n\n        return result;\n      }\n    },\n\n    \"tabview/bar/button-forward\" :\n    {\n      include : \"slidebar/button-forward\",\n      alias : \"slidebar/button-forward\",\n\n      style : function(states)\n      {\n        if (states.barTop || states.barBottom)\n        {\n          return {\n            marginTop : 2,\n            marginBottom: 2\n          };\n        }\n        else\n        {\n          return {\n            marginLeft : 2,\n            marginRight : 2\n          };\n        }\n      }\n    },\n\n    \"tabview/bar/button-backward\" :\n    {\n      include : \"slidebar/button-backward\",\n      alias : \"slidebar/button-backward\",\n\n      style : function(states)\n      {\n        if (states.barTop || states.barBottom)\n        {\n          return {\n            marginTop : 2,\n            marginBottom: 2\n          };\n        }\n        else\n        {\n          return {\n            marginLeft : 2,\n            marginRight : 2\n          };\n        }\n      }\n    },\n\n    \"tabview/bar/scrollpane\" : {},\n\n    \"tabview/pane\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"tabview-pane\",\n\n          marginBottom : states.barBottom ? -1 : 0,\n          marginTop : states.barTop ? -1 : 0,\n          marginLeft : states.barLeft ? -1 : 0,\n          marginRight : states.barRight ? -1 : 0\n        };\n      }\n    },\n\n    \"tabview-page\" : {\n      alias : \"widget\",\n      include : \"widget\",\n\n      style : function(states) {\n        // is used for the padding of the pane\n        return {\n          padding : [4, 3]\n        };\n      }\n    },\n\n    \"tabview-page/button\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        var decorator, padding=0;\n        var marginTop=0, marginBottom=0, marginLeft=0, marginRight=0;\n\n        if (states.checked)\n        {\n          if (states.barTop)\n          {\n            decorator = \"tabview-page-button-top-active\";\n            padding = [5, 11];\n            marginLeft = states.firstTab ? 0 : -5;\n            marginRight = states.lastTab ? 0 : -5;\n          }\n          else if (states.barBottom)\n          {\n            decorator = \"tabview-page-button-bottom-active\";\n            padding = [5, 11];\n            marginLeft = states.firstTab ? 0 : -5;\n            marginRight = states.lastTab ? 0 : -5;\n            marginTop = 3;\n          }\n          else if (states.barRight)\n          {\n            decorator = \"tabview-page-button-right-active\";\n            padding = [5, 10];\n            marginTop = states.firstTab ? 0 : -5;\n            marginBottom = states.lastTab ? 0 : -5;\n            marginLeft = 2;\n          }\n          else\n          {\n            decorator = \"tabview-page-button-left-active\";\n            padding = [5, 10];\n            marginTop = states.firstTab ? 0 : -5;\n            marginBottom = states.lastTab ? 0 : -5;\n          }\n        }\n        else\n        {\n          if (states.barTop)\n          {\n            decorator = \"tabview-page-button-top-inactive\";\n            padding = [3, 9];\n            marginTop = 4;\n            marginLeft = states.firstTab ? 5 : 1;\n            marginRight = 1;\n          }\n          else if (states.barBottom)\n          {\n            decorator = \"tabview-page-button-bottom-inactive\";\n            padding = [3, 9];\n            marginBottom = 4;\n            marginLeft = states.firstTab ? 5 : 1;\n            marginRight = 1;\n            marginTop = 3;\n          }\n          else if (states.barRight)\n          {\n            decorator = \"tabview-page-button-right-inactive\";\n            padding = [3, 9];\n            marginRight = 5;\n            marginTop = states.firstTab ? 5 : 1;\n            marginBottom = 1;\n            marginLeft = 3;\n          }\n          else\n          {\n            decorator = \"tabview-page-button-left-inactive\";\n            padding = [3, 9];\n            marginLeft = 5;\n            marginTop = states.firstTab ? 5 : 1;\n            marginBottom = 1;\n            marginRight = 1;\n          }\n        }\n\n        return {\n          zIndex : states.checked ? 10 : 5,\n          decorator : decorator,\n          padding   : padding,\n          marginTop : marginTop,\n          marginBottom : marginBottom,\n          marginLeft : marginLeft,\n          marginRight : marginRight,\n          textColor : states.disabled ? \"text-disabled\" :\n            states.checked ? \"text-active\" : \"text-inactive\"\n        };\n      }\n    },\n\n    \"tabview-page/button/label\" :\n    {\n      alias : \"label\",\n\n      style : function(states)\n      {\n        return {\n          padding : states.focused ? [0, 1, 0, 1] : [1, 2, 1, 2],\n          //margin : states.focused ? 0 : 1,\n          decorator : states.focused ? \"keyboard-focus\" : undefined\n        };\n      }\n    },\n\n    \"tabview-page/button/close-button\" :\n    {\n      alias : \"atom\",\n      style : function(states)\n      {\n        return {\n          icon : \"icon/16/actions/window-close.png\"\n        };\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      TOOLBAR\n    ---------------------------------------------------------------------------\n    */\n\n    \"toolbar\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"toolbar\",\n          spacing : 2\n        };\n      }\n    },\n\n    \"toolbar/part\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"toolbar-part\",\n          spacing : 2\n        };\n      }\n    },\n\n    \"toolbar/part/container\" :\n    {\n      style : function(states)\n      {\n        return {\n          paddingLeft : 2,\n          paddingRight : 2\n        };\n      }\n    },\n\n    \"toolbar/part/handle\" :\n    {\n      style : function(states)\n      {\n        return {\n          source : \"decoration/toolbar/toolbar-handle-knob.gif\",\n          marginLeft : 3,\n          marginRight : 3\n        };\n      }\n    },\n\n    \"toolbar-button\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        var decorator;\n        if (\n          states.pressed ||\n          (states.checked && !states.hovered) ||\n          (states.checked && states.disabled))\n        {\n          decorator = \"toolbar-button-checked\";\n        } else if (states.hovered && !states.disabled) {\n          decorator = \"toolbar-button-hovered\";\n        }\n\n        return {\n          marginTop : 2,\n          marginBottom : 2,\n          padding : (states.pressed || states.checked || states.hovered) &&\n            !states.disabled || (states.disabled && states.checked) ? 3 : 5,\n          decorator : decorator\n        };\n      }\n    },\n\n    \"toolbar-menubutton\" :\n    {\n      alias : \"toolbar-button\",\n      include : \"toolbar-button\",\n\n      style : function(states)\n      {\n        return {\n          showArrow : true\n        };\n      }\n    },\n\n    \"toolbar-menubutton/arrow\" :\n    {\n      alias : \"image\",\n      include : \"image\",\n\n      style : function(states)\n      {\n        return {\n          source : \"decoration/arrows/down-small.png\"\n        };\n      }\n    },\n\n    \"toolbar-splitbutton\" :\n    {\n      style : function(states)\n      {\n        return {\n          marginTop : 2,\n          marginBottom : 2\n        };\n      }\n    },\n\n    \"toolbar-splitbutton/button\" :\n    {\n      alias : \"toolbar-button\",\n      include : \"toolbar-button\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"decoration/arrows/down.png\",\n          marginTop : undefined,\n          marginBottom : undefined\n        };\n      }\n    },\n\n    \"toolbar-splitbutton/arrow\" :\n    {\n      alias : \"toolbar-button\",\n      include : \"toolbar-button\",\n\n      style : function(states)\n      {\n        if (states.pressed || states.checked || (states.hovered && !states.disabled)) {\n          var padding = 1;\n        } else {\n          var padding = 3;\n        }\n\n        return {\n          padding : padding,\n          icon : \"decoration/arrows/down.png\",\n          marginTop : undefined,\n          marginBottom : undefined\n        };\n      }\n    },\n\n    \"toolbar-separator\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"toolbar-separator\",\n          margin    : 7\n        };\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TREE\n    ---------------------------------------------------------------------------\n    */\n\n    \"tree\" : \"list\",\n\n    \"tree-item\" :\n    {\n      style : function(states)\n      {\n        var decorator = states.selected ? \"selected\" : undefined;\n\n        return {\n          padding    : [ 2, 6 ],\n          textColor  : states.selected ? \"text-selected\" : undefined,\n          decorator  : decorator,\n          opacity : states.drag ? 0.5 : undefined\n        };\n      }\n    },\n\n    \"tree-item/icon\" :\n    {\n      include : \"image\",\n\n      style : function(states)\n      {\n        return {\n          paddingRight : 5\n        };\n      }\n    },\n\n    \"tree-item/label\" : \"label\",\n\n    \"tree-item/open\" :\n    {\n      include : \"image\",\n\n      style : function(states)\n      {\n        var icon;\n        if (states.selected && states.opened)\n        {\n          icon = \"decoration/tree/open-selected.png\";\n        }\n        else if (states.selected && !states.opened)\n        {\n          icon = \"decoration/tree/closed-selected.png\";\n        }\n        else if (states.opened)\n        {\n          icon = \"decoration/tree/open.png\";\n        }\n        else\n        {\n          icon = \"decoration/tree/closed.png\";\n        }\n\n        return {\n          padding : [0, 5, 0, 2],\n          source  : icon\n        };\n      }\n    },\n\n    \"tree-folder\" :\n    {\n      include : \"tree-item\",\n      alias : \"tree-item\",\n\n      style : function(states)\n      {\n        var icon, iconOpened;\n        if (states.small) {\n          icon = states.opened ? \"icon/16/places/folder-open.png\" : \"icon/16/places/folder.png\";\n          iconOpened = \"icon/16/places/folder-open.png\";\n        } else if (states.large) {\n          icon = states.opened ? \"icon/32/places/folder-open.png\" : \"icon/32/places/folder.png\";\n          iconOpened = \"icon/32/places/folder-open.png\";\n        } else {\n          icon = states.opened ? \"icon/22/places/folder-open.png\" : \"icon/22/places/folder.png\";\n          iconOpened = \"icon/22/places/folder-open.png\";\n        }\n\n        return {\n          icon : icon,\n          iconOpened : iconOpened\n        };\n      }\n    },\n\n    \"tree-file\" :\n    {\n      include : \"tree-item\",\n      alias : \"tree-item\",\n\n      style : function(states)\n      {\n        return {\n          icon :\n            states.small ? \"icon/16/mimetypes/office-document.png\" :\n            states.large ? \"icon/32/mimetypes/office-document.png\" :\n            \"icon/22/mimetypes/office-document.png\"\n        };\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TREEVIRTUAL\n    ---------------------------------------------------------------------------\n    */\n\n    \"treevirtual\" : \"table\",\n\n    \"treevirtual-folder\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon : states.opened ?\n            \"icon/16/places/folder-open.png\" :\n            \"icon/16/places/folder.png\"\n        };\n      }\n    },\n\n    \"treevirtual-file\" :\n    {\n      include : \"treevirtual-folder\",\n      alias : \"treevirtual-folder\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"icon/16/mimetypes/office-document.png\"\n        };\n      }\n    },\n\n    \"treevirtual-line\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon : \"qx/static/blank.gif\"\n        };\n      }\n    },\n\n    \"treevirtual-contract\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon : \"decoration/tree/open.png\",\n          paddingLeft : 5,\n          paddingTop : 2\n        };\n      }\n    },\n\n    \"treevirtual-expand\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon : \"decoration/tree/closed.png\",\n          paddingLeft : 5,\n          paddingTop : 2\n        };\n      }\n    },\n\n    \"treevirtual-only-contract\" : \"treevirtual-contract\",\n    \"treevirtual-only-expand\" : \"treevirtual-expand\",\n    \"treevirtual-start-contract\" : \"treevirtual-contract\",\n    \"treevirtual-start-expand\" : \"treevirtual-expand\",\n    \"treevirtual-end-contract\" : \"treevirtual-contract\",\n    \"treevirtual-end-expand\" : \"treevirtual-expand\",\n    \"treevirtual-cross-contract\" : \"treevirtual-contract\",\n    \"treevirtual-cross-expand\" : \"treevirtual-expand\",\n\n    \"treevirtual-end\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon : \"qx/static/blank.gif\"\n        };\n      }\n    },\n\n    \"treevirtual-cross\" :\n    {\n      style : function(states)\n      {\n        return {\n          icon : \"qx/static/blank.gif\"\n        };\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TOOL TIP\n    ---------------------------------------------------------------------------\n    */\n\n    \"tooltip\" :\n    {\n      include : \"popup\",\n\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"background-tip\",\n          padding : [ 1, 3, 2, 3 ],\n          offset : [ 15, 5, 5, 5 ]\n        };\n      }\n    },\n\n    \"tooltip/atom\" : \"atom\",\n\n    \"tooltip-error\" : {\n      style : function(states)\n      {\n        return {\n          placeMethod: \"widget\",\n          offset: [-3, 1, 0, 0],\n          arrowPosition : states.placementLeft ? \"left\" : \"right\",\n          position: \"right-top\",\n          showTimeout: 100,\n          hideTimeout: 10000,\n          padding: [0, 4, 4, 0]\n        };\n      }\n    },\n\n    \"tooltip-error/arrow\" : {\n      include : \"image\",\n\n      style : function(states)\n      {\n        var source = states.placementLeft ?\n          \"decoration/form/tooltip-error-arrow-right.png\" : \"decoration/form/tooltip-error-arrow.png\";\n        return {\n          source : source,\n          padding : [6, 0, 0, 0],\n          zIndex : 10000001\n        };\n      }\n    },\n\n    \"tooltip-error/atom\" :\n    {\n      include : \"popup\",\n\n      style : function(states)\n      {\n        return {\n          textColor: \"text-selected\",\n          backgroundColor : undefined,\n          decorator: \"tooltip-error\",\n          font: \"bold\",\n          padding: [3, 4, 4, 4],\n          margin: [1, 0, 0, 0],\n          maxWidth: 333\n        };\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      WINDOW\n    ---------------------------------------------------------------------------\n    */\n\n    \"window\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : states.showStatusbar ? \"window-incl-statusbar\" :\n            \"window\",\n          contentPadding : [ 10, 10, 10, 10 ],\n          margin : states.maximized ? 0 : [0, 5, 5, 0]\n        };\n      }\n    },\n\n    \"window-resize-frame\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : states.showStatusbar ?\n            \"window-resize-frame-incl-statusbar\" : \"window-resize-frame\"\n        };\n      }\n    },\n\n    \"window/pane\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"window-pane\"\n        };\n      }\n    },\n\n    \"window/captionbar\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : (states.active ? \"window-captionbar-active\" :\n            \"window-captionbar-inactive\"),\n          textColor : states.active ? \"window-caption-active-text\" : \"text-gray\",\n          minHeight : 26,\n          paddingRight : 2\n        };\n      }\n    },\n\n    \"window/icon\" :\n    {\n      style : function(states)\n      {\n        return {\n          margin : [ 5, 0, 3, 6 ]\n        };\n      }\n    },\n\n    \"window/title\" :\n    {\n      style : function(states)\n      {\n        return {\n          alignY      : \"middle\",\n          font        : \"bold\",\n          marginLeft  : 6,\n          marginRight : 12\n        };\n      }\n    },\n\n    \"window/minimize-button\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        return {\n          icon : states.active ? states.hovered ? \"decoration/window/minimize-active-hovered.png\" :\n                                                  \"decoration/window/minimize-active.png\" :\n                                                  \"decoration/window/minimize-inactive.png\",\n          margin : [ 4, 8, 2, 0 ]\n        };\n      }\n    },\n\n    \"window/restore-button\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        return {\n          icon : states.active ? states.hovered ? \"decoration/window/restore-active-hovered.png\" :\n                                                  \"decoration/window/restore-active.png\" :\n                                                  \"decoration/window/restore-inactive.png\",\n          margin : [ 5, 8, 2, 0 ]\n        };\n      }\n    },\n\n    \"window/maximize-button\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        return {\n          icon : states.active ? states.hovered ? \"decoration/window/maximize-active-hovered.png\" :\n                                                  \"decoration/window/maximize-active.png\" :\n                                                  \"decoration/window/maximize-inactive.png\",\n          margin : [ 4, 8, 2, 0 ]\n        };\n      }\n    },\n\n    \"window/close-button\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        return {\n          icon : states.active ? states.hovered ? \"decoration/window/close-active-hovered.png\" :\n                                                  \"decoration/window/close-active.png\" :\n                                                  \"decoration/window/close-inactive.png\",\n          margin : [ 4, 8, 2, 0 ]\n        };\n      }\n    },\n\n    \"window/statusbar\" :\n    {\n      style : function(states)\n      {\n        return {\n          padding   : [ 2, 6 ],\n          decorator : \"window-statusbar\",\n          minHeight : 18\n        };\n      }\n    },\n\n    \"window/statusbar-text\" :\n    {\n      style : function(states)\n      {\n        return {\n          font : \"small\"\n        };\n      }\n    },\n\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      IFRAME\n    ---------------------------------------------------------------------------\n    */\n\n    \"iframe\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"main\"\n        };\n      }\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      RESIZER\n    ---------------------------------------------------------------------------\n    */\n\n    \"resizer\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"pane\"\n        };\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SPLITPANE\n    ---------------------------------------------------------------------------\n    */\n\n    \"splitpane\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"splitpane\"\n        };\n      }\n    },\n\n    \"splitpane/splitter\" :\n    {\n      style : function(states)\n      {\n        return {\n          width : states.horizontal ? 3 : undefined,\n          height : states.vertical ? 3 : undefined,\n          backgroundColor : \"background-splitpane\"\n        };\n      }\n    },\n\n    \"splitpane/splitter/knob\" :\n    {\n      style : function(states)\n      {\n        return {\n          source : states.horizontal ? \"decoration/splitpane/knob-horizontal.png\" : \"decoration/splitpane/knob-vertical.png\"\n        };\n      }\n    },\n\n    \"splitpane/slider\" :\n    {\n      style : function(states)\n      {\n        return {\n          width : states.horizontal ? 3 : undefined,\n          height : states.vertical ? 3 : undefined,\n          backgroundColor : \"background-splitpane\"\n        };\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SELECTBOX\n    ---------------------------------------------------------------------------\n    */\n\n    \"selectbox\" : \"button-frame\",\n\n    \"selectbox/atom\" : \"atom\",\n    \"selectbox/popup\" : \"popup\",\n\n    \"selectbox/list\" : {\n      alias : \"list\"\n    },\n\n    \"selectbox/arrow\" :\n    {\n      include : \"image\",\n\n      style : function(states)\n      {\n        return {\n          source : \"decoration/arrows/down.png\",\n          paddingLeft : 5\n        };\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      DATE CHOOSER\n    ---------------------------------------------------------------------------\n    */\n\n    \"datechooser\" :\n    {\n      style : function(states)\n      {\n        var decorator;\n\n        var focused = !!states.focused;\n        var invalid = !!states.invalid;\n        var disabled = !!states.disabled;\n\n        if (focused && invalid && !disabled) {\n          decorator = \"input-focused-invalid\";\n        } else if (focused && !invalid && !disabled) {\n          decorator = \"input-focused\";\n        } else if (disabled) {\n          decorator = \"input-disabled\";\n        } else if (!focused && invalid && !disabled) {\n          decorator = \"border-invalid\";\n        } else {\n          decorator = \"input\";\n        }\n\n        return {\n          padding : 2,\n          decorator : decorator,\n          backgroundColor : \"background-light\"\n        };\n      }\n    },\n\n    \"datechooser/navigation-bar\" : {},\n\n    \"datechooser/nav-button\"  :\n    {\n      include : \"button-frame\",\n      alias : \"button-frame\",\n\n      style : function(states)\n      {\n        var result = {\n          padding : [ 2, 4 ]\n        };\n\n        if (states.lastYear) {\n          result.icon = \"decoration/arrows/rewind.png\";\n          result.marginRight = 1;\n        } else if (states.lastMonth) {\n          result.icon = \"decoration/arrows/left.png\";\n        } else if (states.nextYear) {\n          result.icon = \"decoration/arrows/forward.png\";\n          result.marginLeft = 1;\n        } else if (states.nextMonth) {\n          result.icon = \"decoration/arrows/right.png\";\n        }\n\n        return result;\n      }\n    },\n\n    \"datechooser/last-year-button-tooltip\" : \"tooltip\",\n    \"datechooser/last-month-button-tooltip\" : \"tooltip\",\n    \"datechooser/next-year-button-tooltip\" : \"tooltip\",\n    \"datechooser/next-month-button-tooltip\" : \"tooltip\",\n\n    \"datechooser/last-year-button\" : \"datechooser/nav-button\",\n    \"datechooser/last-month-button\" : \"datechooser/nav-button\",\n    \"datechooser/next-month-button\" : \"datechooser/nav-button\",\n    \"datechooser/next-year-button\" : \"datechooser/nav-button\",\n\n    \"datechooser/month-year-label\" :\n    {\n      style : function(states)\n      {\n        return {\n          font      : \"bold\",\n          textAlign : \"center\",\n          textColor: states.disabled ? \"text-disabled\" : undefined\n        };\n      }\n    },\n\n    \"datechooser/date-pane\" :\n    {\n      style : function(states)\n      {\n        return {\n          textColor: states.disabled ? \"text-disabled\" : undefined,\n          marginTop : 2\n        };\n      }\n    },\n\n    \"datechooser/weekday\" :\n    {\n      style : function(states)\n      {\n        return {\n          textColor : states.disabled ? \"text-disabled\" : states.weekend ? \"text-light\" : undefined,\n          textAlign : \"center\",\n          paddingTop : 2,\n          backgroundColor : \"background-medium\"\n        };\n      }\n    },\n\n    \"datechooser/week\" :\n    {\n      style : function(states)\n      {\n        return {\n          textAlign : \"center\",\n          padding   : [ 2, 4 ],\n          backgroundColor : \"background-medium\"\n        };\n      }\n    },\n\n    \"datechooser/day\" :\n    {\n      style : function(states)\n      {\n        var decorator = states.disabled ? undefined : states.selected ? \"selected\" : undefined;\n\n        return {\n          textAlign : \"center\",\n          decorator : decorator,\n          textColor : states.disabled ? \"text-disabled\" : states.selected ? \"text-selected\" : states.otherMonth ? \"text-light\" : undefined,\n          font      : states.today ? \"bold\" : undefined,\n          padding   : [ 2, 4 ]\n        };\n      }\n    },\n\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      COMBOBOX\n    ---------------------------------------------------------------------------\n    */\n\n    \"combobox\" :\n    {\n      style : function(states)\n      {\n        var decorator;\n\n        var focused = !!states.focused;\n        var invalid = !!states.invalid;\n        var disabled = !!states.disabled;\n\n        if (focused && invalid && !disabled) {\n          decorator = \"input-focused-invalid\";\n        } else if (focused && !invalid && !disabled) {\n          decorator = \"input-focused\";\n        } else if (disabled) {\n          decorator = \"input-disabled\";\n        } else if (!focused && invalid && !disabled) {\n          decorator = \"border-invalid\";\n        } else {\n          decorator = \"input\";\n        }\n\n        return {\n          decorator : decorator\n        };\n      }\n    },\n\n    \"combobox/popup\" : \"popup\",\n\n    \"combobox/list\" : {\n      alias : \"list\"\n    },\n\n    \"combobox/button\" :\n    {\n      include : \"button-frame\",\n      alias   : \"button-frame\",\n\n      style : function(states, superStyles)\n      {\n        var ret = {\n          icon : \"decoration/arrows/down.png\",\n          padding : [superStyles.padding[0], superStyles.padding[1] - 6],\n          margin : undefined\n        };\n\n        if (states.selected) {\n          ret.decorator = \"button-focused\";\n        }\n\n        return ret;\n      }\n    },\n\n    \"combobox/textfield\" :\n    {\n      include : \"textfield\",\n\n      style : function(states)\n      {\n        return {\n          decorator : undefined\n        };\n      }\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      MENU\n    ---------------------------------------------------------------------------\n    */\n\n   \"menu\" :\n    {\n      style : function(states)\n      {\n        var result =\n        {\n          decorator : \"menu\",\n          spacingX : 6,\n          spacingY : 1,\n          iconColumnWidth : 16,\n          arrowColumnWidth : 4,\n          placementModeY : states.submenu || states.contextmenu ? \"best-fit\" : \"keep-align\"\n        };\n\n        if (states.submenu)\n        {\n          result.position = \"right-top\";\n          result.offset = [-2, -3];\n        }\n\n        return result;\n      }\n    },\n\n    \"menu/slidebar\" : \"menu-slidebar\",\n\n    \"menu-slidebar\" : \"widget\",\n\n    \"menu-slidebar-button\" :\n    {\n      style : function(states)\n      {\n        var decorator = states.hovered  ? \"selected\" : undefined;\n\n        return {\n          decorator : decorator,\n          padding : 7,\n          center : true\n        };\n      }\n    },\n\n    \"menu-slidebar/button-backward\" :\n    {\n      include : \"menu-slidebar-button\",\n\n      style : function(states)\n      {\n        return {\n          icon : states.hovered ? \"decoration/arrows/up-invert.png\" : \"decoration/arrows/up.png\"\n        };\n      }\n    },\n\n    \"menu-slidebar/button-forward\" :\n    {\n      include : \"menu-slidebar-button\",\n\n      style : function(states)\n      {\n        return {\n          icon : states.hovered ? \"decoration/arrows/down-invert.png\" : \"decoration/arrows/down.png\"\n        };\n      }\n    },\n\n    \"menu-separator\" :\n    {\n      style : function(states)\n      {\n        return {\n          height : 0,\n          decorator : \"menu-separator\",\n          margin    : [ 4, 2 ]\n        };\n      }\n    },\n\n    \"menu-button\" :\n    {\n      alias : \"atom\",\n\n      style : function(states)\n      {\n        var decorator = states.selected ? \"selected\" : undefined;\n\n        return {\n          decorator : decorator,\n          textColor : states.selected ? \"text-selected\" : undefined,\n          padding   : [ 4, 6 ]\n        };\n      }\n    },\n\n    \"menu-button/icon\" :\n    {\n      include : \"image\",\n\n      style : function(states)\n      {\n        return {\n          alignY : \"middle\"\n        };\n      }\n    },\n\n    \"menu-button/label\" :\n    {\n      include : \"label\",\n\n      style : function(states)\n      {\n        return {\n          alignY : \"middle\",\n          padding : 1\n        };\n      }\n    },\n\n    \"menu-button/shortcut\" :\n    {\n      include : \"label\",\n\n      style : function(states)\n      {\n        return {\n          alignY : \"middle\",\n          marginLeft : 14,\n          padding : 1\n        };\n      }\n    },\n\n    \"menu-button/arrow\" :\n    {\n      include : \"image\",\n\n      style : function(states)\n      {\n        return {\n          source : states.selected ? \"decoration/arrows/right-invert.png\" : \"decoration/arrows/right.png\",\n          alignY : \"middle\"\n        };\n      }\n    },\n\n    \"menu-checkbox\" :\n    {\n      alias : \"menu-button\",\n      include : \"menu-button\",\n\n      style : function(states)\n      {\n        return {\n          icon : !states.checked ? undefined :\n            states.selected ? \"decoration/menu/checkbox-invert.gif\" :\n              \"decoration/menu/checkbox.gif\"\n        };\n      }\n    },\n\n    \"menu-radiobutton\" :\n    {\n      alias : \"menu-button\",\n      include : \"menu-button\",\n\n      style : function(states)\n      {\n        return {\n          icon : !states.checked ? undefined :\n            states.selected ? \"decoration/menu/radiobutton-invert.gif\" :\n              \"decoration/menu/radiobutton.gif\"\n        };\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      MENU BAR\n    ---------------------------------------------------------------------------\n    */\n\n   \"menubar\" :\n   {\n     style : function(states)\n     {\n       return {\n         decorator : \"menubar\"\n       };\n     }\n   },\n\n   \"menubar-button\" :\n   {\n     alias : \"atom\",\n\n     style : function(states)\n     {\n       var decorator = (states.pressed || states.hovered) && !states.disabled ? \"selected\" : undefined;\n\n       return {\n         decorator : decorator,\n         textColor : states.pressed || states.hovered ? \"text-selected\" : undefined,\n         padding   : [ 3, 8 ]\n       };\n     }\n   },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      COLOR SELECTOR\n    ---------------------------------------------------------------------------\n    */\n\n    \"colorselector\" : \"widget\",\n    \"colorselector/control-bar\" : \"widget\",\n    \"colorselector/control-pane\": \"widget\",\n    \"colorselector/visual-pane\" : \"groupbox\",\n    \"colorselector/preset-grid\" : \"widget\",\n\n    \"colorselector/colorbucket\":\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"main\",\n          width : 16,\n          height : 16\n        };\n      }\n    },\n\n    \"colorselector/preset-field-set\" : \"groupbox\",\n    \"colorselector/input-field-set\" : {\n      include : \"groupbox\",\n      alias : \"groupbox\",\n      style : function() {\n        return {\n          paddingTop: 20\n        };\n      }\n    },\n\n    \"colorselector/preview-field-set\" : {\n      include : \"groupbox\",\n      alias : \"groupbox\",\n      style : function() {\n        return {\n          paddingTop: 20\n        };\n      }\n    },\n\n\n    \"colorselector/hex-field-composite\" : \"widget\",\n    \"colorselector/hex-field\" : \"textfield\",\n\n    \"colorselector/rgb-spinner-composite\" : \"widget\",\n    \"colorselector/rgb-spinner-red\" : \"spinner\",\n    \"colorselector/rgb-spinner-green\" : \"spinner\",\n    \"colorselector/rgb-spinner-blue\" : \"spinner\",\n\n    \"colorselector/hsb-spinner-composite\" : \"widget\",\n    \"colorselector/hsb-spinner-hue\" : \"spinner\",\n    \"colorselector/hsb-spinner-saturation\" : \"spinner\",\n    \"colorselector/hsb-spinner-brightness\" : \"spinner\",\n\n    \"colorselector/preview-content-old\":\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"main\",\n          width : 50,\n          height : 10\n        };\n      }\n    },\n\n    \"colorselector/preview-content-new\":\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"main\",\n          backgroundColor : \"background-light\",\n          width : 50,\n          height : 10\n        };\n      }\n    },\n\n\n    \"colorselector/hue-saturation-field\":\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"main\",\n          margin : 5\n        };\n      }\n    },\n\n    \"colorselector/brightness-field\":\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"main\",\n          margin : [5, 7]\n        };\n      }\n    },\n\n    \"colorselector/hue-saturation-pane\": \"widget\",\n    \"colorselector/hue-saturation-handle\" : \"widget\",\n    \"colorselector/brightness-pane\": \"widget\",\n    \"colorselector/brightness-handle\" : \"widget\",\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      COLOR POPUP\n    ---------------------------------------------------------------------------\n    */\n\n    \"colorpopup\" :\n    {\n      alias : \"popup\",\n      include : \"popup\",\n\n      style : function(states)\n      {\n        return {\n          padding : 5,\n          backgroundColor : \"background-application\"\n        };\n      }\n    },\n\n    \"colorpopup/field\":\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"main\",\n          margin : 2,\n          width : 14,\n          height : 14,\n          backgroundColor : \"background-light\"\n        };\n      }\n    },\n\n    \"colorpopup/selector-button\" : \"button\",\n    \"colorpopup/auto-button\" : \"button\",\n    \"colorpopup/preview-pane\" : \"groupbox\",\n\n    \"colorpopup/current-preview\":\n    {\n      style : function(state)\n      {\n        return {\n          height : 20,\n          padding: 4,\n          marginLeft : 4,\n          decorator : \"main\",\n          allowGrowX : true\n        };\n      }\n    },\n\n    \"colorpopup/selected-preview\":\n    {\n      style : function(state)\n      {\n        return {\n          height : 20,\n          padding: 4,\n          marginRight : 4,\n          decorator : \"main\",\n          allowGrowX : true\n        };\n      }\n    },\n\n    \"colorpopup/colorselector-okbutton\":\n    {\n      alias : \"button\",\n      include : \"button\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"icon/16/actions/dialog-ok.png\"\n        };\n      }\n    },\n\n    \"colorpopup/colorselector-cancelbutton\":\n   {\n      alias : \"button\",\n      include : \"button\",\n\n      style : function(states)\n      {\n        return {\n          icon : \"icon/16/actions/dialog-cancel.png\"\n        };\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      TABLE\n    ---------------------------------------------------------------------------\n    */\n\n    \"table\" :\n    {\n      alias : \"widget\",\n\n      style : function(states)\n      {\n        return {\n          decorator : \"table\"\n        };\n      }\n    },\n\n    \"table/statusbar\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"table-statusbar\",\n          padding   : [ 0, 2 ]\n        };\n      }\n    },\n\n    \"table/column-button\" :\n    {\n      alias : \"button-frame\",\n\n      style : function(states)\n      {\n        return {\n          decorator : \"table-scroller-header\",\n          padding   : 3,\n          icon      : \"decoration/table/select-column-order.png\"\n        };\n      }\n    },\n\n    \"table-column-reset-button\" :\n    {\n      include : \"menu-button\",\n      alias : \"menu-button\",\n\n      style : function()\n      {\n        return {\n          icon : \"icon/16/actions/view-refresh.png\"\n        };\n      }\n    },\n\n    \"table-scroller\" : \"widget\",\n\n    \"table-scroller/scrollbar-x\": \"scrollbar\",\n    \"table-scroller/scrollbar-y\": \"scrollbar\",\n\n    \"table-scroller/header\":\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"table-scroller-header\",\n          textColor : states.disabled ? \"text-disabled\" : undefined\n        };\n      }\n    },\n\n    \"table-scroller/pane\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"table-pane\"\n        };\n      }\n    },\n\n    \"table-scroller/focus-indicator\" :\n    {\n      style : function(states)\n      {\n        return {\n          decorator : \"table-scroller-focus-indicator\"\n        };\n      }\n    },\n\n    \"table-scroller/resize-line\" :\n    {\n      style : function(states)\n      {\n        return {\n          backgroundColor : \"border-separator\",\n          width : 2\n        };\n      }\n    },\n\n    \"table-header-cell\" :\n    {\n      alias : \"atom\",\n      style : function(states)\n      {\n        return {\n          minWidth  : 13,\n          minHeight : 20,\n          padding   : states.hovered ? [ 3, 4, 2, 4 ] : [ 3, 4 ],\n          decorator : states.hovered ? \"table-header-cell-hovered\" : \"table-header-cell\",\n          sortIcon  : states.sorted ?\n              (states.sortedAscending ? \"decoration/table/ascending.png\" : \"decoration/table/descending.png\")\n              : undefined\n        };\n      }\n    },\n\n    \"table-header-cell/label\" :\n    {\n      style : function(states)\n      {\n        return {\n          minWidth : 0,\n          alignY : \"middle\",\n          paddingRight : 5\n        };\n      }\n    },\n\n    \"table-header-cell/sort-icon\" :\n    {\n      style : function(states)\n      {\n        return {\n          alignY : \"middle\",\n          alignX : \"right\",\n          opacity : states.disabled ? 0.3 : 1\n        };\n      }\n    },\n\n    \"table-header-cell/icon\" :\n    {\n      style : function(states)\n      {\n        return {\n          minWidth : 0,\n          alignY : \"middle\",\n          paddingRight : 5,\n          opacity : states.disabled ? 0.3 : 1\n        };\n      }\n    },\n\n    \"table-editor-textfield\" :\n    {\n      include : \"textfield\",\n\n      style : function(states)\n      {\n        return {\n          decorator : undefined,\n          padding : [ 2, 2 ],\n          backgroundColor : \"background-light\"\n        };\n      }\n    },\n\n    \"table-editor-selectbox\" :\n    {\n      include : \"selectbox\",\n      alias : \"selectbox\",\n\n      style : function(states)\n      {\n        return {\n          padding : [ 0, 2 ],\n          backgroundColor : \"background-light\"\n        };\n      }\n    },\n\n    \"table-editor-combobox\" :\n    {\n      include : \"combobox\",\n      alias : \"combobox\",\n\n      style : function(states)\n      {\n        return {\n          decorator : undefined,\n          backgroundColor : \"background-light\"\n        };\n      }\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PROGRESSIVE\n    ---------------------------------------------------------------------------\n    */\n\n    \"progressive-table-header\" :\n    {\n      alias : \"widget\",\n\n      style : function(states)\n      {\n        return {\n          decorator : \"progressive-table-header\"\n        };\n      }\n    },\n\n    \"progressive-table-header-cell\" :\n    {\n      alias : \"atom\",\n      style : function(states)\n      {\n        return {\n          minWidth : 40,\n          minHeight : 25,\n          paddingLeft : 6,\n          decorator : \"progressive-table-header-cell\"\n        };\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      APPLICATION\n    ---------------------------------------------------------------------------\n    */\n\n    \"app-header\" :\n    {\n      style : function(states)\n      {\n        return {\n          font : \"bold\",\n          textColor : \"text-selected\",\n          padding : [8, 12],\n          decorator : \"app-header\"\n        };\n      }\n    },\n\n    \"app-header-label\": \"label\",\n\n    \"app-splitpane\" : {\n      alias : \"splitpane\",\n      style : function(states) {\n        return {\n          padding: 0\n        };\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      VIRTUAL WIDGETS\n    ---------------------------------------------------------------------------\n    */\n\n    \"virtual-list\" : \"list\",\n    \"virtual-list/row-layer\" : \"row-layer\",\n\n    \"row-layer\" : \"widget\",\n\n    \"group-item\" :\n    {\n      include : \"label\",\n      alias : \"label\",\n\n      style : function(states)\n      {\n        return {\n          padding : 4,\n          decorator : \"group-item\",\n          textColor : \"groupitem-text\",\n          font: \"bold\"\n        };\n      }\n    },\n\n    \"virtual-selectbox\" : \"selectbox\",\n    \"virtual-selectbox/dropdown\" : \"popup\",\n    \"virtual-selectbox/dropdown/list\" : {\n      alias : \"virtual-list\"\n    },\n\n    \"virtual-combobox\" : \"combobox\",\n    \"virtual-combobox/dropdown\" : \"popup\",\n    \"virtual-combobox/dropdown/list\" : {\n      alias : \"virtual-list\"\n    },\n\n    \"virtual-tree\" :\n    {\n      include : \"tree\",\n      alias : \"tree\",\n\n      style : function(states)\n      {\n        return {\n          itemHeight : 26\n        };\n      }\n    },\n\n    \"virtual-tree-folder\" : \"tree-folder\",\n    \"virtual-tree-file\" : \"tree-file\",\n\n    \"column-layer\" : \"widget\",\n\n    \"cell\" :\n    {\n      style : function(states)\n      {\n        return {\n          textColor: states.selected ? \"text-selected\" : \"text-label\",\n          padding: [3, 6],\n          font: \"default\"\n        };\n      }\n    },\n\n    \"cell-string\" : \"cell\",\n    \"cell-number\" :\n    {\n      include : \"cell\",\n      style : function(states)\n      {\n        return {\n          textAlign : \"right\"\n        };\n      }\n    },\n    \"cell-image\" : \"cell\",\n    \"cell-boolean\" :\n    {\n      include : \"cell\",\n      style : function(states)\n      {\n        return {\n          iconTrue : \"decoration/table/boolean-true.png\",\n          iconFalse : \"decoration/table/boolean-false.png\"\n        };\n      }\n    },\n    \"cell-atom\" : \"cell\",\n    \"cell-date\" : \"cell\",\n    \"cell-html\" : \"cell\",\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PROGRESSBAR\n    ---------------------------------------------------------------------------\n    */\n    \"progressbar\":\n    {\n      style: function(states) {\n        return {\n          decorator: \"progressbar\",\n          padding: [1],\n          backgroundColor: \"progressbar-background\",\n          width : 200,\n          height: 20\n        };\n      }\n    },\n\n    \"progressbar/progress\":\n    {\n      style: function(states)\n      {\n        return {\n          decorator: (states.disabled ? \"group-item\" : \"selected\")\n        };\n      }\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Contemporary Theme\n */\nqx.Theme.define(\"qx.theme.Modern\",\n{\n  title : \"Modern\",\n\n  meta :\n  {\n    color : qx.theme.modern.Color,\n    decoration : qx.theme.modern.Decoration,\n    font : qx.theme.modern.Font,\n    appearance : qx.theme.modern.Appearance,\n    icon : qx.theme.icon.Tango\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Simple color theme\n */\nqx.Theme.define(\"qx.theme.simple.Color\",\n{\n  colors :\n  {\n    // main\n    \"background\" : \"white\",\n    \"dark-blue\" : \"#5685D6\",\n    \"light-background\" : \"#E0ECFF\",\n\n    // backgrounds\n    \"background-selected\" : \"#6694E3\",\n    \"background-selected-disabled\" : \"#CDCDCD\",\n    \"background-selected-dark\" : \"#5685D6\",\n    \"background-disabled\" : \"#F7F7F7\",\n    \"background-disabled-checked\" : \"#BBBBBB\",\n    \"background-pane\" : \"#FAFBFE\",\n\n    // tabview\n    \"tabview-unselected\" : \"#1866B5\",\n    \"tabview-button-border\" : \"#134983\",\n    \"tabview-label-active-disabled\" : \"#D9D9D9\",\n\n    // text colors\n    \"link\" : \"#24B\",\n\n    // scrollbar\n    \"scrollbar-bright\" : \"#F1F1F1\",\n    \"scrollbar-dark\" : \"#EBEBEB\",\n\n    // form\n    \"button\" : \"#E8F0E3\",\n    \"button-border\" : \"#BBB\",\n    \"button-border-hovered\" : \"#939393\",\n    \"invalid\" : \"#FF0000\",\n    \"button-box-bright\" : \"#F9F9F9\",\n    \"button-box-dark\" : \"#E3E3E3\",\n    \"button-box-bright-pressed\" : \"#DDDDDD\",\n    \"button-box-dark-pressed\" : \"#F5F5F5\",\n    \"border-lead\" : \"#888888\",\n\n    // window\n    \"window-border\" : \"#2E3A46\",\n    \"window-border-inner\" : \"#9DCBFE\",\n\n    // group box\n    \"white-box-border\" : \"#BCBCBC\",\n\n    // shadows\n    \"shadow\" : qx.core.Environment.get(\"css.rgba\") ? \"rgba(0, 0, 0, 0.4)\" : \"#666666\",\n\n    // borders\n    // 'border-main' is an alias of 'background-selected' (compatibility reasons)\n    \"border-main\" : \"#6694E3\",\n    \"border-light\" : \"#B7B7B7\",\n    \"border-light-shadow\" : \"#686868\",\n\n    // separator\n    \"border-separator\" : \"#808080\",\n\n    // text\n    \"text\" : \"black\",\n    \"text-disabled\" : \"#A7A6AA\",\n    \"text-selected\" : \"white\",\n    \"text-placeholder\" : \"#CBC8CD\",\n\n    // tooltip\n    \"tooltip\" : \"#FFFFE1\",\n    \"tooltip-text\" : \"black\",\n\n    // table\n    \"table-header\" : [ 242, 242, 242 ],\n    \"table-focus-indicator\" : [ 179, 217, 255 ],\n\n    // used in table code\n    \"table-header-cell\" : [ 235, 234, 219 ],\n    \"table-row-background-focused-selected\" : [ 90, 138, 211 ],\n    \"table-row-background-focused\" : [ 221, 238, 255 ],\n    \"table-row-background-selected\" : [ 51, 94, 168 ],\n    \"table-row-background-even\" : \"white\",\n    \"table-row-background-odd\" : \"white\",\n    \"table-row-selected\" : [ 255, 255, 255 ],\n    \"table-row\" : [ 0, 0, 0],\n    \"table-row-line\" : \"#EEE\",\n    \"table-column-line\" : \"#EEE\",\n\n    // used in progressive code\n    \"progressive-table-header\" : \"#AAAAAA\",\n    \"progressive-table-row-background-even\" : [ 250, 248, 243 ],\n    \"progressive-table-row-background-odd\" : [ 255, 255, 255 ],\n    \"progressive-progressbar-background\" : \"gray\",\n    \"progressive-progressbar-indicator-done\" : \"#CCCCCC\",\n    \"progressive-progressbar-indicator-undone\" : \"white\",\n    \"progressive-progressbar-percent-background\" : \"gray\",\n    \"progressive-progressbar-percent-text\" : \"white\"\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n   * Martin Wittemann (martinwittemann)\n\n************************************************************************* */\n\n/**\n * The simple qooxdoo font theme.\n */\nqx.Theme.define(\"qx.theme.simple.Font\",\n{\n  fonts :\n  {\n    \"default\" :\n    {\n      size : 13,\n      family : [\"arial\", \"sans-serif\"]\n    },\n\n    \"bold\" :\n    {\n      size : 13,\n      family : [\"arial\", \"sans-serif\"],\n      bold : true\n    },\n\n    \"headline\" :\n    {\n      size : 24,\n      family : [\"sans-serif\", \"arial\"]\n    },\n\n    \"small\" :\n    {\n      size : 11,\n      family : [\"arial\", \"sans-serif\"]\n    },\n\n    \"monospace\" :\n    {\n      size : 11,\n      family : [ \"DejaVu Sans Mono\", \"Courier New\", \"monospace\" ]\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n/**\n * Simple Theme\n */\nqx.Theme.define(\"qx.theme.Simple\",\n{\n  title : \"Simple\",\n\n  meta :\n  {\n    color : qx.theme.simple.Color,\n    decoration : qx.theme.simple.Decoration,\n    font : qx.theme.simple.Font,\n    appearance : qx.theme.simple.Appearance,\n    icon : qx.theme.icon.Tango\n  }\n});","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * This interface defines what an application class has to implement.\n */\nqx.Interface.define(\"qx.application.IApplication\",\n{\n  members :\n  {\n    /**\n     * Called when the application relevant classes are loaded and ready.\n     *\n     */\n    main : function() {},\n\n\n    /**\n     * Called when the application's main method was executed to handle\n     * \"final\" tasks like rendering or retrieving data.\n     *\n     */\n    finalize : function() {},\n\n    /**\n     * Called in the document.beforeunload event of the browser. If the method\n     * returns a string value, the user will be asked by the browser, whether\n     * he really wants to leave the page. The return string will be displayed in\n     * the message box.\n     *\n     * @return {String?null} message text on unloading the page\n     */\n    close : function() {},\n\n\n    /**\n     * This method contains the last code which is run inside the page and may contain cleanup code.\n     *\n     */\n    terminate : function() {}\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * For a Non-GUI application, supporting low-level DOM operations and AJAX\n * communication.\n *\n * @require(qx.core.Init)\n */\nqx.Class.define(\"qx.application.Native\",\n{\n  extend : qx.core.Object,\n  implement : [qx.application.IApplication],\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    // interface method\n    main : function()\n    {\n      // empty\n    },\n\n\n    // interface method\n    finalize : function()\n    {\n      // empty\n    },\n\n\n    // interface method\n    close : function()\n    {\n      // empty\n    },\n\n    // interface method\n    terminate : function()\n    {\n      // empty\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Alexander Steitz (aback)\n\n************************************************************************ */\n\n/**\n * @tag noPlayground\n */\nqx.Class.define(\"qxl.demobrowser.demo.bom.Blocker\",\n{\n  extend : qx.application.Native,\n\n  members :\n  {\n    main : function()\n    {\n      this.base(arguments);\n\n      var input = qx.bom.Input.create(\"button\", { value: \"Block Document for 5s\" });\n      qx.bom.element.Style.setStyles(input, { position: \"absolute\",\n                                              left: \"100px\",\n                                              top: \"100px\",\n                                              width: \"200px\" });\n\n      var blocker = new qx.bom.Blocker;\n      blocker.setBlockerOpacity(0.5);\n      blocker.setBlockerColor(\"red\");\n\n      qx.event.Registration.addListener(input, \"tap\", function(e){\n        blocker.block();\n\n        qx.event.Timer.once(function(e){\n         blocker.unblock();\n        }, window, 5000);\n      });\n\n      qx.dom.Element.insertEnd(input, document.body);\n\n\n      var input2 = qx.bom.Input.create(\"button\", { value: \"Block Element for 5s\" });\n      qx.bom.element.Style.setStyles(input2, { position: \"absolute\",\n                                              left: \"320px\",\n                                              top: \"100px\",\n                                              width: \"200px\" });\n\n      var elementToBlock = qx.dom.Element.create(\"div\");\n      qx.bom.element.Style.setStyles(elementToBlock, { position: \"absolute\",\n                                                       left: \"300px\",\n                                                       top: \"150px\",\n                                                       width: \"300px\",\n                                                       height: \"200px\",\n                                                       backgroundColor: \"orange\",\n                                                       zIndex: 500 });\n      qx.dom.Element.insertBegin(elementToBlock, document.body);\n\n      var blocker2 = new qx.bom.Blocker;\n      blocker2.setBlockerOpacity(0.5);\n      blocker2.setBlockerColor(\"green\");\n\n      qx.event.Registration.addListener(input2, \"tap\", function(e){\n        blocker2.block(elementToBlock);\n\n        qx.event.Timer.once(function(e){\n         blocker2.unblock();\n        }, window, 5000);\n      });\n\n      qx.dom.Element.insertEnd(input2, document.body);\n    }\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * jQuery\n     http://jquery.com\n     Version 1.3.1\n\n     Copyright:\n       2009 John Resig\n\n     License:\n       MIT: http://www.opensource.org/licenses/mit-license.php\n\n************************************************************************ */\n\n/**\n * Cross browser abstractions to work with input elements.\n */\nqx.Bootstrap.define(\"qx.bom.Input\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Map} Internal data structures with all supported input types */\n    __types :\n    {\n      text : 1,\n      textarea : 1,\n      select : 1,\n      checkbox : 1,\n      radio : 1,\n      password : 1,\n      hidden : 1,\n      submit : 1,\n      image : 1,\n      file : 1,\n      search : 1,\n      reset : 1,\n      button : 1\n    },\n\n\n    /**\n     * Creates an DOM input/textarea/select element.\n     *\n     * Attributes may be given directly with this call. This is critical\n     * for some attributes e.g. name, type, ... in many clients.\n     *\n     * Note: <code>select</code> and <code>textarea</code> elements are created\n     * using the identically named <code>type</code>.\n     *\n     * @param type {String} Any valid type for HTML, <code>select</code>\n     *   and <code>textarea</code>\n     * @param attributes {Map} Map of attributes to apply\n     * @param win {Window} Window to create the element for\n     * @return {Element} The created input node\n     */\n    create : function(type, attributes, win)\n    {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.core.Assert.assertKeyInMap(type, this.__types, \"Unsupported input type.\");\n      }\n\n      // Work on a copy to not modify given attributes map\n      var attributes = attributes ? qx.lang.Object.clone(attributes) : {};\n\n      var tag;\n\n      if (type === \"textarea\" || type === \"select\")\n      {\n        tag = type;\n      }\n      else\n      {\n        tag = \"input\";\n        attributes.type = type;\n      }\n\n      return qx.dom.Element.create(tag, attributes, win);\n    },\n\n\n    /**\n     * Applies the given value to the element.\n     *\n     * Normally the value is given as a string/number value and applied\n     * to the field content (textfield, textarea) or used to\n     * detect whether the field is checked (checkbox, radiobutton).\n     *\n     * Supports array values for selectboxes (multiple-selection)\n     * and checkboxes or radiobuttons (for convenience).\n     *\n     * Please note: To modify the value attribute of a checkbox or\n     * radiobutton use {@link qx.bom.element.Attribute#set} instead.\n     *\n     * @param element {Element} element to update\n     * @param value {String|Number|Array} the value to apply\n     */\n    setValue : function(element, value)\n    {\n      var tag = element.nodeName.toLowerCase();\n      var type = element.type;\n      var Type = qx.lang.Type;\n\n      if (typeof value === \"number\") {\n        value += \"\";\n      }\n\n      if ((type === \"checkbox\" || type === \"radio\"))\n      {\n        if (Type.isArray(value)) {\n          element.checked = value.includes(element.value);\n        } else {\n          element.checked = element.value == value;\n        }\n      }\n      else if (tag === \"select\")\n      {\n        var isArray = Type.isArray(value);\n        var options = element.options;\n        var subel, subval;\n\n        for (var i=0, l=options.length; i<l; i++)\n        {\n          subel = options[i];\n          subval = subel.getAttribute(\"value\");\n          if (subval == null) {\n            subval = subel.text;\n          }\n\n          subel.selected = isArray ?\n            value.includes(subval) : value == subval;\n        }\n\n        if (isArray && value.length == 0) {\n          element.selectedIndex = -1;\n        }\n      }\n      else if ((type === \"text\" || type === \"textarea\") &&\n        (qx.core.Environment.get(\"engine.name\") == \"mshtml\"))\n      {\n        // These flags are required to detect self-made property-change\n        // events during value modification. They are used by the Input\n        // event handler to filter events.\n        element.$$inValueSet = true;\n        element.value = value;\n        element.$$inValueSet = null;\n      } else {\n        element.value = value;\n      }\n    },\n\n\n    /**\n     * Returns the currently configured value.\n     *\n     * Works with simple input fields as well as with\n     * select boxes or option elements.\n     *\n     * Returns an array in cases of multi-selection in\n     * select boxes but in all other cases a string.\n     *\n     * @param element {Element} DOM element to query\n     * @return {String|Array} The value of the given element\n     */\n    getValue : function(element)\n    {\n      var tag = element.nodeName.toLowerCase();\n\n      if (tag === \"option\") {\n        return (element.attributes.value || {}).specified ? element.value : element.text;\n      }\n\n      if (tag === \"select\")\n      {\n        var index = element.selectedIndex;\n\n        // Nothing was selected\n        if (index < 0) {\n          return null;\n        }\n\n        var values = [];\n        var options = element.options;\n        var one = element.type == \"select-one\";\n        var clazz = qx.bom.Input;\n        var value;\n\n        // Loop through all the selected options\n        for (var i=one ? index : 0, max=one ? index+1 : options.length; i<max; i++)\n        {\n          var option = options[i];\n\n          if (option.selected)\n          {\n            // Get the specific value for the option\n            value = clazz.getValue(option);\n\n            // We don't need an array for one selects\n            if (one) {\n              return value;\n            }\n\n            // Multi-Selects return an array\n            values.push(value);\n          }\n        }\n\n        return values;\n      }\n      else\n      {\n        return (element.value || \"\").replace(/\\r/g, \"\");\n      }\n    },\n\n\n    /**\n     * Sets the text wrap behaviour of a text area element.\n     * This property uses the attribute \"wrap\" respectively\n     * the style property \"whiteSpace\"\n     *\n     * @signature function(element, wrap)\n     * @param element {Element} DOM element to modify\n     * @param wrap {Boolean} Whether to turn text wrap on or off.\n     */\n    setWrap : qx.core.Environment.select(\"engine.name\",\n    {\n      \"mshtml\" : function(element, wrap) {\n        var wrapValue = wrap ? \"soft\" : \"off\";\n\n        // Explicitly set overflow-y CSS property to auto when wrapped,\n        // allowing the vertical scroll-bar to appear if necessary\n        var styleValue = wrap ? \"auto\" : \"\";\n\n        element.wrap = wrapValue;\n        element.style.overflowY = styleValue;\n      },\n\n      \"gecko\" : function(element, wrap)\n      {\n        var wrapValue = wrap ? \"soft\" : \"off\";\n        var styleValue = wrap ? \"\" : \"auto\";\n\n        element.setAttribute(\"wrap\", wrapValue);\n        element.style.overflow = styleValue;\n      },\n\n      \"webkit\" : function(element, wrap)\n      {\n        var wrapValue = wrap ? \"soft\" : \"off\";\n        var styleValue = wrap ? \"\" : \"auto\";\n\n        element.setAttribute(\"wrap\", wrapValue);\n        element.style.overflow = styleValue;\n      },\n\n      \"default\" : function(element, wrap) {\n        element.style.whiteSpace = wrap ? \"normal\" : \"nowrap\";\n      }\n    })\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * This handler provides a \"load\" event for iframes\n */\nqx.Class.define(\"qx.event.handler.Iframe\",\n{\n  extend : qx.core.Object,\n  implement : qx.event.IEventHandler,\n\n\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** @type {Integer} Priority of this handler */\n    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,\n\n    /** @type {Map} Supported event types */\n    SUPPORTED_TYPES : {\n      load: 1,\n      navigate: 1\n    },\n\n    /** @type {Integer} Which target check to use */\n    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE,\n\n    /** @type {Integer} Whether the method \"canHandleEvent\" must be called */\n    IGNORE_CAN_HANDLE : false,\n\n    /**\n     * Internal function called by iframes created using {@link qx.bom.Iframe}.\n     *\n     * @signature function(target)\n     * @internal\n     * @param target {Element} DOM element which is the target of this event\n     */\n    onevent : qx.event.GlobalError.observeMethod(function(target) {\n\n      // Fire navigate event when actual URL diverges from stored URL\n      var currentUrl = qx.bom.Iframe.queryCurrentUrl(target);\n\n      if (currentUrl !== target.$$url) {\n        qx.event.Registration.fireEvent(target, \"navigate\", qx.event.type.Data, [currentUrl]);\n        target.$$url = currentUrl;\n      }\n\n      // Always fire load event\n      qx.event.Registration.fireEvent(target, \"load\");\n    })\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canHandleEvent : function(target, type) {\n      return target.tagName.toLowerCase() === \"iframe\";\n    },\n\n\n    // interface implementation\n    registerEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    },\n\n\n    // interface implementation\n    unregisterEvent : function(target, type, capture) {\n      // Nothing needs to be done here\n    }\n\n\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer : function(statics) {\n    qx.event.Registration.addHandler(statics);\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Jonathan Weiß (jonathan_rass)\n     * Christian Hagendorn (Chris_schmidt)\n\n************************************************************************ */\n\n/**\n * Cross browser abstractions to work with iframes.\n *\n * @require(qx.event.handler.Iframe)\n */\nqx.Class.define(\"qx.bom.Iframe\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * @type {Map} Default attributes for creation {@link #create}.\n     */\n    DEFAULT_ATTRIBUTES :\n    {\n      onload : \"qx.event.handler.Iframe.onevent(this)\",\n      frameBorder: 0,\n      frameSpacing: 0,\n      marginWidth: 0,\n      marginHeight: 0,\n      hspace: 0,\n      vspace: 0,\n      border: 0,\n      allowTransparency: true\n    },\n\n    /**\n     * Creates an DOM element.\n     *\n     * Attributes may be given directly with this call. This is critical\n     * for some attributes e.g. name, type, ... in many clients.\n     *\n     * @param attributes {Map?null} Map of attributes to apply\n     * @param win {Window?null} Window to create the element for\n     * @return {Element} The created iframe node\n     */\n    create : function(attributes, win)\n    {\n      // Work on a copy to not modify given attributes map\n      var attributes = attributes ? qx.lang.Object.clone(attributes) : {};\n      var initValues = qx.bom.Iframe.DEFAULT_ATTRIBUTES;\n\n      for (var key in initValues)\n      {\n        if (attributes[key] == null) {\n          attributes[key] = initValues[key];\n        }\n      }\n\n      return qx.dom.Element.create(\"iframe\", attributes, win);\n    },\n\n\n    /**\n     * Get the DOM window object of an iframe.\n     *\n     * @param iframe {Element} DOM element of the iframe.\n     * @return {Window?null} The DOM window object of the iframe or null.\n     * @signature function(iframe)\n     */\n    getWindow : function(iframe)\n    {\n      try {\n        return iframe.contentWindow;\n      } catch(ex) {\n        return null;\n      }\n    },\n\n\n    /**\n     * Get the DOM document object of an iframe.\n     *\n     * @param iframe {Element} DOM element of the iframe.\n     * @return {Document} The DOM document object of the iframe.\n     */\n    getDocument : function(iframe)\n    {\n      if (\"contentDocument\" in iframe) {\n        try {\n          return iframe.contentDocument;\n        } catch(ex) {\n          return null;\n        }\n      }\n\n      try {\n        var win = this.getWindow(iframe);\n        return win ? win.document : null;\n      } catch(ex) {\n        return null;\n      }\n    },\n\n\n    /**\n     * Get the HTML body element of the iframe.\n     *\n     * @param iframe {Element} DOM element of the iframe.\n     * @return {Element} The DOM node of the <code>body</code> element of the iframe.\n     */\n    getBody : function(iframe)\n    {\n      try\n      {\n        var doc = this.getDocument(iframe);\n        return doc ? doc.getElementsByTagName(\"body\")[0] : null;\n      }\n      catch(ex)\n      {\n        return null;\n      }\n    },\n\n\n    /**\n     * Sets iframe's source attribute to given value\n     *\n     * @param iframe {Element} DOM element of the iframe.\n     * @param source {String} URL to be set.\n     * @signature function(iframe, source)\n     */\n    setSource : function(iframe, source)\n    {\n      try\n      {\n        // the guru says ...\n        // it is better to use 'replace' than 'src'-attribute, since 'replace'\n        // does not interfere with the history (which is taken care of by the\n        // history manager), but there has to be a loaded document\n        if (this.getWindow(iframe) && qx.dom.Hierarchy.isRendered(iframe))\n        {\n          /*\n            Some gecko users might have an exception here:\n            Exception... \"Component returned failure code: 0x805e000a\n            [nsIDOMLocation.replace]\"  nsresult: \"0x805e000a (<unknown>)\"\n          */\n          try\n          {\n            // Webkit on Mac can't set the source when the iframe is still\n            // loading its current page\n            if ((qx.core.Environment.get(\"engine.name\") == \"webkit\") &&\n                qx.core.Environment.get(\"os.name\") == \"osx\")\n            {\n              var contentWindow = this.getWindow(iframe);\n              if (contentWindow) {\n                contentWindow.stop();\n              }\n            }\n            this.getWindow(iframe).location.replace(source);\n          }\n          catch(ex)\n          {\n            iframe.src = source;\n          }\n        }\n        else\n        {\n          iframe.src = source;\n        }\n\n      // This is a programmer provided source. Remember URL for this source\n      // for later comparison with current URL. The current URL can diverge\n      // if the end-user navigates in the Iframe.\n      this.__rememberUrl(iframe);\n\n      }\n      catch(ex) {\n        qx.log.Logger.warn(\"Iframe source could not be set!\");\n      }\n    },\n\n\n    /**\n     * Returns the current (served) URL inside the iframe\n     *\n     * @param iframe {Element} DOM element of the iframe.\n     * @return {String} Returns the location href or null (if a query is not possible/allowed)\n     */\n    queryCurrentUrl : function(iframe)\n    {\n      var doc = this.getDocument(iframe);\n\n      try\n      {\n        if (doc && doc.location) {\n          return doc.location.href;\n        }\n      }\n      catch(ex) {};\n\n      return \"\";\n    },\n\n\n    /**\n    * Remember actual URL of iframe.\n    *\n    * @param iframe {Element} DOM element of the iframe.\n    */\n    __rememberUrl: function(iframe)\n    {\n\n      // URL can only be detected after load. Retrieve and store URL once.\n      var callback = function() {\n        qx.bom.Event.removeNativeListener(iframe, \"load\", callback);\n        iframe.$$url = qx.bom.Iframe.queryCurrentUrl(iframe);\n      };\n\n      qx.bom.Event.addNativeListener(iframe, \"load\", callback);\n    }\n\n  }\n});\n","/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Alexander Steitz (aback)\n\n************************************************************************ */\n\n/**\n * This class provides an unified blocker which offers three different modes.\n *\n * *Blocker modes*\n *\n * * block the whole document\n * * block the content of an element\n * * act as an underlying blocker for an element to shim native controls\n *\n *\n * The third mode is mainly necessary for IE browsers.\n *\n *\n * The first mode is the easiest to use. Just use the {@link #block} method\n * without a parameter.\n * The second and third mode are taking a DOM element as parameter for the\n * {@link #block} method. Additionally one need to setup the \"zIndex\" value\n * correctly to get the right results (see at {@link #setBlockerZIndex} method).\n *\n *\n * The zIndex value defaults to the value \"10000\". Either you set an appropriate\n * value for the blocker zIndex or for your DOM element to block. If you want\n * to block the content of your DOM element it has to have at least the zIndex\n * value of \"10001\" with default blocker values.\n * \n * NOTE: Instances of this class must be disposed of after use\n *\n * @require(qx.bom.Element)\n * @require(qx.bom.Iframe)\n */\nqx.Class.define(\"qx.bom.Blocker\",\n{\n  extend : qx.core.Object,\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    this.__init();\n  },\n\n\n  members :\n  {\n    __iframeElement : null,\n    __blockerElement : null,\n    __blockedElement : null,\n    __isActive : false,\n    __defaultZIndex: 10000,\n    __defaultBlockerOpacity: 0,\n    __defaultBlockerColor: \"transparent\",\n\n    /*\n    ---------------------------------------------------------------------------\n      PUBLIC API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Blocks the whole document (if no parameter is given) or acts as an\n     * underlying blocker for native controls.\n     *\n     * @param element {element?null} If no element is given the whole document is blocked.\n     */\n    block : function(element)\n    {\n      if (!this.__isActive)\n      {\n        qx.event.Registration.addListener(window, \"resize\", this.__onResize, this);\n        \n        this.__blockedElement = element;\n\n        var styles = this.__calculateStyles();\n        this.__styleAndInsertBlocker(styles);\n        this.__isActive = true;\n      }\n    },\n\n\n    /**\n     * Releases the blocking\n     */\n    unblock : function()\n    {\n      if (this.__isActive)\n      {\n        this.__removeBlocker();\n        qx.event.Registration.removeListener(window, \"resize\", this.__onResize, this);\n        this.__isActive = false;\n      }\n    },\n\n\n    /**\n     * Whether the blocker is already active.\n     *\n     * @return {Boolean} Blocker active\n     */\n    isBlocked : function() {\n      return this.__isActive;\n    },\n\n\n    /**\n     * Returns the blocker element. Useful if the element should be animated.\n     *\n     * @return {Element} DOM element\n     */\n    getBlockerElement : function() {\n      return this.__blockerElement;\n    },\n\n\n    /**\n     * Sets the color of the blocker element. Be sure to set also a suitable\n     * opacity value to get the desired result.\n     *\n     * @param color {String} CSS color value\n     * @see #setBlockerOpacity\n     */\n    setBlockerColor : function(color) {\n      qx.bom.element.Style.set(this.__blockerElement, \"backgroundColor\", color);\n    },\n\n\n    /**\n     * Returns the current blocker color.\n     *\n     * @return {String} CSS color value\n     */\n    getBlockerColor : function() {\n      return qx.bom.element.Style.get(this.__blockerElement, \"backgroundColor\");\n    },\n\n\n    /**\n     * Sets the blocker opacity. Be sure to set also a suitable blocker color\n     * value to get the desired result.\n     *\n     * @param opacity {String} CSS opacity value\n     * @see #setBlockerColor\n     */\n    setBlockerOpacity : function(opacity) {\n      qx.bom.element.Opacity.set(this.__blockerElement, opacity);\n    },\n\n\n    /**\n     * Returns the blocker opacity value.\n     *\n     * @return {Integer} CSS opacity value\n     */\n    getBlockerOpacity : function() {\n      return qx.bom.element.Opacity.get(this.__blockerElement);\n    },\n\n\n    /**\n     * Set the zIndex of the blocker element. For most use cases you do not need\n     * to manipulate this value.\n     *\n     * @param zIndex {Integer} CSS zIndex value\n     */\n    setBlockerZIndex : function(zIndex) {\n      qx.bom.element.Style.set(this.__blockerElement, \"zIndex\", zIndex);\n    },\n\n\n    /**\n     * Returns the blocker zIndex value\n     *\n     * @return {Integer} CSS zIndex value\n     */\n    getBlockerZIndex : function() {\n      return qx.bom.element.Style.get(this.__blockerElement, \"zIndex\");\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PRIVATE API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Setups the elements and registers a \"resize\" event.\n     */\n    __init : function()\n    {\n      this.__setupBlockerElement();\n\n      if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\")) {\n        this.__setupIframeElement();\n      }\n    },\n\n\n    /**\n     * Create blocker element and set initial styles.\n     */\n    __setupBlockerElement : function()\n    {\n      this.__blockerElement = qx.dom.Element.create(\"div\");\n      qx.bom.element.Style.setStyles(this.__blockerElement,\n      {\n        display: \"block\",\n        opacity: this.__defaultBlockerOpacity,\n        backgroundColor: this.__defaultBlockerColor\n      });\n      this.setBlockerZIndex(this.__defaultZIndex);\n    },\n\n\n    /**\n     * Create iframe blocker element and set initial styles.\n     *\n     * Needed to block native form elements\n     * // see: http://www.macridesweb.com/oltest/IframeShim.html\n     */\n    __setupIframeElement : function()\n    {\n      this.__iframeElement = qx.bom.Iframe.create();\n\n      qx.bom.element.Attribute.set(this.__iframeElement, \"allowTransparency\", false);\n      qx.bom.element.Attribute.set(this.__iframeElement, \"src\", \"javascript:false;\");\n      qx.bom.element.Style.setStyles(this.__iframeElement,\n      {\n        display: \"block\",\n        opacity: this.__defaultBlockerOpacity\n      });\n    },\n\n\n    /**\n     * Calculates the necessary styles for the blocker element.\n     * Either the values of the document or of the element to block are used.\n     *\n     * @return {Map} Object with necessary style infos\n     */\n    __calculateStyles : function()\n    {\n      var styles = { position: \"absolute\" };\n\n      if (this.__isWholeDocumentBlockTarget())\n      {\n        styles.left = \"0px\";\n        styles.top = \"0px\";\n        styles.right = null;\n        styles.bottom = null;\n        styles.width = qx.bom.Document.getWidth() + \"px\";\n        styles.height = qx.bom.Document.getHeight() + \"px\";\n      }\n      else\n      {\n        styles.width = qx.bom.element.Dimension.getWidth(this.__blockedElement) + \"px\";\n        styles.height = qx.bom.element.Dimension.getHeight(this.__blockedElement) + \"px\";\n        styles.left = qx.bom.element.Location.getLeft(this.__blockedElement) + \"px\";\n        styles.top = qx.bom.element.Location.getTop(this.__blockedElement) + \"px\";\n      }\n\n      return styles;\n    },\n\n\n    /**\n     * Apply the given styles and inserts the blocker.\n     *\n     * @param styles {Object} styles to apply\n     */\n    __styleAndInsertBlocker : function(styles)\n    {\n      var target = document.body;\n\n      qx.bom.element.Style.setStyles(this.__blockerElement, styles);\n      qx.dom.Element.insertEnd(this.__blockerElement, target);\n\n      if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\"))\n      {\n        styles.zIndex = this.getBlockerZIndex() - 1;\n\n        qx.bom.element.Style.setStyles(this.__iframeElement, styles);\n        qx.dom.Element.insertEnd(this.__iframeElement, document.body);\n      }\n    },\n\n\n    /**\n     * Remove the blocker elements.\n     */\n    __removeBlocker: function()\n    {\n      qx.dom.Element.remove(this.__blockerElement);\n\n      if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\")) {\n        qx.dom.Element.remove(this.__iframeElement);\n      }\n    },\n\n\n    /**\n     * Reacts on window resize and adapts the new size for the blocker element\n     * if the whole document is blocked.\n     *\n     * @param e {qx.event.type.Event} event instance\n     */\n    __onResize : function(e)\n    {\n      if (this.__isWholeDocumentBlockTarget())\n      {\n        // reset the blocker to get the right calculated document dimension\n        this.__resizeBlocker({ width: \"0px\", height: \"0px\" });\n\n        // If the HTML document is very large, the getWidth() and getHeight()\n        // returns the old size (it seems that the rendering engine is to slow).\n        qx.event.Timer.once(function()\n        {\n          var dimension = { width: qx.bom.Document.getWidth() + \"px\",\n                          height: qx.bom.Document.getHeight() + \"px\" };\n          this.__resizeBlocker(dimension);\n        }, this, 0);\n      }\n    },\n\n\n    /**\n     * Does the resizing for blocker element and blocker iframe element (IE)\n     *\n     * @param dimension {Object} Map with width and height as keys\n     */\n    __resizeBlocker : function(dimension)\n    {\n      qx.bom.element.Style.setStyles(this.__blockerElement, dimension);\n\n      if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\")) {\n        qx.bom.element.Style.setStyles(this.__iframeElement, dimension);\n      }\n    },\n\n\n    /**\n     * Checks whether the whole document is be blocked.\n     *\n     * @return {Boolean} block mode\n     */\n    __isWholeDocumentBlockTarget : function() {\n      return (this.__blockedElement == null ||\n              qx.dom.Node.isWindow(this.__blockedElement) ||\n              qx.dom.Node.isDocument(this.__blockedElement));\n    }\n  }\n});\n"]}