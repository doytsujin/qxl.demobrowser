{
  "version": 3,
  "sources": [
    "/home/travis/build/qooxdoo/qxl.demobrowser/source/class/qxl/demobrowser/demo/bom/Audio.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "application",
    "Standalone",
    "members",
    "main",
    "doc",
    "getRoot",
    "container",
    "ui",
    "Composite",
    "layout",
    "Basic",
    "add",
    "left",
    "top",
    "core",
    "Environment",
    "get",
    "uri",
    "util",
    "ResourceManager",
    "getInstance",
    "toUri",
    "basic",
    "Label",
    "audio",
    "bom",
    "media",
    "Audio",
    "play",
    "form",
    "ToggleButton",
    "addListener",
    "e",
    "isPaused",
    "pause",
    "mute",
    "isMuted",
    "setMuted",
    "loop",
    "isLoop",
    "setLoop",
    "duration",
    "setTextColor",
    "pb",
    "indicator",
    "ProgressBar",
    "setHeight",
    "setWidth",
    "getContentElement",
    "getDomElement",
    "appendChild",
    "getMediaObject",
    "setMaximum",
    "getDuration",
    "currTime",
    "getCurrentTime",
    "hour",
    "Math",
    "floor",
    "sec",
    "parseInt",
    "setValue",
    "resetValue",
    "destruct",
    "qxl",
    "demobrowser",
    "demo"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Adrian Olaru (adrianolaru)\n\n************************************************************************ */\n\n/* ************************************************************************\n\n\n************************************************************************ */\n\n/**\n *\n * @asset(qxl/demobrowser/demo/media/knock.mp3)\n * @asset(qxl/demobrowser/demo/media/knock.ogg)\n * @asset(qxl/demobrowser/demo/media/knock.wav)\n * @tag noPlayground\n */\nqx.Class.define(\"qxl.demobrowser.demo.bom.Audio\",\n{\n  extend : qx.application.Standalone,\n\n  members :\n  {\n    main : function()\n    {\n      this.base(arguments);\n      var doc = this.getRoot();\n\n      var container = new qx.ui.container.Composite(new qx.ui.layout.Basic());\n      doc.add(container, {left:10, top: 40});\n\n      if (qx.core.Environment.get(\"html.audio.mp3\")) {\n        var uri = qx.util.ResourceManager.getInstance().toUri(\"demobrowser/demo/media/knock.mp3\");\n      }\n      else if(qx.core.Environment.get(\"html.audio.ogg\")) {\n        var uri = qx.util.ResourceManager.getInstance().toUri(\"demobrowser/demo/media/knock.ogg\");\n      } else {\n        doc.add(new qx.ui.basic.Label(\"It seems that your browser doesn't support HTML5 audio\", {left: 10, top: 10}));\n        return;\n      }\n\n      var audio = new qx.bom.media.Audio(uri);\n\n      var play = new qx.ui.form.ToggleButton(\"Play/Pause\");\n      play.addListener(\"changeValue\", function(e) {\n        if (audio.isPaused()) {\n          audio.play();\n        } else {\n          audio.pause();\n        }\n      }, this);\n\n      var mute = new qx.ui.form.ToggleButton(\"Mute\");\n      mute.addListener(\"changeValue\", function(e) {\n        if (audio.isMuted()) {\n          audio.setMuted(false);\n        } else {\n          audio.setMuted(true);\n        }\n      }, this);\n\n      var loop = new qx.ui.form.ToggleButton(\"Loop\");\n      loop.addListener(\"changeValue\", function(e) {\n        if (audio.isLoop()) {\n          audio.setLoop(false);\n        } else {\n          audio.setLoop(true);\n        }\n      }, this);\n\n      var duration = new qx.ui.basic.Label(\"0:00\");\n      duration.setTextColor(\"#CCC\");\n\n      var pb = new qx.ui.indicator.ProgressBar();\n      pb.setHeight(21);\n      pb.setWidth(220);\n\n      audio.addListener(\"loadeddata\", function() {\n        doc.add(play, {left: 10, top: 10});\n        doc.add(pb, {left : 90, top: 12});\n        doc.add(duration, {left: 185, top: 15});\n        doc.add(mute, {left: 314, top: 10});\n        doc.add(loop, {left: 364, top: 10});\n\n        container.getContentElement().getDomElement().appendChild(audio.getMediaObject());\n        container.setWidth(400);\n        container.setHeight(100);\n      }, this);\n\n\n      audio.addListener(\"timeupdate\", function() {\n        //duration headake\n        pb.setMaximum(audio.getDuration());\n        var currTime = audio.getCurrentTime();\n        var hour = Math.floor(currTime/60);\n        var sec = parseInt(currTime % 60);\n        pb.setValue(currTime);\n\n        duration.setValue(hour + \":\" + (sec > 9 ? sec : \"0\" + sec));\n      }, this);\n\n      audio.addListener(\"ended\", function() {\n        if (!audio.isLoop()) {\n          play.resetValue();\n        }\n      }, this);\n\n    }\n  },\n\n  /*\n   *****************************************************************************\n      DESTRUCT\n   *****************************************************************************\n   */\n  destruct: function() {\n  }\n});\n"
  ]
}