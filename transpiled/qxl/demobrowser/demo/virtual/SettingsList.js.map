{
  "version": 3,
  "sources": [
    "/home/runner/work/qxl.demobrowser/qxl.demobrowser/source/class/qxl/demobrowser/demo/virtual/SettingsList.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "application",
    "Standalone",
    "members",
    "__data",
    "main",
    "data",
    "names",
    "i",
    "length",
    "name",
    "checked",
    "group",
    "marshal",
    "Json",
    "createModel",
    "groups",
    "getItem",
    "setName",
    "toArray",
    "forEach",
    "item",
    "index",
    "setGroup",
    "list",
    "ui",
    "List",
    "setWidth",
    "getRoot",
    "add",
    "left",
    "top",
    "setDelegate",
    "setModel",
    "createItem",
    "form",
    "CheckBox",
    "configureItem",
    "setPadding",
    "createGroupItem",
    "configureGroupItem",
    "setBackgroundColor",
    "setTriState",
    "addListener",
    "e",
    "getValue",
    "value",
    "getData",
    "entry",
    "getLabel",
    "getGroup",
    "getName",
    "setChecked",
    "bindItem",
    "controller",
    "id",
    "bindProperty",
    "bindPropertyReverse",
    "converter",
    "model",
    "itemsOfGroup",
    "filter",
    "isAllChecked",
    "every",
    "getChecked",
    "isOneChecked",
    "some",
    "bindGroupItem",
    "qxl",
    "demobrowser",
    "demo",
    "virtual",
    "SettingsList"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2010 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Tristan Koch (tristankoch)\n\n************************************************************************ */\n\nqx.Class.define(\"qxl.demobrowser.demo.virtual.SettingsList\",\n{\n  extend : qx.application.Standalone,\n\n  members :\n  {\n\n    __data: null,\n\n    /*\n    *****************************************************************************\n       MAIN\n    *****************************************************************************\n    */\n\n    main: function()\n    {\n      this.base(arguments);\n\n      //\n      // Data\n      //\n\n      // Items\n      var data = [];\n      var names = [\"Apple\", \"Orange\", \"Potato\", \"Carrot\"];\n      for (var i = 0; i < names.length; i++) {\n        data[i] = {\n          name : names[i],\n          checked : i < 2,\n          group: null\n        };\n      }\n      this.__data = qx.data.marshal.Json.createModel(data, true);\n\n      // Groups\n      var groups = []\n      for (var i = 0; i < 2; i++) {\n        groups[i] = {\n          name: null,\n          checked: false\n        };\n      }\n      groups = qx.data.marshal.Json.createModel(groups, true);\n      groups.getItem(0).setName(\"Fruits\");\n      groups.getItem(1).setName(\"Vegetables\");\n\n      // Assign group\n      this.__data.toArray().forEach(function(item, index) {\n        index = index < 2 ? 0 : 1;\n        item.setGroup(groups.getItem(index));\n      });\n\n      // Widgets\n      var list = new qx.ui.list.List();\n      list.setWidth(150);\n      this.getRoot().add(list, {left: 20, top: 20});\n\n      // Let the magic happen\n      list.setDelegate(this);\n      list.setModel(this.__data);\n    },\n\n    /*\n    *****************************************************************************\n       DELEGATE\n    *****************************************************************************\n    */\n\n    //\n    // This section implements qx.ui.list.core.IListDelegate.\n    // Therefore, \"this\" is a valid delegate for qx.ui.list.List.\n    //\n\n    createItem : function() {\n      return new qx.ui.form.CheckBox();\n    },\n\n    configureItem : function(item) {\n      item.setPadding(3);\n    },\n\n    createGroupItem : function() {\n      return new qx.ui.form.CheckBox();\n    },\n\n    configureGroupItem : function(group) {\n\n      // Background\n      group.setBackgroundColor(\"#ddd\");\n\n      // Setting value to null shows triState\n      group.setTriState(true);\n\n      // Sync value of items with value of group\n      group.addListener(\"changeValue\", function(e) {\n\n        // Ignore change when triState was set. Avoids infinite loop.\n        if (group.getValue() === null) {\n          return;\n        }\n\n        var value = e.getData();\n\n        // Find model entries where group matches label,\n        // i.e. all entries that belong to group\n        this.__data.forEach(function(entry) {\n          if (group.getLabel() == entry.getGroup().getName()) {\n            entry.setChecked(value);\n          }\n        });\n      }, this);\n    },\n\n    bindItem : function(controller, item, id) {\n\n      // Bind name -> label\n      controller.bindProperty(\"name\", \"label\", null, item, id);\n\n      // Bind checked <-> value\n      controller.bindProperty(\"checked\", \"value\", null, item, id);\n      controller.bindPropertyReverse(\"checked\", \"value\", null, item, id);\n\n      // Bind group.checked -> value\n      //\n      // Check group when all items that belong to group are checked\n      var data = this.__data;\n      controller.bindPropertyReverse(\"group.checked\", \"value\", {\n        converter: function(value, model) {\n\n          var item = model.getItem(id);\n          var group = item.getGroup();\n\n          var itemsOfGroup = data.toArray().filter(function(item) {\n            return item.getGroup() == group;\n          });\n\n          var isAllChecked = itemsOfGroup.every(function(item) {\n            return item.getChecked();\n          });\n\n          var isOneChecked = itemsOfGroup.some(function(item) {\n            return item.getChecked();\n          });\n\n          // Set triState when one item in group is checked\n          if (isOneChecked) {\n            return isAllChecked ? true : null;\n          } else {\n            return false;\n          }\n\n        }\n      }, item, id);\n\n    },\n\n    bindGroupItem : function(controller, group, id) {\n      // Bind name -> label\n      controller.bindProperty(\"name\", \"label\", null, group, id);\n\n      // Bind checked <-> value\n      controller.bindProperty(\"checked\", \"value\", null, group, id);\n      controller.bindPropertyReverse(\"checked\", \"value\", null, group, id);\n    },\n\n    group : function(model) {\n      return model.getGroup();\n    }\n  }\n});\n"
  ]
}